(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "+1r3":
/*!**********************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/shared/models/command-tool.model.ts ***!
  \**********************************************************************************/
/*! exports provided: CommandTool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CommandTool", function() { return CommandTool; });
/* harmony import */ var _tool_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tool.model */ "oicP");

class CommandTool extends _tool_model__WEBPACK_IMPORTED_MODULE_0__["Tool"] {
    constructor(id, description, icon, command, section, customCalcStateFunc) {
        super(id, description, icon, command, "COMMAND" /* COMMAND */, section, customCalcStateFunc);
    }
    calcState(metadata) {
        if (this.customCalcStateFunc) {
            return super.calcState(metadata);
        }
    }
}


/***/ }),

/***/ "+gUD":
/*!****************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules/core/models/remove-annotation.command.ts ***!
  \****************************************************************************************/
/*! exports provided: RemoveAnnotationCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RemoveAnnotationCommand", function() { return RemoveAnnotationCommand; });
/* harmony import */ var _shared_interfaces_base_command_interface__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared/interfaces/base-command.interface */ "obi/");

class RemoveAnnotationCommand extends _shared_interfaces_base_command_interface__WEBPACK_IMPORTED_MODULE_0__["IBaseCommand"] {
    constructor(props) {
        super(props);
    }
}


/***/ }),

/***/ "+j+e":
/*!**********************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules-manager/modules-manager.service.ts ***!
  \**********************************************************************************/
/*! exports provided: ModulesManagerService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModulesManagerService", function() { return ModulesManagerService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var yassi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! yassi */ "SCOe");
/* harmony import */ var _modules_static_modules_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/static-modules.service */ "5C84");





class ModulesManagerService {
    constructor(staticModules) {
        this.commandValidators = {};
        this.commandHandlers = {};
        for (const module of staticModules.getModules()) {
            this.registerModule(module);
        }
    }
    registerModule(viewerModule, unregister = false, overrideCommands = false) {
        // To prevent overriding of one key on another we iterate the maps instead of use const m = new Map([..additionalMap, ...existingMap])
        const tuples = [
            [viewerModule.validators, this.commandValidators, 'validators'],
            [viewerModule.handlers, this.commandHandlers, 'handlers'],
        ];
        for (const tuple of tuples) {
            const [viewerModuleEntity, thisCommandEntity, entityName] = tuple;
            if (!viewerModuleEntity || !entityName) {
                throw new Error(`Failed to register module ${viewerModule.name}. Invalid module structure`);
            }
            for (const entity of viewerModuleEntity) {
                if (unregister) {
                    delete thisCommandEntity[entity[0]];
                }
                else {
                    if (!overrideCommands && thisCommandEntity[entity[0]]) {
                        throw new Error(`${entityName} already has a entry ${entity[0]}`);
                    }
                    thisCommandEntity[entity[0]] = entity[1];
                }
            }
        }
    }
    unregisterModule(viewerModule) {
        this.registerModule(viewerModule, true);
    }
}
ModulesManagerService.ɵfac = function ModulesManagerService_Factory(t) { return new (t || ModulesManagerService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_modules_static_modules_service__WEBPACK_IMPORTED_MODULE_3__["StaticModulesService"])); };
ModulesManagerService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: ModulesManagerService, factory: ModulesManagerService.ɵfac });
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(yassi__WEBPACK_IMPORTED_MODULE_2__["yassit"])('commandValidators')
], ModulesManagerService.prototype, "commandValidators", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(yassi__WEBPACK_IMPORTED_MODULE_2__["yassit"])('commandHandlers')
], ModulesManagerService.prototype, "commandHandlers", void 0);
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ModulesManagerService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"]
    }], function () { return [{ type: _modules_static_modules_service__WEBPACK_IMPORTED_MODULE_3__["StaticModulesService"] }]; }, { commandValidators: [], commandHandlers: [] }); })();


/***/ }),

/***/ "+neF":
/*!******************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/shared/enums/RelevantViewportsPolicyEnum.ts ***!
  \******************************************************************************************/
/*! exports provided: RelevantViewportsPolicyEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RelevantViewportsPolicyEnum", function() { return RelevantViewportsPolicyEnum; });
var RelevantViewportsPolicyEnum;
(function (RelevantViewportsPolicyEnum) {
    RelevantViewportsPolicyEnum["SELECTED"] = "SELECTED";
    RelevantViewportsPolicyEnum["ALL"] = "ALL";
    RelevantViewportsPolicyEnum["ACTIVE"] = "ACTIVE";
    RelevantViewportsPolicyEnum["NONE"] = "NONE";
})(RelevantViewportsPolicyEnum || (RelevantViewportsPolicyEnum = {}));


/***/ }),

/***/ "/+2u":
/*!*********************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/services/image-viewer-manager.service.ts ***!
  \*********************************************************************************************/
/*! exports provided: ImageViewerManagerService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageViewerManagerService", function() { return ImageViewerManagerService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _image_viewer_events_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./image-viewer-events.service */ "QgyW");
/* harmony import */ var _image_viewer_actions_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./image-viewer-actions.service */ "aLsl");
/* harmony import */ var _image_viewer_segmentation_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./image-viewer-segmentation.service */ "k2Bx");
/* harmony import */ var _image_viewer_stream_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./image-viewer-stream.service */ "VmWJ");
/* harmony import */ var _shared_services_config_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../shared/services/config.service */ "AZUm");









class ImageViewerManagerService {
    constructor(imageViewerEventsService, imageViewerActionsService, imageViewerSegmentationService, imageViewerStreamService, configService) {
        this.imageViewerEventsService = imageViewerEventsService;
        this.imageViewerActionsService = imageViewerActionsService;
        this.imageViewerSegmentationService = imageViewerSegmentationService;
        this.imageViewerStreamService = imageViewerStreamService;
        this.configService = configService;
        this.viewerChange$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"](1);
        this.unsubscribe$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
    }
    init(document) {
        this.document = document;
        this.imageViewerEventsService.initGeneralEventListeners(document);
        this.configService
            .getConfig()
            // Not using take(1) because host app might change config
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["takeUntil"])(this.unsubscribe$))
            .subscribe(this.updateConfig.bind(this));
        this.imageViewerEventsService.viewerChange$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["takeUntil"])(this.unsubscribe$)).subscribe((event) => {
            // Enrich measurement before bubbling up the event
            if (event.type === "MEASUREMENT_ADDED" /* MEASUREMENT_ADDED */) {
                this.imageViewerSegmentationService.handleMeasurementAdded(event);
            }
            this.viewerChange$.next(event);
        });
    }
    reset() {
        this.unsubscribe$.next();
        this.purgeImages();
        this.imageViewerEventsService.removeGeneralEventListeners();
    }
    purgeImages() {
        this.imageViewerActionsService.purgeCache({ viewers: [] });
        this.imageViewerStreamService.reset();
    }
    execute(command, viewers) {
        if (this.imageViewerActionsService[command.name]) {
            this.imageViewerActionsService[command.name](Object.assign(Object.assign({}, command.options), { viewers, document: this.document }));
        }
        this.viewerChange$.next({
            type: "COMMAND_EXECUTED" /* COMMAND_EXECUTED */,
            command: Object.assign({}, command),
            viewports: viewers,
        });
    }
    updateConfig(config) {
        this.imageViewerActionsService.showAnnotationTextBox({
            viewers: [],
            isShow: config.isAnnotationTextboxVisible !== undefined ? config.isAnnotationTextboxVisible : true,
        });
    }
}
ImageViewerManagerService.ɵfac = function ImageViewerManagerService_Factory(t) { return new (t || ImageViewerManagerService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_3__["ImageViewerEventsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_image_viewer_actions_service__WEBPACK_IMPORTED_MODULE_4__["ImageViewerActionsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_image_viewer_segmentation_service__WEBPACK_IMPORTED_MODULE_5__["ImageViewerSegmentationService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_image_viewer_stream_service__WEBPACK_IMPORTED_MODULE_6__["ImageViewerStreamService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_shared_services_config_service__WEBPACK_IMPORTED_MODULE_7__["ConfigService"])); };
ImageViewerManagerService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ImageViewerManagerService, factory: ImageViewerManagerService.ɵfac, providedIn: 'root' });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ImageViewerManagerService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _image_viewer_events_service__WEBPACK_IMPORTED_MODULE_3__["ImageViewerEventsService"] }, { type: _image_viewer_actions_service__WEBPACK_IMPORTED_MODULE_4__["ImageViewerActionsService"] }, { type: _image_viewer_segmentation_service__WEBPACK_IMPORTED_MODULE_5__["ImageViewerSegmentationService"] }, { type: _image_viewer_stream_service__WEBPACK_IMPORTED_MODULE_6__["ImageViewerStreamService"] }, { type: _shared_services_config_service__WEBPACK_IMPORTED_MODULE_7__["ConfigService"] }]; }, null); })();


/***/ }),

/***/ 0:
/*!*******************************************************************************************************************************!*\
  !*** multi (webpack)-dev-server/client?http://0.0.0.0:0&sockPath=/sockjs-node ./projects/zebra-viewer-standalone/src/main.ts ***!
  \*******************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! /Users/kfirerez/workspace/zebra-viewer/node_modules/webpack-dev-server/client/index.js?http://0.0.0.0:0&sockPath=/sockjs-node */"QM51");
module.exports = __webpack_require__(/*! /Users/kfirerez/workspace/zebra-viewer/projects/zebra-viewer-standalone/src/main.ts */"MLzS");


/***/ }),

/***/ "007k":
/*!******************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/editor.component.ts ***!
  \******************************************************************/
/*! exports provided: EditorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditorComponent", function() { return EditorComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _config_hotkeys_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config/hotkeys.config */ "g0QE");
/* harmony import */ var _config_tools_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config/tools.config */ "kohe");
/* harmony import */ var _shared_models_command_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./shared/models/command.model */ "lxft");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./shared/enums/tools.enum */ "IjAf");
/* harmony import */ var _shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./shared/enums/RelevantViewportsPolicyEnum */ "+neF");
/* harmony import */ var _shared_services_config_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../shared/services/config.service */ "AZUm");
/* harmony import */ var _services_viewport_metadata_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./services/viewport-metadata.service */ "Zb51");
/* harmony import */ var _shared_services_hotkeys_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../shared/services/hotkeys.service */ "C22k");
/* harmony import */ var _services_tag_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./services/tag.service */ "KlcW");
/* harmony import */ var _toolbar_toolbar_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./toolbar/toolbar.component */ "knDV");
/* harmony import */ var _viewports_manager_viewports_manager_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./viewports-manager/viewports-manager.component */ "N6Ii");
















const _c0 = function () { return []; };
class EditorComponent {
    constructor(viewportMetadataService, hotkeysService, tagService, configService, cdRef) {
        this.viewportMetadataService = viewportMetadataService;
        this.hotkeysService = hotkeysService;
        this.tagService = tagService;
        this.configService = configService;
        this.cdRef = cdRef;
        this.relevantViewportsPolicy = _shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_7__["RelevantViewportsPolicyEnum"].SELECTED;
        this.tagAction = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.activeViewportChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.tagUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.tagDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.tagClick = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        // eslint-disable-next-line @angular-eslint/no-output-native
        this.change = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.metadata = {};
        this.unsubscribe$ = new rxjs__WEBPACK_IMPORTED_MODULE_5__["Subject"]();
        this.tagService.tagAction$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["takeUntil"])(this.unsubscribe$)).subscribe((event) => {
            this.tagAction.emit(event);
        });
        this.tagService.tagUpdate$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["takeUntil"])(this.unsubscribe$)).subscribe((tag) => this.tagUpdate.emit(tag));
        this.tagService.tagDelete$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["takeUntil"])(this.unsubscribe$)).subscribe((tag) => this.tagDelete.emit(tag));
    }
    ngOnChanges(changes) {
        if (changes.activeTool && this.activeTool) {
            const activeTool = Object.assign(Object.assign({}, this.activeTool), { id: this.activeTool.id });
            if (!this.activeTool.id) {
                // We want to send a default reset command
                const defaultToolConfig = _config_tools_config__WEBPACK_IMPORTED_MODULE_3__["AllToolsConfig"][_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_6__["ToolsEnum"].WWWC];
                const defaultCommand = _shared_models_command_model__WEBPACK_IMPORTED_MODULE_4__["Command"].clone(defaultToolConfig.command);
                defaultCommand.options = Object.assign(Object.assign(Object.assign({}, defaultCommand.options), this.activeTool.options), { resetToDefaultTools: true });
                this.handleCommand(defaultCommand);
            }
            else {
                const toolConfig = _config_tools_config__WEBPACK_IMPORTED_MODULE_3__["AllToolsConfig"][activeTool.id];
                let relevantCommand = toolConfig.command;
                if (!activeTool.isActive) {
                    relevantCommand = toolConfig.commandOff;
                }
                const clonedCommand = _shared_models_command_model__WEBPACK_IMPORTED_MODULE_4__["Command"].clone(relevantCommand);
                clonedCommand.options = Object.assign(Object.assign({}, clonedCommand.options), activeTool.options);
                this.handleCommand(clonedCommand);
            }
        }
        if (changes.tags && this.tags) {
            this.tagService.setTags(this.tags);
        }
        if (changes.activeTag) {
            this.tagService.tagActive$.next(this.activeTag);
        }
        if (changes.viewportsWithPendingTags) {
            this.tagService.updateViewportsWithPendingTags(this.viewportsWithPendingTags);
        }
        if (changes.config && this.config) {
            this.configService.setConfig(this.config);
        }
    }
    ngOnInit() {
        this.viewportMetadataService
            .getMetadata()
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["takeUntil"])(this.unsubscribe$))
            .subscribe((metadata) => {
            // TODO: toolbar should register directly to this event
            if (metadata && metadata.viewport) {
                this.metadata = Object.assign(Object.assign({}, metadata.viewport), { dicomTags: (metadata.image || {}).dicomTags });
                this.cdRef.detectChanges();
            }
        });
        _config_hotkeys_config__WEBPACK_IMPORTED_MODULE_2__["hotkeys"].forEach((hotkey) => {
            this.hotkeysService
                .addShortcut({
                keys: hotkey.keys,
                metaKey: hotkey.metaKey,
                eventType: hotkey.eventType,
            })
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["takeUntil"])(this.unsubscribe$))
                .subscribe({
                next: this.handleShortcutNext.bind(this, hotkey),
            });
        });
    }
    ngOnDestroy() {
        this.unsubscribe$.next();
        this.unsubscribe$.complete();
    }
    onActiveViewportChange(viewportId) {
        this.activeViewportId = viewportId;
        this.activeViewportChange.emit(viewportId);
    }
    onViewportChange(event) {
        this.change.emit(event);
    }
    // Triggered from the toolbar's 'toolChange' event
    handleToolAction(toolAction) {
        if (toolAction.tool && toolAction.tool.type === "SET_ACTIVE_TOOL" /* SET_ACTIVE_TOOL */) {
            this.activeTool = toolAction.isActive ? { id: toolAction.tool.id, isActive: toolAction.isActive } : null;
        }
        const clonedCommandOptions = Object.assign(Object.assign({}, toolAction.command.options), { viewportSelectionPolicy: toolAction.tool
                ? toolAction.tool.viewportSelectionPolicy
                : _shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_7__["RelevantViewportsPolicyEnum"].ACTIVE });
        this.handleCommand(Object.assign(Object.assign({}, toolAction.command), { options: clonedCommandOptions }));
    }
    handleShortcutNext(hotkey) {
        if (hotkey.release) {
            let currentTool;
            if (this.activeTool) {
                currentTool = _config_tools_config__WEBPACK_IMPORTED_MODULE_3__["AllToolsConfig"][this.activeTool.id];
            }
            this.hotkeysService
                .addShortcut({
                keys: hotkey.release.keys,
                eventType: hotkey.release.eventType,
            })
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["takeUntil"])(this.unsubscribe$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["take"])(1))
                .subscribe({
                next: () => {
                    this.handleCommand(hotkey.release.getCommand(currentTool));
                },
            });
        }
        this.handleCommand(hotkey.getCommand());
    }
    handleCommand(command) {
        if (command.name === 'changeGrid') {
            this.layout = Object.assign(Object.assign({}, this.layout), { gridTemplate: command.options.gridTemplate });
        }
        this.currentCommand = new _shared_models_command_model__WEBPACK_IMPORTED_MODULE_4__["Command"]().deserialize(Object.assign({}, command));
        this.cdRef.markForCheck();
    }
}
EditorComponent.ɵfac = function EditorComponent_Factory(t) { return new (t || EditorComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_viewport_metadata_service__WEBPACK_IMPORTED_MODULE_9__["ViewportMetadataService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_shared_services_hotkeys_service__WEBPACK_IMPORTED_MODULE_10__["HotkeysService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_tag_service__WEBPACK_IMPORTED_MODULE_11__["TagService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_shared_services_config_service__WEBPACK_IMPORTED_MODULE_8__["ConfigService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
EditorComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: EditorComponent, selectors: [["zebra-viewer-editor"]], inputs: { config: "config", layout: "layout", data: "data", tags: "tags", activeViewportId: "activeViewportId", activeTool: "activeTool", activeTag: "activeTag", currentSlice: "currentSlice", viewportsWithPendingTags: "viewportsWithPendingTags", relevantViewportsPolicy: "relevantViewportsPolicy" }, outputs: { tagAction: "tagAction", activeViewportChange: "activeViewportChange", tagUpdate: "tagUpdate", tagDelete: "tagDelete", tagClick: "tagClick", change: "change" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([_shared_services_config_service__WEBPACK_IMPORTED_MODULE_8__["ConfigService"]]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 3, vars: 9, consts: [[1, "zm-viewer-component-wrapper"], [3, "tools", "metadata", "toolChange"], [3, "layout", "data", "command", "currentSlice", "activeViewportId", "relevantViewportsPolicy", "activeViewportChange", "viewportChange"]], template: function EditorComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "zebra-viewer-toolbar", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("toolChange", function EditorComponent_Template_zebra_viewer_toolbar_toolChange_1_listener($event) { return ctx.handleToolAction($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "zebra-viewer-viewports-manager", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("activeViewportChange", function EditorComponent_Template_zebra_viewer_viewports_manager_activeViewportChange_2_listener($event) { return ctx.onActiveViewportChange($event); })("viewportChange", function EditorComponent_Template_zebra_viewer_viewports_manager_viewportChange_2_listener($event) { return ctx.onViewportChange($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("tools", (ctx.config == null ? null : ctx.config.tools) || _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](8, _c0))("metadata", ctx.metadata);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("layout", ctx.layout)("data", ctx.data)("command", ctx.currentCommand)("currentSlice", ctx.currentSlice)("activeViewportId", ctx.activeViewportId)("relevantViewportsPolicy", ctx.relevantViewportsPolicy);
    } }, directives: [_toolbar_toolbar_component__WEBPACK_IMPORTED_MODULE_12__["ToolbarComponent"], _viewports_manager_viewports_manager_component__WEBPACK_IMPORTED_MODULE_13__["ViewportsManagerComponent"]], styles: ["* {\n  box-sizing: border-box;\n}\n\n.flexr {\n  display: flex;\n}\n\n.flexc {\n  display: flex;\n  flex-direction: column;\n}\n\n.flex-fill {\n  flex: 1;\n}\n\n.flex-distribute {\n  justify-content: space-between;\n}\n\n.align-center {\n  align-items: center;\n}\n\n.align-baseline {\n  align-items: baseline;\n}\n\n.align-to-start {\n  align-self: flex-start;\n}\n\n.align-to-end {\n  align-self: flex-end;\n}\n\n.full-width {\n  width: 100%;\n}\n\n/* Reset buttons */\n\nbutton {\n  margin: 0;\n  padding: 0;\n  background-color: transparent;\n  border: none;\n  outline: none;\n}\n\n.zm-icon {\n  display: inline-block;\n  width: 1em;\n  height: 1em;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.mat-icon.size-10 {\n  font-size: 10px;\n  line-height: 10px;\n  width: 10px;\n  height: 10px;\n}\n\n.mat-icon.size-12 {\n  font-size: 12px;\n  line-height: 12px;\n  width: 12px;\n  height: 12px;\n}\n\n.mat-icon.size-14 {\n  font-size: 14px;\n  line-height: 14px;\n  width: 14px;\n  height: 14px;\n}\n\n.mat-icon.size-16 {\n  font-size: 16px;\n  line-height: 16px;\n  width: 16px;\n  height: 16px;\n}\n\n.mat-icon.size-18 {\n  font-size: 18px;\n  line-height: 18px;\n  width: 18px;\n  height: 18px;\n}\n\n.mat-icon.size-20 {\n  font-size: 20px;\n  line-height: 20px;\n  width: 20px;\n  height: 20px;\n}\n\n.mat-icon.size-24 {\n  font-size: 24px;\n  line-height: 24px;\n  width: 24px;\n  height: 24px;\n}\n\n.mat-icon .disabled, [disabled] .mat-icon {\n  opacity: 0.5;\n}\n\n/* Colors for the ripple elements.*/\n\n/* stylelint-disable-next-line material/theme-mixin-api */\n\n/* stylelint-disable-next-line material/theme-mixin-api */\n\n/* stylelint-disable material/no-prefixes */\n\n/* stylelint-enable */\n\n.mat-badge-content {\n  font-weight: 600;\n  font-size: 12px;\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n}\n\n.mat-badge-small .mat-badge-content {\n  font-size: 9px;\n}\n\n.mat-badge-large .mat-badge-content {\n  font-size: 24px;\n}\n\n.mat-h1, .mat-headline, .mat-typography h1 {\n  font: 400 24px/32px Roboto, \"Helvetica Neue\", sans-serif;\n  letter-spacing: normal;\n  margin: 0 0 16px;\n}\n\n.mat-h2, .mat-title, .mat-typography h2 {\n  font: 500 20px/32px Roboto, \"Helvetica Neue\", sans-serif;\n  letter-spacing: normal;\n  margin: 0 0 16px;\n}\n\n.mat-h3, .mat-subheading-2, .mat-typography h3 {\n  font: 400 16px/28px Roboto, \"Helvetica Neue\", sans-serif;\n  letter-spacing: normal;\n  margin: 0 0 16px;\n}\n\n.mat-h4, .mat-subheading-1, .mat-typography h4 {\n  font: 400 15px/24px Roboto, \"Helvetica Neue\", sans-serif;\n  letter-spacing: normal;\n  margin: 0 0 16px;\n}\n\n.mat-h5, .mat-typography h5 {\n  font: 400 calc(14px * 0.83)/20px Roboto, \"Helvetica Neue\", sans-serif;\n  margin: 0 0 12px;\n}\n\n.mat-h6, .mat-typography h6 {\n  font: 400 calc(14px * 0.67)/20px Roboto, \"Helvetica Neue\", sans-serif;\n  margin: 0 0 12px;\n}\n\n.mat-body-strong, .mat-body-2 {\n  font: 500 14px/24px Roboto, \"Helvetica Neue\", sans-serif;\n  letter-spacing: normal;\n}\n\n.mat-body, .mat-body-1, .mat-typography {\n  font: 400 14px/20px Roboto, \"Helvetica Neue\", sans-serif;\n  letter-spacing: normal;\n}\n\n.mat-body p, .mat-body-1 p, .mat-typography p {\n  margin: 0 0 12px;\n}\n\n.mat-small, .mat-caption {\n  font: 400 12px/20px Roboto, \"Helvetica Neue\", sans-serif;\n  letter-spacing: normal;\n}\n\n.mat-display-4, .mat-typography .mat-display-4 {\n  font: 300 112px/112px Roboto, \"Helvetica Neue\", sans-serif;\n  letter-spacing: -0.05em;\n  margin: 0 0 56px;\n}\n\n.mat-display-3, .mat-typography .mat-display-3 {\n  font: 400 56px/56px Roboto, \"Helvetica Neue\", sans-serif;\n  letter-spacing: -0.02em;\n  margin: 0 0 64px;\n}\n\n.mat-display-2, .mat-typography .mat-display-2 {\n  font: 400 45px/48px Roboto, \"Helvetica Neue\", sans-serif;\n  letter-spacing: -0.005em;\n  margin: 0 0 64px;\n}\n\n.mat-display-1, .mat-typography .mat-display-1 {\n  font: 400 34px/40px Roboto, \"Helvetica Neue\", sans-serif;\n  letter-spacing: normal;\n  margin: 0 0 64px;\n}\n\n.mat-bottom-sheet-container {\n  font: 400 14px/20px Roboto, \"Helvetica Neue\", sans-serif;\n  letter-spacing: normal;\n}\n\n.mat-button, .mat-raised-button, .mat-icon-button, .mat-stroked-button,\n.mat-flat-button, .mat-fab, .mat-mini-fab {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n  font-size: 14px;\n  font-weight: 500;\n}\n\n.mat-button-toggle {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n}\n\n.mat-card {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n}\n\n.mat-card-title {\n  font-size: 24px;\n  font-weight: 500;\n}\n\n.mat-card-header .mat-card-title {\n  font-size: 20px;\n}\n\n.mat-card-subtitle,\n.mat-card-content {\n  font-size: 14px;\n}\n\n.mat-checkbox {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n}\n\n.mat-checkbox-layout .mat-checkbox-label {\n  line-height: 24px;\n}\n\n.mat-chip {\n  font-size: 14px;\n  font-weight: 500;\n}\n\n.mat-chip .mat-chip-trailing-icon.mat-icon,\n.mat-chip .mat-chip-remove.mat-icon {\n  font-size: 18px;\n}\n\n.mat-table {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n}\n\n.mat-header-cell {\n  font-size: 12px;\n  font-weight: 500;\n}\n\n.mat-cell, .mat-footer-cell {\n  font-size: 14px;\n}\n\n.mat-calendar {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n}\n\n.mat-calendar-body {\n  font-size: 13px;\n}\n\n.mat-calendar-body-label,\n.mat-calendar-period-button {\n  font-size: 14px;\n  font-weight: 500;\n}\n\n.mat-calendar-table-header th {\n  font-size: 11px;\n  font-weight: 400;\n}\n\n.mat-dialog-title {\n  font: 500 20px/32px Roboto, \"Helvetica Neue\", sans-serif;\n  letter-spacing: normal;\n}\n\n.mat-expansion-panel-header {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n  font-size: 15px;\n  font-weight: 400;\n}\n\n.mat-expansion-panel-content {\n  font: 400 14px/20px Roboto, \"Helvetica Neue\", sans-serif;\n  letter-spacing: normal;\n}\n\n.mat-form-field {\n  font-size: inherit;\n  font-weight: 400;\n  line-height: 1.125;\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n  letter-spacing: normal;\n}\n\n.mat-form-field-wrapper {\n  padding-bottom: 1.34375em;\n}\n\n.mat-form-field-prefix .mat-icon,\n.mat-form-field-suffix .mat-icon {\n  font-size: 150%;\n  line-height: 1.125;\n}\n\n.mat-form-field-prefix .mat-icon-button,\n.mat-form-field-suffix .mat-icon-button {\n  height: 1.5em;\n  width: 1.5em;\n}\n\n.mat-form-field-prefix .mat-icon-button .mat-icon,\n.mat-form-field-suffix .mat-icon-button .mat-icon {\n  height: 1.125em;\n  line-height: 1.125;\n}\n\n.mat-form-field-infix {\n  padding: 0.5em 0;\n  border-top: 0.84375em solid transparent;\n}\n\n.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,\n.mat-form-field-can-float .mat-input-server:focus + .mat-form-field-label-wrapper .mat-form-field-label {\n  transform: translateY(-1.34375em) scale(0.75);\n  width: 133.3333333333%;\n}\n\n.mat-form-field-can-float .mat-input-server[label]:not(:label-shown) + .mat-form-field-label-wrapper .mat-form-field-label {\n  transform: translateY(-1.34374em) scale(0.75);\n  width: 133.3333433333%;\n}\n\n.mat-form-field-label-wrapper {\n  top: -0.84375em;\n  padding-top: 0.84375em;\n}\n\n.mat-form-field-label {\n  top: 1.34375em;\n}\n\n.mat-form-field-underline {\n  bottom: 1.34375em;\n}\n\n.mat-form-field-subscript-wrapper {\n  font-size: 75%;\n  margin-top: 0.6666666667em;\n  top: calc(100% - 1.7916666667em);\n}\n\n.mat-form-field-appearance-legacy .mat-form-field-wrapper {\n  padding-bottom: 1.25em;\n}\n\n.mat-form-field-appearance-legacy .mat-form-field-infix {\n  padding: 0.4375em 0;\n}\n\n.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,\n.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus + .mat-form-field-label-wrapper .mat-form-field-label {\n  transform: translateY(-1.28125em) scale(0.75) perspective(100px) translateZ(0.001px);\n  -ms-transform: translateY(-1.28125em) scale(0.75);\n  width: 133.3333333333%;\n}\n\n.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill + .mat-form-field-label-wrapper .mat-form-field-label {\n  transform: translateY(-1.28125em) scale(0.75) perspective(100px) translateZ(0.00101px);\n  -ms-transform: translateY(-1.28124em) scale(0.75);\n  width: 133.3333433333%;\n}\n\n.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown) + .mat-form-field-label-wrapper .mat-form-field-label {\n  transform: translateY(-1.28125em) scale(0.75) perspective(100px) translateZ(0.00102px);\n  -ms-transform: translateY(-1.28123em) scale(0.75);\n  width: 133.3333533333%;\n}\n\n.mat-form-field-appearance-legacy .mat-form-field-label {\n  top: 1.28125em;\n}\n\n.mat-form-field-appearance-legacy .mat-form-field-underline {\n  bottom: 1.25em;\n}\n\n.mat-form-field-appearance-legacy .mat-form-field-subscript-wrapper {\n  margin-top: 0.5416666667em;\n  top: calc(100% - 1.6666666667em);\n}\n\n@media print {\n  .mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,\n.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus + .mat-form-field-label-wrapper .mat-form-field-label {\n    transform: translateY(-1.28122em) scale(0.75);\n  }\n  .mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill + .mat-form-field-label-wrapper .mat-form-field-label {\n    transform: translateY(-1.28121em) scale(0.75);\n  }\n  .mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown) + .mat-form-field-label-wrapper .mat-form-field-label {\n    transform: translateY(-1.2812em) scale(0.75);\n  }\n}\n\n.mat-form-field-appearance-fill .mat-form-field-infix {\n  padding: 0.25em 0 0.75em 0;\n}\n\n.mat-form-field-appearance-fill .mat-form-field-label {\n  top: 1.09375em;\n  margin-top: -0.5em;\n}\n\n.mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,\n.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server:focus + .mat-form-field-label-wrapper .mat-form-field-label {\n  transform: translateY(-0.59375em) scale(0.75);\n  width: 133.3333333333%;\n}\n\n.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server[label]:not(:label-shown) + .mat-form-field-label-wrapper .mat-form-field-label {\n  transform: translateY(-0.59374em) scale(0.75);\n  width: 133.3333433333%;\n}\n\n.mat-form-field-appearance-outline .mat-form-field-infix {\n  padding: 1em 0 1em 0;\n}\n\n.mat-form-field-appearance-outline .mat-form-field-label {\n  top: 1.84375em;\n  margin-top: -0.25em;\n}\n\n.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,\n.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server:focus + .mat-form-field-label-wrapper .mat-form-field-label {\n  transform: translateY(-1.59375em) scale(0.75);\n  width: 133.3333333333%;\n}\n\n.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server[label]:not(:label-shown) + .mat-form-field-label-wrapper .mat-form-field-label {\n  transform: translateY(-1.59374em) scale(0.75);\n  width: 133.3333433333%;\n}\n\n.mat-grid-tile-header,\n.mat-grid-tile-footer {\n  font-size: 14px;\n}\n\n.mat-grid-tile-header .mat-line,\n.mat-grid-tile-footer .mat-line {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: block;\n  box-sizing: border-box;\n}\n\n.mat-grid-tile-header .mat-line:nth-child(n+2),\n.mat-grid-tile-footer .mat-line:nth-child(n+2) {\n  font-size: 12px;\n}\n\ninput.mat-input-element {\n  margin-top: -0.0625em;\n}\n\n.mat-menu-item {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n  font-size: 14px;\n  font-weight: 400;\n}\n\n.mat-paginator,\n.mat-paginator-page-size .mat-select-trigger {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n  font-size: 12px;\n}\n\n.mat-radio-button {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n}\n\n.mat-select {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n}\n\n.mat-select-trigger {\n  height: 1.125em;\n}\n\n.mat-slide-toggle-content {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n}\n\n.mat-slider-thumb-label-text {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n  font-size: 12px;\n  font-weight: 500;\n}\n\n.mat-stepper-vertical, .mat-stepper-horizontal {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n}\n\n.mat-step-label {\n  font-size: 14px;\n  font-weight: 400;\n}\n\n.mat-step-sub-label-error {\n  font-weight: normal;\n}\n\n.mat-step-label-error {\n  font-size: 14px;\n}\n\n.mat-step-label-selected {\n  font-size: 14px;\n  font-weight: 500;\n}\n\n.mat-tab-group {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n}\n\n.mat-tab-label, .mat-tab-link {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n  font-size: 14px;\n  font-weight: 500;\n}\n\n.mat-toolbar,\n.mat-toolbar h1,\n.mat-toolbar h2,\n.mat-toolbar h3,\n.mat-toolbar h4,\n.mat-toolbar h5,\n.mat-toolbar h6 {\n  font: 500 20px/32px Roboto, \"Helvetica Neue\", sans-serif;\n  letter-spacing: normal;\n  margin: 0;\n}\n\n.mat-tooltip {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n  font-size: 10px;\n  padding-top: 6px;\n  padding-bottom: 6px;\n}\n\n.mat-tooltip-handset {\n  font-size: 14px;\n  padding-top: 8px;\n  padding-bottom: 8px;\n}\n\n.mat-list-item {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n}\n\n.mat-list-option {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n}\n\n.mat-list-base .mat-list-item {\n  font-size: 16px;\n}\n\n.mat-list-base .mat-list-item .mat-line {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: block;\n  box-sizing: border-box;\n}\n\n.mat-list-base .mat-list-item .mat-line:nth-child(n+2) {\n  font-size: 14px;\n}\n\n.mat-list-base .mat-list-option {\n  font-size: 16px;\n}\n\n.mat-list-base .mat-list-option .mat-line {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: block;\n  box-sizing: border-box;\n}\n\n.mat-list-base .mat-list-option .mat-line:nth-child(n+2) {\n  font-size: 14px;\n}\n\n.mat-list-base .mat-subheader {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n  font-size: 14px;\n  font-weight: 500;\n}\n\n.mat-list-base[dense] .mat-list-item {\n  font-size: 12px;\n}\n\n.mat-list-base[dense] .mat-list-item .mat-line {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: block;\n  box-sizing: border-box;\n}\n\n.mat-list-base[dense] .mat-list-item .mat-line:nth-child(n+2) {\n  font-size: 12px;\n}\n\n.mat-list-base[dense] .mat-list-option {\n  font-size: 12px;\n}\n\n.mat-list-base[dense] .mat-list-option .mat-line {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: block;\n  box-sizing: border-box;\n}\n\n.mat-list-base[dense] .mat-list-option .mat-line:nth-child(n+2) {\n  font-size: 12px;\n}\n\n.mat-list-base[dense] .mat-subheader {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n  font-size: 12px;\n  font-weight: 500;\n}\n\n.mat-option {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n  font-size: 16px;\n}\n\n.mat-optgroup-label {\n  font: 500 14px/24px Roboto, \"Helvetica Neue\", sans-serif;\n  letter-spacing: normal;\n}\n\n.mat-simple-snackbar {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n  font-size: 14px;\n}\n\n.mat-simple-snackbar-action {\n  line-height: 1;\n  font-family: inherit;\n  font-size: inherit;\n  font-weight: 500;\n}\n\n.mat-tree {\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n}\n\n.mat-tree-node,\n.mat-nested-tree-node {\n  font-weight: 400;\n  font-size: 14px;\n}\n\n.mat-ripple {\n  overflow: hidden;\n  position: relative;\n}\n\n.mat-ripple:not(:empty) {\n  transform: translateZ(0);\n}\n\n.mat-ripple.mat-ripple-unbounded {\n  overflow: visible;\n}\n\n.mat-ripple-element {\n  position: absolute;\n  border-radius: 50%;\n  pointer-events: none;\n  transition: opacity, transform 0ms cubic-bezier(0, 0, 0.2, 1);\n  transform: scale(0);\n}\n\n.cdk-high-contrast-active .mat-ripple-element {\n  display: none;\n}\n\n.cdk-visually-hidden {\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n  outline: 0;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n}\n\n.cdk-overlay-container, .cdk-global-overlay-wrapper {\n  pointer-events: none;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n}\n\n.cdk-overlay-container {\n  position: fixed;\n  z-index: 1000;\n}\n\n.cdk-overlay-container:empty {\n  display: none;\n}\n\n.cdk-global-overlay-wrapper {\n  display: flex;\n  position: absolute;\n  z-index: 1000;\n}\n\n.cdk-overlay-pane {\n  position: absolute;\n  pointer-events: auto;\n  box-sizing: border-box;\n  z-index: 1000;\n  display: flex;\n  max-width: 100%;\n  max-height: 100%;\n}\n\n.cdk-overlay-backdrop {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 1000;\n  pointer-events: auto;\n  -webkit-tap-highlight-color: transparent;\n  transition: opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1);\n  opacity: 0;\n}\n\n.cdk-overlay-backdrop.cdk-overlay-backdrop-showing {\n  opacity: 1;\n}\n\n.cdk-high-contrast-active .cdk-overlay-backdrop.cdk-overlay-backdrop-showing {\n  opacity: 0.6;\n}\n\n.cdk-overlay-dark-backdrop {\n  background: rgba(0, 0, 0, 0.32);\n}\n\n.cdk-overlay-transparent-backdrop, .cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing {\n  opacity: 0;\n}\n\n.cdk-overlay-connected-position-bounding-box {\n  position: absolute;\n  z-index: 1000;\n  display: flex;\n  flex-direction: column;\n  min-width: 1px;\n  min-height: 1px;\n}\n\n.cdk-global-scrollblock {\n  position: fixed;\n  width: 100%;\n  overflow-y: scroll;\n}\n\n@-webkit-keyframes cdk-text-field-autofill-start {\n  /*!*/\n}\n\n@keyframes cdk-text-field-autofill-start {\n  /*!*/\n}\n\n@-webkit-keyframes cdk-text-field-autofill-end {\n  /*!*/\n}\n\n@keyframes cdk-text-field-autofill-end {\n  /*!*/\n}\n\n.cdk-text-field-autofill-monitored:-webkit-autofill {\n  -webkit-animation: cdk-text-field-autofill-start 0s 1ms;\n          animation: cdk-text-field-autofill-start 0s 1ms;\n}\n\n.cdk-text-field-autofill-monitored:not(:-webkit-autofill) {\n  -webkit-animation: cdk-text-field-autofill-end 0s 1ms;\n          animation: cdk-text-field-autofill-end 0s 1ms;\n}\n\ntextarea.cdk-textarea-autosize {\n  resize: none;\n}\n\ntextarea.cdk-textarea-autosize-measuring {\n  padding: 2px 0 !important;\n  box-sizing: content-box !important;\n  height: auto !important;\n  overflow: hidden !important;\n}\n\ntextarea.cdk-textarea-autosize-measuring-firefox {\n  padding: 2px 0 !important;\n  box-sizing: content-box !important;\n  height: 0 !important;\n}\n\n.mat-focus-indicator {\n  position: relative;\n}\n\n.mat-mdc-focus-indicator {\n  position: relative;\n}\n\n.mat-ripple-element {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n\n.mat-option {\n  color: white;\n}\n\n.mat-option:hover:not(.mat-option-disabled), .mat-option:focus:not(.mat-option-disabled) {\n  background: rgba(255, 255, 255, 0.04);\n}\n\n.mat-option.mat-selected:not(.mat-option-multiple):not(.mat-option-disabled) {\n  background: rgba(255, 255, 255, 0.04);\n}\n\n.mat-option.mat-active {\n  background: rgba(255, 255, 255, 0.04);\n  color: white;\n}\n\n.mat-option.mat-option-disabled {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-primary .mat-option.mat-selected:not(.mat-option-disabled) {\n  color: #ffd200;\n}\n\n.mat-accent .mat-option.mat-selected:not(.mat-option-disabled) {\n  color: #4e7991;\n}\n\n.mat-warn .mat-option.mat-selected:not(.mat-option-disabled) {\n  color: #ff5722;\n}\n\n.mat-optgroup-label {\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.mat-optgroup-disabled .mat-optgroup-label {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-pseudo-checkbox {\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.mat-pseudo-checkbox::after {\n  color: #333333;\n}\n\n.mat-pseudo-checkbox-disabled {\n  color: #686868;\n}\n\n.mat-primary .mat-pseudo-checkbox-checked,\n.mat-primary .mat-pseudo-checkbox-indeterminate {\n  background: #ffd200;\n}\n\n.mat-pseudo-checkbox-checked,\n.mat-pseudo-checkbox-indeterminate,\n.mat-accent .mat-pseudo-checkbox-checked,\n.mat-accent .mat-pseudo-checkbox-indeterminate {\n  background: #4e7991;\n}\n\n.mat-warn .mat-pseudo-checkbox-checked,\n.mat-warn .mat-pseudo-checkbox-indeterminate {\n  background: #ff5722;\n}\n\n.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,\n.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled {\n  background: #686868;\n}\n\n.mat-app-background {\n  background-color: #333333;\n  color: white;\n}\n\n.mat-elevation-z0 {\n  box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z1 {\n  box-shadow: 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z2 {\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z3 {\n  box-shadow: 0px 3px 3px -2px rgba(0, 0, 0, 0.2), 0px 3px 4px 0px rgba(0, 0, 0, 0.14), 0px 1px 8px 0px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z4 {\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z5 {\n  box-shadow: 0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 5px 8px 0px rgba(0, 0, 0, 0.14), 0px 1px 14px 0px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z6 {\n  box-shadow: 0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z7 {\n  box-shadow: 0px 4px 5px -2px rgba(0, 0, 0, 0.2), 0px 7px 10px 1px rgba(0, 0, 0, 0.14), 0px 2px 16px 1px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z8 {\n  box-shadow: 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z9 {\n  box-shadow: 0px 5px 6px -3px rgba(0, 0, 0, 0.2), 0px 9px 12px 1px rgba(0, 0, 0, 0.14), 0px 3px 16px 2px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z10 {\n  box-shadow: 0px 6px 6px -3px rgba(0, 0, 0, 0.2), 0px 10px 14px 1px rgba(0, 0, 0, 0.14), 0px 4px 18px 3px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z11 {\n  box-shadow: 0px 6px 7px -4px rgba(0, 0, 0, 0.2), 0px 11px 15px 1px rgba(0, 0, 0, 0.14), 0px 4px 20px 3px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z12 {\n  box-shadow: 0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z13 {\n  box-shadow: 0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 13px 19px 2px rgba(0, 0, 0, 0.14), 0px 5px 24px 4px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z14 {\n  box-shadow: 0px 7px 9px -4px rgba(0, 0, 0, 0.2), 0px 14px 21px 2px rgba(0, 0, 0, 0.14), 0px 5px 26px 4px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z15 {\n  box-shadow: 0px 8px 9px -5px rgba(0, 0, 0, 0.2), 0px 15px 22px 2px rgba(0, 0, 0, 0.14), 0px 6px 28px 5px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z16 {\n  box-shadow: 0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z17 {\n  box-shadow: 0px 8px 11px -5px rgba(0, 0, 0, 0.2), 0px 17px 26px 2px rgba(0, 0, 0, 0.14), 0px 6px 32px 5px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z18 {\n  box-shadow: 0px 9px 11px -5px rgba(0, 0, 0, 0.2), 0px 18px 28px 2px rgba(0, 0, 0, 0.14), 0px 7px 34px 6px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z19 {\n  box-shadow: 0px 9px 12px -6px rgba(0, 0, 0, 0.2), 0px 19px 29px 2px rgba(0, 0, 0, 0.14), 0px 7px 36px 6px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z20 {\n  box-shadow: 0px 10px 13px -6px rgba(0, 0, 0, 0.2), 0px 20px 31px 3px rgba(0, 0, 0, 0.14), 0px 8px 38px 7px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z21 {\n  box-shadow: 0px 10px 13px -6px rgba(0, 0, 0, 0.2), 0px 21px 33px 3px rgba(0, 0, 0, 0.14), 0px 8px 40px 7px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z22 {\n  box-shadow: 0px 10px 14px -6px rgba(0, 0, 0, 0.2), 0px 22px 35px 3px rgba(0, 0, 0, 0.14), 0px 8px 42px 7px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z23 {\n  box-shadow: 0px 11px 14px -7px rgba(0, 0, 0, 0.2), 0px 23px 36px 3px rgba(0, 0, 0, 0.14), 0px 9px 44px 8px rgba(0, 0, 0, 0.12);\n}\n\n.mat-elevation-z24 {\n  box-shadow: 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);\n}\n\n.mat-theme-loaded-marker {\n  display: none;\n}\n\n.mat-autocomplete-panel {\n  background: #424242;\n  color: white;\n}\n\n.mat-autocomplete-panel:not([class*=mat-elevation-z]) {\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n}\n\n.mat-autocomplete-panel .mat-option.mat-selected:not(.mat-active):not(:hover) {\n  background: #424242;\n}\n\n.mat-autocomplete-panel .mat-option.mat-selected:not(.mat-active):not(:hover):not(.mat-option-disabled) {\n  color: white;\n}\n\n.mat-badge-content {\n  color: black;\n  background: #ffd200;\n}\n\n.cdk-high-contrast-active .mat-badge-content {\n  outline: solid 1px;\n  border-radius: 0;\n}\n\n.mat-badge-accent .mat-badge-content {\n  background: #4e7991;\n  color: white;\n}\n\n.mat-badge-warn .mat-badge-content {\n  color: white;\n  background: #ff5722;\n}\n\n.mat-badge {\n  position: relative;\n}\n\n.mat-badge-hidden .mat-badge-content {\n  display: none;\n}\n\n.mat-badge-disabled .mat-badge-content {\n  background: #707070;\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-badge-content {\n  position: absolute;\n  text-align: center;\n  display: inline-block;\n  border-radius: 50%;\n  transition: transform 200ms ease-in-out;\n  transform: scale(0.6);\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  pointer-events: none;\n}\n\n.ng-animate-disabled .mat-badge-content,\n.mat-badge-content._mat-animation-noopable {\n  transition: none;\n}\n\n.mat-badge-content.mat-badge-active {\n  transform: none;\n}\n\n.mat-badge-small .mat-badge-content {\n  width: 16px;\n  height: 16px;\n  line-height: 16px;\n}\n\n.mat-badge-small.mat-badge-above .mat-badge-content {\n  top: -8px;\n}\n\n.mat-badge-small.mat-badge-below .mat-badge-content {\n  bottom: -8px;\n}\n\n.mat-badge-small.mat-badge-before .mat-badge-content {\n  left: -16px;\n}\n\n[dir=rtl] .mat-badge-small.mat-badge-before .mat-badge-content {\n  left: auto;\n  right: -16px;\n}\n\n.mat-badge-small.mat-badge-after .mat-badge-content {\n  right: -16px;\n}\n\n[dir=rtl] .mat-badge-small.mat-badge-after .mat-badge-content {\n  right: auto;\n  left: -16px;\n}\n\n.mat-badge-small.mat-badge-overlap.mat-badge-before .mat-badge-content {\n  left: -8px;\n}\n\n[dir=rtl] .mat-badge-small.mat-badge-overlap.mat-badge-before .mat-badge-content {\n  left: auto;\n  right: -8px;\n}\n\n.mat-badge-small.mat-badge-overlap.mat-badge-after .mat-badge-content {\n  right: -8px;\n}\n\n[dir=rtl] .mat-badge-small.mat-badge-overlap.mat-badge-after .mat-badge-content {\n  right: auto;\n  left: -8px;\n}\n\n.mat-badge-medium .mat-badge-content {\n  width: 22px;\n  height: 22px;\n  line-height: 22px;\n}\n\n.mat-badge-medium.mat-badge-above .mat-badge-content {\n  top: -11px;\n}\n\n.mat-badge-medium.mat-badge-below .mat-badge-content {\n  bottom: -11px;\n}\n\n.mat-badge-medium.mat-badge-before .mat-badge-content {\n  left: -22px;\n}\n\n[dir=rtl] .mat-badge-medium.mat-badge-before .mat-badge-content {\n  left: auto;\n  right: -22px;\n}\n\n.mat-badge-medium.mat-badge-after .mat-badge-content {\n  right: -22px;\n}\n\n[dir=rtl] .mat-badge-medium.mat-badge-after .mat-badge-content {\n  right: auto;\n  left: -22px;\n}\n\n.mat-badge-medium.mat-badge-overlap.mat-badge-before .mat-badge-content {\n  left: -11px;\n}\n\n[dir=rtl] .mat-badge-medium.mat-badge-overlap.mat-badge-before .mat-badge-content {\n  left: auto;\n  right: -11px;\n}\n\n.mat-badge-medium.mat-badge-overlap.mat-badge-after .mat-badge-content {\n  right: -11px;\n}\n\n[dir=rtl] .mat-badge-medium.mat-badge-overlap.mat-badge-after .mat-badge-content {\n  right: auto;\n  left: -11px;\n}\n\n.mat-badge-large .mat-badge-content {\n  width: 28px;\n  height: 28px;\n  line-height: 28px;\n}\n\n.mat-badge-large.mat-badge-above .mat-badge-content {\n  top: -14px;\n}\n\n.mat-badge-large.mat-badge-below .mat-badge-content {\n  bottom: -14px;\n}\n\n.mat-badge-large.mat-badge-before .mat-badge-content {\n  left: -28px;\n}\n\n[dir=rtl] .mat-badge-large.mat-badge-before .mat-badge-content {\n  left: auto;\n  right: -28px;\n}\n\n.mat-badge-large.mat-badge-after .mat-badge-content {\n  right: -28px;\n}\n\n[dir=rtl] .mat-badge-large.mat-badge-after .mat-badge-content {\n  right: auto;\n  left: -28px;\n}\n\n.mat-badge-large.mat-badge-overlap.mat-badge-before .mat-badge-content {\n  left: -14px;\n}\n\n[dir=rtl] .mat-badge-large.mat-badge-overlap.mat-badge-before .mat-badge-content {\n  left: auto;\n  right: -14px;\n}\n\n.mat-badge-large.mat-badge-overlap.mat-badge-after .mat-badge-content {\n  right: -14px;\n}\n\n[dir=rtl] .mat-badge-large.mat-badge-overlap.mat-badge-after .mat-badge-content {\n  right: auto;\n  left: -14px;\n}\n\n.mat-bottom-sheet-container {\n  box-shadow: 0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);\n  background: #424242;\n  color: white;\n}\n\n.mat-button, .mat-icon-button, .mat-stroked-button {\n  color: inherit;\n  background: transparent;\n}\n\n.mat-button.mat-primary, .mat-icon-button.mat-primary, .mat-stroked-button.mat-primary {\n  color: #ffd200;\n}\n\n.mat-button.mat-accent, .mat-icon-button.mat-accent, .mat-stroked-button.mat-accent {\n  color: #4e7991;\n}\n\n.mat-button.mat-warn, .mat-icon-button.mat-warn, .mat-stroked-button.mat-warn {\n  color: #ff5722;\n}\n\n.mat-button.mat-primary.mat-button-disabled, .mat-button.mat-accent.mat-button-disabled, .mat-button.mat-warn.mat-button-disabled, .mat-button.mat-button-disabled.mat-button-disabled, .mat-icon-button.mat-primary.mat-button-disabled, .mat-icon-button.mat-accent.mat-button-disabled, .mat-icon-button.mat-warn.mat-button-disabled, .mat-icon-button.mat-button-disabled.mat-button-disabled, .mat-stroked-button.mat-primary.mat-button-disabled, .mat-stroked-button.mat-accent.mat-button-disabled, .mat-stroked-button.mat-warn.mat-button-disabled, .mat-stroked-button.mat-button-disabled.mat-button-disabled {\n  color: rgba(255, 255, 255, 0.3);\n}\n\n.mat-button.mat-primary .mat-button-focus-overlay, .mat-icon-button.mat-primary .mat-button-focus-overlay, .mat-stroked-button.mat-primary .mat-button-focus-overlay {\n  background-color: #ffd200;\n}\n\n.mat-button.mat-accent .mat-button-focus-overlay, .mat-icon-button.mat-accent .mat-button-focus-overlay, .mat-stroked-button.mat-accent .mat-button-focus-overlay {\n  background-color: #4e7991;\n}\n\n.mat-button.mat-warn .mat-button-focus-overlay, .mat-icon-button.mat-warn .mat-button-focus-overlay, .mat-stroked-button.mat-warn .mat-button-focus-overlay {\n  background-color: #ff5722;\n}\n\n.mat-button.mat-button-disabled .mat-button-focus-overlay, .mat-icon-button.mat-button-disabled .mat-button-focus-overlay, .mat-stroked-button.mat-button-disabled .mat-button-focus-overlay {\n  background-color: transparent;\n}\n\n.mat-button .mat-ripple-element, .mat-icon-button .mat-ripple-element, .mat-stroked-button .mat-ripple-element {\n  opacity: 0.1;\n  background-color: currentColor;\n}\n\n.mat-button-focus-overlay {\n  background: white;\n}\n\n.mat-stroked-button:not(.mat-button-disabled) {\n  border-color: rgba(255, 255, 255, 0.12);\n}\n\n.mat-flat-button, .mat-raised-button, .mat-fab, .mat-mini-fab {\n  color: white;\n  background-color: #424242;\n}\n\n.mat-flat-button.mat-primary, .mat-raised-button.mat-primary, .mat-fab.mat-primary, .mat-mini-fab.mat-primary {\n  color: black;\n}\n\n.mat-flat-button.mat-accent, .mat-raised-button.mat-accent, .mat-fab.mat-accent, .mat-mini-fab.mat-accent {\n  color: white;\n}\n\n.mat-flat-button.mat-warn, .mat-raised-button.mat-warn, .mat-fab.mat-warn, .mat-mini-fab.mat-warn {\n  color: white;\n}\n\n.mat-flat-button.mat-primary.mat-button-disabled, .mat-flat-button.mat-accent.mat-button-disabled, .mat-flat-button.mat-warn.mat-button-disabled, .mat-flat-button.mat-button-disabled.mat-button-disabled, .mat-raised-button.mat-primary.mat-button-disabled, .mat-raised-button.mat-accent.mat-button-disabled, .mat-raised-button.mat-warn.mat-button-disabled, .mat-raised-button.mat-button-disabled.mat-button-disabled, .mat-fab.mat-primary.mat-button-disabled, .mat-fab.mat-accent.mat-button-disabled, .mat-fab.mat-warn.mat-button-disabled, .mat-fab.mat-button-disabled.mat-button-disabled, .mat-mini-fab.mat-primary.mat-button-disabled, .mat-mini-fab.mat-accent.mat-button-disabled, .mat-mini-fab.mat-warn.mat-button-disabled, .mat-mini-fab.mat-button-disabled.mat-button-disabled {\n  color: rgba(255, 255, 255, 0.3);\n}\n\n.mat-flat-button.mat-primary, .mat-raised-button.mat-primary, .mat-fab.mat-primary, .mat-mini-fab.mat-primary {\n  background-color: #ffd200;\n}\n\n.mat-flat-button.mat-accent, .mat-raised-button.mat-accent, .mat-fab.mat-accent, .mat-mini-fab.mat-accent {\n  background-color: #4e7991;\n}\n\n.mat-flat-button.mat-warn, .mat-raised-button.mat-warn, .mat-fab.mat-warn, .mat-mini-fab.mat-warn {\n  background-color: #ff5722;\n}\n\n.mat-flat-button.mat-primary.mat-button-disabled, .mat-flat-button.mat-accent.mat-button-disabled, .mat-flat-button.mat-warn.mat-button-disabled, .mat-flat-button.mat-button-disabled.mat-button-disabled, .mat-raised-button.mat-primary.mat-button-disabled, .mat-raised-button.mat-accent.mat-button-disabled, .mat-raised-button.mat-warn.mat-button-disabled, .mat-raised-button.mat-button-disabled.mat-button-disabled, .mat-fab.mat-primary.mat-button-disabled, .mat-fab.mat-accent.mat-button-disabled, .mat-fab.mat-warn.mat-button-disabled, .mat-fab.mat-button-disabled.mat-button-disabled, .mat-mini-fab.mat-primary.mat-button-disabled, .mat-mini-fab.mat-accent.mat-button-disabled, .mat-mini-fab.mat-warn.mat-button-disabled, .mat-mini-fab.mat-button-disabled.mat-button-disabled {\n  background-color: rgba(255, 255, 255, 0.12);\n}\n\n.mat-flat-button.mat-primary .mat-ripple-element, .mat-raised-button.mat-primary .mat-ripple-element, .mat-fab.mat-primary .mat-ripple-element, .mat-mini-fab.mat-primary .mat-ripple-element {\n  background-color: rgba(0, 0, 0, 0.1);\n}\n\n.mat-flat-button.mat-accent .mat-ripple-element, .mat-raised-button.mat-accent .mat-ripple-element, .mat-fab.mat-accent .mat-ripple-element, .mat-mini-fab.mat-accent .mat-ripple-element {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n\n.mat-flat-button.mat-warn .mat-ripple-element, .mat-raised-button.mat-warn .mat-ripple-element, .mat-fab.mat-warn .mat-ripple-element, .mat-mini-fab.mat-warn .mat-ripple-element {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n\n.mat-stroked-button:not([class*=mat-elevation-z]), .mat-flat-button:not([class*=mat-elevation-z]) {\n  box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12);\n}\n\n.mat-raised-button:not([class*=mat-elevation-z]) {\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n}\n\n.mat-raised-button:not(.mat-button-disabled):active:not([class*=mat-elevation-z]) {\n  box-shadow: 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);\n}\n\n.mat-raised-button.mat-button-disabled:not([class*=mat-elevation-z]) {\n  box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12);\n}\n\n.mat-fab:not([class*=mat-elevation-z]), .mat-mini-fab:not([class*=mat-elevation-z]) {\n  box-shadow: 0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);\n}\n\n.mat-fab:not(.mat-button-disabled):active:not([class*=mat-elevation-z]), .mat-mini-fab:not(.mat-button-disabled):active:not([class*=mat-elevation-z]) {\n  box-shadow: 0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12);\n}\n\n.mat-fab.mat-button-disabled:not([class*=mat-elevation-z]), .mat-mini-fab.mat-button-disabled:not([class*=mat-elevation-z]) {\n  box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12);\n}\n\n.mat-button-toggle-standalone,\n.mat-button-toggle-group {\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n}\n\n.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,\n.mat-button-toggle-group-appearance-standard {\n  box-shadow: none;\n}\n\n.mat-button-toggle {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-button-toggle .mat-button-toggle-focus-overlay {\n  background-color: rgba(255, 255, 255, 0.12);\n}\n\n.mat-button-toggle-appearance-standard {\n  color: white;\n  background: #424242;\n}\n\n.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay {\n  background-color: white;\n}\n\n.mat-button-toggle-group-appearance-standard .mat-button-toggle + .mat-button-toggle {\n  border-left: solid 1px rgba(255, 255, 255, 0.12);\n}\n\n[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle + .mat-button-toggle {\n  border-left: none;\n  border-right: solid 1px rgba(255, 255, 255, 0.12);\n}\n\n.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle + .mat-button-toggle {\n  border-left: none;\n  border-right: none;\n  border-top: solid 1px rgba(255, 255, 255, 0.12);\n}\n\n.mat-button-toggle-checked {\n  background-color: #212121;\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.mat-button-toggle-checked.mat-button-toggle-appearance-standard {\n  color: white;\n}\n\n.mat-button-toggle-disabled {\n  color: rgba(255, 255, 255, 0.3);\n  background-color: black;\n}\n\n.mat-button-toggle-disabled.mat-button-toggle-appearance-standard {\n  background: #424242;\n}\n\n.mat-button-toggle-disabled.mat-button-toggle-checked {\n  background-color: #424242;\n}\n\n.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,\n.mat-button-toggle-group-appearance-standard {\n  border: solid 1px rgba(255, 255, 255, 0.12);\n}\n\n.mat-button-toggle-appearance-standard .mat-button-toggle-label-content {\n  line-height: 48px;\n}\n\n.mat-card {\n  background: #424242;\n  color: white;\n}\n\n.mat-card:not([class*=mat-elevation-z]) {\n  box-shadow: 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n}\n\n.mat-card.mat-card-flat:not([class*=mat-elevation-z]) {\n  box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12);\n}\n\n.mat-card-subtitle {\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.mat-checkbox-frame {\n  border-color: rgba(255, 255, 255, 0.7);\n}\n\n.mat-checkbox-checkmark {\n  fill: #333333;\n}\n\n.mat-checkbox-checkmark-path {\n  stroke: #333333 !important;\n}\n\n.mat-checkbox-mixedmark {\n  background-color: #333333;\n}\n\n.mat-checkbox-indeterminate.mat-primary .mat-checkbox-background, .mat-checkbox-checked.mat-primary .mat-checkbox-background {\n  background-color: #ffd200;\n}\n\n.mat-checkbox-indeterminate.mat-accent .mat-checkbox-background, .mat-checkbox-checked.mat-accent .mat-checkbox-background {\n  background-color: #4e7991;\n}\n\n.mat-checkbox-indeterminate.mat-warn .mat-checkbox-background, .mat-checkbox-checked.mat-warn .mat-checkbox-background {\n  background-color: #ff5722;\n}\n\n.mat-checkbox-disabled.mat-checkbox-checked .mat-checkbox-background, .mat-checkbox-disabled.mat-checkbox-indeterminate .mat-checkbox-background {\n  background-color: #686868;\n}\n\n.mat-checkbox-disabled:not(.mat-checkbox-checked) .mat-checkbox-frame {\n  border-color: #686868;\n}\n\n.mat-checkbox-disabled .mat-checkbox-label {\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.mat-checkbox .mat-ripple-element {\n  background-color: white;\n}\n\n.mat-checkbox-checked:not(.mat-checkbox-disabled).mat-primary .mat-ripple-element,\n.mat-checkbox:active:not(.mat-checkbox-disabled).mat-primary .mat-ripple-element {\n  background: #ffd200;\n}\n\n.mat-checkbox-checked:not(.mat-checkbox-disabled).mat-accent .mat-ripple-element,\n.mat-checkbox:active:not(.mat-checkbox-disabled).mat-accent .mat-ripple-element {\n  background: #4e7991;\n}\n\n.mat-checkbox-checked:not(.mat-checkbox-disabled).mat-warn .mat-ripple-element,\n.mat-checkbox:active:not(.mat-checkbox-disabled).mat-warn .mat-ripple-element {\n  background: #ff5722;\n}\n\n.mat-chip.mat-standard-chip {\n  background-color: #616161;\n  color: white;\n}\n\n.mat-chip.mat-standard-chip .mat-chip-remove {\n  color: white;\n  opacity: 0.4;\n}\n\n.mat-chip.mat-standard-chip:not(.mat-chip-disabled):active {\n  box-shadow: 0px 3px 3px -2px rgba(0, 0, 0, 0.2), 0px 3px 4px 0px rgba(0, 0, 0, 0.14), 0px 1px 8px 0px rgba(0, 0, 0, 0.12);\n}\n\n.mat-chip.mat-standard-chip:not(.mat-chip-disabled) .mat-chip-remove:hover {\n  opacity: 0.54;\n}\n\n.mat-chip.mat-standard-chip.mat-chip-disabled {\n  opacity: 0.4;\n}\n\n.mat-chip.mat-standard-chip::after {\n  background: white;\n}\n\n.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary {\n  background-color: #ffd200;\n  color: black;\n}\n\n.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary .mat-chip-remove {\n  color: black;\n  opacity: 0.4;\n}\n\n.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary .mat-ripple-element {\n  background-color: rgba(0, 0, 0, 0.1);\n}\n\n.mat-chip.mat-standard-chip.mat-chip-selected.mat-warn {\n  background-color: #ff5722;\n  color: white;\n}\n\n.mat-chip.mat-standard-chip.mat-chip-selected.mat-warn .mat-chip-remove {\n  color: white;\n  opacity: 0.4;\n}\n\n.mat-chip.mat-standard-chip.mat-chip-selected.mat-warn .mat-ripple-element {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n\n.mat-chip.mat-standard-chip.mat-chip-selected.mat-accent {\n  background-color: #4e7991;\n  color: white;\n}\n\n.mat-chip.mat-standard-chip.mat-chip-selected.mat-accent .mat-chip-remove {\n  color: white;\n  opacity: 0.4;\n}\n\n.mat-chip.mat-standard-chip.mat-chip-selected.mat-accent .mat-ripple-element {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n\n.mat-table {\n  background: #424242;\n}\n\n.mat-table thead, .mat-table tbody, .mat-table tfoot,\nmat-header-row, mat-row, mat-footer-row,\n[mat-header-row], [mat-row], [mat-footer-row],\n.mat-table-sticky {\n  background: inherit;\n}\n\nmat-row, mat-header-row, mat-footer-row,\nth.mat-header-cell, td.mat-cell, td.mat-footer-cell {\n  border-bottom-color: rgba(255, 255, 255, 0.12);\n}\n\n.mat-header-cell {\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.mat-cell, .mat-footer-cell {\n  color: white;\n}\n\n.mat-calendar-arrow {\n  border-top-color: white;\n}\n\n.mat-datepicker-toggle,\n.mat-datepicker-content .mat-calendar-next-button,\n.mat-datepicker-content .mat-calendar-previous-button {\n  color: white;\n}\n\n.mat-calendar-table-header {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-calendar-table-header-divider::after {\n  background: rgba(255, 255, 255, 0.12);\n}\n\n.mat-calendar-body-label {\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.mat-calendar-body-cell-content,\n.mat-date-range-input-separator {\n  color: white;\n  border-color: transparent;\n}\n\n.mat-calendar-body-disabled > .mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical) {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-form-field-disabled .mat-date-range-input-separator {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-calendar-body-in-preview {\n  color: rgba(255, 255, 255, 0.24);\n}\n\n.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical) {\n  border-color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-calendar-body-disabled > .mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical) {\n  border-color: rgba(255, 255, 255, 0.3);\n}\n\n.mat-calendar-body-in-range::before {\n  background: rgba(255, 210, 0, 0.2);\n}\n\n.mat-calendar-body-comparison-identical,\n.mat-calendar-body-in-comparison-range::before {\n  background: rgba(249, 171, 0, 0.2);\n}\n\n.mat-calendar-body-comparison-bridge-start::before,\n[dir=rtl] .mat-calendar-body-comparison-bridge-end::before {\n  background: linear-gradient(to right, rgba(255, 210, 0, 0.2) 50%, rgba(249, 171, 0, 0.2) 50%);\n}\n\n.mat-calendar-body-comparison-bridge-end::before,\n[dir=rtl] .mat-calendar-body-comparison-bridge-start::before {\n  background: linear-gradient(to left, rgba(255, 210, 0, 0.2) 50%, rgba(249, 171, 0, 0.2) 50%);\n}\n\n.mat-calendar-body-in-range > .mat-calendar-body-comparison-identical,\n.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after {\n  background: #a8dab5;\n}\n\n.mat-calendar-body-comparison-identical.mat-calendar-body-selected,\n.mat-calendar-body-in-comparison-range > .mat-calendar-body-selected {\n  background: #46a35e;\n}\n\n.mat-calendar-body-selected {\n  background-color: #ffd200;\n  color: black;\n}\n\n.mat-calendar-body-disabled > .mat-calendar-body-selected {\n  background-color: rgba(255, 210, 0, 0.4);\n}\n\n.mat-calendar-body-today.mat-calendar-body-selected {\n  box-shadow: inset 0 0 0 1px black;\n}\n\n.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover > .mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),\n.cdk-keyboard-focused .mat-calendar-body-active > .mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),\n.cdk-program-focused .mat-calendar-body-active > .mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical) {\n  background-color: rgba(255, 210, 0, 0.3);\n}\n\n.mat-datepicker-content {\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n  background-color: #424242;\n  color: white;\n}\n\n.mat-datepicker-content.mat-accent .mat-calendar-body-in-range::before {\n  background: rgba(78, 121, 145, 0.2);\n}\n\n.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-identical,\n.mat-datepicker-content.mat-accent .mat-calendar-body-in-comparison-range::before {\n  background: rgba(249, 171, 0, 0.2);\n}\n\n.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-bridge-start::before,\n.mat-datepicker-content.mat-accent [dir=rtl] .mat-calendar-body-comparison-bridge-end::before {\n  background: linear-gradient(to right, rgba(78, 121, 145, 0.2) 50%, rgba(249, 171, 0, 0.2) 50%);\n}\n\n.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-bridge-end::before,\n.mat-datepicker-content.mat-accent [dir=rtl] .mat-calendar-body-comparison-bridge-start::before {\n  background: linear-gradient(to left, rgba(78, 121, 145, 0.2) 50%, rgba(249, 171, 0, 0.2) 50%);\n}\n\n.mat-datepicker-content.mat-accent .mat-calendar-body-in-range > .mat-calendar-body-comparison-identical,\n.mat-datepicker-content.mat-accent .mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after {\n  background: #a8dab5;\n}\n\n.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-identical.mat-calendar-body-selected,\n.mat-datepicker-content.mat-accent .mat-calendar-body-in-comparison-range > .mat-calendar-body-selected {\n  background: #46a35e;\n}\n\n.mat-datepicker-content.mat-accent .mat-calendar-body-selected {\n  background-color: #4e7991;\n  color: white;\n}\n\n.mat-datepicker-content.mat-accent .mat-calendar-body-disabled > .mat-calendar-body-selected {\n  background-color: rgba(78, 121, 145, 0.4);\n}\n\n.mat-datepicker-content.mat-accent .mat-calendar-body-today.mat-calendar-body-selected {\n  box-shadow: inset 0 0 0 1px white;\n}\n\n.mat-datepicker-content.mat-accent .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover > .mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),\n.mat-datepicker-content.mat-accent .cdk-keyboard-focused .mat-calendar-body-active > .mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),\n.mat-datepicker-content.mat-accent .cdk-program-focused .mat-calendar-body-active > .mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical) {\n  background-color: rgba(78, 121, 145, 0.3);\n}\n\n.mat-datepicker-content.mat-warn .mat-calendar-body-in-range::before {\n  background: rgba(255, 87, 34, 0.2);\n}\n\n.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-identical,\n.mat-datepicker-content.mat-warn .mat-calendar-body-in-comparison-range::before {\n  background: rgba(249, 171, 0, 0.2);\n}\n\n.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-bridge-start::before,\n.mat-datepicker-content.mat-warn [dir=rtl] .mat-calendar-body-comparison-bridge-end::before {\n  background: linear-gradient(to right, rgba(255, 87, 34, 0.2) 50%, rgba(249, 171, 0, 0.2) 50%);\n}\n\n.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-bridge-end::before,\n.mat-datepicker-content.mat-warn [dir=rtl] .mat-calendar-body-comparison-bridge-start::before {\n  background: linear-gradient(to left, rgba(255, 87, 34, 0.2) 50%, rgba(249, 171, 0, 0.2) 50%);\n}\n\n.mat-datepicker-content.mat-warn .mat-calendar-body-in-range > .mat-calendar-body-comparison-identical,\n.mat-datepicker-content.mat-warn .mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after {\n  background: #a8dab5;\n}\n\n.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-identical.mat-calendar-body-selected,\n.mat-datepicker-content.mat-warn .mat-calendar-body-in-comparison-range > .mat-calendar-body-selected {\n  background: #46a35e;\n}\n\n.mat-datepicker-content.mat-warn .mat-calendar-body-selected {\n  background-color: #ff5722;\n  color: white;\n}\n\n.mat-datepicker-content.mat-warn .mat-calendar-body-disabled > .mat-calendar-body-selected {\n  background-color: rgba(255, 87, 34, 0.4);\n}\n\n.mat-datepicker-content.mat-warn .mat-calendar-body-today.mat-calendar-body-selected {\n  box-shadow: inset 0 0 0 1px white;\n}\n\n.mat-datepicker-content.mat-warn .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover > .mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),\n.mat-datepicker-content.mat-warn .cdk-keyboard-focused .mat-calendar-body-active > .mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),\n.mat-datepicker-content.mat-warn .cdk-program-focused .mat-calendar-body-active > .mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical) {\n  background-color: rgba(255, 87, 34, 0.3);\n}\n\n.mat-datepicker-content-touch {\n  box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12);\n}\n\n.mat-datepicker-toggle-active {\n  color: #ffd200;\n}\n\n.mat-datepicker-toggle-active.mat-accent {\n  color: #4e7991;\n}\n\n.mat-datepicker-toggle-active.mat-warn {\n  color: #ff5722;\n}\n\n.mat-date-range-input-inner[disabled] {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-dialog-container {\n  box-shadow: 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);\n  background: #424242;\n  color: white;\n}\n\n.mat-divider {\n  border-top-color: rgba(255, 255, 255, 0.12);\n}\n\n.mat-divider-vertical {\n  border-right-color: rgba(255, 255, 255, 0.12);\n}\n\n.mat-expansion-panel {\n  background: #424242;\n  color: white;\n}\n\n.mat-expansion-panel:not([class*=mat-elevation-z]) {\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n}\n\n.mat-action-row {\n  border-top-color: rgba(255, 255, 255, 0.12);\n}\n\n.mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true]), .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true]), .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true]) {\n  background: rgba(255, 255, 255, 0.04);\n}\n\n@media (hover: none) {\n  .mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover {\n    background: #424242;\n  }\n}\n\n.mat-expansion-panel-header-title {\n  color: white;\n}\n\n.mat-expansion-panel-header-description,\n.mat-expansion-indicator::after {\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.mat-expansion-panel-header[aria-disabled=true] {\n  color: rgba(255, 255, 255, 0.3);\n}\n\n.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,\n.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description {\n  color: inherit;\n}\n\n.mat-expansion-panel-header {\n  height: 48px;\n}\n\n.mat-expansion-panel-header.mat-expanded {\n  height: 64px;\n}\n\n.mat-form-field-label {\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.mat-hint {\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.mat-form-field.mat-focused .mat-form-field-label {\n  color: #ffd200;\n}\n\n.mat-form-field.mat-focused .mat-form-field-label.mat-accent {\n  color: #4e7991;\n}\n\n.mat-form-field.mat-focused .mat-form-field-label.mat-warn {\n  color: #ff5722;\n}\n\n.mat-focused .mat-form-field-required-marker {\n  color: #4e7991;\n}\n\n.mat-form-field-ripple {\n  background-color: white;\n}\n\n.mat-form-field.mat-focused .mat-form-field-ripple {\n  background-color: #ffd200;\n}\n\n.mat-form-field.mat-focused .mat-form-field-ripple.mat-accent {\n  background-color: #4e7991;\n}\n\n.mat-form-field.mat-focused .mat-form-field-ripple.mat-warn {\n  background-color: #ff5722;\n}\n\n.mat-form-field-type-mat-native-select.mat-focused:not(.mat-form-field-invalid) .mat-form-field-infix::after {\n  color: #ffd200;\n}\n\n.mat-form-field-type-mat-native-select.mat-focused:not(.mat-form-field-invalid).mat-accent .mat-form-field-infix::after {\n  color: #4e7991;\n}\n\n.mat-form-field-type-mat-native-select.mat-focused:not(.mat-form-field-invalid).mat-warn .mat-form-field-infix::after {\n  color: #ff5722;\n}\n\n.mat-form-field.mat-form-field-invalid .mat-form-field-label {\n  color: #ff5722;\n}\n\n.mat-form-field.mat-form-field-invalid .mat-form-field-label.mat-accent,\n.mat-form-field.mat-form-field-invalid .mat-form-field-label .mat-form-field-required-marker {\n  color: #ff5722;\n}\n\n.mat-form-field.mat-form-field-invalid .mat-form-field-ripple,\n.mat-form-field.mat-form-field-invalid .mat-form-field-ripple.mat-accent {\n  background-color: #ff5722;\n}\n\n.mat-error {\n  color: #ff5722;\n}\n\n.mat-form-field-appearance-legacy .mat-form-field-label {\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.mat-form-field-appearance-legacy .mat-hint {\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.mat-form-field-appearance-legacy .mat-form-field-underline {\n  background-color: rgba(255, 255, 255, 0.7);\n}\n\n.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline {\n  background-image: linear-gradient(to right, rgba(255, 255, 255, 0.7) 0%, rgba(255, 255, 255, 0.7) 33%, transparent 0%);\n  background-size: 4px 100%;\n  background-repeat: repeat-x;\n}\n\n.mat-form-field-appearance-standard .mat-form-field-underline {\n  background-color: rgba(255, 255, 255, 0.7);\n}\n\n.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline {\n  background-image: linear-gradient(to right, rgba(255, 255, 255, 0.7) 0%, rgba(255, 255, 255, 0.7) 33%, transparent 0%);\n  background-size: 4px 100%;\n  background-repeat: repeat-x;\n}\n\n.mat-form-field-appearance-fill .mat-form-field-flex {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n\n.mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex {\n  background-color: rgba(255, 255, 255, 0.05);\n}\n\n.mat-form-field-appearance-fill .mat-form-field-underline::before {\n  background-color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-label {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-underline::before {\n  background-color: transparent;\n}\n\n.mat-form-field-appearance-outline .mat-form-field-outline {\n  color: rgba(255, 255, 255, 0.3);\n}\n\n.mat-form-field-appearance-outline .mat-form-field-outline-thick {\n  color: white;\n}\n\n.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick {\n  color: #ffd200;\n}\n\n.mat-form-field-appearance-outline.mat-focused.mat-accent .mat-form-field-outline-thick {\n  color: #4e7991;\n}\n\n.mat-form-field-appearance-outline.mat-focused.mat-warn .mat-form-field-outline-thick {\n  color: #ff5722;\n}\n\n.mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick {\n  color: #ff5722;\n}\n\n.mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-label {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline {\n  color: rgba(255, 255, 255, 0.15);\n}\n\n.mat-icon.mat-primary {\n  color: #ffd200;\n}\n\n.mat-icon.mat-accent {\n  color: #4e7991;\n}\n\n.mat-icon.mat-warn {\n  color: #ff5722;\n}\n\n.mat-form-field-type-mat-native-select .mat-form-field-infix::after {\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.mat-input-element:disabled,\n.mat-form-field-type-mat-native-select.mat-form-field-disabled .mat-form-field-infix::after {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-input-element {\n  caret-color: #ffd200;\n}\n\n.mat-input-element::-moz-placeholder {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-input-element:-ms-input-placeholder {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-input-element::placeholder {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-input-element::-moz-placeholder {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-input-element::-webkit-input-placeholder {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-input-element:-ms-input-placeholder {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-input-element option {\n  color: rgba(0, 0, 0, 0.87);\n}\n\n.mat-input-element option:disabled {\n  color: rgba(0, 0, 0, 0.38);\n}\n\n.mat-form-field.mat-accent .mat-input-element {\n  caret-color: #4e7991;\n}\n\n.mat-form-field.mat-warn .mat-input-element,\n.mat-form-field-invalid .mat-input-element {\n  caret-color: #ff5722;\n}\n\n.mat-form-field-type-mat-native-select.mat-form-field-invalid .mat-form-field-infix::after {\n  color: #ff5722;\n}\n\n.mat-list-base .mat-list-item {\n  color: white;\n}\n\n.mat-list-base .mat-list-option {\n  color: white;\n}\n\n.mat-list-base .mat-subheader {\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.mat-list-item-disabled {\n  background-color: black;\n}\n\n.mat-list-option:hover, .mat-list-option:focus,\n.mat-nav-list .mat-list-item:hover,\n.mat-nav-list .mat-list-item:focus,\n.mat-action-list .mat-list-item:hover,\n.mat-action-list .mat-list-item:focus {\n  background: rgba(255, 255, 255, 0.04);\n}\n\n.mat-list-single-selected-option, .mat-list-single-selected-option:hover, .mat-list-single-selected-option:focus {\n  background: rgba(255, 255, 255, 0.12);\n}\n\n.mat-menu-panel {\n  background: #424242;\n}\n\n.mat-menu-panel:not([class*=mat-elevation-z]) {\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n}\n\n.mat-menu-item {\n  background: transparent;\n  color: white;\n}\n\n.mat-menu-item[disabled], .mat-menu-item[disabled]::after,\n.mat-menu-item[disabled] .mat-icon-no-color {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-menu-item .mat-icon-no-color,\n.mat-menu-item-submenu-trigger::after {\n  color: white;\n}\n\n.mat-menu-item:hover:not([disabled]),\n.mat-menu-item.cdk-program-focused:not([disabled]),\n.mat-menu-item.cdk-keyboard-focused:not([disabled]),\n.mat-menu-item-highlighted:not([disabled]) {\n  background: rgba(255, 255, 255, 0.04);\n}\n\n.mat-paginator {\n  background: #424242;\n}\n\n.mat-paginator,\n.mat-paginator-page-size .mat-select-trigger {\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.mat-paginator-decrement,\n.mat-paginator-increment {\n  border-top: 2px solid white;\n  border-right: 2px solid white;\n}\n\n.mat-paginator-first,\n.mat-paginator-last {\n  border-top: 2px solid white;\n}\n\n.mat-icon-button[disabled] .mat-paginator-decrement,\n.mat-icon-button[disabled] .mat-paginator-increment,\n.mat-icon-button[disabled] .mat-paginator-first,\n.mat-icon-button[disabled] .mat-paginator-last {\n  border-color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-paginator-container {\n  min-height: 56px;\n}\n\n.mat-progress-bar-background {\n  fill: #fff2b3;\n}\n\n.mat-progress-bar-buffer {\n  background-color: #fff2b3;\n}\n\n.mat-progress-bar-fill::after {\n  background-color: #ffd200;\n}\n\n.mat-progress-bar.mat-accent .mat-progress-bar-background {\n  fill: #152f3d;\n}\n\n.mat-progress-bar.mat-accent .mat-progress-bar-buffer {\n  background-color: #152f3d;\n}\n\n.mat-progress-bar.mat-accent .mat-progress-bar-fill::after {\n  background-color: #4e7991;\n}\n\n.mat-progress-bar.mat-warn .mat-progress-bar-background {\n  fill: #ffccbc;\n}\n\n.mat-progress-bar.mat-warn .mat-progress-bar-buffer {\n  background-color: #ffccbc;\n}\n\n.mat-progress-bar.mat-warn .mat-progress-bar-fill::after {\n  background-color: #ff5722;\n}\n\n.mat-progress-spinner circle, .mat-spinner circle {\n  stroke: #ffd200;\n}\n\n.mat-progress-spinner.mat-accent circle, .mat-spinner.mat-accent circle {\n  stroke: #4e7991;\n}\n\n.mat-progress-spinner.mat-warn circle, .mat-spinner.mat-warn circle {\n  stroke: #ff5722;\n}\n\n.mat-radio-outer-circle {\n  border-color: rgba(255, 255, 255, 0.7);\n}\n\n.mat-radio-button.mat-primary.mat-radio-checked .mat-radio-outer-circle {\n  border-color: #ffd200;\n}\n\n.mat-radio-button.mat-primary .mat-radio-inner-circle,\n.mat-radio-button.mat-primary .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple), .mat-radio-button.mat-primary.mat-radio-checked .mat-radio-persistent-ripple, .mat-radio-button.mat-primary:active .mat-radio-persistent-ripple {\n  background-color: #ffd200;\n}\n\n.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle {\n  border-color: #4e7991;\n}\n\n.mat-radio-button.mat-accent .mat-radio-inner-circle,\n.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple), .mat-radio-button.mat-accent.mat-radio-checked .mat-radio-persistent-ripple, .mat-radio-button.mat-accent:active .mat-radio-persistent-ripple {\n  background-color: #4e7991;\n}\n\n.mat-radio-button.mat-warn.mat-radio-checked .mat-radio-outer-circle {\n  border-color: #ff5722;\n}\n\n.mat-radio-button.mat-warn .mat-radio-inner-circle,\n.mat-radio-button.mat-warn .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple), .mat-radio-button.mat-warn.mat-radio-checked .mat-radio-persistent-ripple, .mat-radio-button.mat-warn:active .mat-radio-persistent-ripple {\n  background-color: #ff5722;\n}\n\n.mat-radio-button.mat-radio-disabled.mat-radio-checked .mat-radio-outer-circle,\n.mat-radio-button.mat-radio-disabled .mat-radio-outer-circle {\n  border-color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-radio-button.mat-radio-disabled .mat-radio-ripple .mat-ripple-element,\n.mat-radio-button.mat-radio-disabled .mat-radio-inner-circle {\n  background-color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-radio-button.mat-radio-disabled .mat-radio-label-content {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-radio-button .mat-ripple-element {\n  background-color: white;\n}\n\n.mat-select-value {\n  color: white;\n}\n\n.mat-select-placeholder {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-select-disabled .mat-select-value {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-select-arrow {\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.mat-select-panel {\n  background: #424242;\n}\n\n.mat-select-panel:not([class*=mat-elevation-z]) {\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n}\n\n.mat-select-panel .mat-option.mat-selected:not(.mat-option-multiple) {\n  background: rgba(255, 255, 255, 0.12);\n}\n\n.mat-form-field.mat-focused.mat-primary .mat-select-arrow {\n  color: #ffd200;\n}\n\n.mat-form-field.mat-focused.mat-accent .mat-select-arrow {\n  color: #4e7991;\n}\n\n.mat-form-field.mat-focused.mat-warn .mat-select-arrow {\n  color: #ff5722;\n}\n\n.mat-form-field .mat-select.mat-select-invalid .mat-select-arrow {\n  color: #ff5722;\n}\n\n.mat-form-field .mat-select.mat-select-disabled .mat-select-arrow {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-drawer-container {\n  background-color: #333333;\n  color: white;\n}\n\n.mat-drawer {\n  background-color: #424242;\n  color: white;\n}\n\n.mat-drawer.mat-drawer-push {\n  background-color: #424242;\n}\n\n.mat-drawer:not(.mat-drawer-side) {\n  box-shadow: 0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);\n}\n\n.mat-drawer-side {\n  border-right: solid 1px rgba(255, 255, 255, 0.12);\n}\n\n.mat-drawer-side.mat-drawer-end {\n  border-left: solid 1px rgba(255, 255, 255, 0.12);\n  border-right: none;\n}\n\n[dir=rtl] .mat-drawer-side {\n  border-left: solid 1px rgba(255, 255, 255, 0.12);\n  border-right: none;\n}\n\n[dir=rtl] .mat-drawer-side.mat-drawer-end {\n  border-left: none;\n  border-right: solid 1px rgba(255, 255, 255, 0.12);\n}\n\n.mat-drawer-backdrop.mat-drawer-shown {\n  background-color: rgba(189, 189, 189, 0.6);\n}\n\n.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb {\n  background-color: #4e7991;\n}\n\n.mat-slide-toggle.mat-checked .mat-slide-toggle-bar {\n  background-color: rgba(78, 121, 145, 0.54);\n}\n\n.mat-slide-toggle.mat-checked .mat-ripple-element {\n  background-color: #4e7991;\n}\n\n.mat-slide-toggle.mat-primary.mat-checked .mat-slide-toggle-thumb {\n  background-color: #ffd200;\n}\n\n.mat-slide-toggle.mat-primary.mat-checked .mat-slide-toggle-bar {\n  background-color: rgba(255, 210, 0, 0.54);\n}\n\n.mat-slide-toggle.mat-primary.mat-checked .mat-ripple-element {\n  background-color: #ffd200;\n}\n\n.mat-slide-toggle.mat-warn.mat-checked .mat-slide-toggle-thumb {\n  background-color: #ff5722;\n}\n\n.mat-slide-toggle.mat-warn.mat-checked .mat-slide-toggle-bar {\n  background-color: rgba(255, 87, 34, 0.54);\n}\n\n.mat-slide-toggle.mat-warn.mat-checked .mat-ripple-element {\n  background-color: #ff5722;\n}\n\n.mat-slide-toggle:not(.mat-checked) .mat-ripple-element {\n  background-color: white;\n}\n\n.mat-slide-toggle-thumb {\n  box-shadow: 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n  background-color: #bdbdbd;\n}\n\n.mat-slide-toggle-bar {\n  background-color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-slider-track-background {\n  background-color: rgba(255, 255, 255, 0.3);\n}\n\n.mat-primary .mat-slider-track-fill,\n.mat-primary .mat-slider-thumb,\n.mat-primary .mat-slider-thumb-label {\n  background-color: #ffd200;\n}\n\n.mat-primary .mat-slider-thumb-label-text {\n  color: black;\n}\n\n.mat-primary .mat-slider-focus-ring {\n  background-color: rgba(255, 210, 0, 0.2);\n}\n\n.mat-accent .mat-slider-track-fill,\n.mat-accent .mat-slider-thumb,\n.mat-accent .mat-slider-thumb-label {\n  background-color: #4e7991;\n}\n\n.mat-accent .mat-slider-thumb-label-text {\n  color: white;\n}\n\n.mat-accent .mat-slider-focus-ring {\n  background-color: rgba(78, 121, 145, 0.2);\n}\n\n.mat-warn .mat-slider-track-fill,\n.mat-warn .mat-slider-thumb,\n.mat-warn .mat-slider-thumb-label {\n  background-color: #ff5722;\n}\n\n.mat-warn .mat-slider-thumb-label-text {\n  color: white;\n}\n\n.mat-warn .mat-slider-focus-ring {\n  background-color: rgba(255, 87, 34, 0.2);\n}\n\n.mat-slider:hover .mat-slider-track-background,\n.cdk-focused .mat-slider-track-background {\n  background-color: rgba(255, 255, 255, 0.3);\n}\n\n.mat-slider-disabled .mat-slider-track-background,\n.mat-slider-disabled .mat-slider-track-fill,\n.mat-slider-disabled .mat-slider-thumb {\n  background-color: rgba(255, 255, 255, 0.3);\n}\n\n.mat-slider-disabled:hover .mat-slider-track-background {\n  background-color: rgba(255, 255, 255, 0.3);\n}\n\n.mat-slider-min-value .mat-slider-focus-ring {\n  background-color: rgba(255, 255, 255, 0.12);\n}\n\n.mat-slider-min-value.mat-slider-thumb-label-showing .mat-slider-thumb,\n.mat-slider-min-value.mat-slider-thumb-label-showing .mat-slider-thumb-label {\n  background-color: white;\n}\n\n.mat-slider-min-value.mat-slider-thumb-label-showing.cdk-focused .mat-slider-thumb,\n.mat-slider-min-value.mat-slider-thumb-label-showing.cdk-focused .mat-slider-thumb-label {\n  background-color: rgba(255, 255, 255, 0.3);\n}\n\n.mat-slider-min-value:not(.mat-slider-thumb-label-showing) .mat-slider-thumb {\n  border-color: rgba(255, 255, 255, 0.3);\n  background-color: transparent;\n}\n\n.mat-slider-min-value:not(.mat-slider-thumb-label-showing):hover .mat-slider-thumb, .mat-slider-min-value:not(.mat-slider-thumb-label-showing).cdk-focused .mat-slider-thumb {\n  border-color: rgba(255, 255, 255, 0.3);\n}\n\n.mat-slider-min-value:not(.mat-slider-thumb-label-showing):hover.mat-slider-disabled .mat-slider-thumb, .mat-slider-min-value:not(.mat-slider-thumb-label-showing).cdk-focused.mat-slider-disabled .mat-slider-thumb {\n  border-color: rgba(255, 255, 255, 0.3);\n}\n\n.mat-slider-has-ticks .mat-slider-wrapper::after {\n  border-color: rgba(255, 255, 255, 0.7);\n}\n\n.mat-slider-horizontal .mat-slider-ticks {\n  background-image: repeating-linear-gradient(to right, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.7) 2px, transparent 0, transparent);\n  background-image: -moz-repeating-linear-gradient(0.0001deg, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.7) 2px, transparent 0, transparent);\n}\n\n.mat-slider-vertical .mat-slider-ticks {\n  background-image: repeating-linear-gradient(to bottom, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.7) 2px, transparent 0, transparent);\n}\n\n.mat-step-header.cdk-keyboard-focused, .mat-step-header.cdk-program-focused, .mat-step-header:hover {\n  background-color: rgba(255, 255, 255, 0.04);\n}\n\n@media (hover: none) {\n  .mat-step-header:hover {\n    background: none;\n  }\n}\n\n.mat-step-header .mat-step-label,\n.mat-step-header .mat-step-optional {\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.mat-step-header .mat-step-icon {\n  background-color: rgba(255, 255, 255, 0.7);\n  color: black;\n}\n\n.mat-step-header .mat-step-icon-selected,\n.mat-step-header .mat-step-icon-state-done,\n.mat-step-header .mat-step-icon-state-edit {\n  background-color: #ffd200;\n  color: black;\n}\n\n.mat-step-header.mat-accent .mat-step-icon {\n  color: white;\n}\n\n.mat-step-header.mat-accent .mat-step-icon-selected,\n.mat-step-header.mat-accent .mat-step-icon-state-done,\n.mat-step-header.mat-accent .mat-step-icon-state-edit {\n  background-color: #4e7991;\n  color: white;\n}\n\n.mat-step-header.mat-warn .mat-step-icon {\n  color: white;\n}\n\n.mat-step-header.mat-warn .mat-step-icon-selected,\n.mat-step-header.mat-warn .mat-step-icon-state-done,\n.mat-step-header.mat-warn .mat-step-icon-state-edit {\n  background-color: #ff5722;\n  color: white;\n}\n\n.mat-step-header .mat-step-icon-state-error {\n  background-color: transparent;\n  color: #ff5722;\n}\n\n.mat-step-header .mat-step-label.mat-step-label-active {\n  color: white;\n}\n\n.mat-step-header .mat-step-label.mat-step-label-error {\n  color: #ff5722;\n}\n\n.mat-stepper-horizontal, .mat-stepper-vertical {\n  background-color: #424242;\n}\n\n.mat-stepper-vertical-line::before {\n  border-left-color: rgba(255, 255, 255, 0.12);\n}\n\n.mat-horizontal-stepper-header::before,\n.mat-horizontal-stepper-header::after,\n.mat-stepper-horizontal-line {\n  border-top-color: rgba(255, 255, 255, 0.12);\n}\n\n.mat-horizontal-stepper-header {\n  height: 72px;\n}\n\n.mat-stepper-label-position-bottom .mat-horizontal-stepper-header,\n.mat-vertical-stepper-header {\n  padding: 24px 24px;\n}\n\n.mat-stepper-vertical-line::before {\n  top: -16px;\n  bottom: -16px;\n}\n\n.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after, .mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before {\n  top: 36px;\n}\n\n.mat-stepper-label-position-bottom .mat-stepper-horizontal-line {\n  top: 36px;\n}\n\n.mat-sort-header-arrow {\n  color: #c6c6c6;\n}\n\n.mat-tab-nav-bar,\n.mat-tab-header {\n  border-bottom: 1px solid rgba(255, 255, 255, 0.12);\n}\n\n.mat-tab-group-inverted-header .mat-tab-nav-bar,\n.mat-tab-group-inverted-header .mat-tab-header {\n  border-top: 1px solid rgba(255, 255, 255, 0.12);\n  border-bottom: none;\n}\n\n.mat-tab-label, .mat-tab-link {\n  color: white;\n}\n\n.mat-tab-label.mat-tab-disabled, .mat-tab-link.mat-tab-disabled {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-tab-header-pagination-chevron {\n  border-color: white;\n}\n\n.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron {\n  border-color: rgba(255, 255, 255, 0.5);\n}\n\n.mat-tab-group[class*=mat-background-] .mat-tab-header,\n.mat-tab-nav-bar[class*=mat-background-] {\n  border-bottom: none;\n  border-top: none;\n}\n\n.mat-tab-group.mat-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled), .mat-tab-group.mat-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),\n.mat-tab-group.mat-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),\n.mat-tab-group.mat-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled), .mat-tab-nav-bar.mat-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled), .mat-tab-nav-bar.mat-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),\n.mat-tab-nav-bar.mat-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),\n.mat-tab-nav-bar.mat-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled) {\n  background-color: rgba(255, 242, 179, 0.3);\n}\n\n.mat-tab-group.mat-primary .mat-ink-bar, .mat-tab-nav-bar.mat-primary .mat-ink-bar {\n  background-color: #ffd200;\n}\n\n.mat-tab-group.mat-primary.mat-background-primary > .mat-tab-header .mat-ink-bar, .mat-tab-group.mat-primary.mat-background-primary > .mat-tab-link-container .mat-ink-bar, .mat-tab-nav-bar.mat-primary.mat-background-primary > .mat-tab-header .mat-ink-bar, .mat-tab-nav-bar.mat-primary.mat-background-primary > .mat-tab-link-container .mat-ink-bar {\n  background-color: black;\n}\n\n.mat-tab-group.mat-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled), .mat-tab-group.mat-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),\n.mat-tab-group.mat-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),\n.mat-tab-group.mat-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled), .mat-tab-nav-bar.mat-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled), .mat-tab-nav-bar.mat-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),\n.mat-tab-nav-bar.mat-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),\n.mat-tab-nav-bar.mat-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled) {\n  background-color: rgba(21, 47, 61, 0.3);\n}\n\n.mat-tab-group.mat-accent .mat-ink-bar, .mat-tab-nav-bar.mat-accent .mat-ink-bar {\n  background-color: #4e7991;\n}\n\n.mat-tab-group.mat-accent.mat-background-accent > .mat-tab-header .mat-ink-bar, .mat-tab-group.mat-accent.mat-background-accent > .mat-tab-link-container .mat-ink-bar, .mat-tab-nav-bar.mat-accent.mat-background-accent > .mat-tab-header .mat-ink-bar, .mat-tab-nav-bar.mat-accent.mat-background-accent > .mat-tab-link-container .mat-ink-bar {\n  background-color: white;\n}\n\n.mat-tab-group.mat-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled), .mat-tab-group.mat-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),\n.mat-tab-group.mat-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),\n.mat-tab-group.mat-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled), .mat-tab-nav-bar.mat-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled), .mat-tab-nav-bar.mat-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),\n.mat-tab-nav-bar.mat-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),\n.mat-tab-nav-bar.mat-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled) {\n  background-color: rgba(255, 204, 188, 0.3);\n}\n\n.mat-tab-group.mat-warn .mat-ink-bar, .mat-tab-nav-bar.mat-warn .mat-ink-bar {\n  background-color: #ff5722;\n}\n\n.mat-tab-group.mat-warn.mat-background-warn > .mat-tab-header .mat-ink-bar, .mat-tab-group.mat-warn.mat-background-warn > .mat-tab-link-container .mat-ink-bar, .mat-tab-nav-bar.mat-warn.mat-background-warn > .mat-tab-header .mat-ink-bar, .mat-tab-nav-bar.mat-warn.mat-background-warn > .mat-tab-link-container .mat-ink-bar {\n  background-color: white;\n}\n\n.mat-tab-group.mat-background-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled), .mat-tab-group.mat-background-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),\n.mat-tab-group.mat-background-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),\n.mat-tab-group.mat-background-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled), .mat-tab-nav-bar.mat-background-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled), .mat-tab-nav-bar.mat-background-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),\n.mat-tab-nav-bar.mat-background-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),\n.mat-tab-nav-bar.mat-background-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled) {\n  background-color: rgba(255, 242, 179, 0.3);\n}\n\n.mat-tab-group.mat-background-primary > .mat-tab-header, .mat-tab-group.mat-background-primary > .mat-tab-link-container, .mat-tab-group.mat-background-primary > .mat-tab-header-pagination, .mat-tab-nav-bar.mat-background-primary > .mat-tab-header, .mat-tab-nav-bar.mat-background-primary > .mat-tab-link-container, .mat-tab-nav-bar.mat-background-primary > .mat-tab-header-pagination {\n  background-color: #ffd200;\n}\n\n.mat-tab-group.mat-background-primary > .mat-tab-header .mat-tab-label, .mat-tab-group.mat-background-primary > .mat-tab-link-container .mat-tab-link, .mat-tab-nav-bar.mat-background-primary > .mat-tab-header .mat-tab-label, .mat-tab-nav-bar.mat-background-primary > .mat-tab-link-container .mat-tab-link {\n  color: black;\n}\n\n.mat-tab-group.mat-background-primary > .mat-tab-header .mat-tab-label.mat-tab-disabled, .mat-tab-group.mat-background-primary > .mat-tab-link-container .mat-tab-link.mat-tab-disabled, .mat-tab-nav-bar.mat-background-primary > .mat-tab-header .mat-tab-label.mat-tab-disabled, .mat-tab-nav-bar.mat-background-primary > .mat-tab-link-container .mat-tab-link.mat-tab-disabled {\n  color: rgba(0, 0, 0, 0.4);\n}\n\n.mat-tab-group.mat-background-primary > .mat-tab-header-pagination .mat-tab-header-pagination-chevron,\n.mat-tab-group.mat-background-primary > .mat-tab-links .mat-focus-indicator::before,\n.mat-tab-group.mat-background-primary > .mat-tab-header .mat-focus-indicator::before, .mat-tab-nav-bar.mat-background-primary > .mat-tab-header-pagination .mat-tab-header-pagination-chevron,\n.mat-tab-nav-bar.mat-background-primary > .mat-tab-links .mat-focus-indicator::before,\n.mat-tab-nav-bar.mat-background-primary > .mat-tab-header .mat-focus-indicator::before {\n  border-color: black;\n}\n\n.mat-tab-group.mat-background-primary > .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron, .mat-tab-nav-bar.mat-background-primary > .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron {\n  border-color: rgba(0, 0, 0, 0.4);\n}\n\n.mat-tab-group.mat-background-primary > .mat-tab-header .mat-ripple-element,\n.mat-tab-group.mat-background-primary > .mat-tab-link-container .mat-ripple-element, .mat-tab-nav-bar.mat-background-primary > .mat-tab-header .mat-ripple-element,\n.mat-tab-nav-bar.mat-background-primary > .mat-tab-link-container .mat-ripple-element {\n  background-color: rgba(0, 0, 0, 0.12);\n}\n\n.mat-tab-group.mat-background-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled), .mat-tab-group.mat-background-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),\n.mat-tab-group.mat-background-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),\n.mat-tab-group.mat-background-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled), .mat-tab-nav-bar.mat-background-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled), .mat-tab-nav-bar.mat-background-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),\n.mat-tab-nav-bar.mat-background-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),\n.mat-tab-nav-bar.mat-background-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled) {\n  background-color: rgba(21, 47, 61, 0.3);\n}\n\n.mat-tab-group.mat-background-accent > .mat-tab-header, .mat-tab-group.mat-background-accent > .mat-tab-link-container, .mat-tab-group.mat-background-accent > .mat-tab-header-pagination, .mat-tab-nav-bar.mat-background-accent > .mat-tab-header, .mat-tab-nav-bar.mat-background-accent > .mat-tab-link-container, .mat-tab-nav-bar.mat-background-accent > .mat-tab-header-pagination {\n  background-color: #4e7991;\n}\n\n.mat-tab-group.mat-background-accent > .mat-tab-header .mat-tab-label, .mat-tab-group.mat-background-accent > .mat-tab-link-container .mat-tab-link, .mat-tab-nav-bar.mat-background-accent > .mat-tab-header .mat-tab-label, .mat-tab-nav-bar.mat-background-accent > .mat-tab-link-container .mat-tab-link {\n  color: white;\n}\n\n.mat-tab-group.mat-background-accent > .mat-tab-header .mat-tab-label.mat-tab-disabled, .mat-tab-group.mat-background-accent > .mat-tab-link-container .mat-tab-link.mat-tab-disabled, .mat-tab-nav-bar.mat-background-accent > .mat-tab-header .mat-tab-label.mat-tab-disabled, .mat-tab-nav-bar.mat-background-accent > .mat-tab-link-container .mat-tab-link.mat-tab-disabled {\n  color: rgba(255, 255, 255, 0.4);\n}\n\n.mat-tab-group.mat-background-accent > .mat-tab-header-pagination .mat-tab-header-pagination-chevron,\n.mat-tab-group.mat-background-accent > .mat-tab-links .mat-focus-indicator::before,\n.mat-tab-group.mat-background-accent > .mat-tab-header .mat-focus-indicator::before, .mat-tab-nav-bar.mat-background-accent > .mat-tab-header-pagination .mat-tab-header-pagination-chevron,\n.mat-tab-nav-bar.mat-background-accent > .mat-tab-links .mat-focus-indicator::before,\n.mat-tab-nav-bar.mat-background-accent > .mat-tab-header .mat-focus-indicator::before {\n  border-color: white;\n}\n\n.mat-tab-group.mat-background-accent > .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron, .mat-tab-nav-bar.mat-background-accent > .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron {\n  border-color: rgba(255, 255, 255, 0.4);\n}\n\n.mat-tab-group.mat-background-accent > .mat-tab-header .mat-ripple-element,\n.mat-tab-group.mat-background-accent > .mat-tab-link-container .mat-ripple-element, .mat-tab-nav-bar.mat-background-accent > .mat-tab-header .mat-ripple-element,\n.mat-tab-nav-bar.mat-background-accent > .mat-tab-link-container .mat-ripple-element {\n  background-color: rgba(255, 255, 255, 0.12);\n}\n\n.mat-tab-group.mat-background-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled), .mat-tab-group.mat-background-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),\n.mat-tab-group.mat-background-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),\n.mat-tab-group.mat-background-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled), .mat-tab-nav-bar.mat-background-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled), .mat-tab-nav-bar.mat-background-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),\n.mat-tab-nav-bar.mat-background-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),\n.mat-tab-nav-bar.mat-background-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled) {\n  background-color: rgba(255, 204, 188, 0.3);\n}\n\n.mat-tab-group.mat-background-warn > .mat-tab-header, .mat-tab-group.mat-background-warn > .mat-tab-link-container, .mat-tab-group.mat-background-warn > .mat-tab-header-pagination, .mat-tab-nav-bar.mat-background-warn > .mat-tab-header, .mat-tab-nav-bar.mat-background-warn > .mat-tab-link-container, .mat-tab-nav-bar.mat-background-warn > .mat-tab-header-pagination {\n  background-color: #ff5722;\n}\n\n.mat-tab-group.mat-background-warn > .mat-tab-header .mat-tab-label, .mat-tab-group.mat-background-warn > .mat-tab-link-container .mat-tab-link, .mat-tab-nav-bar.mat-background-warn > .mat-tab-header .mat-tab-label, .mat-tab-nav-bar.mat-background-warn > .mat-tab-link-container .mat-tab-link {\n  color: white;\n}\n\n.mat-tab-group.mat-background-warn > .mat-tab-header .mat-tab-label.mat-tab-disabled, .mat-tab-group.mat-background-warn > .mat-tab-link-container .mat-tab-link.mat-tab-disabled, .mat-tab-nav-bar.mat-background-warn > .mat-tab-header .mat-tab-label.mat-tab-disabled, .mat-tab-nav-bar.mat-background-warn > .mat-tab-link-container .mat-tab-link.mat-tab-disabled {\n  color: rgba(255, 255, 255, 0.4);\n}\n\n.mat-tab-group.mat-background-warn > .mat-tab-header-pagination .mat-tab-header-pagination-chevron,\n.mat-tab-group.mat-background-warn > .mat-tab-links .mat-focus-indicator::before,\n.mat-tab-group.mat-background-warn > .mat-tab-header .mat-focus-indicator::before, .mat-tab-nav-bar.mat-background-warn > .mat-tab-header-pagination .mat-tab-header-pagination-chevron,\n.mat-tab-nav-bar.mat-background-warn > .mat-tab-links .mat-focus-indicator::before,\n.mat-tab-nav-bar.mat-background-warn > .mat-tab-header .mat-focus-indicator::before {\n  border-color: white;\n}\n\n.mat-tab-group.mat-background-warn > .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron, .mat-tab-nav-bar.mat-background-warn > .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron {\n  border-color: rgba(255, 255, 255, 0.4);\n}\n\n.mat-tab-group.mat-background-warn > .mat-tab-header .mat-ripple-element,\n.mat-tab-group.mat-background-warn > .mat-tab-link-container .mat-ripple-element, .mat-tab-nav-bar.mat-background-warn > .mat-tab-header .mat-ripple-element,\n.mat-tab-nav-bar.mat-background-warn > .mat-tab-link-container .mat-ripple-element {\n  background-color: rgba(255, 255, 255, 0.12);\n}\n\n.mat-toolbar {\n  background: #212121;\n  color: white;\n}\n\n.mat-toolbar.mat-primary {\n  background: #ffd200;\n  color: black;\n}\n\n.mat-toolbar.mat-accent {\n  background: #4e7991;\n  color: white;\n}\n\n.mat-toolbar.mat-warn {\n  background: #ff5722;\n  color: white;\n}\n\n.mat-toolbar .mat-form-field-underline,\n.mat-toolbar .mat-form-field-ripple,\n.mat-toolbar .mat-focused .mat-form-field-ripple {\n  background-color: currentColor;\n}\n\n.mat-toolbar .mat-form-field-label,\n.mat-toolbar .mat-focused .mat-form-field-label,\n.mat-toolbar .mat-select-value,\n.mat-toolbar .mat-select-arrow,\n.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow {\n  color: inherit;\n}\n\n.mat-toolbar .mat-input-element {\n  caret-color: currentColor;\n}\n\n.mat-toolbar-multiple-rows {\n  min-height: 64px;\n}\n\n.mat-toolbar-row, .mat-toolbar-single-row {\n  height: 64px;\n}\n\n@media (max-width: 599px) {\n  .mat-toolbar-multiple-rows {\n    min-height: 56px;\n  }\n\n  .mat-toolbar-row, .mat-toolbar-single-row {\n    height: 56px;\n  }\n}\n\n.mat-tooltip {\n  background: rgba(97, 97, 97, 0.9);\n}\n\n.mat-tree {\n  background: #424242;\n}\n\n.mat-tree-node,\n.mat-nested-tree-node {\n  color: white;\n}\n\n.mat-tree-node {\n  min-height: 48px;\n}\n\n.mat-snack-bar-container {\n  color: rgba(0, 0, 0, 0.87);\n  background: #fafafa;\n  box-shadow: 0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);\n}\n\n.mat-simple-snackbar-action {\n  color: inherit;\n}\n\n.zm-viewer-component-wrapper {\n  height: 100%;\n  width: 100%;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.zm-viewer-component-wrapper zebra-viewer-viewports-manager {\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  --viewers-layout: \"v1\";\n  overflow: hidden;\n}\n\n.zm-viewer-dialog-lg {\n  padding: 0;\n  width: 600px;\n  transform: translateX(-300px);\n}\n\n.zm-viewer-dialog-lg .mat-dialog-container {\n  padding: 0;\n  margin: 0;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n}\n\n.zm-viewer-dialog-md {\n  padding: 0;\n  width: 400px;\n  transform: translateX(-200px);\n}\n\n.zm-viewer-dialog-md .mat-dialog-container {\n  padding: 0;\n  margin: 0;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n}\n\n.zm-viewer-dialog-sm {\n  padding: 0;\n  width: 240px;\n  transform: translateX(-120px);\n}\n\n.zm-viewer-dialog-sm .mat-dialog-container {\n  padding: 0;\n  margin: 0;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n}\n\nzebra-viewer-active-tag-bar:not(.hidden) + zebra-viewer-image-viewer zebra-viewer-metadata-overlay .overlay-container #topleft,\nzebra-viewer-active-tag-bar:not(.hidden) + zebra-viewer-image-viewer zebra-viewer-metadata-overlay .overlay-container #topright {\n  top: 40px;\n}\n\n.cdk-overlay-backdrop {\n  display: none;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Njc3MvY29tbW9uLnNjc3MiLCIuLi8uLi8uLi8uLi8uLi9lZGl0b3IuY29tcG9uZW50LnNjc3MiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvbWF0ZXJpYWwvX3RoZW1pbmcuc2NzcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Njc3MvX21peGlucy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usc0JBQUE7QUNDRjs7QURFQTtFQUNFLGFBQUE7QUNDRjs7QURDQTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtBQ0VGOztBREFBO0VBQ0UsT0FBQTtBQ0dGOztBRERBO0VBQ0UsOEJBQUE7QUNJRjs7QURGQTtFQUNFLG1CQUFBO0FDS0Y7O0FERkE7RUFDRSxxQkFBQTtBQ0tGOztBREhBO0VBQ0Usc0JBQUE7QUNNRjs7QURKQTtFQUNFLG9CQUFBO0FDT0Y7O0FESkE7RUFDRSxXQUFBO0FDT0Y7O0FESkEsa0JBQUE7O0FBQ0E7RUFDRSxTQUFBO0VBQ0EsVUFBQTtFQUNBLDZCQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7QUNPRjs7QURKQTtFQUNFLHFCQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0Esb0JBQUE7RUFDQSxrQkFBQTtBQ09GOztBRERFO0VBQ0MsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNJSDs7QURSRTtFQUNDLGVBQUE7RUFDQSxpQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FDVUg7O0FEZEU7RUFDQyxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQ2dCSDs7QURwQkU7RUFDQyxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQ3NCSDs7QUQxQkU7RUFDQyxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQzRCSDs7QURoQ0U7RUFDQyxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQ2tDSDs7QUR0Q0U7RUFDQyxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQ3dDSDs7QURwQ0M7RUFFQyxZQUFBO0FDcUNGOztBQzR0REEsbUNBQUE7O0FBK0lBLHlEQUFBOztBQW9iQSx5REFBQTs7QUFtd0RBLDJDQUFBOztBQTZDQSxxQkFBQTs7QUF4K0NFO0VBQ0UsZ0JBdkxvQjtFQXdMcEIsZUF6TGtCO0VBMExsQixpREFBQTtBRC9sRko7O0FDa21GRTtFQUVFLGNBQUE7QURobUZKOztBQ21tRkU7RUFDRSxlQUFBO0FEaG1GSjs7QUM4d0VFO0VBL1ZFLHdEQUFBO0VBWUYsc0JBQUE7RUFxVkUsZ0JBQUE7QUQxd0VKOztBQzZ3RUU7RUFwV0Usd0RBQUE7RUFZRixzQkFBQTtFQTBWRSxnQkFBQTtBRHp3RUo7O0FDNHdFRTtFQXpXRSx3REFBQTtFQVlGLHNCQUFBO0VBK1ZFLGdCQUFBO0FEeHdFSjs7QUMyd0VFO0VBOVdFLHdEQUFBO0VBWUYsc0JBQUE7RUFvV0UsZ0JBQUE7QUR2d0VKOztBQzZ3RUU7RUF0WEUscUVBQUE7RUErWEEsZ0JBQUE7QURqeEVKOztBQ294RUU7RUFsWUUscUVBQUE7RUEyWUEsZ0JBQUE7QUR4eEVKOztBQzJ4RUU7RUE5WUUsd0RBQUE7RUFZRixzQkFBQTtBRHA1REY7O0FDMHhFRTtFQWxaRSx3REFBQTtFQVlGLHNCQUFBO0FELzRERjs7QUN3eEVJO0VBQ0UsZ0JBQUE7QUR0eEVOOztBQzB4RUU7RUExWkUsd0RBQUE7RUFZRixzQkFBQTtBRHY0REY7O0FDeXhFRTtFQTlaRSwwREFBQTtFQVlGLHVCQUFBO0VBb1pFLGdCQUFBO0FEcnhFSjs7QUN3eEVFO0VBbmFFLHdEQUFBO0VBWUYsdUJBQUE7RUF5WkUsZ0JBQUE7QURweEVKOztBQ3V4RUU7RUF4YUUsd0RBQUE7RUFZRix3QkFBQTtFQThaRSxnQkFBQTtBRG54RUo7O0FDc3hFRTtFQTdhRSx3REFBQTtFQVlGLHNCQUFBO0VBbWFFLGdCQUFBO0FEbHhFSjs7QUNna0ZFO0VBN3RCRSx3REFBQTtFQVlGLHNCQUFBO0FEMTJERjs7QUN5dkZFOztFQUdJLGlEQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FEdnZGTjs7QUN1M0ZFO0VBQ0UsaURBQUE7QURwM0ZKOztBQ283RkU7RUFDRSxpREFBQTtBRGo3Rko7O0FDbzdGRTtFQUVJLGVBQUE7RUFDQSxnQkFBQTtBRGw3Rk47O0FDczdGRTtFQUNFLGVBQUE7QURuN0ZKOztBQ3M3RkU7O0VBRUUsZUFBQTtBRG43Rko7O0FDK2lHRTtFQUNFLGlEQUFBO0FENWlHSjs7QUNnakdFO0VBQ0UsaUJBQUE7QUQ3aUdKOztBQ2dxR0U7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7QUQ3cEdKOztBQytwR0k7O0VBRUUsZUEzRnNCO0FEbGtHNUI7O0FDb3dHRTtFQUNFLGlEQUFBO0FEandHSjs7QUNvd0dFO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0FEandHSjs7QUNvd0dFO0VBQ0UsZUFBQTtBRGp3R0o7O0FDZzlHRTtFQUNFLGlEQUFBO0FENzhHSjs7QUNnOUdFO0VBQ0UsZUFqTDBCO0FENXhHOUI7O0FDZzlHRTs7RUFHSSxlQUFBO0VBQ0EsZ0JBQUE7QUQ5OEdOOztBQ2s5R0U7RUFFSSxlQTdMaUM7RUE4TGpDLGdCQUFBO0FEaDlHTjs7QUNraUhFO0VBbHhERSx3REFBQTtFQVlGLHNCQUFBO0FEdnhERjs7QUN5cEhFO0VBRUksaURBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7QUR2cEhOOztBQzJwSEU7RUF0NURFLHdEQUFBO0VBWUYsc0JBQUE7QUQ1d0RGOztBQzQwTUU7RUFybEpFLGtCQWVVO0VBZFYsZ0JBZVk7RUFkWixrQkFlWTtFQWRaLGlEQWVZO0VBR2Qsc0JBQUE7QURwd0RGOztBQ3cwTUU7RUFDRSx5QkFQdUI7QUQ5ek0zQjs7QUMyME1JOztFQUNFLGVBdkIyQjtFQXdCM0Isa0JBamxKVTtBRHR2RGhCOztBQzIwTUk7O0VBQ0UsYUFBQTtFQUNBLFlBQUE7QUR4ME1OOztBQzAwTU07O0VBQ0UsZUFBQTtFQUNBLGtCQTNsSlE7QUQ1dURoQjs7QUM0ME1FO0VBQ0UsZ0JBQUE7RUFFQSx1Q0FBQTtBRDEwTUo7O0FDODBNSTs7RUF0RUYsNkNBQUE7RUFFQSxzQkFBQTtBRHB3TUY7O0FDZzFNSTtFQTlFRiw2Q0FBQTtFQUVBLHNCQUFBO0FEaHdNRjs7QUNtMU1FO0VBQ0UsZUFBQTtFQUNBLHNCQW5FaUI7QUQ3d01yQjs7QUNtMU1FO0VBQ0UsY0FBQTtBRGgxTUo7O0FDbTFNRTtFQUdFLGlCQWhFdUI7QURseE0zQjs7QUNxMU1FO0VBQ0UsY0EvRW9CO0VBZ0ZwQiwwQkF6RXFCO0VBNkVyQixnQ0FBQTtBRHIxTUo7O0FDdTBMSTtFQUNFLHNCQUpxQjtBRGgwTDNCOztBQ3UwTEk7RUFDRSxtQkFBQTtBRHIwTE47O0FDeTBMTTs7RUExREosb0ZBQUE7RUFJQSxpREFBQTtFQUdBLHNCQUFBO0FEaHhMRjs7QUMwMExNO0VBakVKLHNGQUFBO0VBSUEsaURBQUE7RUFHQSxzQkFBQTtBRDN3TEY7O0FDNjBMTTtFQXpFSixzRkFBQTtFQUlBLGlEQUFBO0VBR0Esc0JBQUE7QUR0d0xGOztBQyswTEk7RUFDRSxjQUFBO0FENzBMTjs7QUNnMUxJO0VBR0UsY0F6Q3FCO0FEdnlMM0I7O0FDbTFMSTtFQUNFLDBCQWpEbUI7RUFxRG5CLGdDQUFBO0FEcDFMTjs7QUMwMUxFO0VBR007O0lBeEZOLDZDQUFBO0VEL3ZMQTtFQzgxTE07SUEvRk4sNkNBQUE7RUQ1dkxBO0VDbTJMTTtJQXZHTiw0Q0FBQTtFRHp2TEE7QUFDRjs7QUN1b0xJO0VBQ0UsMEJBQUE7QURyb0xOOztBQ3dvTEk7RUFDRSxjQUFBO0VBQ0Esa0JBVDJCO0FEN25MakM7O0FDMG9MTTs7RUFqQ0osNkNBQUE7RUFFQSxzQkFBQTtBRHRtTEY7O0FDOG9MTTtFQTFDSiw2Q0FBQTtFQUVBLHNCQUFBO0FEbG1MRjs7QUNzOUxJO0VBQ0Usb0JBQUE7QURuOUxOOztBQ3M5TEk7RUFDRSxjQUFBO0VBQ0EsbUJBVDhCO0FEMzhMcEM7O0FDdzlMTTs7RUF4Q0osNkNBQUE7RUFFQSxzQkFBQTtBRDc2TEY7O0FDNDlMTTtFQWpESiw2Q0FBQTtFQUVBLHNCQUFBO0FEejZMRjs7QUMrbUhFOztFQUdFLGVBQUE7QUQ3bUhKOztBQzRqSEU7O0VBUkEsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0VBUUUsY0FBQTtFQUNBLHNCQUFBO0FEdmpISjs7QUMwakhJOztFQUNFLGVBeUNxQjtBRGhtSDNCOztBQ216SEU7RUFDRSxxQkFBQTtBRGh6SEo7O0FDMitIRTtFQUVJLGlEQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FEeitITjs7QUM0aklFOztFQUdJLGlEQUFBO0VBQ0EsZUFBQTtBRDFqSU47O0FDNnhJRTtFQUNFLGlEQUFBO0FEMXhJSjs7QUN5M0lFO0VBQ0UsaURBQUE7QUR0M0lKOztBQ3kzSUU7RUFDRSxlQUFBO0FEdDNJSjs7QUM2akpFO0VBQ0UsaURBQUE7QUQxakpKOztBQzJ2SkU7RUFFSSxpREFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBRHp2Sk47O0FDNDVKRTtFQUNFLGlEQUFBO0FEejVKSjs7QUM0NUpFO0VBRUksZUFBQTtFQUNBLGdCQUFBO0FEMTVKTjs7QUM4NUpFO0VBQ0UsbUJBQUE7QUQzNUpKOztBQzg1SkU7RUFDRSxlQUFBO0FEMzVKSjs7QUM4NUpFO0VBRUksZUFBQTtFQUNBLGdCQUFBO0FENTVKTjs7QUNvcEtFO0VBQ0UsaURBQUE7QURqcEtKOztBQ29wS0U7RUFFSSxpREFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBRGxwS047O0FDK3dLRTs7Ozs7OztFQW52SEUsd0RBQUE7RUFZRixzQkFBQTtFQSt1SEUsU0FBQTtBRDN3S0o7O0FDODBLRTtFQUNFLGlEQUFBO0VBQ0EsZUFyQm9CO0VBc0JwQixnQkFyQjJCO0VBc0IzQixtQkF0QjJCO0FEcnpLL0I7O0FDODBLRTtFQUNFLGVBdkI0QjtFQXdCNUIsZ0JBdEJBO0VBdUJBLG1CQXZCQTtBRHB6S0o7O0FDOHhIRTtFQUNFLGlEQUhZO0FEeHhIaEI7O0FDOHhIRTtFQUNFLGlEQVBZO0FEcHhIaEI7O0FDZ3lISTtFQUNFLGVBQUE7QUQ3eEhOOztBQ3E4R0U7RUFSQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsdUJBQUE7RUFRRSxjQUFBO0VBQ0Esc0JBQUE7QURqOEdKOztBQ284R0k7RUFDRSxlQWtWdUI7QURweEg3Qjs7QUN1eEhJO0VBQ0UsZUFBQTtBRHJ4SE47O0FDdzdHRTtFQVJBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSx1QkFBQTtFQVFFLGNBQUE7RUFDQSxzQkFBQTtBRHA3R0o7O0FDdTdHSTtFQUNFLGVBdVZ1QjtBRDV3SDdCOztBQyt3SEk7RUFDRSxpREFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBRDd3SE47O0FDbXhISTtFQUNFLGVBQUE7QURoeEhOOztBQ3E2R0U7RUFSQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsdUJBQUE7RUFRRSxjQUFBO0VBQ0Esc0JBQUE7QURqNkdKOztBQ282R0k7RUFDRSxlQXFXdUI7QUR2d0g3Qjs7QUMwd0hJO0VBQ0UsZUFBQTtBRHh3SE47O0FDdzVHRTtFQVJBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSx1QkFBQTtFQVFFLGNBQUE7RUFDQSxzQkFBQTtBRHA1R0o7O0FDdTVHSTtFQUNFLGVBMFd1QjtBRC92SDdCOztBQ2t3SEk7RUFDRSxpREFqMkVZO0VBazJFWixlQUFBO0VBQ0EsZ0JBQUE7QURod0hOOztBQ3kvQ0U7RUFFSSxpREFBQTtFQUNBLGVBQUE7QUR2L0NOOztBQ29pREU7RUE5R0Usd0RBQUE7RUFZRixzQkFBQTtBRDc3Q0Y7O0FDNnlLRTtFQUVJLGlEQUFBO0VBQ0EsZUFBQTtBRDN5S047O0FDK3lLRTtFQUNFLGNBQUE7RUFFRSxvQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7QUQ3eUtOOztBQ2lvTUU7RUFDRSxpREFBQTtBRDluTUo7O0FDaW9NRTs7RUFFRSxnQkFBQTtFQUNBLGVBQUE7QUQ5bk1KOztBQ2lwQ0U7RUFDRSxnQkFBQTtFQUlBLGtCQUFBO0FEanBDSjs7QUN3cENJO0VBQ0Usd0JBQUE7QUR0cENOOztBQzBwQ0U7RUFDRSxpQkFBQTtBRHZwQ0o7O0FDMHBDRTtFQUNFLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxvQkFBQTtFQUVBLDZEQUFBO0VBQ0EsbUJBQUE7QUR4cENKOztBQ25mSTtFQStvREUsYUFBQTtBRHpwQ047O0FDamhCRTtFQUNFLFNBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxVQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0VBR0EsVUFBQTtFQUdBLHdCQUFBO0VBQ0EscUJBQUE7QURnaEJKOztBQy9wQkU7RUFFRSxvQkFBQTtFQUdBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7QUQrcEJKOztBQzNwQkU7RUFDRSxlQUFBO0VBQ0EsYUEzQjRCO0FEeXJCaEM7O0FDNXBCSTtFQUdFLGFBQUE7QUQ0cEJOOztBQ3BwQkU7RUFDRSxhQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQTFDa0I7QURpc0J0Qjs7QUNucEJFO0VBR0Usa0JBQUE7RUFDQSxvQkFBQTtFQUNBLHNCQUFBO0VBQ0EsYUFwRGtCO0VBd0RsQixhQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FEaXBCSjs7QUM5b0JFO0VBRUUsa0JBQUE7RUFDQSxNQUFBO0VBQ0EsU0FBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBRUEsYUFwRTJCO0VBcUUzQixvQkFBQTtFQUNBLHdDQUFBO0VBQ0EsMERBQUE7RUFDQSxVQUFBO0FEK29CSjs7QUM3b0JJO0VBQ0UsVUFBQTtBRCtvQk47O0FDMW9CTTtFQUdFLFlBQUE7QUQwb0JSOztBQ3JvQkU7RUFDRSwrQkF0Rm1DO0FEOHRCdkM7O0FDaG9CSTtFQUNFLFVBQUE7QURtb0JOOztBQzduQkU7RUFDRSxrQkFBQTtFQUNBLGFBM0drQjtFQWdIbEIsYUFBQTtFQUlBLHNCQUFBO0VBR0EsY0FBQTtFQUNBLGVBQUE7QUR1bkJKOztBQ25uQkU7RUFDRSxlQUFBO0VBS0EsV0FBQTtFQUtBLGtCQUFBO0FEOG1CSjs7QUNuaEJFO0VBQTBDLElBQUE7QUR1aEI1Qzs7QUN2aEJFO0VBQTBDLElBQUE7QUR1aEI1Qzs7QUN0aEJFO0VBQXdDLElBQUE7QUR5aEIxQzs7QUN6aEJFO0VBQXdDLElBQUE7QUR5aEIxQzs7QUN2aEJFO0VBRUUsdURBQUE7VUFBQSwrQ0FBQTtBRHdoQko7O0FDcmhCRTtFQUVFLHFEQUFBO1VBQUEsNkNBQUE7QUR1aEJKOztBQ2xoQkU7RUFDRSxZQUFBO0FEcWhCSjs7QUMvZ0JFO0VBcUJBLHlCQUFBO0VBQ0Esa0NBQUE7RUFwQkUsdUJBQUE7RUFDQSwyQkFBQTtBRG1oQko7O0FDMWdCRTtFQVNBLHlCQUFBO0VBQ0Esa0NBQUE7RUFSRSxvQkFBQTtBRDhnQko7O0FDMHNDRTtFQUNFLGtCQUFBO0FEdnNDSjs7QUMrb01FO0VBQ0Usa0JBQUE7QUQ1b01KOztBQ3FpQ0U7RUFJSSwwQ0FBQTtBRHJpQ047O0FDeXhDRTtFQUNFLFlBQUE7QUR0eENKOztBQ3d4Q0k7RUFFRSxxQ0FBQTtBRHZ4Q047O0FDMnhDSTtFQUNFLHFDQUFBO0FEenhDTjs7QUM0eENJO0VBQ0UscUNBQUE7RUFDQSxZQUFBO0FEMXhDTjs7QUM2eENJO0VBQ0UsK0JBQUE7QUQzeENOOztBQyt4Q0U7RUFDRSxjQUFBO0FENXhDSjs7QUMreENFO0VBQ0UsY0FBQTtBRDV4Q0o7O0FDK3hDRTtFQUNFLGNBQUE7QUQ1eENKOztBQ3UwQ0U7RUFDRSwrQkFBQTtBRHAwQ0o7O0FDdTBDRTtFQUNFLCtCQUFBO0FEcDBDSjs7QUNzM0NFO0VBQ0UsK0JBQUE7QURuM0NKOztBQ3EzQ0k7RUFDRSxjQUFBO0FEbjNDTjs7QUN1M0NFO0VBQ0UsY0FaZTtBRHgyQ25COztBQ3UzQ0U7O0VBRUUsbUJBQUE7QURwM0NKOztBQzQzQ0U7Ozs7RUFJRSxtQkFBQTtBRHozQ0o7O0FDNDNDRTs7RUFFRSxtQkFBQTtBRHozQ0o7O0FDODNDSTs7RUFDRSxtQkF4Q2E7QURsMUNuQjs7QUM0Z01FO0VBSUUseUJBQUE7RUFDQSxZQUFBO0FENWdNSjs7QUNtaE1JO0VBeDRNRix3SEFBQTtBRHlYRjs7QUMrZ01JO0VBeDRNRix5SEFBQTtBRDZYRjs7QUMyZ01JO0VBeDRNRix5SEFBQTtBRGlZRjs7QUN1Z01JO0VBeDRNRix5SEFBQTtBRHFZRjs7QUNtZ01JO0VBeDRNRiwwSEFBQTtBRHlZRjs7QUMrL0xJO0VBeDRNRiwwSEFBQTtBRDZZRjs7QUMyL0xJO0VBeDRNRiwySEFBQTtBRGlaRjs7QUN1L0xJO0VBeDRNRiwySEFBQTtBRHFaRjs7QUNtL0xJO0VBeDRNRiwySEFBQTtBRHlaRjs7QUMrK0xJO0VBeDRNRiwySEFBQTtBRDZaRjs7QUMyK0xJO0VBeDRNRiw0SEFBQTtBRGlhRjs7QUN1K0xJO0VBeDRNRiw0SEFBQTtBRHFhRjs7QUNtK0xJO0VBeDRNRiw0SEFBQTtBRHlhRjs7QUMrOUxJO0VBeDRNRiw0SEFBQTtBRDZhRjs7QUMyOUxJO0VBeDRNRiw0SEFBQTtBRGliRjs7QUN1OUxJO0VBeDRNRiw0SEFBQTtBRHFiRjs7QUNtOUxJO0VBeDRNRiw2SEFBQTtBRHliRjs7QUMrOExJO0VBeDRNRiw2SEFBQTtBRDZiRjs7QUMyOExJO0VBeDRNRiw2SEFBQTtBRGljRjs7QUN1OExJO0VBeDRNRiw2SEFBQTtBRHFjRjs7QUNtOExJO0VBeDRNRiw4SEFBQTtBRHljRjs7QUMrN0xJO0VBeDRNRiw4SEFBQTtBRDZjRjs7QUMyN0xJO0VBeDRNRiw4SEFBQTtBRGlkRjs7QUN1N0xJO0VBeDRNRiw4SEFBQTtBRHFkRjs7QUNtN0xJO0VBeDRNRiw4SEFBQTtBRHlkRjs7QUNzN0xJO0VBQ0UsYUFBQTtBRG43TE47O0FDeWdERTtFQUVFLG1CQUFBO0VBQ0EsWUFBQTtBRHZnREo7O0FDdmRFO0VBWEEsMEhBQUE7QURxZUY7O0FDMmdESTtFQUNFLG1CQUFBO0FEemdETjs7QUMyZ0RNO0VBQ0UsWUFBQTtBRHpnRFI7O0FDdW9ERTtFQUNFLFlBQUE7RUFDQSxtQkFBQTtBRHBvREo7O0FDL3pCSTtFQXM4RUUsa0JBQUE7RUFDQSxnQkFBQTtBRHBvRE47O0FDeW9ESTtFQUNFLG1CQUFBO0VBQ0EsWUFBQTtBRHRvRE47O0FDMm9ESTtFQUNFLFlBQUE7RUFDQSxtQkFBQTtBRHhvRE47O0FDNG9ERTtFQUNFLGtCQUFBO0FEem9ESjs7QUM2b0RJO0VBQ0UsYUFBQTtBRDFvRE47O0FDK29ESTtFQVdJLG1CQUFBO0VBTUYsK0JBQUE7QUQzcEROOztBQytwREU7RUFDRSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EscUJBQUE7RUFDQSxrQkFBQTtFQUNBLHVDQUFBO0VBQ0EscUJBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxvQkFBQTtBRDVwREo7O0FDK3BERTs7RUFFRSxnQkFBQTtBRDVwREo7O0FDaXFERTtFQUVFLGVBQUE7QUQvcERKOztBQ2dnREU7RUFDRSxXQU5tQjtFQU9uQixZQVBtQjtFQVFuQixpQkFSbUI7QURyL0N2Qjs7QUNpZ0RJO0VBQ0UsU0FBQTtBRC8vQ047O0FDb2dESTtFQUNFLFlBQUE7QURsZ0ROOztBQ3VnREk7RUFDRSxXQUFBO0FEcmdETjs7QUMwZ0RJO0VBQ0UsVUFBQTtFQUNBLFlBQUE7QUR4Z0ROOztBQzZnREk7RUFDRSxZQUFBO0FEM2dETjs7QUNnaERJO0VBQ0UsV0FBQTtFQUNBLFdBQUE7QUQ5Z0ROOztBQ29oRE07RUFDRSxVQUFBO0FEbGhEUjs7QUN1aERNO0VBQ0UsVUFBQTtFQUNBLFdBQUE7QURyaERSOztBQzBoRE07RUFDRSxXQUFBO0FEeGhEUjs7QUM2aERNO0VBQ0UsV0FBQTtFQUNBLFVBQUE7QUQzaERSOztBQ3c5Q0U7RUFDRSxXQVBxQjtFQVFyQixZQVJxQjtFQVNyQixpQkFUcUI7QUQ1OEN6Qjs7QUN5OUNJO0VBQ0UsVUFBQTtBRHY5Q047O0FDNDlDSTtFQUNFLGFBQUE7QUQxOUNOOztBQys5Q0k7RUFDRSxXQUFBO0FENzlDTjs7QUNrK0NJO0VBQ0UsVUFBQTtFQUNBLFlBQUE7QURoK0NOOztBQ3ErQ0k7RUFDRSxZQUFBO0FEbitDTjs7QUN3K0NJO0VBQ0UsV0FBQTtFQUNBLFdBQUE7QUR0K0NOOztBQzQrQ007RUFDRSxXQUFBO0FEMStDUjs7QUMrK0NNO0VBQ0UsVUFBQTtFQUNBLFlBQUE7QUQ3K0NSOztBQ2svQ007RUFDRSxZQUFBO0FEaC9DUjs7QUNxL0NNO0VBQ0UsV0FBQTtFQUNBLFdBQUE7QURuL0NSOztBQ2c3Q0U7RUFDRSxXQUxtQjtFQU1uQixZQU5tQjtFQU9uQixpQkFQbUI7QUR0NkN2Qjs7QUNpN0NJO0VBQ0UsVUFBQTtBRC82Q047O0FDbzdDSTtFQUNFLGFBQUE7QURsN0NOOztBQ3U3Q0k7RUFDRSxXQUFBO0FEcjdDTjs7QUMwN0NJO0VBQ0UsVUFBQTtFQUNBLFlBQUE7QUR4N0NOOztBQzY3Q0k7RUFDRSxZQUFBO0FEMzdDTjs7QUNnOENJO0VBQ0UsV0FBQTtFQUNBLFdBQUE7QUQ5N0NOOztBQ284Q007RUFDRSxXQUFBO0FEbDhDUjs7QUN1OENNO0VBQ0UsVUFBQTtFQUNBLFlBQUE7QURyOENSOztBQzA4Q007RUFDRSxZQUFBO0FEeDhDUjs7QUM2OENNO0VBQ0UsV0FBQTtFQUNBLFdBQUE7QUQzOENSOztBQ3NtREU7RUEvdkVBLDZIQUFBO0VBaXdFRSxtQkFBQTtFQUNBLFlBQUE7QURubURKOztBQ2d1REU7RUFLRSxjQUFBO0VBQ0EsdUJBQUE7QURqdURKOztBQ2lzREU7RUFDRSxjQUFBO0FEL3JESjs7QUNpc0RFO0VBQ0UsY0FBQTtBRC9yREo7O0FDaXNERTtFQUNFLGNBQUE7QUQvckRKOztBQ21zREk7RUFFRSwrQkFBQTtBRGxzRE47O0FDK25ERTtFQUNFLHlCQUFBO0FEN25ESjs7QUNnb0RFO0VBQ0UseUJBQUE7QUQ5bkRKOztBQ2lvREU7RUFDRSx5QkFBQTtBRC9uREo7O0FDa29ERTtFQUNFLDZCQUFBO0FEaG9ESjs7QUNpdERJO0VBQ0UsWUF4R3VCO0VBeUd2Qiw4QkFBQTtBRC9zRE47O0FDbXRERTtFQUNFLGlCQUFBO0FEaHRESjs7QUNxdERFO0VBQ0UsdUNBQUE7QURsdERKOztBQ3F0REU7RUFFRSxZQUFBO0VBQ0EseUJBQUE7QURudERKOztBQ3dwREU7RUFDRSxZQUFBO0FEdHBESjs7QUN3cERFO0VBQ0UsWUFBQTtBRHRwREo7O0FDd3BERTtFQUNFLFlBQUE7QUR0cERKOztBQzBwREk7RUFFRSwrQkFBQTtBRHpwRE47O0FDNG9ERTtFQUNFLHlCQUFBO0FEMW9ESjs7QUM0b0RFO0VBQ0UseUJBQUE7QUQxb0RKOztBQzRvREU7RUFDRSx5QkFBQTtBRDFvREo7O0FDOG9ESTtFQUVFLDJDQUFBO0FEN29ETjs7QUMybURFO0VBWEEsb0NBRG1CO0FENWxEckI7O0FDNG1ERTtFQWZBLDBDQURtQjtBRHpsRHJCOztBQzZtREU7RUFuQkEsMENBRG1CO0FEdGxEckI7O0FDbnVCRTtFQVhBLHdIQUFBO0FEa3ZCRjs7QUN2dUJFO0VBWEEseUhBQUE7QURzdkJGOztBQzN1QkU7RUFYQSwySEFBQTtBRHl2QkY7O0FDOXVCRTtFQVhBLHdIQUFBO0FENHZCRjs7QUNqdkJFO0VBWEEsMkhBQUE7QURnd0JGOztBQ3J2QkU7RUFYQSw0SEFBQTtBRG13QkY7O0FDeHZCRTtFQVhBLHdIQUFBO0FEc3dCRjs7QUMydkRFOztFQWpnRkEseUhBQUE7QUQyd0JGOztBQzJ2REU7O0VBRUUsZ0JBQUE7QUR4dkRKOztBQzJ2REU7RUFDRSwrQkFBQTtBRHh2REo7O0FDMHZESTtFQUNFLDJDQUFBO0FEeHZETjs7QUM0dkRFO0VBQ0UsWUFBQTtFQUNBLG1CQUFBO0FEenZESjs7QUMydkRJO0VBQ0UsdUJBQUE7QUR6dkROOztBQzZ2REU7RUFDRSxnREFBQTtBRDF2REo7O0FDNnZERTtFQUNFLGlCQUFBO0VBQ0EsaURBQUE7QUQxdkRKOztBQzh2REk7RUFDRSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsK0NBQUE7QUQzdkROOztBQyt2REU7RUFDRSx5QkFBQTtFQUNBLCtCQUFBO0FENXZESjs7QUM4dkRJO0VBQ0UsWUFBQTtBRDV2RE47O0FDZ3dERTtFQUNFLCtCQUFBO0VBQ0EsdUJBQUE7QUQ3dkRKOztBQyt2REk7RUFDRSxtQkFBQTtBRDd2RE47O0FDZ3dESTtFQUNFLHlCQUFBO0FEOXZETjs7QUNrd0RFOztFQUVFLDJDQUFBO0FEL3ZESjs7QUNneERJO0VBQ0UsaUJBTGM7QUR4d0RwQjs7QUNnekRFO0VBRUUsbUJBQUE7RUFDQSxZQUFBO0FEOXlESjs7QUNwMEJFO0VBWEEseUhBQUE7QURrMUJGOztBQ3YwQkU7RUFYQSx3SEFBQTtBRHExQkY7O0FDZ3pERTtFQUNFLCtCQUFBO0FEN3lESjs7QUNxM0RFO0VBQ0Usc0NBQUE7QURsM0RKOztBQ3EzREU7RUFDRSxhQWRvQjtBRHAyRHhCOztBQ3EzREU7RUFHRSwwQkFBQTtBRHAzREo7O0FDdTNERTtFQUNFLHlCQXhCb0I7QUQ1MUR4Qjs7QUN3M0RJO0VBQ0UseUJBQUE7QURyM0ROOztBQ3czREk7RUFDRSx5QkFBQTtBRHQzRE47O0FDeTNESTtFQUNFLHlCQUFBO0FEdjNETjs7QUM4M0RNO0VBQ0UseUJBdENXO0FEcjFEbkI7O0FDZzRETTtFQUNFLHFCQTVDVztBRGwxRG5COztBQ2s0REk7RUFDRSwrQkFBQTtBRGg0RE47O0FDczRERTtFQUNFLHVCQUFBO0FEbjRESjs7QUN3NERJOztFQUNFLG1CQUFBO0FEcDRETjs7QUN1NERJOztFQUNFLG1CQUFBO0FEcDRETjs7QUN1NERJOztFQUNFLG1CQUFBO0FEcDRETjs7QUM2OURFO0VBM0NBLHlCQXdDd0I7RUF2Q3hCLFlBd0N3QjtBRHQ5RDFCOztBQ2c3REU7RUFDRSxZQXFDc0I7RUFwQ3RCLFlBQUE7QUQ5NkRKOztBQ3c5RE07RUEvMkZKLHlIQUFBO0FEMDVCRjs7QUN5OURNO0VBQ0UsYUFBQTtBRHY5RFI7O0FDMjlESTtFQUNFLFlBQUE7QUR6OUROOztBQzQ5REk7RUFDRSxpQkFBQTtBRDE5RE47O0FDKzlESTtFQWxFRix5QkF3QndFO0VBdkJ4RSxZQXVCaUM7QURoN0RuQzs7QUMyNURFO0VBQ0UsWUFvQitCO0VBbkIvQixZQUFBO0FEejVESjs7QUM4NkRFO0VBVEEsb0NBRG1CO0FEajZEckI7O0FDdTlESTtFQXRFRix5QkF3QndFO0VBdkJ4RSxZQXVCaUM7QURyNkRuQzs7QUNnNURFO0VBQ0UsWUFvQitCO0VBbkIvQixZQUFBO0FEOTRESjs7QUNtNkRFO0VBVEEsMENBRG1CO0FEdDVEckI7O0FDZzlESTtFQTFFRix5QkF3QndFO0VBdkJ4RSxZQXVCaUM7QUQxNURuQzs7QUNxNERFO0VBQ0UsWUFvQitCO0VBbkIvQixZQUFBO0FEbjRESjs7QUN3NURFO0VBVEEsMENBRG1CO0FEMzREckI7O0FDK2hFRTtFQUNFLG1CQUFBO0FENWhFSjs7QUMraEVFOzs7O0VBSUUsbUJBQUE7QUQ1aEVKOztBQytoRUU7O0VBRUUsOENBQUE7QUQ1aEVKOztBQytoRUU7RUFDRSwrQkFBQTtBRDVoRUo7O0FDK2hFRTtFQUNFLFlBQUE7QUQ1aEVKOztBQ3FvRUU7RUFDRSx1QkFBQTtBRGxvRUo7O0FDdW9FRTs7O0VBR0UsWUFBQTtBRHBvRUo7O0FDdW9FRTtFQUNFLCtCQUFBO0FEcG9FSjs7QUN1b0VFO0VBQ0UscUNBQUE7QURwb0VKOztBQ3VvRUU7RUFDRSwrQkFBQTtBRHBvRUo7O0FDdW9FRTs7RUFFRSxZQUFBO0VBQ0EseUJBQUE7QURwb0VKOztBQzhsRUU7RUEyQ0ksK0JBbENhO0FEbm1FbkI7O0FDeW9FRTtFQUNFLCtCQXZDZTtBRC9sRW5COztBQ3lvRUU7RUFPSSxnQ0FBQTtBRDVvRU47O0FDa2xFRTtFQXFFSSxzQ0FBQTtBRG5wRU47O0FDOGtFRTtFQThFTSxzQ0FBQTtBRHhwRVI7O0FDeXVFRTtFQUNFLGtDQXRNQTtBRGhpRUo7O0FDeXVFRTs7RUFFRSxrQ0FWaUI7QUQ1dEVyQjs7QUN5dUVFOztFQUVFLDZGQUFBO0FEdHVFSjs7QUN5dUVFOztFQUVFLDRGQUFBO0FEdHVFSjs7QUN5dUVFOztFQUVFLG1CQXhCYztBRDlzRWxCOztBQ3l1RUU7O0VBRUUsbUJBNUJ1QjtBRDFzRTNCOztBQ3lnRUU7RUFDRSx5QkFBQTtFQUNBLFlBQUE7QUR0Z0VKOztBQ3lnRUU7RUFJSSx3Q0FBQTtBRHpnRU47O0FDa2hFRTtFQUNFLGlDQUFBO0FEL2dFSjs7QUNnaUVFOzs7RUFSTSx3Q0FBQTtBRGxoRVI7O0FDc25FRTtFQW5yR0EsMEhBQUE7RUFxckdFLHlCQUFBO0VBQ0EsWUFBQTtBRG5uRUo7O0FDbXJFRTtFQUNFLG1DQXRNQTtBRDMrREo7O0FDb3JFRTs7RUFFRSxrQ0FWaUI7QUR4cUVyQjs7QUNxckVFOztFQUVFLDhGQUFBO0FEbnJFSjs7QUNzckVFOztFQUVFLDZGQUFBO0FEcHJFSjs7QUN1ckVFOztFQUVFLG1CQXhCYztBRDdwRWxCOztBQ3dyRUU7O0VBRUUsbUJBNUJ1QjtBRDFwRTNCOztBQ3k5REU7RUFDRSx5QkFBQTtFQUNBLFlBQUE7QUR2OURKOztBQzA5REU7RUFJSSx5Q0FBQTtBRDM5RE47O0FDbytERTtFQUNFLGlDQUFBO0FEbCtESjs7QUNtL0RFOzs7RUFSTSx5Q0FBQTtBRHQrRFI7O0FDNm9FRTtFQUNFLGtDQXRNQTtBRHI4REo7O0FDOG9FRTs7RUFFRSxrQ0FWaUI7QURsb0VyQjs7QUMrb0VFOztFQUVFLDZGQUFBO0FEN29FSjs7QUNncEVFOztFQUVFLDRGQUFBO0FEOW9FSjs7QUNpcEVFOztFQUVFLG1CQXhCYztBRHZuRWxCOztBQ2twRUU7O0VBRUUsbUJBNUJ1QjtBRHBuRTNCOztBQ203REU7RUFDRSx5QkFBQTtFQUNBLFlBQUE7QURqN0RKOztBQ283REU7RUFJSSx3Q0FBQTtBRHI3RE47O0FDODdERTtFQUNFLGlDQUFBO0FENTdESjs7QUM2OERFOzs7RUFSTSx3Q0FBQTtBRGg4RFI7O0FDa2pFRTtFQWpzR0Esd0hBQUE7QURtcENGOztBQ2tqRUU7RUFDRSxjQUFBO0FEL2lFSjs7QUNpakVJO0VBQ0UsY0FBQTtBRC9pRU47O0FDa2pFSTtFQUNFLGNBQUE7QURoakVOOztBQ29qRUU7RUFDRSwrQkFBQTtBRGpqRUo7O0FDbXBFRTtFQXB6R0EsOEhBQUE7RUFzekdFLG1CQUFBO0VBQ0EsWUFBQTtBRGhwRUo7O0FDb3hERTtFQUNFLDJDQUFBO0FEanhESjs7QUNveERFO0VBQ0UsNkNBQUE7QURqeERKOztBQzh0RUU7RUFFRSxtQkFBQTtFQUNBLFlBQUE7QUQ1dEVKOztBQ3pxQ0U7RUFYQSx5SEFBQTtBRHVyQ0Y7O0FDNHRFRTtFQUNFLDJDQUFBO0FEenRFSjs7QUNxc0VNO0VBd0JGLHFDQUFBO0FEenRFSjs7QUM4dEVFO0VBQ0U7SUFFRSxtQkFBQTtFRDV0RUo7QUFDRjs7QUMrdEVFO0VBQ0UsWUFBQTtBRDd0RUo7O0FDZ3VFRTs7RUFFRSwrQkFBQTtBRDd0RUo7O0FDZ3VFRTtFQUNFLCtCQUFBO0FEN3RFSjs7QUMrdEVJOztFQUVFLGNBQUE7QUQ3dEVOOztBQ3l2RUk7RUFDRSxZQUxlO0FEanZFckI7O0FDd3ZFTTtFQUNFLFlBVlk7QUQ1dUVwQjs7QUMyeEpFO0VBQ0UsK0JBWFk7QUQ3d0poQjs7QUMyeEpFO0VBQ0UsK0JBZlk7QUR6d0poQjs7QUMyeEpFO0VBQ0UsY0FsQm9CO0FEdHdKeEI7O0FDMHhKSTtFQUNFLGNBaEJxQjtBRHh3SjNCOztBQzJ4Skk7RUFDRSxjQW5CbUI7QUR0d0p6Qjs7QUM2eEpFO0VBQ0UsY0E3QnFCO0FEN3ZKekI7O0FDNnhKRTtFQUNFLHVCQTlCcUI7QUQ1dkp6Qjs7QUM4eEpJO0VBQ0UseUJBaENzQjtBRDN2SjVCOztBQzZ4Sk07RUFDRSx5QkFyQ21CO0FEdHZKM0I7O0FDOHhKTTtFQUNFLHlCQXhDaUI7QURwdkp6Qjs7QUNreUpJO0VBQ0UsY0E5Q3NCO0FEanZKNUI7O0FDa3lKSTtFQUNFLGNBcERxQjtBRDV1SjNCOztBQ215Skk7RUFDRSxjQXZEbUI7QUQxdUp6Qjs7QUN5eUpJO0VBQ0UsY0FoRW1CO0FEdHVKekI7O0FDd3lKTTs7RUFFRSxjQXBFaUI7QURsdUp6Qjs7QUMweUpJOztFQUVFLHlCQTFFbUI7QUQ5dEp6Qjs7QUM0eUpFO0VBQ0UsY0EvRXFCO0FEMXRKekI7O0FDdTBJSTtFQUNFLCtCQUxVO0FEL3pJaEI7O0FDdTBJSTtFQUNFLCtCQVRVO0FENXpJaEI7O0FDdzBJSTtFQUNFLDBDQVpjO0FEMXpJcEI7O0FDeTBJSTtFQWovREYsc0hBQUE7RUFDQSx5QkFBQTtFQUNBLDJCQUFBO0FEcjFFRjs7QUN1cEpJO0VBQ0UsMENBSmM7QURocEpwQjs7QUN1cEpJO0VBeDBFRixzSEFBQTtFQUNBLHlCQUFBO0VBQ0EsMkJBQUE7QUQ1MEVGOztBQ3FySUk7RUFDRSwwQ0FQYztBRDNxSXBCOztBQ3FySUk7RUFDRSwyQ0FWdUI7QUR6cUk3Qjs7QUNzcklJO0VBQ0UsMENBYmM7QUR2cUlwQjs7QUN3cklNO0VBQ0UsK0JBakJpQjtBRHJxSXpCOztBQ3lySU07RUFDRSw2QkFBQTtBRHZySVI7O0FDNCtJSTtFQUNFLCtCQVRZO0FEaCtJbEI7O0FDNCtJSTtFQUNFLFlBWmtCO0FEOTlJeEI7O0FDOCtJTTtFQUNFLGNBaEJrQjtBRDU5STFCOztBQysrSU07RUFDRSxjQW5CaUI7QUQxOUl6Qjs7QUNnL0lNO0VBQ0UsY0F0QmU7QUR4OUl2Qjs7QUNvL0lNO0VBQ0UsY0E3QmU7QURyOUl2Qjs7QUN1L0lNO0VBQ0UsK0JBeENpQjtBRDc4SXpCOztBQ3cvSU07RUFDRSxnQ0F0Q21CO0FEaDlJM0I7O0FDbXZFSTtFQUNFLGNBQUE7QURodkVOOztBQ212RUk7RUFDRSxjQUFBO0FEanZFTjs7QUNvdkVJO0VBQ0UsY0FBQTtBRGx2RU47O0FDODFFRTtFQUNFLCtCQUFBO0FEMzFFSjs7QUM4MUVFOztFQUVFLCtCQUFBO0FEMzFFSjs7QUM4MUVFO0VBQ0Usb0JBQUE7QUQzMUVKOztBQ2t5RUU7RUE0REksK0JBQUE7QUQzMUVOOztBQyt4RUU7RUE0REksK0JBQUE7QUQzMUVOOztBQyt4RUU7RUE0REksK0JBQUE7QUQzMUVOOztBQ215RUU7RUF3REksK0JBQUE7QUR4MUVOOztBQ295RUU7RUFvREksK0JBQUE7QURyMUVOOztBQ3F5RUU7RUFnREksK0JBQUE7QURsMUVOOztBQzIxRU07RUFDRSwwQkE5bUhZO0FEcXhDcEI7O0FDNDFFTTtFQUNFLDBCQWhuSGE7QURzeENyQjs7QUMrMUVFO0VBQ0Usb0JBQUE7QUQ1MUVKOztBQysxRUU7O0VBRUUsb0JBQUE7QUQ1MUVKOztBQysxRUU7RUFDRSxjQUFBO0FENTFFSjs7QUNpNUVJO0VBQ0UsWUFBQTtBRDk0RU47O0FDaTVFSTtFQUNFLFlBQUE7QUQvNEVOOztBQ2s1RUk7RUFDRSwrQkFBQTtBRGg1RU47O0FDbzVFRTtFQUNFLHVCQUFBO0FEajVFSjs7QUN1NUVJOzs7OztFQUNFLHFDQUFBO0FEaDVFTjs7QUNxNUVJO0VBQ0UscUNBQUE7QURsNUVOOztBQzArRUU7RUFFRSxtQkFBQTtBRHgrRUo7O0FDcDZDRTtFQVhBLDBIQUFBO0FEazdDRjs7QUN3K0VFO0VBQ0UsdUJBQUE7RUFDQSxZQUFBO0FEcitFSjs7QUN3K0VNOztFQUdFLCtCQUFBO0FEditFUjs7QUM0K0VFOztFQUVFLFlBQUE7QUR6K0VKOztBQ2cvRUk7Ozs7RUFDRSxxQ0FBQTtBRDErRU47O0FDd2lGRTtFQUNFLG1CQUFBO0FEcmlGSjs7QUN3aUZFOztFQUVFLCtCQUFBO0FEcmlGSjs7QUN3aUZFOztFQUVFLDJCQUFBO0VBQ0EsNkJBQUE7QURyaUZKOztBQ3dpRkU7O0VBRUUsMkJBQUE7QURyaUZKOztBQ3lpRkk7Ozs7RUFJRSxzQ0FBQTtBRHRpRk47O0FDMmpGSTtFQUNFLGdCQUpLO0FEcGpGWDs7QUN5bEZFO0VBQ0UsYUFBQTtBRHRsRko7O0FDeWxGRTtFQUNFLHlCQUFBO0FEdGxGSjs7QUN5bEZFO0VBQ0UseUJBQUE7QUR0bEZKOztBQzBsRkk7RUFDRSxhQUFBO0FEdmxGTjs7QUMwbEZJO0VBQ0UseUJBQUE7QUR4bEZOOztBQzJsRkk7RUFDRSx5QkFBQTtBRHpsRk47O0FDOGxGSTtFQUNFLGFBQUE7QUQzbEZOOztBQzhsRkk7RUFDRSx5QkFBQTtBRDVsRk47O0FDK2xGSTtFQUNFLHlCQUFBO0FEN2xGTjs7QUNvb0ZJO0VBQ0UsZUFBQTtBRGpvRk47O0FDb29GSTtFQUNFLGVBQUE7QURsb0ZOOztBQ3FvRkk7RUFDRSxlQUFBO0FEbm9GTjs7QUN3ckZFO0VBQ0Usc0NBQUE7QURyckZKOztBQ2dxRkU7RUFDRSxxQkFBQTtBRDdwRko7O0FDZ3FGRTs7RUFJRSx5QkFBQTtBRGhxRko7O0FDd3BGRTtFQUNFLHFCQUFBO0FEdHBGSjs7QUN5cEZFOztFQUlFLHlCQUFBO0FEenBGSjs7QUNpcEZFO0VBQ0UscUJBQUE7QUQvb0ZKOztBQ2twRkU7O0VBSUUseUJBQUE7QURscEZKOztBQ21yRk07O0VBRUUsc0NBQUE7QURqckZSOztBQ29yRk07O0VBRUUsMENBQUE7QURsckZSOztBQ3FyRk07RUFDRSwrQkFBQTtBRG5yRlI7O0FDeXJGSTtFQUNFLHVCQUFBO0FEdnJGTjs7QUN1dUZFO0VBQ0UsWUFBQTtBRHB1Rko7O0FDdXVGRTtFQUNFLCtCQUFBO0FEcHVGSjs7QUN1dUZFO0VBQ0UsK0JBQUE7QURwdUZKOztBQ3V1RkU7RUFDRSwrQkFBQTtBRHB1Rko7O0FDdXVGRTtFQUNFLG1CQUFBO0FEcHVGSjs7QUNqa0RFO0VBWEEsMEhBQUE7QUQra0RGOztBQ291Rkk7RUFDRSxxQ0FBQTtBRGx1Rk47O0FDd3VGTTtFQUNFLGNBQUE7QURydUZSOztBQ3d1Rk07RUFDRSxjQUFBO0FEdHVGUjs7QUN5dUZNO0VBQ0UsY0FBQTtBRHZ1RlI7O0FDMnVGSTtFQUNFLGNBQUE7QUR6dUZOOztBQzR1Rkk7RUFDRSwrQkFBQTtBRDF1Rk47O0FDbXlGRTtFQUNFLHlCQUxtQztFQU1uQyxZQUFBO0FEaHlGSjs7QUNteUZFO0VBQ0UseUJBWHdCO0VBWXhCLFlBQUE7QURoeUZKOztBQ2t5Rkk7RUFDRSx5QkFiMkI7QURueEZqQzs7QUNteUZJO0VBbDVJRiw2SEFBQTtBRGtuREY7O0FDdXlGRTtFQUNFLGlEQXZCbUI7QUQ3d0Z2Qjs7QUNzeUZJO0VBQ0UsZ0RBMUJpQjtFQTJCakIsa0JBQUE7QURweUZOOztBQ3d5RkU7RUFDRSxnREFoQ21CO0VBaUNuQixrQkFBQTtBRHJ5Rko7O0FDdXlGSTtFQUNFLGlCQUFBO0VBQ0EsaURBckNpQjtBRGh3RnZCOztBQ3l5RkU7RUFRSSwwQ0FBQTtBRDd5Rk47O0FDczFGSTtFQUNFLHlCQUFBO0FEbjFGTjs7QUNzMUZJO0VBR0UsMENBQUE7QUR0MUZOOztBQ3kxRkk7RUFHRSx5QkFBQTtBRHoxRk47O0FDNDBGSTtFQUNFLHlCQUFBO0FEMTBGTjs7QUM2MEZJO0VBR0UseUNBQUE7QUQ3MEZOOztBQ2cxRkk7RUFHRSx5QkFBQTtBRGgxRk47O0FDbTBGSTtFQUNFLHlCQUFBO0FEajBGTjs7QUNvMEZJO0VBR0UseUNBQUE7QURwMEZOOztBQ3UwRkk7RUFHRSx5QkFBQTtBRHYwRk47O0FDNDJGSTtFQUdFLHVCQWhCcUI7QUQ1MUYzQjs7QUNnM0ZFO0VBdGhKQSx5SEFBQTtFQXdoSkUseUJBQUE7QUQ3MkZKOztBQ2czRkU7RUFDRSwwQ0EzQm9CO0FEbDFGeEI7O0FDMjdGRTtFQUNFLDBDQVZxQjtBRDk2RnpCOztBQys0RkU7OztFQUdFLHlCQUFBO0FENTRGSjs7QUMrNEZFO0VBQ0UsWUFBQTtBRDc0Rko7O0FDZzVGRTtFQUdFLHdDQURRO0FELzRGWjs7QUNtNEZFOzs7RUFHRSx5QkFBQTtBRGg0Rko7O0FDbTRGRTtFQUNFLFlBQUE7QURqNEZKOztBQ280RkU7RUFHRSx5Q0FEUTtBRG40Rlo7O0FDdTNGRTs7O0VBR0UseUJBQUE7QURwM0ZKOztBQ3UzRkU7RUFDRSxZQUFBO0FEcjNGSjs7QUN3M0ZFO0VBR0Usd0NBRFE7QUR2M0ZaOztBQ3E2Rkk7O0VBQ0UsMENBM0IyQjtBRHQ0RmpDOztBQ3M2Rkk7OztFQUdFLDBDQWxDd0I7QURqNEY5Qjs7QUN1NkZNO0VBQ0UsMENBdkNzQjtBRDkzRjlCOztBQzI2Rkk7RUFHRSwyQ0FEUTtBRHo2RmQ7O0FDbzdGTTs7RUFFRSx1QkEzRHFDO0FEdjNGN0M7O0FDczdGUTs7RUFFRSwwQ0FoRXlDO0FEcDNGbkQ7O0FDMDdGTTtFQUNFLHNDQTNFaUI7RUE0RWpCLDZCQUFBO0FEeDdGUjs7QUM2N0ZRO0VBQ0Usc0NBakZ1QjtBRDEyRmpDOztBQzg3RlE7RUFDRSxzQ0FwRm9CO0FEeDJGOUI7O0FDazhGRTtFQUNFLHNDQXZGc0I7QUR4MkYxQjs7QUN3OEZFO0VBQ0UseUlBQUE7RUFJQSwrSUFBQTtBRHg4Rko7O0FDazlGRTtFQUNFLDBJQUFBO0FELzhGSjs7QUNzaUdJO0VBR0UsMkNBQUE7QURyaUdOOztBQzJpR0k7RUFDRTtJQUNFLGdCQUFBO0VEemlHTjtBQUNGOztBQzRpR0k7O0VBSUUsK0JBQUE7QUQ1aUdOOztBQytpR0k7RUFHRSwwQ0FBQTtFQUNBLFlBQUE7QUQvaUdOOztBQ2tqR0k7OztFQUdFLHlCQUFBO0VBQ0EsWUFBQTtBRGhqR047O0FDb2pHTTtFQUNFLFlBQUE7QURsakdSOztBQ3FqR007OztFQUdFLHlCQUFBO0VBQ0EsWUFBQTtBRG5qR1I7O0FDd2pHTTtFQUNFLFlBQUE7QUR0akdSOztBQ3lqR007OztFQUdFLHlCQUFBO0VBQ0EsWUFBQTtBRHZqR1I7O0FDMmpHSTtFQUNFLDZCQUFBO0VBQ0EsY0FBQTtBRHpqR047O0FDNGpHSTtFQUNFLFlBQUE7QUQxakdOOztBQzZqR0k7RUFDRSxjQUFBO0FEM2pHTjs7QUMrakdFO0VBQ0UseUJBQUE7QUQ1akdKOztBQytqR0U7RUFDRSw0Q0FBQTtBRDVqR0o7O0FDK2pHRTs7O0VBR0UsMkNBQUE7QUQ1akdKOztBQ21tR0k7RUFDRSxZQUxLO0FEM2xHWDs7QUNtbUdJOztFQUVFLGtCQUFBO0FEaG1HTjs7QUNxbUdJO0VBQ0UsVUFBQTtFQUNBLGFBQUE7QURsbUdOOztBQ3VtR007RUFDRSxTQUFBO0FEcG1HUjs7QUN5bUdJO0VBQ0UsU0FBQTtBRHRtR047O0FDcW9HRTtFQVlJLGNBQUE7QUQ3b0dOOztBQ3lyR0U7O0VBRUUsa0RBSmM7QURsckdsQjs7QUMwckdJOztFQUVFLCtDQVZZO0VBV1osbUJBQUE7QUR2ckdOOztBQzJyR0U7RUFDRSxZQUFBO0FEeHJHSjs7QUMwckdJO0VBQ0UsK0JBQUE7QUR4ckdOOztBQzRyR0U7RUFDRSxtQkFBQTtBRHpyR0o7O0FDNHJHRTtFQUNFLHNDQUFBO0FEenJHSjs7QUM2ckdFOztFQUVFLG1CQUFBO0VBQ0EsZ0JBQUE7QUQxckdKOztBQ3d1R007Ozs7O0VBQ0UsMENBQUE7QURqdUdSOztBQ3N0R0U7RUFDRSx5QkFBQTtBRHB0R0o7O0FDbXRHRTtFQUNFLHVCQUFBO0FEanRHSjs7QUMwdEdNOzs7OztFQUNFLHVDQUFBO0FEcHRHUjs7QUN5c0dFO0VBQ0UseUJBQUE7QUR2c0dKOztBQ3NzR0U7RUFDRSx1QkFBQTtBRHBzR0o7O0FDNnNHTTs7Ozs7RUFDRSwwQ0FBQTtBRHZzR1I7O0FDNHJHRTtFQUNFLHlCQUFBO0FEMXJHSjs7QUN5ckdFO0VBQ0UsdUJBQUE7QUR2ckdKOztBQ2dzR007Ozs7O0VBQ0UsMENBQUE7QUQxckdSOztBQ3FzR0U7RUFDRSx5QkFBQTtBRG5zR0o7O0FDdXNHRTtFQUNFLFlBQUE7QURyc0dKOztBQ3VzR0k7RUFDRSx5QkFBQTtBRHJzR047O0FDMHNHRTs7Ozs7RUFHRSxtQkFBQTtBRHRzR0o7O0FDeXNHRTtFQUNFLGdDQUFBO0FEdnNHSjs7QUM0c0dFOzs7RUFFRSxxQ0FBQTtBRHpzR0o7O0FDaXFHTTs7Ozs7RUFDRSx1Q0FBQTtBRDNwR1I7O0FDc3FHRTtFQUNFLHlCQUFBO0FEcHFHSjs7QUN3cUdFO0VBQ0UsWUFBQTtBRHRxR0o7O0FDd3FHSTtFQUNFLCtCQUFBO0FEdHFHTjs7QUMycUdFOzs7OztFQUdFLG1CQUFBO0FEdnFHSjs7QUMwcUdFO0VBQ0Usc0NBQUE7QUR4cUdKOztBQzZxR0U7OztFQUVFLDJDQUFBO0FEMXFHSjs7QUNrb0dNOzs7OztFQUNFLDBDQUFBO0FENW5HUjs7QUN1b0dFO0VBQ0UseUJBQUE7QURyb0dKOztBQ3lvR0U7RUFDRSxZQUFBO0FEdm9HSjs7QUN5b0dJO0VBQ0UsK0JBQUE7QUR2b0dOOztBQzRvR0U7Ozs7O0VBR0UsbUJBQUE7QUR4b0dKOztBQzJvR0U7RUFDRSxzQ0FBQTtBRHpvR0o7O0FDOG9HRTs7O0VBRUUsMkNBQUE7QUQzb0dKOztBQ2d3R0U7RUFDRSxtQkFBQTtFQUNBLFlBQUE7QUQ3dkdKOztBQyt2R0k7RUFwQ0YsbUJBQUE7RUFDQSxZQUFBO0FEeHRHRjs7QUMrdkdJO0VBeENGLG1CQUFBO0VBQ0EsWUFBQTtBRHB0R0Y7O0FDK3ZHSTtFQTVDRixtQkFBQTtFQUNBLFlBQUE7QURodEdGOztBQ290R0U7OztFQUdFLDhCQUFBO0FEbHRHSjs7QUNxdEdFOzs7OztFQUtFLGNBQUE7QURudEdKOztBQ3N0R0U7RUFDRSx5QkFBQTtBRHB0R0o7O0FDdXJHRTtFQUNFLGdCQTRFZTtBRGh3R25COztBQ3NyR0U7RUFDRSxZQXlFZTtBRDV2R25COztBQ3d3R0k7RUF6RkY7SUFDRSxnQkE4RWM7RUR6dkdoQjs7RUM2cUdBO0lBQ0UsWUEyRWM7RURydkdoQjtBQUNGOztBQ3d5R0U7RUFDRSxpQ0FBQTtBRHR5R0o7O0FDOHJJRTtFQUNFLG1CQUFBO0FEM3JJSjs7QUM4cklFOztFQUVFLFlBQUE7QUQzcklKOztBQ2l0SUk7RUFDRSxnQkFKSztBRDFzSVg7O0FDNjBHRTtFQUdFLDBCQUFBO0VBQ0EsbUJBQUE7RUEzNUtGLDJIQUFBO0FEZ2xFRjs7QUNnMUdFO0VBQ0UsY0FBQTtBRDcwR0o7O0FBN2tGQTtFQUNDLFlBQUE7RUFDQSxXQUFBO0VBQ0EsT0FBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLGdCQUFBO0FBZ2xGRDs7QUE5a0ZDO0VBQ0MsV0FBQTtFQUNBLFlBQUE7RUFDQSxPQUFBO0VBQ0Esc0JBQUE7RUFDQSxnQkFBQTtBQWdsRkY7O0FBNWtGQTtFRVBFLFVBQUE7RUFDQSxZRk95QjtFRU56Qiw2QkFBQTtBRnVsRkY7O0FFcmxGRTtFQUNFLFVBQUE7RUFDQSxTQUFBO0VBQ0EseUJBQUE7RUFDQSwwQkFBQTtBRnVsRko7O0FBcGxGQTtFRVhFLFVBQUE7RUFDQSxZRld5QjtFRVZ6Qiw2QkFBQTtBRm1tRkY7O0FFam1GRTtFQUNFLFVBQUE7RUFDQSxTQUFBO0VBQ0EseUJBQUE7RUFDQSwwQkFBQTtBRm1tRko7O0FBNWxGQTtFRWZFLFVBQUE7RUFDQSxZRmV5QjtFRWR6Qiw2QkFBQTtBRittRkY7O0FFN21GRTtFQUNFLFVBQUE7RUFDQSxTQUFBO0VBQ0EseUJBQUE7RUFDQSwwQkFBQTtBRittRko7O0FBaG1GRzs7RUFFQyxTQUFBO0FBbW1GSjs7QUE3bEZBO0VBQ0MsYUFBQTtBQWdtRkQiLCJmaWxlIjoiZWRpdG9yLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiKiB7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG59XG5cbi5mbGV4ciB7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG4uZmxleGMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuLmZsZXgtZmlsbCB7XG4gIGZsZXg6IDE7XG59XG4uZmxleC1kaXN0cmlidXRlIHtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xufVxuLmFsaWduLWNlbnRlciB7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5hbGlnbi1iYXNlbGluZSB7XG4gIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcbn1cbi5hbGlnbi10by1zdGFydCB7XG4gIGFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7XG59XG4uYWxpZ24tdG8tZW5kIHtcbiAgYWxpZ24tc2VsZjogZmxleC1lbmQ7XG59XG5cbi5mdWxsLXdpZHRoIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi8qIFJlc2V0IGJ1dHRvbnMgKi9cbmJ1dHRvbiB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIGJvcmRlcjogbm9uZTtcbiAgb3V0bGluZTogbm9uZTtcbn1cblxuLnptLWljb24ge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHdpZHRoOiAxZW07XG4gIGhlaWdodDogMWVtO1xuICBzdHJva2Utd2lkdGg6IDA7XG4gIHN0cm9rZTogY3VycmVudENvbG9yO1xuICBmaWxsOiBjdXJyZW50Q29sb3I7XG59XG5cbiRzaXplczogMTAsIDEyLCAxNCwgMTYsIDE4LCAyMCwgMjQ7XG4ubWF0LWljb24ge1xuXHRAZWFjaCAkc2l6ZSBpbiAkc2l6ZXMge1xuXHRcdCYuc2l6ZS0jeyRzaXplfSB7XG5cdFx0XHRmb250LXNpemU6ICRzaXplICsgcHg7XG5cdFx0XHRsaW5lLWhlaWdodDogJHNpemUgKyBweDtcblx0XHRcdHdpZHRoOiAkc2l6ZSArIHB4O1xuXHRcdFx0aGVpZ2h0OiAkc2l6ZSArIHB4O1xuXHRcdH1cblx0fVxuXG5cdC5kaXNhYmxlZCxcblx0W2Rpc2FibGVkXSAmIHtcblx0XHRvcGFjaXR5OiAwLjU7XG5cdH1cbn1cblxuIiwiQGltcG9ydCAncHJvamVjdHMvemVicmEtdmlld2VyL3NyYy9zY3NzL3ZhcmlhYmxlcyc7XG5AaW1wb3J0ICdwcm9qZWN0cy96ZWJyYS12aWV3ZXIvc3JjL3Njc3MvY29tbW9uJztcbkBpbXBvcnQgJ3Byb2plY3RzL3plYnJhLXZpZXdlci9zcmMvc2Nzcy9taXhpbnMnO1xuQGltcG9ydCAncHJvamVjdHMvemVicmEtdmlld2VyL3NyYy9zY3NzL3RoZW1lX2RhcmsnO1xuXG4uem0tdmlld2VyLWNvbXBvbmVudC13cmFwcGVyIHtcblx0aGVpZ2h0OiAxMDAlO1xuXHR3aWR0aDogMTAwJTtcblx0ZmxleDogMTtcblx0ZGlzcGxheTogZmxleDtcblx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcblx0b3ZlcmZsb3c6IGhpZGRlbjtcblxuXHR6ZWJyYS12aWV3ZXItdmlld3BvcnRzLW1hbmFnZXIge1xuXHRcdHdpZHRoOiAxMDAlO1xuXHRcdGhlaWdodDogMTAwJTtcblx0XHRmbGV4OiAxO1xuXHRcdC0tdmlld2Vycy1sYXlvdXQ6ICd2MSc7XG5cdFx0b3ZlcmZsb3c6IGhpZGRlbjtcblx0fVxufVxuXG4uem0tdmlld2VyLWRpYWxvZy1sZyB7XG5cdEBpbmNsdWRlIHptLXZpZXdlci1kaWFsb2coNjAwcHgpO1xufVxuXG4uem0tdmlld2VyLWRpYWxvZy1tZCB7XG5cdEBpbmNsdWRlIHptLXZpZXdlci1kaWFsb2coNDAwcHgpO1xufVxuXG4uem0tdmlld2VyLWRpYWxvZy1zbSB7XG5cdEBpbmNsdWRlIHptLXZpZXdlci1kaWFsb2coMjQwcHgpO1xufVxuXG4vLyBsb3dlciB0aGUgbWV0YWRhdGEgd2hlbiB0aGUgYWN0aXZlIHRhZyBiYXIgaXMgZGlzcGxheWVkLlxuemVicmEtdmlld2VyLWFjdGl2ZS10YWctYmFyOm5vdCguaGlkZGVuKSArIHplYnJhLXZpZXdlci1pbWFnZS12aWV3ZXIge1xuXHR6ZWJyYS12aWV3ZXItbWV0YWRhdGEtb3ZlcmxheSB7XG5cdFx0Lm92ZXJsYXktY29udGFpbmVyIHtcblx0XHRcdCN0b3BsZWZ0LFxuXHRcdFx0I3RvcHJpZ2h0IHtcblx0XHRcdFx0dG9wOiA0MHB4O1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG4uY2RrLW92ZXJsYXktYmFja2Ryb3Age1xuXHRkaXNwbGF5OiBub25lO1xufVxuIiwiLy8gRmlsZSBmb3Igd2hpY2ggYWxsIGltcG9ydHMgYXJlIHJlc29sdmVkIGFuZCBidW5kbGVkLiBUaGlzIGlzIHRoZSBlbnRyeS1wb2ludCBmb3Jcbi8vIHRoZSBgQGFuZ3VsYXIvbWF0ZXJpYWxgIHRoZW1pbmcgU2FzcyBidW5kbGUuIFNlZSBgLy9zcmMvbWF0ZXJpYWw6dGhlbWluZ19idW5kbGVgLlxuXG4vLyBJbXBvcnQgYWxsIHRoZSB0aGVtaW5nIGZ1bmN0aW9uYWxpdHkuXG4vLyBXZSB3YW50IG92ZXJsYXlzIHRvIGFsd2F5cyBhcHBlYXIgb3ZlciB1c2VyIGNvbnRlbnQsIHNvIHNldCBhIGJhc2VsaW5lXG4vLyB2ZXJ5IGhpZ2ggei1pbmRleCBmb3IgdGhlIG92ZXJsYXkgY29udGFpbmVyLCB3aGljaCBpcyB3aGVyZSB3ZSBjcmVhdGUgdGhlIG5ld1xuLy8gc3RhY2tpbmcgY29udGV4dCBmb3IgYWxsIG92ZXJsYXlzLlxuJGNkay16LWluZGV4LW92ZXJsYXktY29udGFpbmVyOiAxMDAwICFkZWZhdWx0O1xuJGNkay16LWluZGV4LW92ZXJsYXk6IDEwMDAgIWRlZmF1bHQ7XG4kY2RrLXotaW5kZXgtb3ZlcmxheS1iYWNrZHJvcDogMTAwMCAhZGVmYXVsdDtcblxuLy8gQmFja2dyb3VuZCBjb2xvciBmb3IgYWxsIG9mIHRoZSBiYWNrZHJvcHNcbiRjZGstb3ZlcmxheS1kYXJrLWJhY2tkcm9wLWJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4zMikgIWRlZmF1bHQ7XG5cbi8vIERlZmF1bHQgYmFja2Ryb3AgYW5pbWF0aW9uIGlzIGJhc2VkIG9uIHRoZSBNYXRlcmlhbCBEZXNpZ24gc3dpZnQtZWFzZS1vdXQuXG4kYmFja2Ryb3AtYW5pbWF0aW9uLWR1cmF0aW9uOiA0MDBtcyAhZGVmYXVsdDtcbiRiYWNrZHJvcC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC4yNSwgMC44LCAwLjI1LCAxKSAhZGVmYXVsdDtcblxuXG5AbWl4aW4gY2RrLW92ZXJsYXkoKSB7XG4gIC5jZGstb3ZlcmxheS1jb250YWluZXIsIC5jZGstZ2xvYmFsLW92ZXJsYXktd3JhcHBlciB7XG4gICAgLy8gRGlzYWJsZSBldmVudHMgZnJvbSBiZWluZyBjYXB0dXJlZCBvbiB0aGUgb3ZlcmxheSBjb250YWluZXIuXG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG5cbiAgICAvLyBUaGUgY29udGFpbmVyIHNob3VsZCBiZSB0aGUgc2l6ZSBvZiB0aGUgdmlld3BvcnQuXG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgLy8gVGhlIG92ZXJsYXktY29udGFpbmVyIGlzIGFuIGludmlzaWJsZSBlbGVtZW50IHdoaWNoIGNvbnRhaW5zIGFsbCBpbmRpdmlkdWFsIG92ZXJsYXlzLlxuICAuY2RrLW92ZXJsYXktY29udGFpbmVyIHtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgei1pbmRleDogJGNkay16LWluZGV4LW92ZXJsYXktY29udGFpbmVyO1xuXG4gICAgJjplbXB0eSB7XG4gICAgICAvLyBIaWRlIHRoZSBlbGVtZW50IHdoZW4gaXQgZG9lc24ndCBoYXZlIGFueSBjaGlsZCBub2Rlcy4gVGhpcyBkb2Vzbid0XG4gICAgICAvLyBpbmNsdWRlIG92ZXJsYXlzIHRoYXQgaGF2ZSBiZWVuIGRldGFjaGVkLCByYXRoZXIgdGhhbiBkaXNwb3NlZC5cbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICB9XG5cbiAgLy8gV2UgdXNlIGFuIGV4dHJhIHdyYXBwZXIgZWxlbWVudCBpbiBvcmRlciB0byB1c2UgbWFrZSB0aGUgb3ZlcmxheSBpdHNlbGYgYSBmbGV4IGl0ZW0uXG4gIC8vIFRoaXMgbWFrZXMgY2VudGVyaW5nIHRoZSBvdmVybGF5IGVhc3kgd2l0aG91dCBydW5uaW5nIGludG8gdGhlIHN1YnBpeGVsIHJlbmRlcmluZ1xuICAvLyBwcm9ibGVtcyB0aWVkIHRvIHVzaW5nIGB0cmFuc2Zvcm1gIGFuZCB3aXRob3V0IGludGVyZmVyaW5nIHdpdGggdGhlIG90aGVyIHBvc2l0aW9uXG4gIC8vIHN0cmF0ZWdpZXMuXG4gIC5jZGstZ2xvYmFsLW92ZXJsYXktd3JhcHBlciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgei1pbmRleDogJGNkay16LWluZGV4LW92ZXJsYXk7XG4gIH1cblxuICAvLyBBIHNpbmdsZSBvdmVybGF5IHBhbmUuXG4gIC5jZGstb3ZlcmxheS1wYW5lIHtcbiAgICAvLyBOb3RlOiBpdCdzIGltcG9ydGFudCBmb3IgdGhpcyBvbmUgdG8gc3RhcnQgb2ZmIGBhYnNvbHV0ZWAsXG4gICAgLy8gaW4gb3JkZXIgZm9yIHVzIHRvIGJlIGFibGUgdG8gbWVhc3VyZSBpdCBjb3JyZWN0bHkuXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgei1pbmRleDogJGNkay16LWluZGV4LW92ZXJsYXk7XG5cbiAgICAvLyBGb3IgY29ubmVjdGVkLXBvc2l0aW9uIG92ZXJsYXlzLCB3ZSBzZXQgYGRpc3BsYXk6IGZsZXhgIGluXG4gICAgLy8gb3JkZXIgdG8gZm9yY2UgYG1heC13aWR0aGAgYW5kIGBtYXgtaGVpZ2h0YCB0byB0YWtlIGVmZmVjdC5cbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIG1heC13aWR0aDogMTAwJTtcbiAgICBtYXgtaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgLmNkay1vdmVybGF5LWJhY2tkcm9wIHtcbiAgICAvLyBUT0RPKGplbGJvdXJuKTogcmV1c2Ugc2lkZW5hdiBmdWxsc2NyZWVuIG1peGluLlxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG5cbiAgICB6LWluZGV4OiAkY2RrLXotaW5kZXgtb3ZlcmxheS1iYWNrZHJvcDtcbiAgICBwb2ludGVyLWV2ZW50czogYXV0bztcbiAgICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgIHRyYW5zaXRpb246IG9wYWNpdHkgJGJhY2tkcm9wLWFuaW1hdGlvbi1kdXJhdGlvbiAkYmFja2Ryb3AtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjtcbiAgICBvcGFjaXR5OiAwO1xuXG4gICAgJi5jZGstb3ZlcmxheS1iYWNrZHJvcC1zaG93aW5nIHtcbiAgICAgIG9wYWNpdHk6IDE7XG5cbiAgICAgIC8vIE5vdGUgdGhhdCB3ZSBjYW4ndCBpbXBvcnQgYW5kIHVzZSB0aGUgYGhpZ2gtY29udHJhc3RgIG1peGluIGZyb20gYF9hMTF5LnNjc3NgLCBiZWNhdXNlXG4gICAgICAvLyB0aGlzIGZpbGUgd2lsbCBiZSBjb3BpZWQgdG8gdGhlIHRvcC1sZXZlbCBgY2RrYCBwYWNrYWdlIHdoZW4gcHV0dGluZyB0b2dldGhlciB0aGUgZmlsZXNcbiAgICAgIC8vIGZvciBucG0uIEFueSByZWxhdGl2ZSBpbXBvcnQgcGF0aHMgd2UgdXNlIGhlcmUgd2lsbCBiZWNvbWUgaW52YWxpZCBvbmNlIHRoZSBmaWxlIGlzIGNvcGllZC5cbiAgICAgIC5jZGstaGlnaC1jb250cmFzdC1hY3RpdmUgJiB7XG4gICAgICAgIC8vIEluIGhpZ2ggY29udHJhc3QgbW9kZSB0aGUgcmdiYSBiYWNrZ3JvdW5kIHdpbGwgYmVjb21lIHNvbGlkXG4gICAgICAgIC8vIHNvIHdlIG5lZWQgdG8gZmFsbCBiYWNrIHRvIG1ha2luZyBpdCBvcGFxdWUgdXNpbmcgYG9wYWNpdHlgLlxuICAgICAgICBvcGFjaXR5OiAwLjY7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLmNkay1vdmVybGF5LWRhcmstYmFja2Ryb3Age1xuICAgIGJhY2tncm91bmQ6ICRjZGstb3ZlcmxheS1kYXJrLWJhY2tkcm9wLWJhY2tncm91bmQ7XG4gIH1cblxuICAuY2RrLW92ZXJsYXktdHJhbnNwYXJlbnQtYmFja2Ryb3Age1xuICAgIC8vIE5vdGU6IGFzIG9mIEZpcmVmb3ggNTcsIGhhdmluZyB0aGUgYmFja2Ryb3AgYmUgYGJhY2tncm91bmQ6IG5vbmVgIHdpbGwgcHJldmVudCBpdCBmcm9tXG4gICAgLy8gY2FwdHVyaW5nIHRoZSB1c2VyJ3MgbW91c2Ugc2Nyb2xsIGV2ZW50cy4gU2luY2Ugd2UgYWxzbyBjYW4ndCB1c2Ugc29tZXRoaW5nIGxpa2VcbiAgICAvLyBgcmdiYSgwLCAwLCAwLCAwKWAsIHdlIHdvcmsgYXJvdW5kIHRoZSBpbmNvbnNpc3RlbmN5IGJ5IG5vdCBzZXR0aW5nIHRoZSBiYWNrZ3JvdW5kIGF0XG4gICAgLy8gYWxsIGFuZCB1c2luZyBgb3BhY2l0eWAgdG8gbWFrZSB0aGUgZWxlbWVudCB0cmFuc3BhcmVudC5cbiAgICAmLCAmLmNkay1vdmVybGF5LWJhY2tkcm9wLXNob3dpbmcge1xuICAgICAgb3BhY2l0eTogMDtcbiAgICB9XG4gIH1cblxuICAvLyBPdmVybGF5IHBhcmVudCBlbGVtZW50IHVzZWQgd2l0aCB0aGUgY29ubmVjdGVkIHBvc2l0aW9uIHN0cmF0ZWd5LiBVc2VkIHRvIGNvbnN0cmFpbiB0aGVcbiAgLy8gb3ZlcmxheSBlbGVtZW50J3Mgc2l6ZSB0byBmaXQgd2l0aGluIHRoZSB2aWV3cG9ydC5cbiAgLmNkay1vdmVybGF5LWNvbm5lY3RlZC1wb3NpdGlvbi1ib3VuZGluZy1ib3gge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB6LWluZGV4OiAkY2RrLXotaW5kZXgtb3ZlcmxheTtcblxuICAgIC8vIFdlIHVzZSBgZGlzcGxheTogZmxleGAgb24gdGhpcyBlbGVtZW50IGV4Y2x1c2l2ZWx5IGZvciBjZW50ZXJpbmcgY29ubmVjdGVkIG92ZXJsYXlzLlxuICAgIC8vIFdoZW4gKm5vdCogY2VudGVyaW5nLCBhIHRvcC9sZWZ0L2JvdHRvbS9yaWdodCB3aWxsIGJlIHNldCB3aGljaCBvdmVycmlkZXMgdGhlIG5vcm1hbFxuICAgIC8vIGZsZXggbGF5b3V0LlxuICAgIGRpc3BsYXk6IGZsZXg7XG5cbiAgICAvLyBXZSB1c2UgdGhlIGBjb2x1bW5gIGRpcmVjdGlvbiBoZXJlIHRvIGF2b2lkIHNvbWUgZmxleGJveCBpc3N1ZXMgaW4gRWRnZVxuICAgIC8vIHdoZW4gdXNpbmcgdGhlIFwiZ3JvdyBhZnRlciBvcGVuXCIgb3B0aW9ucy5cbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXG4gICAgLy8gQWRkIHNvbWUgZGltZW5zaW9ucyBzbyB0aGUgZWxlbWVudCBoYXMgYW4gYGlubmVyVGV4dGAgd2hpY2ggc29tZSBwZW9wbGUgZGVwZW5kIG9uIGluIHRlc3RzLlxuICAgIG1pbi13aWR0aDogMXB4O1xuICAgIG1pbi1oZWlnaHQ6IDFweDtcbiAgfVxuXG4gIC8vIFVzZWQgd2hlbiBkaXNhYmxpbmcgZ2xvYmFsIHNjcm9sbGluZy5cbiAgLmNkay1nbG9iYWwtc2Nyb2xsYmxvY2sge1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcblxuICAgIC8vIE5lY2Vzc2FyeSBmb3IgdGhlIGNvbnRlbnQgbm90IHRvIGxvc2UgaXRzIHdpZHRoLiBOb3RlIHRoYXQgd2UncmUgdXNpbmcgMTAwJSwgaW5zdGVhZCBvZlxuICAgIC8vIDEwMHZ3LCBiZWNhdXNlIDEwMHZ3IGluY2x1ZGVzIHRoZSB3aWR0aCBwbHVzIHRoZSBzY3JvbGxiYXIsIHdoZXJlYXMgMTAwJSBpcyB0aGUgd2lkdGhcbiAgICAvLyB0aGF0IHRoZSBlbGVtZW50IGhhZCBiZWZvcmUgd2UgbWFkZSBpdCBgZml4ZWRgLlxuICAgIHdpZHRoOiAxMDAlO1xuXG4gICAgLy8gTm90ZTogdGhpcyB3aWxsIGFsd2F5cyBhZGQgYSBzY3JvbGxiYXIgdG8gd2hhdGV2ZXIgZWxlbWVudCBpdCBpcyBvbiwgd2hpY2ggY2FuXG4gICAgLy8gcG90ZW50aWFsbHkgcmVzdWx0IGluIGRvdWJsZSBzY3JvbGxiYXJzLiBJdCBzaG91bGRuJ3QgYmUgYW4gaXNzdWUsIGJlY2F1c2Ugd2Ugd29uJ3RcbiAgICAvLyBibG9jayBzY3JvbGxpbmcgb24gYSBwYWdlIHRoYXQgZG9lc24ndCBoYXZlIGEgc2Nyb2xsYmFyIGluIHRoZSBmaXJzdCBwbGFjZS5cbiAgICBvdmVyZmxvdy15OiBzY3JvbGw7XG4gIH1cbn1cblxuQG1peGluIGNkay1hMTF5IHtcbiAgLmNkay12aXN1YWxseS1oaWRkZW4ge1xuICAgIGJvcmRlcjogMDtcbiAgICBjbGlwOiByZWN0KDAgMCAwIDApO1xuICAgIGhlaWdodDogMXB4O1xuICAgIG1hcmdpbjogLTFweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHdpZHRoOiAxcHg7XG5cbiAgICAvLyBBdm9pZCBicm93c2VycyByZW5kZXJpbmcgdGhlIGZvY3VzIHJpbmcgaW4gc29tZSBjYXNlcy5cbiAgICBvdXRsaW5lOiAwO1xuXG4gICAgLy8gQXZvaWQgc29tZSBjYXNlcyB3aGVyZSB0aGUgYnJvd3NlciB3aWxsIHN0aWxsIHJlbmRlciB0aGUgbmF0aXZlIGNvbnRyb2xzIChzZWUgIzkwNDkpLlxuICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XG4gIH1cbn1cblxuLy8vIEVtaXRzIHRoZSBtaXhpbidzIGNvbnRlbnQgbmVzdGVkIHVuZGVyIGAkc2VsZWN0b3ItY29udGV4dGAgaWYgYCRzZWxlY3Rvci1jb250ZXh0YFxuLy8vIGlzIG5vbi1lbXB0eS5cbi8vLyBAcGFyYW0gc2VsZWN0b3ItY29udGV4dCBUaGUgc2VsZWN0b3IgdW5kZXIgd2hpY2ggdG8gbmVzdCB0aGUgbWl4aW4ncyBjb250ZW50LlxuQG1peGluIF9jZGstb3B0aW9uYWxseS1uZXN0LWNvbnRlbnQoJHNlbGVjdG9yLWNvbnRleHQpIHtcbiAgQGlmICgkc2VsZWN0b3ItY29udGV4dCA9PSAnJykge1xuICAgIEBjb250ZW50O1xuICB9XG4gIEBlbHNlIHtcbiAgICAjeyRzZWxlY3Rvci1jb250ZXh0fSB7XG4gICAgICBAY29udGVudDtcbiAgICB9XG4gIH1cbn1cblxuLy8vIEFwcGxpZXMgc3R5bGVzIGZvciB1c2VycyBpbiBoaWdoIGNvbnRyYXN0IG1vZGUuIE5vdGUgdGhhdCB0aGlzIG9ubHkgYXBwbGllc1xuLy8vIHRvIE1pY3Jvc29mdCBicm93c2Vycy4gQ2hyb21lIGNhbiBiZSBpbmNsdWRlZCBieSBjaGVja2luZyBmb3IgdGhlIGBodG1sW2hjXWBcbi8vLyBhdHRyaWJ1dGUsIGhvd2V2ZXIgQ2hyb21lIGhhbmRsZXMgaGlnaCBjb250cmFzdCBkaWZmZXJlbnRseS5cbi8vL1xuLy8vIEBwYXJhbSB0YXJnZXQgV2hpY2gga2luZCBvZiBoaWdoIGNvbnRyYXN0IHNldHRpbmcgdG8gdGFyZ2V0LiBEZWZhdWx0cyB0byBgYWN0aXZlYCwgY2FuIGJlXG4vLy8gICAgYHdoaXRlLW9uLWJsYWNrYCBvciBgYmxhY2stb24td2hpdGVgLlxuLy8vIEBwYXJhbSBlbmNhcHN1bGF0aW9uIFdoZXRoZXIgdG8gZW1pdCBzdHlsZXMgZm9yIHZpZXcgZW5jYXBzdWxhdGlvbi4gVmFsdWVzIGFyZTpcbi8vLyAgICAgKiBgb25gIC0gd29ya3MgZm9yIGBFbXVsYXRlZGAsIGBOYXRpdmVgLCBhbmQgYFNoYWRvd0RvbWBcbi8vLyAgICAgKiBgb2ZmYCAtIHdvcmtzIGZvciBgTm9uZWBcbi8vLyAgICAgKiBgYW55YCAtIHdvcmtzIGZvciBhbGwgZW5jYXBzdWxhdGlvbiBtb2RlcyBieSBlbWl0dGluZyB0aGUgQ1NTIHR3aWNlIChkZWZhdWx0KS5cbkBtaXhpbiBjZGstaGlnaC1jb250cmFzdCgkdGFyZ2V0OiBhY3RpdmUsICRlbmNhcHN1bGF0aW9uOiAnYW55Jykge1xuICBAaWYgKCR0YXJnZXQgIT0gJ2FjdGl2ZScgYW5kICR0YXJnZXQgIT0gJ2JsYWNrLW9uLXdoaXRlJyBhbmQgJHRhcmdldCAhPSAnd2hpdGUtb24tYmxhY2snKSB7XG4gICAgQGVycm9yICdVbmtub3duIGNkay1oaWdoLWNvbnRyYXN0IHZhbHVlIFwiI3skdGFyZ2V0fVwiIHByb3ZpZGVkLiAnICtcbiAgICAgICAgICAgJ0FsbG93ZWQgdmFsdWVzIGFyZSBcImFjdGl2ZVwiLCBcImJsYWNrLW9uLXdoaXRlXCIsIGFuZCBcIndoaXRlLW9uLWJsYWNrXCInO1xuICB9XG5cbiAgQGlmICgkZW5jYXBzdWxhdGlvbiAhPSAnb24nIGFuZCAkZW5jYXBzdWxhdGlvbiAhPSAnb2ZmJyBhbmQgJGVuY2Fwc3VsYXRpb24gIT0gJ2FueScpIHtcbiAgICBAZXJyb3IgJ1Vua25vd24gY2RrLWhpZ2gtY29udHJhc3QgZW5jYXBzdWxhdGlvbiBcIiN7JGVuY2Fwc3VsYXRpb259XCIgcHJvdmlkZWQuICcgK1xuICAgICAgICAgICAnQWxsb3dlZCB2YWx1ZXMgYXJlIFwib25cIiwgXCJvZmZcIiwgYW5kIFwiYW55XCInO1xuICB9XG5cbiAgLy8gSWYgdGhlIHNlbGVjdG9yIGNvbnRleHQgaGFzIG11bHRpcGxlIHBhcnRzLCBzdWNoIGFzIGAuc2VjdGlvbiwgLnJlZ2lvbmAsIGp1c3QgZG9pbmdcbiAgLy8gYC5jZGstaGlnaC1jb250cmFzdC14eHggI3smfWAgd2lsbCBvbmx5IGFwcGx5IHRoZSBwYXJlbnQgc2VsZWN0b3IgdG8gdGhlIGZpcnN0IHBhcnQgb2YgdGhlXG4gIC8vIGNvbnRleHQuIFdlIGFkZHJlc3MgdGhpcyBieSBuZXN0aW5nIHRoZSBzZWxlY3RvciBjb250ZXh0IHVuZGVyIC5jZGstaGlnaC1jb250cmFzdC5cbiAgQGF0LXJvb3Qge1xuICAgICRzZWxlY3Rvci1jb250ZXh0OiAjeyZ9O1xuXG4gICAgQGlmICgkZW5jYXBzdWxhdGlvbiAhPSAnb24nKSB7XG4gICAgICAvLyBOb3RlIHRoYXQgaWYgdGhpcyBzZWxlY3RvciBpcyB1cGRhdGVkLCB0aGUgc2FtZSBjaGFuZ2UgaGFzIHRvIGJlIG1hZGUgaW5zaWRlXG4gICAgICAvLyBgX292ZXJsYXkuc2Nzc2Agd2hpY2ggY2FuJ3QgZGVwZW5kIG9uIHRoaXMgbWl4aW4gZHVlIHRvIHNvbWUgaW5mcmFzdHJ1Y3R1cmUgbGltaXRhdGlvbnMuXG4gICAgICAuY2RrLWhpZ2gtY29udHJhc3QtI3skdGFyZ2V0fSB7XG4gICAgICAgIEBpbmNsdWRlIF9jZGstb3B0aW9uYWxseS1uZXN0LWNvbnRlbnQoJHNlbGVjdG9yLWNvbnRleHQpIHtcbiAgICAgICAgICBAY29udGVudDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIEBpZiAoJGVuY2Fwc3VsYXRpb24gIT0gJ29mZicpIHtcbiAgICAgIC5jZGstaGlnaC1jb250cmFzdC0jeyR0YXJnZXR9IDpob3N0IHtcbiAgICAgICAgQGluY2x1ZGUgX2Nkay1vcHRpb25hbGx5LW5lc3QtY29udGVudCgkc2VsZWN0b3ItY29udGV4dCkge1xuICAgICAgICAgIEBjb250ZW50O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIENvcmUgc3R5bGVzIHRoYXQgZW5hYmxlIG1vbml0b3JpbmcgYXV0b2ZpbGwgc3RhdGUgb2YgdGV4dCBmaWVsZHMuXG5AbWl4aW4gY2RrLXRleHQtZmllbGQge1xuICAvLyBLZXlmcmFtZXMgdGhhdCBhcHBseSBubyBzdHlsZXMsIGJ1dCBhbGxvdyB1cyB0byBtb25pdG9yIHdoZW4gYW4gdGV4dCBmaWVsZCBiZWNvbWVzIGF1dG9maWxsZWRcbiAgLy8gYnkgd2F0Y2hpbmcgZm9yIHRoZSBhbmltYXRpb24gZXZlbnRzIHRoYXQgYXJlIGZpcmVkIHdoZW4gdGhleSBzdGFydC4gTm90ZTogdGhlIC8qISovIGNvbW1lbnQgaXNcbiAgLy8gbmVlZGVkIHRvIHByZXZlbnQgTGliU2FzcyBmcm9tIHN0cmlwcGluZyB0aGUga2V5ZnJhbWVzIG91dC5cbiAgLy8gQmFzZWQgb246IGh0dHBzOi8vbWVkaXVtLmNvbS9AYnJ1bm4vZGV0ZWN0aW5nLWF1dG9maWxsZWQtZmllbGRzLWluLWphdmFzY3JpcHQtYWVkNTk4ZDI1ZGE3XG4gIEBrZXlmcmFtZXMgY2RrLXRleHQtZmllbGQtYXV0b2ZpbGwtc3RhcnQgey8qISovfVxuICBAa2V5ZnJhbWVzIGNkay10ZXh0LWZpZWxkLWF1dG9maWxsLWVuZCB7LyohKi99XG5cbiAgLmNkay10ZXh0LWZpZWxkLWF1dG9maWxsLW1vbml0b3JlZDotd2Via2l0LWF1dG9maWxsIHtcbiAgICAvLyBTaW5jZSBDaHJvbWUgODAgd2UgbmVlZCBhIDFtcyBkZWxheSwgb3IgdGhlIGFuaW1hdGlvbnN0YXJ0IGV2ZW50IHdvbid0IGZpcmUuXG4gICAgYW5pbWF0aW9uOiBjZGstdGV4dC1maWVsZC1hdXRvZmlsbC1zdGFydCAwcyAxbXM7XG4gIH1cblxuICAuY2RrLXRleHQtZmllbGQtYXV0b2ZpbGwtbW9uaXRvcmVkOm5vdCg6LXdlYmtpdC1hdXRvZmlsbCkge1xuICAgIC8vIFNpbmNlIENocm9tZSA4MCB3ZSBuZWVkIGEgMW1zIGRlbGF5LCBvciB0aGUgYW5pbWF0aW9uc3RhcnQgZXZlbnQgd29uJ3QgZmlyZS5cbiAgICBhbmltYXRpb246IGNkay10ZXh0LWZpZWxkLWF1dG9maWxsLWVuZCAwcyAxbXM7XG4gIH1cblxuICAvLyBSZW1vdmUgdGhlIHJlc2l6ZSBoYW5kbGUgb24gYXV0b3NpemluZyB0ZXh0YXJlYXMsIGJlY2F1c2Ugd2hhdGV2ZXIgaGVpZ2h0XG4gIC8vIHRoZSB1c2VyIHJlc2l6ZWQgdG8gd2lsbCBiZSBvdmVyd3JpdHRlbiBvbmNlIHRoZXkgc3RhcnQgdHlwaW5nIGFnYWluLlxuICB0ZXh0YXJlYS5jZGstdGV4dGFyZWEtYXV0b3NpemUge1xuICAgIHJlc2l6ZTogbm9uZTtcbiAgfVxuXG4gIC8vIFRoaXMgY2xhc3MgaXMgdGVtcG9yYXJpbHkgYXBwbGllZCB0byB0aGUgdGV4dGFyZWEgd2hlbiBpdCBpcyBiZWluZyBtZWFzdXJlZC4gSXQgaXMgaW1tZWRpYXRlbHlcbiAgLy8gcmVtb3ZlZCB3aGVuIG1lYXN1cmluZyBpcyBjb21wbGV0ZS4gV2UgdXNlIGAhaW1wb3J0YW50YCBydWxlcyBoZXJlIHRvIG1ha2Ugc3VyZSB1c2VyLXNwZWNpZmllZFxuICAvLyBydWxlcyBkbyBub3QgaW50ZXJmZXJlIHdpdGggdGhlIG1lYXN1cmVtZW50LlxuICB0ZXh0YXJlYS5jZGstdGV4dGFyZWEtYXV0b3NpemUtbWVhc3VyaW5nIHtcbiAgICBAaW5jbHVkZSBfY2RrLXRleHRhcmVhLWF1dG9zaXplLW1lYXN1cmluZy1iYXNlO1xuICAgIGhlaWdodDogYXV0byAhaW1wb3J0YW50O1xuICAgIG92ZXJmbG93OiBoaWRkZW4gIWltcG9ydGFudDtcbiAgfVxuXG4gIC8vIFNpbWlsYXIgdG8gdGhlIGBjZGstdGV4dGFyZWEtYXV0b3NpemUtbWVhc3VyaW5nYCBjbGFzcywgYnV0IG9ubHkgYXBwbGllZCBvbiBGaXJlZm94LiBXZSBuZWVkXG4gIC8vIHRvIHVzZSB0aGlzIGNsYXNzLCBiZWNhdXNlIEZpcmVmb3ggaGFzIGEgYnVnIHdoZXJlIGNoYW5naW5nIHRoZSBgb3ZlcmZsb3dgIGJyZWFrcyB0aGUgdXNlcidzXG4gIC8vIGFiaWxpdHkgdG8gdW5kby9yZWRvIHdoYXQgdGhleSB3ZXJlIHR5cGluZyAoc2VlICMxNjYyOSkuIFRoaXMgY2xhc3MgaXMgb25seSBzY29wZWQgdG8gRmlyZWZveCxcbiAgLy8gYmVjYXVzZSB0aGUgbWVhc3VyZW1lbnRzIHRoZXJlIGRvbid0IHNlZW0gdG8gYmUgYWZmZWN0ZWQgYnkgdGhlIGBoZWlnaHQ6IDBgLCB3aGVyZWFzIG9uIG90aGVyXG4gIC8vIGJyb3dzZXJzIHRoZXkgYXJlLCBlLmcuIENocm9tZSBkZXRlY3RzIGxvbmdlciB0ZXh0IGFuZCBJRSBkb2VzJ3QgcmVzaXplIGJhY2sgdG8gbm9ybWFsLlxuICAvLyBJZGVudGljYWwgaXNzdWUgcmVwb3J0OiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD00NDg3ODRcbiAgdGV4dGFyZWEuY2RrLXRleHRhcmVhLWF1dG9zaXplLW1lYXN1cmluZy1maXJlZm94IHtcbiAgICBAaW5jbHVkZSBfY2RrLXRleHRhcmVhLWF1dG9zaXplLW1lYXN1cmluZy1iYXNlO1xuICAgIGhlaWdodDogMCAhaW1wb3J0YW50O1xuICB9XG59XG5cbkBtaXhpbiBfY2RrLXRleHRhcmVhLWF1dG9zaXplLW1lYXN1cmluZy1iYXNlIHtcbiAgLy8gSGF2aW5nIDJweCB0b3AgYW5kIGJvdHRvbSBwYWRkaW5nIHNlZW1zIHRvIGZpeCBhIGJ1ZyB3aGVyZSBDaHJvbWUgZ2V0cyBhbiBpbmNvcnJlY3RcbiAgLy8gbWVhc3VyZW1lbnQuIFdlIGp1c3QgaGF2ZSB0byBhY2NvdW50IGZvciBpdCBsYXRlciBhbmQgc3VidHJhY3QgaXQgb2ZmIHRoZSBmaW5hbCByZXN1bHQuXG4gIHBhZGRpbmc6IDJweCAwICFpbXBvcnRhbnQ7XG4gIGJveC1zaXppbmc6IGNvbnRlbnQtYm94ICFpbXBvcnRhbnQ7XG59XG5cbi8vIFVzZWQgdG8gZ2VuZXJhdGUgVUlEcyBmb3Iga2V5ZnJhbWVzIHVzZWQgdG8gY2hhbmdlIHRoZSB0ZXh0IGZpZWxkIGF1dG9maWxsIHN0eWxlcy5cbiRjZGstdGV4dC1maWVsZC1hdXRvZmlsbC1jb2xvci1mcmFtZS1jb3VudDogMDtcblxuLy8gTWl4aW4gdXNlZCB0byBhcHBseSBjdXN0b20gYmFja2dyb3VuZCBhbmQgZm9yZWdyb3VuZCBjb2xvcnMgdG8gYW4gYXV0b2ZpbGxlZCB0ZXh0IGZpZWxkLlxuLy8gQmFzZWQgb246IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI3ODE1NDkvXG4vLyByZW1vdmluZy1pbnB1dC1iYWNrZ3JvdW5kLWNvbG91ci1mb3ItY2hyb21lLWF1dG9jb21wbGV0ZSNhbnN3ZXItMzc0MzIyNjBcbkBtaXhpbiBjZGstdGV4dC1maWVsZC1hdXRvZmlsbC1jb2xvcigkYmFja2dyb3VuZCwgJGZvcmVncm91bmQ6JycpIHtcbiAgQGtleWZyYW1lcyBjZGstdGV4dC1maWVsZC1hdXRvZmlsbC1jb2xvci0jeyRjZGstdGV4dC1maWVsZC1hdXRvZmlsbC1jb2xvci1mcmFtZS1jb3VudH0ge1xuICAgIHRvIHtcbiAgICAgIGJhY2tncm91bmQ6ICRiYWNrZ3JvdW5kO1xuICAgICAgQGlmICRmb3JlZ3JvdW5kICE9ICcnIHsgY29sb3I6ICRmb3JlZ3JvdW5kOyB9XG4gICAgfVxuICB9XG5cbiAgJjotd2Via2l0LWF1dG9maWxsIHtcbiAgICBhbmltYXRpb246IGNkay10ZXh0LWZpZWxkLWF1dG9maWxsLWNvbG9yLSN7JGNkay10ZXh0LWZpZWxkLWF1dG9maWxsLWNvbG9yLWZyYW1lLWNvdW50fSBib3RoO1xuICB9XG5cbiAgJi5jZGstdGV4dC1maWVsZC1hdXRvZmlsbC1tb25pdG9yZWQ6LXdlYmtpdC1hdXRvZmlsbCB7XG4gICAgLy8gU2luY2UgQ2hyb21lIDgwIHdlIG5lZWQgYSAxbXMgZGVsYXkgZm9yIGNkay10ZXh0LWZpZWxkLWF1dG9maWxsLXN0YXJ0LCBvciB0aGUgYW5pbWF0aW9uc3RhcnRcbiAgICAvLyBldmVudCB3b24ndCBmaXJlLlxuICAgIGFuaW1hdGlvbjogY2RrLXRleHQtZmllbGQtYXV0b2ZpbGwtc3RhcnQgMHMgMW1zLFxuICAgICAgICAgICAgICAgY2RrLXRleHQtZmllbGQtYXV0b2ZpbGwtY29sb3ItI3skY2RrLXRleHQtZmllbGQtYXV0b2ZpbGwtY29sb3ItZnJhbWUtY291bnR9IGJvdGg7XG4gIH1cblxuICAkY2RrLXRleHQtZmllbGQtYXV0b2ZpbGwtY29sb3ItZnJhbWUtY291bnQ6XG4gICAgICAkY2RrLXRleHQtZmllbGQtYXV0b2ZpbGwtY29sb3ItZnJhbWUtY291bnQgKyAxICFnbG9iYWw7XG59XG5cblxuLy8gQ29yZSBzdHlsZXMgdGhhdCBjYW4gYmUgdXNlZCB0byBhcHBseSBtYXRlcmlhbCBkZXNpZ24gdHJlYXRtZW50cyB0byBhbnkgZWxlbWVudC5cbi8vIE1lZGlhIHF1ZXJpZXNcbi8vIFRPRE8oam9zZXBocGVycm90dCk6IENoYW5nZSAkbWF0LXhzbWFsbCBhbmQgJG1hdC1zbWFsbCB1c2FnZXMgdG8gcmVseSBvbiBCcmVha3BvaW50T2JzZXJ2ZXIsXG4kbWF0LXhzbWFsbDogJ21heC13aWR0aDogNTk5cHgnO1xuJG1hdC1zbWFsbDogJ21heC13aWR0aDogOTU5cHgnO1xuXG4vLyBUT0RPOiBSZXZpc2l0IGFsbCB6LWluZGljZXMgYmVmb3JlIGJldGFcbi8vIHotaW5kZXggbWFzdGVyIGxpc3RcblxuJHotaW5kZXgtZmFiOiAyMCAhZGVmYXVsdDtcbiR6LWluZGV4LWRyYXdlcjogMTAwICFkZWZhdWx0O1xuXG4vLyBHbG9iYWwgY29uc3RhbnRzXG4kcGk6IDMuMTQxNTkyNjU7XG5cbi8vIFBhZGRpbmcgYmV0d2VlbiBpbnB1dCB0b2dnbGVzIGFuZCB0aGVpciBsYWJlbHNcbiRtYXQtdG9nZ2xlLXBhZGRpbmc6IDhweCAhZGVmYXVsdDtcbi8vIFdpZHRoIGFuZCBoZWlnaHQgb2YgaW5wdXQgdG9nZ2xlc1xuJG1hdC10b2dnbGUtc2l6ZTogMjBweCAhZGVmYXVsdDtcblxuLy8gRWFzaW5nIEN1cnZlc1xuLy8gVE9ETyhqZWxib3Vybik6IGFsbCBvZiB0aGVzZSBuZWVkIHRvIGJlIHJldmlzaXRlZFxuXG4vLyBUaGUgZGVmYXVsdCBhbmltYXRpb24gY3VydmVzIHVzZWQgYnkgbWF0ZXJpYWwgZGVzaWduLlxuJG1hdC1saW5lYXItb3V0LXNsb3ctaW4tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMCwgMCwgMC4yLCAwLjEpICFkZWZhdWx0O1xuJG1hdC1mYXN0LW91dC1zbG93LWluLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKSAhZGVmYXVsdDtcbiRtYXQtZmFzdC1vdXQtbGluZWFyLWluLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuNCwgMCwgMSwgMSkgIWRlZmF1bHQ7XG5cbiRlYXNlLWluLW91dC1jdXJ2ZS1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuMzUsIDAsIDAuMjUsIDEpICFkZWZhdWx0O1xuXG4kc3dpZnQtZWFzZS1vdXQtZHVyYXRpb246IDQwMG1zICFkZWZhdWx0O1xuJHN3aWZ0LWVhc2Utb3V0LXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuMjUsIDAuOCwgMC4yNSwgMSkgIWRlZmF1bHQ7XG4kc3dpZnQtZWFzZS1vdXQ6IGFsbCAkc3dpZnQtZWFzZS1vdXQtZHVyYXRpb24gJHN3aWZ0LWVhc2Utb3V0LXRpbWluZy1mdW5jdGlvbiAhZGVmYXVsdDtcblxuJHN3aWZ0LWVhc2UtaW4tZHVyYXRpb246IDMwMG1zICFkZWZhdWx0O1xuJHN3aWZ0LWVhc2UtaW4tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC41NSwgMCwgMC41NSwgMC4yKSAhZGVmYXVsdDtcbiRzd2lmdC1lYXNlLWluOiBhbGwgJHN3aWZ0LWVhc2UtaW4tZHVyYXRpb24gJHN3aWZ0LWVhc2UtaW4tdGltaW5nLWZ1bmN0aW9uICFkZWZhdWx0O1xuXG4kc3dpZnQtZWFzZS1pbi1vdXQtZHVyYXRpb246IDUwMG1zICFkZWZhdWx0O1xuJHN3aWZ0LWVhc2UtaW4tb3V0LXRpbWluZy1mdW5jdGlvbjogJGVhc2UtaW4tb3V0LWN1cnZlLWZ1bmN0aW9uICFkZWZhdWx0O1xuJHN3aWZ0LWVhc2UtaW4tb3V0OiBhbGwgJHN3aWZ0LWVhc2UtaW4tb3V0LWR1cmF0aW9uICRzd2lmdC1lYXNlLWluLW91dC10aW1pbmctZnVuY3Rpb24gIWRlZmF1bHQ7XG5cbiRzd2lmdC1saW5lYXItZHVyYXRpb246IDgwbXMgIWRlZmF1bHQ7XG4kc3dpZnQtbGluZWFyLXRpbWluZy1mdW5jdGlvbjogbGluZWFyICFkZWZhdWx0O1xuJHN3aWZ0LWxpbmVhcjogYWxsICRzd2lmdC1saW5lYXItZHVyYXRpb24gJHN3aWZ0LWxpbmVhci10aW1pbmctZnVuY3Rpb24gIWRlZmF1bHQ7XG5cblxuXG4vLyBBIGNvbGxlY3Rpb24gb2YgbWl4aW5zIGFuZCBDU1MgY2xhc3NlcyB0aGF0IGNhbiBiZSB1c2VkIHRvIGFwcGx5IGVsZXZhdGlvbiB0byBhIG1hdGVyaWFsXG4vLyBlbGVtZW50LlxuLy8gU2VlOiBodHRwczovL21hdGVyaWFsLmlvL2Rlc2lnbi9lbnZpcm9ubWVudC9lbGV2YXRpb24uaHRtbFxuLy8gRXhhbXBsZXM6XG4vL1xuLy9cbi8vIC5tYXQtZm9vIHtcbi8vICAgQGluY2x1ZGUgJG1hdC1lbGV2YXRpb24oMik7XG4vL1xuLy8gICAmOmFjdGl2ZSB7XG4vLyAgICAgQGluY2x1ZGUgJG1hdC1lbGV2YXRpb24oOCk7XG4vLyAgIH1cbi8vIH1cbi8vXG4vLyA8ZGl2IGlkPVwiZXh0ZXJuYWwtY2FyZFwiIGNsYXNzPVwibWF0LWVsZXZhdGlvbi16MlwiPjxwPlNvbWUgY29udGVudDwvcD48L2Rpdj5cbi8vXG4vLyBGb3IgYW4gZXhwbGFuYXRpb24gb2YgdGhlIGRlc2lnbiBiZWhpbmQgaG93IGVsZXZhdGlvbiBpcyBpbXBsZW1lbnRlZCwgc2VlIHRoZSBkZXNpZ24gZG9jIGF0XG4vLyBodHRwczovL2dvby5nbC9LcTBrOVouXG5cbi8vIENvbG9ycyBmb3IgdW1icmEsIHBlbnVtYnJhLCBhbmQgYW1iaWVudCBzaGFkb3dzLiBBcyBkZXNjcmliZWQgaW4gdGhlIGRlc2lnbiBkb2MsIGVhY2ggZWxldmF0aW9uXG4vLyBsZXZlbCBpcyBjcmVhdGVkIHVzaW5nIGEgc2V0IG9mIDMgc2hhZG93IHZhbHVlcywgb25lIGZvciB1bWJyYSAodGhlIHNoYWRvdyByZXByZXNlbnRpbmcgdGhlXG4vLyBzcGFjZSBjb21wbGV0ZWx5IG9ic2N1cmVkIGJ5IGFuIG9iamVjdCByZWxhdGl2ZSB0byBpdHMgbGlnaHQgc291cmNlKSwgb25lIGZvciBwZW51bWJyYSAodGhlXG4vLyBzcGFjZSBwYXJ0aWFsbHkgb2JzY3VyZWQgYnkgYW4gb2JqZWN0KSwgYW5kIG9uZSBmb3IgYW1iaWVudCAodGhlIHNwYWNlIHdoaWNoIGNvbnRhaW5zIHRoZSBvYmplY3Rcbi8vIGl0c2VsZikuIEZvciBhIGZ1cnRoZXIgZXhwbGFuYXRpb24gb2YgdGhlc2UgdGVybXMgYW5kIHRoZWlyIG1lYW5pbmdzLCBzZWVcbi8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1VtYnJhLF9wZW51bWJyYV9hbmRfYW50dW1icmEuXG5cbi8vIE1hcHMgZm9yIHRoZSBkaWZmZXJlbnQgc2hhZG93IHNldHMgYW5kIHRoZWlyIHZhbHVlcyB3aXRoaW4gZWFjaCB6LXNwYWNlLiBUaGVzZSB2YWx1ZXMgd2VyZVxuLy8gY3JlYXRlZCBieSB0YWtpbmcgYSBmZXcgcmVmZXJlbmNlIHNoYWRvdyBzZXRzIGNyZWF0ZWQgYnkgR29vZ2xlJ3MgRGVzaWduZXJzIGFuZCBpbnRlcnBvbGF0aW5nXG4vLyBhbGwgb2YgdGhlIHZhbHVlcyBiZXR3ZWVuIHRoZW0uXG5cbkBmdW5jdGlvbiBfZ2V0LXVtYnJhLW1hcCgkY29sb3IsICRvcGFjaXR5KSB7XG4gICRzaGFkb3ctY29sb3I6IGlmKHR5cGUtb2YoJGNvbG9yKSA9PSBjb2xvciwgcmdiYSgkY29sb3IsICRvcGFjaXR5ICogMC4yKSwgJGNvbG9yKTtcblxuICBAcmV0dXJuIChcbiAgICAwOiAnMHB4IDBweCAwcHggMHB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDE6ICcwcHggMnB4IDFweCAtMXB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDI6ICcwcHggM3B4IDFweCAtMnB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDM6ICcwcHggM3B4IDNweCAtMnB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDQ6ICcwcHggMnB4IDRweCAtMXB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDU6ICcwcHggM3B4IDVweCAtMXB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDY6ICcwcHggM3B4IDVweCAtMXB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDc6ICcwcHggNHB4IDVweCAtMnB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDg6ICcwcHggNXB4IDVweCAtM3B4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDk6ICcwcHggNXB4IDZweCAtM3B4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDEwOiAnMHB4IDZweCA2cHggLTNweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxMTogJzBweCA2cHggN3B4IC00cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMTI6ICcwcHggN3B4IDhweCAtNHB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDEzOiAnMHB4IDdweCA4cHggLTRweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxNDogJzBweCA3cHggOXB4IC00cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMTU6ICcwcHggOHB4IDlweCAtNXB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDE2OiAnMHB4IDhweCAxMHB4IC01cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMTc6ICcwcHggOHB4IDExcHggLTVweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxODogJzBweCA5cHggMTFweCAtNXB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDE5OiAnMHB4IDlweCAxMnB4IC02cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMjA6ICcwcHggMTBweCAxM3B4IC02cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMjE6ICcwcHggMTBweCAxM3B4IC02cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMjI6ICcwcHggMTBweCAxNHB4IC02cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMjM6ICcwcHggMTFweCAxNHB4IC03cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMjQ6ICcwcHggMTFweCAxNXB4IC03cHggI3skc2hhZG93LWNvbG9yfSdcbiAgKTtcbn1cblxuQGZ1bmN0aW9uIF9nZXQtcGVudW1icmEtbWFwKCRjb2xvciwgJG9wYWNpdHkpIHtcbiAgJHNoYWRvdy1jb2xvcjogaWYodHlwZS1vZigkY29sb3IpID09IGNvbG9yLCByZ2JhKCRjb2xvciwgJG9wYWNpdHkgKiAwLjE0KSwgJGNvbG9yKTtcblxuICBAcmV0dXJuIChcbiAgICAwOiAnMHB4IDBweCAwcHggMHB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDE6ICcwcHggMXB4IDFweCAwcHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMjogJzBweCAycHggMnB4IDBweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAzOiAnMHB4IDNweCA0cHggMHB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDQ6ICcwcHggNHB4IDVweCAwcHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgNTogJzBweCA1cHggOHB4IDBweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICA2OiAnMHB4IDZweCAxMHB4IDBweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICA3OiAnMHB4IDdweCAxMHB4IDFweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICA4OiAnMHB4IDhweCAxMHB4IDFweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICA5OiAnMHB4IDlweCAxMnB4IDFweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxMDogJzBweCAxMHB4IDE0cHggMXB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDExOiAnMHB4IDExcHggMTVweCAxcHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMTI6ICcwcHggMTJweCAxN3B4IDJweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxMzogJzBweCAxM3B4IDE5cHggMnB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDE0OiAnMHB4IDE0cHggMjFweCAycHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMTU6ICcwcHggMTVweCAyMnB4IDJweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxNjogJzBweCAxNnB4IDI0cHggMnB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDE3OiAnMHB4IDE3cHggMjZweCAycHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMTg6ICcwcHggMThweCAyOHB4IDJweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxOTogJzBweCAxOXB4IDI5cHggMnB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDIwOiAnMHB4IDIwcHggMzFweCAzcHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMjE6ICcwcHggMjFweCAzM3B4IDNweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAyMjogJzBweCAyMnB4IDM1cHggM3B4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDIzOiAnMHB4IDIzcHggMzZweCAzcHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMjQ6ICcwcHggMjRweCAzOHB4IDNweCAjeyRzaGFkb3ctY29sb3J9J1xuICApO1xufVxuXG5AZnVuY3Rpb24gX2dldC1hbWJpZW50LW1hcCgkY29sb3IsICRvcGFjaXR5KSB7XG4gICRzaGFkb3ctY29sb3I6IGlmKHR5cGUtb2YoJGNvbG9yKSA9PSBjb2xvciwgcmdiYSgkY29sb3IsICRvcGFjaXR5ICogMC4xMiksICRjb2xvcik7XG5cbiAgQHJldHVybiAoXG4gICAgMDogJzBweCAwcHggMHB4IDBweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxOiAnMHB4IDFweCAzcHggMHB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDI6ICcwcHggMXB4IDVweCAwcHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMzogJzBweCAxcHggOHB4IDBweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICA0OiAnMHB4IDFweCAxMHB4IDBweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICA1OiAnMHB4IDFweCAxNHB4IDBweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICA2OiAnMHB4IDFweCAxOHB4IDBweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICA3OiAnMHB4IDJweCAxNnB4IDFweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICA4OiAnMHB4IDNweCAxNHB4IDJweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICA5OiAnMHB4IDNweCAxNnB4IDJweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxMDogJzBweCA0cHggMThweCAzcHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMTE6ICcwcHggNHB4IDIwcHggM3B4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDEyOiAnMHB4IDVweCAyMnB4IDRweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxMzogJzBweCA1cHggMjRweCA0cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMTQ6ICcwcHggNXB4IDI2cHggNHB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDE1OiAnMHB4IDZweCAyOHB4IDVweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxNjogJzBweCA2cHggMzBweCA1cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMTc6ICcwcHggNnB4IDMycHggNXB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDE4OiAnMHB4IDdweCAzNHB4IDZweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxOTogJzBweCA3cHggMzZweCA2cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMjA6ICcwcHggOHB4IDM4cHggN3B4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDIxOiAnMHB4IDhweCA0MHB4IDdweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAyMjogJzBweCA4cHggNDJweCA3cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMjM6ICcwcHggOXB4IDQ0cHggOHB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDI0OiAnMHB4IDlweCA0NnB4IDhweCAjeyRzaGFkb3ctY29sb3J9J1xuICApO1xufVxuXG4vLyBUaGUgZGVmYXVsdCBkdXJhdGlvbiB2YWx1ZSBmb3IgZWxldmF0aW9uIHRyYW5zaXRpb25zLlxuJG1hdC1lbGV2YXRpb24tdHJhbnNpdGlvbi1kdXJhdGlvbjogMjgwbXMgIWRlZmF1bHQ7XG5cbi8vIFRoZSBkZWZhdWx0IGVhc2luZyB2YWx1ZSBmb3IgZWxldmF0aW9uIHRyYW5zaXRpb25zLlxuJG1hdC1lbGV2YXRpb24tdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246ICRtYXQtZmFzdC1vdXQtc2xvdy1pbi10aW1pbmctZnVuY3Rpb247XG5cbi8vIFRoZSBkZWZhdWx0IGNvbG9yIGZvciBlbGV2YXRpb24gc2hhZG93cy5cbiRtYXQtZWxldmF0aW9uLWNvbG9yOiBibGFjayAhZGVmYXVsdDtcblxuLy8gVGhlIGRlZmF1bHQgb3BhY2l0eSBzY2FsaW5nIHZhbHVlIGZvciBlbGV2YXRpb24gc2hhZG93cy5cbiRtYXQtZWxldmF0aW9uLW9wYWNpdHk6IDEgIWRlZmF1bHQ7XG5cbi8vIFByZWZpeCBmb3IgZWxldmF0aW9uLXJlbGF0ZWQgc2VsZWN0b3JzLlxuJG1hdC1lbGV2YXRpb24tcHJlZml4OiAnbWF0LWVsZXZhdGlvbi16JztcblxuLy8gQXBwbGllcyB0aGUgY29ycmVjdCBjc3MgcnVsZXMgdG8gYW4gZWxlbWVudCB0byBnaXZlIGl0IHRoZSBlbGV2YXRpb24gc3BlY2lmaWVkIGJ5ICR6VmFsdWUuXG4vLyBUaGUgJHpWYWx1ZSBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMjQuXG5AbWl4aW4gbWF0LWVsZXZhdGlvbigkelZhbHVlLCAkY29sb3I6ICRtYXQtZWxldmF0aW9uLWNvbG9yLCAkb3BhY2l0eTogJG1hdC1lbGV2YXRpb24tb3BhY2l0eSkge1xuICBAaWYgdHlwZS1vZigkelZhbHVlKSAhPSBudW1iZXIgb3Igbm90IHVuaXRsZXNzKCR6VmFsdWUpIHtcbiAgICBAZXJyb3IgJyR6VmFsdWUgbXVzdCBiZSBhIHVuaXRsZXNzIG51bWJlcic7XG4gIH1cbiAgQGlmICR6VmFsdWUgPCAwIG9yICR6VmFsdWUgPiAyNCB7XG4gICAgQGVycm9yICckelZhbHVlIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAyNCc7XG4gIH1cblxuICBib3gtc2hhZG93OiAje21hcC1nZXQoX2dldC11bWJyYS1tYXAoJGNvbG9yLCAkb3BhY2l0eSksICR6VmFsdWUpfSxcbiAgICAgICAgICAgICAgI3ttYXAtZ2V0KF9nZXQtcGVudW1icmEtbWFwKCRjb2xvciwgJG9wYWNpdHkpLCAkelZhbHVlKX0sXG4gICAgICAgICAgICAgICN7bWFwLWdldChfZ2V0LWFtYmllbnQtbWFwKCRjb2xvciwgJG9wYWNpdHkpLCAkelZhbHVlKX07XG59XG5cbi8vIEFwcGxpZXMgdGhlIGVsZXZhdGlvbiB0byBhbiBlbGVtZW50IGluIGEgbWFubmVyIHRoYXQgYWxsb3dzXG4vLyBjb25zdW1lcnMgdG8gb3ZlcnJpZGUgaXQgdmlhIHRoZSBNYXRlcmlhbCBlbGV2YXRpb24gY2xhc3Nlcy5cbkBtaXhpbiBtYXQtb3ZlcnJpZGFibGUtZWxldmF0aW9uKFxuICAgICR6VmFsdWUsXG4gICAgJGNvbG9yOiAkbWF0LWVsZXZhdGlvbi1jb2xvcixcbiAgICAkb3BhY2l0eTogJG1hdC1lbGV2YXRpb24tb3BhY2l0eSkge1xuICAmOm5vdChbY2xhc3MqPScjeyRtYXQtZWxldmF0aW9uLXByZWZpeH0nXSkge1xuICAgIEBpbmNsdWRlIG1hdC1lbGV2YXRpb24oJHpWYWx1ZSwgJGNvbG9yLCAkb3BhY2l0eSk7XG4gIH1cbn1cblxuLy8gUmV0dXJucyBhIHN0cmluZyB0aGF0IGNhbiBiZSB1c2VkIGFzIHRoZSB2YWx1ZSBmb3IgYSB0cmFuc2l0aW9uIHByb3BlcnR5IGZvciBlbGV2YXRpb24uXG4vLyBDYWxsaW5nIHRoaXMgZnVuY3Rpb24gZGlyZWN0bHkgaXMgdXNlZnVsIGluIHNpdHVhdGlvbnMgd2hlcmUgYSBjb21wb25lbnQgbmVlZHMgdG8gdHJhbnNpdGlvblxuLy8gbW9yZSB0aGFuIG9uZSBwcm9wZXJ0eS5cbi8vXG4vLyAuZm9vIHtcbi8vICAgdHJhbnNpdGlvbjogbWF0LWVsZXZhdGlvbi10cmFuc2l0aW9uLXByb3BlcnR5LXZhbHVlKCksIG9wYWNpdHkgMTAwbXMgZWFzZTtcbi8vIH1cbkBmdW5jdGlvbiBtYXQtZWxldmF0aW9uLXRyYW5zaXRpb24tcHJvcGVydHktdmFsdWUoXG4gICAgJGR1cmF0aW9uOiAkbWF0LWVsZXZhdGlvbi10cmFuc2l0aW9uLWR1cmF0aW9uLFxuICAgICRlYXNpbmc6ICRtYXQtZWxldmF0aW9uLXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uKSB7XG4gIEByZXR1cm4gYm94LXNoYWRvdyAjeyRkdXJhdGlvbn0gI3skZWFzaW5nfTtcbn1cblxuLy8gQXBwbGllcyB0aGUgY29ycmVjdCBjc3MgcnVsZXMgbmVlZGVkIHRvIGhhdmUgYW4gZWxlbWVudCB0cmFuc2l0aW9uIGJldHdlZW4gZWxldmF0aW9ucy5cbi8vIFRoaXMgbWl4aW4gc2hvdWxkIGJlIGFwcGxpZWQgdG8gZWxlbWVudHMgd2hvc2UgZWxldmF0aW9uIHZhbHVlcyB3aWxsIGNoYW5nZSBkZXBlbmRpbmcgb24gdGhlaXJcbi8vIGNvbnRleHQgKGUuZy4gd2hlbiBhY3RpdmUgb3IgZGlzYWJsZWQpLlxuLy9cbi8vIE5PVEUodHJhdmlza2F1Zm1hbik6IEJvdGggdGhpcyBtaXhpbiBhbmQgdGhlIGFib3ZlIGZ1bmN0aW9uIHVzZSBkZWZhdWx0IHBhcmFtZXRlcnMgc28gdGhleSBjYW5cbi8vIGJlIHVzZWQgaW4gdGhlIHNhbWUgd2F5IGJ5IGNsaWVudHMuXG5AbWl4aW4gbWF0LWVsZXZhdGlvbi10cmFuc2l0aW9uKFxuICAgICRkdXJhdGlvbjogJG1hdC1lbGV2YXRpb24tdHJhbnNpdGlvbi1kdXJhdGlvbixcbiAgICAkZWFzaW5nOiAkbWF0LWVsZXZhdGlvbi10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbikge1xuICB0cmFuc2l0aW9uOiBtYXQtZWxldmF0aW9uLXRyYW5zaXRpb24tcHJvcGVydHktdmFsdWUoJGR1cmF0aW9uLCAkZWFzaW5nKTtcbn1cblxuXG5AbWl4aW4gbWF0LXByaXZhdGUtdGhlbWUtZWxldmF0aW9uKCR6VmFsdWUsICRjb25maWcsICRvcGFjaXR5OiAkbWF0LWVsZXZhdGlvbi1vcGFjaXR5KSB7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuICAkZWxldmF0aW9uLWNvbG9yOiBtYXAtZ2V0KCRmb3JlZ3JvdW5kLCBlbGV2YXRpb24pO1xuICAkZWxldmF0aW9uLWNvbG9yLW9yLWRlZmF1bHQ6IGlmKCRlbGV2YXRpb24tY29sb3IgPT0gbnVsbCwgJG1hdC1lbGV2YXRpb24tY29sb3IsICRlbGV2YXRpb24tY29sb3IpO1xuXG4gIEBpbmNsdWRlIG1hdC1lbGV2YXRpb24oJHpWYWx1ZSwgJGVsZXZhdGlvbi1jb2xvci1vci1kZWZhdWx0LCAkb3BhY2l0eSk7XG59XG5cbkBtaXhpbiBtYXQtcHJpdmF0ZS10aGVtZS1vdmVycmlkYWJsZS1lbGV2YXRpb24oJHpWYWx1ZSwgJGNvbmZpZywgJG9wYWNpdHk6ICRtYXQtZWxldmF0aW9uLW9wYWNpdHkpIHtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG4gICRlbGV2YXRpb24tY29sb3I6IG1hcC1nZXQoJGZvcmVncm91bmQsIGVsZXZhdGlvbik7XG4gICRlbGV2YXRpb24tY29sb3Itb3ItZGVmYXVsdDogaWYoJGVsZXZhdGlvbi1jb2xvciA9PSBudWxsLCAkbWF0LWVsZXZhdGlvbi1jb2xvciwgJGVsZXZhdGlvbi1jb2xvcik7XG5cbiAgQGluY2x1ZGUgbWF0LW92ZXJyaWRhYmxlLWVsZXZhdGlvbigkelZhbHVlLCAkZWxldmF0aW9uLWNvbG9yLW9yLWRlZmF1bHQsICRvcGFjaXR5KTtcbn1cblxuLy8gSWYgdGhlIG1hdC1hbmltYXRpb24tbm9vcCBjbGFzcyBpcyBwcmVzZW50IG9uIHRoZSBjb21wb25lbnRzIHJvb3QgZWxlbWVudCxcbi8vIHByZXZlbnQgbm9uIGNzcyBhbmltYXRpb25zIGZyb20gcnVubmluZy5cbi8vIE5PVEU6IEN1cnJlbnRseSB0aGlzIG1peGluIHNob3VsZCBvbmx5IGJlIHVzZWQgd2l0aCBjb21wb25lbnRzIHRoYXQgZG8gbm90XG4vLyBoYXZlIGFueSBwcm9qZWN0ZWQgY29udGVudC5cbkBtaXhpbiBtYXQtcHJpdmF0ZS1hbmltYXRpb24tbm9vcCgpIHtcbiAgLy8gQGF0LXJvb3QgaXMgdXNlZCB0byBzdGVwcyBvdXRzaWRlIG9mIHRoZSBoaWVyYXJjaHkgb2YgdGhlIHNjc3MgcnVsZXMuIFRoaXMgaXNcbiAgLy8gZG9uZSB0byBhbGxvdyBhIGNsYXNzIHRvIGJlIGFkZGVkIHRvIGJlIGFkZGVkIHRvIGJhc2Ugb2YgdGhlIHNjc3MgbmVzdGluZ1xuICAvLyBjb250ZXh0LlxuICAvLyBGb3IgZXhhbXBsZTpcbiAgLy8gLm15LXJvb3Qge1xuICAvLyAgIC5teS1zdWJjbGFzcyB7XG4gIC8vICAgICAgQGluY2x1ZGUgbWF0LXByaXZhdGUtYW5pbWF0aW9uLW5vb3AoKTtcbiAgLy8gICAgfVxuICAvLyB9XG4gIC8vIHJlc3VsdHMgaW46XG4gIC8vIC5fbWF0LWFuaW1hdGlvbi1ub29wYWJsZS5teS1yb290IC5teS1zdWJjbGFzcyB7IC4uLiB9XG4gIEBhdC1yb290IC5fbWF0LWFuaW1hdGlvbi1ub29wYWJsZSN7Jn0ge1xuICAgIHRyYW5zaXRpb246IG5vbmU7XG4gICAgYW5pbWF0aW9uOiBub25lO1xuICAgIEBjb250ZW50O1xuICB9XG59XG5cbi8vIENvbG9yIHBhbGV0dGVzIGZyb20gdGhlIE1hdGVyaWFsIERlc2lnbiBzcGVjLlxuLy8gU2VlIGh0dHBzOi8vbWF0ZXJpYWwuaW8vZGVzaWduL2NvbG9yL1xuLy9cbi8vIENvbnRyYXN0IGNvbG9ycyBhcmUgaGFyZC1jb2RlZCBiZWNhdXNlIGl0IGlzIHRvbyBkaWZmaWN1bHQgKHByb2JhYmx5IGltcG9zc2libGUpIHRvXG4vLyBjYWxjdWxhdGUgdGhlbS4gVGhlc2UgY29udHJhc3QgY29sb3JzIGFyZSBwdWxsZWQgZnJvbSB0aGUgcHVibGljIE1hdGVyaWFsIERlc2lnbiBzcGVjIHN3YXRjaGVzLlxuLy8gV2hpbGUgdGhlIGNvbnRyYXN0IGNvbG9ycyBpbiB0aGUgc3BlYyBhcmUgbm90IHByZXNjcmlwdGl2ZSwgd2UgdXNlIHRoZW0gZm9yIGNvbnZlbmllbmNlLlxuXG5cbi8vIEBkZXByZWNhdGVkIHJlbmFtZWQgdG8gJGRhcmstcHJpbWFyeS10ZXh0LlxuLy8gQGJyZWFraW5nLWNoYW5nZSA4LjAuMFxuJGJsYWNrLTg3LW9wYWNpdHk6IHJnYmEoYmxhY2ssIDAuODcpO1xuLy8gQGRlcHJlY2F0ZWQgcmVuYW1lZCB0byAkbGlnaHQtcHJpbWFyeS10ZXh0LlxuLy8gQGJyZWFraW5nLWNoYW5nZSA4LjAuMFxuJHdoaXRlLTg3LW9wYWNpdHk6IHJnYmEod2hpdGUsIDAuODcpO1xuLy8gQGRlcHJlY2F0ZWQgdXNlICRkYXJrLVtzZWNvbmRhcnktdGV4dCxkaXNhYmxlZC10ZXh0LGRpdmlkZXJzLGZvY3VzZWRdIGluc3RlYWQuXG4vLyBAYnJlYWtpbmctY2hhbmdlIDguMC4wXG4kYmxhY2stMTItb3BhY2l0eTogcmdiYShibGFjaywgMC4xMik7XG4vLyBAZGVwcmVjYXRlZCB1c2UgJGxpZ2h0LVtzZWNvbmRhcnktdGV4dCxkaXNhYmxlZC10ZXh0LGRpdmlkZXJzLGZvY3VzZWRdIGluc3RlYWQuXG4vLyBAYnJlYWtpbmctY2hhbmdlIDguMC4wXG4kd2hpdGUtMTItb3BhY2l0eTogcmdiYSh3aGl0ZSwgMC4xMik7XG4vLyBAZGVwcmVjYXRlZCB1c2UgJGRhcmstW3NlY29uZGFyeS10ZXh0LGRpc2FibGVkLXRleHQsZGl2aWRlcnMsZm9jdXNlZF0gaW5zdGVhZC5cbi8vIEBicmVha2luZy1jaGFuZ2UgOC4wLjBcbiRibGFjay02LW9wYWNpdHk6IHJnYmEoYmxhY2ssIDAuMDYpO1xuLy8gQGRlcHJlY2F0ZWQgdXNlICRsaWdodC1bc2Vjb25kYXJ5LXRleHQsZGlzYWJsZWQtdGV4dCxkaXZpZGVycyxmb2N1c2VkXSBpbnN0ZWFkLlxuLy8gQGJyZWFraW5nLWNoYW5nZSA4LjAuMFxuJHdoaXRlLTYtb3BhY2l0eTogcmdiYSh3aGl0ZSwgMC4wNik7XG5cbiRkYXJrLXByaW1hcnktdGV4dDogcmdiYShibGFjaywgMC44Nyk7XG4kZGFyay1zZWNvbmRhcnktdGV4dDogcmdiYShibGFjaywgMC41NCk7XG4kZGFyay1kaXNhYmxlZC10ZXh0OiByZ2JhKGJsYWNrLCAwLjM4KTtcbiRkYXJrLWRpdmlkZXJzOiByZ2JhKGJsYWNrLCAwLjEyKTtcbiRkYXJrLWZvY3VzZWQ6IHJnYmEoYmxhY2ssIDAuMTIpO1xuJGxpZ2h0LXByaW1hcnktdGV4dDogd2hpdGU7XG4kbGlnaHQtc2Vjb25kYXJ5LXRleHQ6IHJnYmEod2hpdGUsIDAuNyk7XG4kbGlnaHQtZGlzYWJsZWQtdGV4dDogcmdiYSh3aGl0ZSwgMC41KTtcbiRsaWdodC1kaXZpZGVyczogcmdiYSh3aGl0ZSwgMC4xMik7XG4kbGlnaHQtZm9jdXNlZDogcmdiYSh3aGl0ZSwgMC4xMik7XG5cbiRtYXQtcmVkOiAoXG4gIDUwOiAjZmZlYmVlLFxuICAxMDA6ICNmZmNkZDIsXG4gIDIwMDogI2VmOWE5YSxcbiAgMzAwOiAjZTU3MzczLFxuICA0MDA6ICNlZjUzNTAsXG4gIDUwMDogI2Y0NDMzNixcbiAgNjAwOiAjZTUzOTM1LFxuICA3MDA6ICNkMzJmMmYsXG4gIDgwMDogI2M2MjgyOCxcbiAgOTAwOiAjYjcxYzFjLFxuICBBMTAwOiAjZmY4YTgwLFxuICBBMjAwOiAjZmY1MjUyLFxuICBBNDAwOiAjZmYxNzQ0LFxuICBBNzAwOiAjZDUwMDAwLFxuICBjb250cmFzdDogKFxuICAgIDUwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMjAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMzAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgNDAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgNTAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDYwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA3MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgODAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDkwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBMTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTIwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBNDAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIEE3MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gIClcbik7XG5cbiRtYXQtcGluazogKFxuICA1MDogI2ZjZTRlYyxcbiAgMTAwOiAjZjhiYmQwLFxuICAyMDA6ICNmNDhmYjEsXG4gIDMwMDogI2YwNjI5MixcbiAgNDAwOiAjZWM0MDdhLFxuICA1MDA6ICNlOTFlNjMsXG4gIDYwMDogI2Q4MWI2MCxcbiAgNzAwOiAjYzIxODViLFxuICA4MDA6ICNhZDE0NTcsXG4gIDkwMDogIzg4MGU0ZixcbiAgQTEwMDogI2ZmODBhYixcbiAgQTIwMDogI2ZmNDA4MSxcbiAgQTQwMDogI2Y1MDA1NyxcbiAgQTcwMDogI2M1MTE2MixcbiAgY29udHJhc3Q6IChcbiAgICA1MDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDMwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDQwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDUwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA2MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDgwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA5MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgQTEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEEyMDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgQTQwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBNzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICApXG4pO1xuXG4kbWF0LXB1cnBsZTogKFxuICA1MDogI2YzZTVmNSxcbiAgMTAwOiAjZTFiZWU3LFxuICAyMDA6ICNjZTkzZDgsXG4gIDMwMDogI2JhNjhjOCxcbiAgNDAwOiAjYWI0N2JjLFxuICA1MDA6ICM5YzI3YjAsXG4gIDYwMDogIzhlMjRhYSxcbiAgNzAwOiAjN2IxZmEyLFxuICA4MDA6ICM2YTFiOWEsXG4gIDkwMDogIzRhMTQ4YyxcbiAgQTEwMDogI2VhODBmYyxcbiAgQTIwMDogI2UwNDBmYixcbiAgQTQwMDogI2Q1MDBmOSxcbiAgQTcwMDogI2FhMDBmZixcbiAgY29udHJhc3Q6IChcbiAgICA1MDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDMwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA0MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNTAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDYwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA3MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgODAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDkwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBMTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTIwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBNDAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIEE3MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gIClcbik7XG5cbiRtYXQtZGVlcC1wdXJwbGU6IChcbiAgNTA6ICNlZGU3ZjYsXG4gIDEwMDogI2QxYzRlOSxcbiAgMjAwOiAjYjM5ZGRiLFxuICAzMDA6ICM5NTc1Y2QsXG4gIDQwMDogIzdlNTdjMixcbiAgNTAwOiAjNjczYWI3LFxuICA2MDA6ICM1ZTM1YjEsXG4gIDcwMDogIzUxMmRhOCxcbiAgODAwOiAjNDUyN2EwLFxuICA5MDA6ICMzMTFiOTIsXG4gIEExMDA6ICNiMzg4ZmYsXG4gIEEyMDA6ICM3YzRkZmYsXG4gIEE0MDA6ICM2NTFmZmYsXG4gIEE3MDA6ICM2MjAwZWEsXG4gIGNvbnRyYXN0OiAoXG4gICAgNTA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAxMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAyMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAzMDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNDAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDUwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA2MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDgwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA5MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgQTEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEEyMDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgQTQwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBNzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICApXG4pO1xuXG4kbWF0LWluZGlnbzogKFxuICA1MDogI2U4ZWFmNixcbiAgMTAwOiAjYzVjYWU5LFxuICAyMDA6ICM5ZmE4ZGEsXG4gIDMwMDogIzc5ODZjYixcbiAgNDAwOiAjNWM2YmMwLFxuICA1MDA6ICMzZjUxYjUsXG4gIDYwMDogIzM5NDlhYixcbiAgNzAwOiAjMzAzZjlmLFxuICA4MDA6ICMyODM1OTMsXG4gIDkwMDogIzFhMjM3ZSxcbiAgQTEwMDogIzhjOWVmZixcbiAgQTIwMDogIzUzNmRmZSxcbiAgQTQwMDogIzNkNWFmZSxcbiAgQTcwMDogIzMwNGZmZSxcbiAgY29udHJhc3Q6IChcbiAgICA1MDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDMwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA0MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNTAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDYwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA3MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgODAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDkwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBMTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTIwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBNDAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIEE3MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gIClcbik7XG5cbiRtYXQtYmx1ZTogKFxuICA1MDogI2UzZjJmZCxcbiAgMTAwOiAjYmJkZWZiLFxuICAyMDA6ICM5MGNhZjksXG4gIDMwMDogIzY0YjVmNixcbiAgNDAwOiAjNDJhNWY1LFxuICA1MDA6ICMyMTk2ZjMsXG4gIDYwMDogIzFlODhlNSxcbiAgNzAwOiAjMTk3NmQyLFxuICA4MDA6ICMxNTY1YzAsXG4gIDkwMDogIzBkNDdhMSxcbiAgQTEwMDogIzgyYjFmZixcbiAgQTIwMDogIzQ0OGFmZixcbiAgQTQwMDogIzI5NzlmZixcbiAgQTcwMDogIzI5NjJmZixcbiAgY29udHJhc3Q6IChcbiAgICA1MDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDMwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDQwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDUwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA2MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDgwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA5MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgQTEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEEyMDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgQTQwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBNzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICApXG4pO1xuXG4kbWF0LWxpZ2h0LWJsdWU6IChcbiAgNTA6ICNlMWY1ZmUsXG4gIDEwMDogI2IzZTVmYyxcbiAgMjAwOiAjODFkNGZhLFxuICAzMDA6ICM0ZmMzZjcsXG4gIDQwMDogIzI5YjZmNixcbiAgNTAwOiAjMDNhOWY0LFxuICA2MDA6ICMwMzliZTUsXG4gIDcwMDogIzAyODhkMSxcbiAgODAwOiAjMDI3N2JkLFxuICA5MDA6ICMwMTU3OWIsXG4gIEExMDA6ICM4MGQ4ZmYsXG4gIEEyMDA6ICM0MGM0ZmYsXG4gIEE0MDA6ICMwMGIwZmYsXG4gIEE3MDA6ICMwMDkxZWEsXG4gIGNvbnRyYXN0OiAoXG4gICAgNTA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAxMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAyMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAzMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA0MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA1MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNjAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDcwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA4MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgOTAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIEExMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBMjAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTQwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEE3MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gIClcbik7XG5cbiRtYXQtY3lhbjogKFxuICA1MDogI2UwZjdmYSxcbiAgMTAwOiAjYjJlYmYyLFxuICAyMDA6ICM4MGRlZWEsXG4gIDMwMDogIzRkZDBlMSxcbiAgNDAwOiAjMjZjNmRhLFxuICA1MDA6ICMwMGJjZDQsXG4gIDYwMDogIzAwYWNjMSxcbiAgNzAwOiAjMDA5N2E3LFxuICA4MDA6ICMwMDgzOGYsXG4gIDkwMDogIzAwNjA2NCxcbiAgQTEwMDogIzg0ZmZmZixcbiAgQTIwMDogIzE4ZmZmZixcbiAgQTQwMDogIzAwZTVmZixcbiAgQTcwMDogIzAwYjhkNCxcbiAgY29udHJhc3Q6IChcbiAgICA1MDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDMwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDQwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDUwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA2MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDgwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA5MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgQTEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEEyMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBNDAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTcwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICApXG4pO1xuXG4kbWF0LXRlYWw6IChcbiAgNTA6ICNlMGYyZjEsXG4gIDEwMDogI2IyZGZkYixcbiAgMjAwOiAjODBjYmM0LFxuICAzMDA6ICM0ZGI2YWMsXG4gIDQwMDogIzI2YTY5YSxcbiAgNTAwOiAjMDA5Njg4LFxuICA2MDA6ICMwMDg5N2IsXG4gIDcwMDogIzAwNzk2YixcbiAgODAwOiAjMDA2OTVjLFxuICA5MDA6ICMwMDRkNDAsXG4gIEExMDA6ICNhN2ZmZWIsXG4gIEEyMDA6ICM2NGZmZGEsXG4gIEE0MDA6ICMxZGU5YjYsXG4gIEE3MDA6ICMwMGJmYTUsXG4gIGNvbnRyYXN0OiAoXG4gICAgNTA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAxMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAyMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAzMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA0MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA1MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNjAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDcwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA4MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgOTAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIEExMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBMjAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTQwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEE3MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgKVxuKTtcblxuJG1hdC1ncmVlbjogKFxuICA1MDogI2U4ZjVlOSxcbiAgMTAwOiAjYzhlNmM5LFxuICAyMDA6ICNhNWQ2YTcsXG4gIDMwMDogIzgxYzc4NCxcbiAgNDAwOiAjNjZiYjZhLFxuICA1MDA6ICM0Y2FmNTAsXG4gIDYwMDogIzQzYTA0NyxcbiAgNzAwOiAjMzg4ZTNjLFxuICA4MDA6ICMyZTdkMzIsXG4gIDkwMDogIzFiNWUyMCxcbiAgQTEwMDogI2I5ZjZjYSxcbiAgQTIwMDogIzY5ZjBhZSxcbiAgQTQwMDogIzAwZTY3NixcbiAgQTcwMDogIzAwYzg1MyxcbiAgY29udHJhc3Q6IChcbiAgICA1MDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDMwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDQwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDUwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDYwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA3MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgODAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDkwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBMTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEE0MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBNzAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gIClcbik7XG5cbiRtYXQtbGlnaHQtZ3JlZW46IChcbiAgNTA6ICNmMWY4ZTksXG4gIDEwMDogI2RjZWRjOCxcbiAgMjAwOiAjYzVlMWE1LFxuICAzMDA6ICNhZWQ1ODEsXG4gIDQwMDogIzljY2M2NSxcbiAgNTAwOiAjOGJjMzRhLFxuICA2MDA6ICM3Y2IzNDIsXG4gIDcwMDogIzY4OWYzOCxcbiAgODAwOiAjNTU4YjJmLFxuICA5MDA6ICMzMzY5MWUsXG4gIEExMDA6ICNjY2ZmOTAsXG4gIEEyMDA6ICNiMmZmNTksXG4gIEE0MDA6ICM3NmZmMDMsXG4gIEE3MDA6ICM2NGRkMTcsXG4gIGNvbnRyYXN0OiAoXG4gICAgNTA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAxMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAyMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAzMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA0MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA1MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA2MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA3MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgODAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDkwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBMTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEE0MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBNzAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gIClcbik7XG5cbiRtYXQtbGltZTogKFxuICA1MDogI2Y5ZmJlNyxcbiAgMTAwOiAjZjBmNGMzLFxuICAyMDA6ICNlNmVlOWMsXG4gIDMwMDogI2RjZTc3NSxcbiAgNDAwOiAjZDRlMTU3LFxuICA1MDA6ICNjZGRjMzksXG4gIDYwMDogI2MwY2EzMyxcbiAgNzAwOiAjYWZiNDJiLFxuICA4MDA6ICM5ZTlkMjQsXG4gIDkwMDogIzgyNzcxNyxcbiAgQTEwMDogI2Y0ZmY4MSxcbiAgQTIwMDogI2VlZmY0MSxcbiAgQTQwMDogI2M2ZmYwMCxcbiAgQTcwMDogI2FlZWEwMCxcbiAgY29udHJhc3Q6IChcbiAgICA1MDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDMwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDQwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDUwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDYwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDcwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDgwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDkwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBMTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEE0MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBNzAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gIClcbik7XG5cbiRtYXQteWVsbG93OiAoXG4gIDUwOiAjZmZmZGU3LFxuICAxMDA6ICNmZmY5YzQsXG4gIDIwMDogI2ZmZjU5ZCxcbiAgMzAwOiAjZmZmMTc2LFxuICA0MDA6ICNmZmVlNTgsXG4gIDUwMDogI2ZmZWIzYixcbiAgNjAwOiAjZmRkODM1LFxuICA3MDA6ICNmYmMwMmQsXG4gIDgwMDogI2Y5YTgyNSxcbiAgOTAwOiAjZjU3ZjE3LFxuICBBMTAwOiAjZmZmZjhkLFxuICBBMjAwOiAjZmZmZjAwLFxuICBBNDAwOiAjZmZlYTAwLFxuICBBNzAwOiAjZmZkNjAwLFxuICBjb250cmFzdDogKFxuICAgIDUwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMjAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMzAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgNDAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgNTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgNjAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgNzAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgODAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgOTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEEyMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBNDAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTcwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICApXG4pO1xuXG4kbWF0LWFtYmVyOiAoXG4gIDUwOiAjZmZmOGUxLFxuICAxMDA6ICNmZmVjYjMsXG4gIDIwMDogI2ZmZTA4MixcbiAgMzAwOiAjZmZkNTRmLFxuICA0MDA6ICNmZmNhMjgsXG4gIDUwMDogI2ZmYzEwNyxcbiAgNjAwOiAjZmZiMzAwLFxuICA3MDA6ICNmZmEwMDAsXG4gIDgwMDogI2ZmOGYwMCxcbiAgOTAwOiAjZmY2ZjAwLFxuICBBMTAwOiAjZmZlNTdmLFxuICBBMjAwOiAjZmZkNzQwLFxuICBBNDAwOiAjZmZjNDAwLFxuICBBNzAwOiAjZmZhYjAwLFxuICBjb250cmFzdDogKFxuICAgIDUwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMjAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMzAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgNDAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgNTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgNjAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgNzAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgODAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgOTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEEyMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBNDAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTcwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICApXG4pO1xuXG4kbWF0LW9yYW5nZTogKFxuICA1MDogI2ZmZjNlMCxcbiAgMTAwOiAjZmZlMGIyLFxuICAyMDA6ICNmZmNjODAsXG4gIDMwMDogI2ZmYjc0ZCxcbiAgNDAwOiAjZmZhNzI2LFxuICA1MDA6ICNmZjk4MDAsXG4gIDYwMDogI2ZiOGMwMCxcbiAgNzAwOiAjZjU3YzAwLFxuICA4MDA6ICNlZjZjMDAsXG4gIDkwMDogI2U2NTEwMCxcbiAgQTEwMDogI2ZmZDE4MCxcbiAgQTIwMDogI2ZmYWI0MCxcbiAgQTQwMDogI2ZmOTEwMCxcbiAgQTcwMDogI2ZmNmQwMCxcbiAgY29udHJhc3Q6IChcbiAgICA1MDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDMwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDQwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDUwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDYwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDcwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDgwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA5MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgQTEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEEyMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBNDAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTcwMDogYmxhY2ssXG4gIClcbik7XG5cbiRtYXQtZGVlcC1vcmFuZ2U6IChcbiAgNTA6ICNmYmU5ZTcsXG4gIDEwMDogI2ZmY2NiYyxcbiAgMjAwOiAjZmZhYjkxLFxuICAzMDA6ICNmZjhhNjUsXG4gIDQwMDogI2ZmNzA0MyxcbiAgNTAwOiAjZmY1NzIyLFxuICA2MDA6ICNmNDUxMWUsXG4gIDcwMDogI2U2NGExOSxcbiAgODAwOiAjZDg0MzE1LFxuICA5MDA6ICNiZjM2MGMsXG4gIEExMDA6ICNmZjllODAsXG4gIEEyMDA6ICNmZjZlNDAsXG4gIEE0MDA6ICNmZjNkMDAsXG4gIEE3MDA6ICNkZDJjMDAsXG4gIGNvbnRyYXN0OiAoXG4gICAgNTA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAxMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAyMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAzMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA0MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA1MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNjAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDcwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA4MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgOTAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIEExMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBMjAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTQwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBNzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICApXG4pO1xuXG4kbWF0LWJyb3duOiAoXG4gIDUwOiAjZWZlYmU5LFxuICAxMDA6ICNkN2NjYzgsXG4gIDIwMDogI2JjYWFhNCxcbiAgMzAwOiAjYTE4ODdmLFxuICA0MDA6ICM4ZDZlNjMsXG4gIDUwMDogIzc5NTU0OCxcbiAgNjAwOiAjNmQ0YzQxLFxuICA3MDA6ICM1ZDQwMzcsXG4gIDgwMDogIzRlMzQyZSxcbiAgOTAwOiAjM2UyNzIzLFxuICBBMTAwOiAjZDdjY2M4LFxuICBBMjAwOiAjYmNhYWE0LFxuICBBNDAwOiAjOGQ2ZTYzLFxuICBBNzAwOiAjNWQ0MDM3LFxuICBjb250cmFzdDogKFxuICAgIDUwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMjAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDQwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA1MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNjAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDcwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA4MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgOTAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIEExMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBMjAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTQwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBNzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICApXG4pO1xuXG4kbWF0LWdyZXk6IChcbiAgNTA6ICNmYWZhZmEsXG4gIDEwMDogI2Y1ZjVmNSxcbiAgMjAwOiAjZWVlZWVlLFxuICAzMDA6ICNlMGUwZTAsXG4gIDQwMDogI2JkYmRiZCxcbiAgNTAwOiAjOWU5ZTllLFxuICA2MDA6ICM3NTc1NzUsXG4gIDcwMDogIzYxNjE2MSxcbiAgODAwOiAjNDI0MjQyLFxuICA5MDA6ICMyMTIxMjEsXG4gIEExMDA6ICNmZmZmZmYsXG4gIEEyMDA6ICNlZWVlZWUsXG4gIEE0MDA6ICNiZGJkYmQsXG4gIEE3MDA6ICM2MTYxNjEsXG4gIGNvbnRyYXN0OiAoXG4gICAgNTA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAxMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAyMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAzMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA0MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA1MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA2MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDgwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA5MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgQTEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEEyMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBNDAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTcwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgKVxuKTtcblxuLy8gQWxpYXMgZm9yIGFsdGVybmF0ZSBzcGVsbGluZy5cbiRtYXQtZ3JheTogJG1hdC1ncmV5O1xuXG4kbWF0LWJsdWUtZ3JleTogKFxuICA1MDogI2VjZWZmMSxcbiAgMTAwOiAjY2ZkOGRjLFxuICAyMDA6ICNiMGJlYzUsXG4gIDMwMDogIzkwYTRhZSxcbiAgNDAwOiAjNzg5MDljLFxuICA1MDA6ICM2MDdkOGIsXG4gIDYwMDogIzU0NmU3YSxcbiAgNzAwOiAjNDU1YTY0LFxuICA4MDA6ICMzNzQ3NGYsXG4gIDkwMDogIzI2MzIzOCxcbiAgQTEwMDogI2NmZDhkYyxcbiAgQTIwMDogI2IwYmVjNSxcbiAgQTQwMDogIzc4OTA5YyxcbiAgQTcwMDogIzQ1NWE2NCxcbiAgY29udHJhc3Q6IChcbiAgICA1MDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDMwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDQwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA1MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNjAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDcwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA4MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgOTAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIEExMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBMjAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTQwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBNzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICApXG4pO1xuXG4vLyBBbGlhcyBmb3IgYWx0ZXJuYXRlIHNwZWxsaW5nLlxuJG1hdC1ibHVlLWdyYXk6ICRtYXQtYmx1ZS1ncmV5O1xuXG5cbi8vIEJhY2tncm91bmQgcGFsZXR0ZSBmb3IgbGlnaHQgdGhlbWVzLlxuJG1hdC1saWdodC10aGVtZS1iYWNrZ3JvdW5kOiAoXG4gIHN0YXR1cy1iYXI6IG1hcC1nZXQoJG1hdC1ncmV5LCAzMDApLFxuICBhcHAtYmFyOiAgICBtYXAtZ2V0KCRtYXQtZ3JleSwgMTAwKSxcbiAgYmFja2dyb3VuZDogbWFwLWdldCgkbWF0LWdyZXksIDUwKSxcbiAgaG92ZXI6ICAgICAgcmdiYShibGFjaywgMC4wNCksIC8vIFRPRE8oa2FyYSk6IGNoZWNrIHN0eWxlIHdpdGggTWF0ZXJpYWwgRGVzaWduIFVYXG4gIGNhcmQ6ICAgICAgIHdoaXRlLFxuICBkaWFsb2c6ICAgICB3aGl0ZSxcbiAgZGlzYWJsZWQtYnV0dG9uOiByZ2JhKGJsYWNrLCAwLjEyKSxcbiAgcmFpc2VkLWJ1dHRvbjogd2hpdGUsXG4gIGZvY3VzZWQtYnV0dG9uOiAkZGFyay1mb2N1c2VkLFxuICBzZWxlY3RlZC1idXR0b246IG1hcC1nZXQoJG1hdC1ncmV5LCAzMDApLFxuICBzZWxlY3RlZC1kaXNhYmxlZC1idXR0b246IG1hcC1nZXQoJG1hdC1ncmV5LCA0MDApLFxuICBkaXNhYmxlZC1idXR0b24tdG9nZ2xlOiBtYXAtZ2V0KCRtYXQtZ3JleSwgMjAwKSxcbiAgdW5zZWxlY3RlZC1jaGlwOiBtYXAtZ2V0KCRtYXQtZ3JleSwgMzAwKSxcbiAgZGlzYWJsZWQtbGlzdC1vcHRpb246IG1hcC1nZXQoJG1hdC1ncmV5LCAyMDApLFxuICB0b29sdGlwOiBtYXAtZ2V0KCRtYXQtZ3JleSwgNzAwKSxcbik7XG5cbi8vIEJhY2tncm91bmQgcGFsZXR0ZSBmb3IgZGFyayB0aGVtZXMuXG4kbWF0LWRhcmstdGhlbWUtYmFja2dyb3VuZDogKFxuICBzdGF0dXMtYmFyOiBibGFjayxcbiAgYXBwLWJhcjogICAgbWFwLWdldCgkbWF0LWdyZXksIDkwMCksXG4gIGJhY2tncm91bmQ6ICMzMDMwMzAsXG4gIGhvdmVyOiAgICAgIHJnYmEod2hpdGUsIDAuMDQpLCAvLyBUT0RPKGthcmEpOiBjaGVjayBzdHlsZSB3aXRoIE1hdGVyaWFsIERlc2lnbiBVWFxuICBjYXJkOiAgICAgICBtYXAtZ2V0KCRtYXQtZ3JleSwgODAwKSxcbiAgZGlhbG9nOiAgICAgbWFwLWdldCgkbWF0LWdyZXksIDgwMCksXG4gIGRpc2FibGVkLWJ1dHRvbjogcmdiYSh3aGl0ZSwgMC4xMiksXG4gIHJhaXNlZC1idXR0b246IG1hcC1nZXQoJG1hdC1ncmV5LCA4MDApLFxuICBmb2N1c2VkLWJ1dHRvbjogJGxpZ2h0LWZvY3VzZWQsXG4gIHNlbGVjdGVkLWJ1dHRvbjogbWFwLWdldCgkbWF0LWdyZXksIDkwMCksXG4gIHNlbGVjdGVkLWRpc2FibGVkLWJ1dHRvbjogbWFwLWdldCgkbWF0LWdyZXksIDgwMCksXG4gIGRpc2FibGVkLWJ1dHRvbi10b2dnbGU6IGJsYWNrLFxuICB1bnNlbGVjdGVkLWNoaXA6IG1hcC1nZXQoJG1hdC1ncmV5LCA3MDApLFxuICBkaXNhYmxlZC1saXN0LW9wdGlvbjogYmxhY2ssXG4gIHRvb2x0aXA6IG1hcC1nZXQoJG1hdC1ncmV5LCA3MDApLFxuKTtcblxuLy8gRm9yZWdyb3VuZCBwYWxldHRlIGZvciBsaWdodCB0aGVtZXMuXG4kbWF0LWxpZ2h0LXRoZW1lLWZvcmVncm91bmQ6IChcbiAgYmFzZTogICAgICAgICAgICAgIGJsYWNrLFxuICBkaXZpZGVyOiAgICAgICAgICAgJGRhcmstZGl2aWRlcnMsXG4gIGRpdmlkZXJzOiAgICAgICAgICAkZGFyay1kaXZpZGVycyxcbiAgZGlzYWJsZWQ6ICAgICAgICAgICRkYXJrLWRpc2FibGVkLXRleHQsXG4gIGRpc2FibGVkLWJ1dHRvbjogICByZ2JhKGJsYWNrLCAwLjI2KSxcbiAgZGlzYWJsZWQtdGV4dDogICAgICRkYXJrLWRpc2FibGVkLXRleHQsXG4gIGVsZXZhdGlvbjogICAgICAgICBibGFjayxcbiAgaGludC10ZXh0OiAgICAgICAgICRkYXJrLWRpc2FibGVkLXRleHQsXG4gIHNlY29uZGFyeS10ZXh0OiAgICAkZGFyay1zZWNvbmRhcnktdGV4dCxcbiAgaWNvbjogICAgICAgICAgICAgIHJnYmEoYmxhY2ssIDAuNTQpLFxuICBpY29uczogICAgICAgICAgICAgcmdiYShibGFjaywgMC41NCksXG4gIHRleHQ6ICAgICAgICAgICAgICByZ2JhKGJsYWNrLCAwLjg3KSxcbiAgc2xpZGVyLW1pbjogICAgICAgIHJnYmEoYmxhY2ssIDAuODcpLFxuICBzbGlkZXItb2ZmOiAgICAgICAgcmdiYShibGFjaywgMC4yNiksXG4gIHNsaWRlci1vZmYtYWN0aXZlOiByZ2JhKGJsYWNrLCAwLjM4KSxcbik7XG5cbi8vIEZvcmVncm91bmQgcGFsZXR0ZSBmb3IgZGFyayB0aGVtZXMuXG4kbWF0LWRhcmstdGhlbWUtZm9yZWdyb3VuZDogKFxuICBiYXNlOiAgICAgICAgICAgICAgd2hpdGUsXG4gIGRpdmlkZXI6ICAgICAgICAgICAkbGlnaHQtZGl2aWRlcnMsXG4gIGRpdmlkZXJzOiAgICAgICAgICAkbGlnaHQtZGl2aWRlcnMsXG4gIGRpc2FibGVkOiAgICAgICAgICAkbGlnaHQtZGlzYWJsZWQtdGV4dCxcbiAgZGlzYWJsZWQtYnV0dG9uOiAgIHJnYmEod2hpdGUsIDAuMyksXG4gIGRpc2FibGVkLXRleHQ6ICAgICAkbGlnaHQtZGlzYWJsZWQtdGV4dCxcbiAgZWxldmF0aW9uOiAgICAgICAgIGJsYWNrLFxuICBoaW50LXRleHQ6ICAgICAgICAgJGxpZ2h0LWRpc2FibGVkLXRleHQsXG4gIHNlY29uZGFyeS10ZXh0OiAgICAkbGlnaHQtc2Vjb25kYXJ5LXRleHQsXG4gIGljb246ICAgICAgICAgICAgICB3aGl0ZSxcbiAgaWNvbnM6ICAgICAgICAgICAgIHdoaXRlLFxuICB0ZXh0OiAgICAgICAgICAgICAgd2hpdGUsXG4gIHNsaWRlci1taW46ICAgICAgICB3aGl0ZSxcbiAgc2xpZGVyLW9mZjogICAgICAgIHJnYmEod2hpdGUsIDAuMyksXG4gIHNsaWRlci1vZmYtYWN0aXZlOiByZ2JhKHdoaXRlLCAwLjMpLFxuKTtcblxuLy8gTm90ZSB0aGF0IHRoaXMgZmlsZSBpcyBjYWxsZWQgYHByaXZhdGVgLCBiZWNhdXNlIHRoZSBBUElzIGluIGl0IGFyZW4ndCBwdWJsaWMgeWV0LlxuLy8gT25jZSB0aGV5J3JlIG1hZGUgYXZhaWxhYmxlLCB0aGUgY29kZSBzaG91bGQgYmUgbW92ZWQgb3V0IGludG8gYW4gYGluZGV4LnNjc3NgLlxuXG4vLyBUYWtlbiBmcm9tIG1hdC1kZW5zaXR5IHdpdGggc21hbGwgbW9kaWZpY2F0aW9ucyB0byBub3QgcmVseSBvbiB0aGUgbmV3IFNhc3MgbW9kdWxlXG4vLyBzeXN0ZW0sIGFuZCB0byBzdXBwb3J0IGFyYml0cmFyeSBwcm9wZXJ0aWVzIGluIGEgZGVuc2l0eSBjb25maWd1cmF0aW9uLlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL21hdGVyaWFsLWNvbXBvbmVudHMvbWF0ZXJpYWwtY29tcG9uZW50cy13ZWIvYmxvYi9tYXN0ZXIvcGFja2FnZXMvbWRjLWRlbnNpdHlcblxuJF9tYXQtZGVuc2l0eS1pbnRlcnZhbDogNHB4ICFkZWZhdWx0O1xuJF9tYXQtZGVuc2l0eS1taW5pbXVtLXNjYWxlOiBtaW5pbXVtICFkZWZhdWx0O1xuJF9tYXQtZGVuc2l0eS1tYXhpbXVtLXNjYWxlOiBtYXhpbXVtICFkZWZhdWx0O1xuJF9tYXQtZGVuc2l0eS1zdXBwb3J0ZWQtc2NhbGVzOiAoZGVmYXVsdCwgbWluaW11bSwgbWF4aW11bSkgIWRlZmF1bHQ7XG4kX21hdC1kZW5zaXR5LWRlZmF1bHQtc2NhbGU6IDAgIWRlZmF1bHQ7XG5cbi8vIFdoZXRoZXIgZGVuc2l0eSBzaG91bGQgYmUgZ2VuZXJhdGVkIGF0IHJvb3QuIFRoaXMgd2lsbCBiZSB0ZW1wb3JhcmlseSBzZXQgdG8gYHRydWVgXG4vLyB3aGVuZXZlciBkZW5zaXR5IHN0eWxlcyBmb3IgbGVnYWN5IHRoZW1lcyBhcmUgZ2VuZXJhdGVkLlxuJG1hdC1wcml2YXRlLWRlbnNpdHktZ2VuZXJhdGUtYXQtcm9vdDogZmFsc2U7XG4vLyBXaGV0aGVyIGRlbnNpdHkgc3R5bGVzIHNob3VsZCBiZSBnZW5lcmF0ZWQuIFRoaXMgd2lsbCBiZSB0ZW1wb3JhcmlseSBzZXQgdG8gYGZhbHNlYCBpZlxuLy8gZHVwbGljYXRlIGRlbnNpdHkgc3R5bGVzIGZvciBhIGxlZ2FjeSB0aGVtZSB3b3VsZCBiZSBnZW5lcmF0ZWQuIEZvciBsZWdhY3kgdGhlbWVzLFxuLy8gd2UgYWx3YXlzIGdlbmVyYXRlIHRoZSBkZWZhdWx0IGRlbnNpdHkgKipvbmx5IG9uY2UqKiBhdCByb290LlxuJG1hdC1wcml2YXRlLWRlbnNpdHktZ2VuZXJhdGUtc3R5bGVzOiB0cnVlO1xuXG4vLyBNaXhpbiB0aGF0IGNhbiBiZSB1c2VkIHRvIHdyYXAgZGVuc2l0eSBzdHlsZXMgb2YgZ2l2ZW4gY29tcG9uZW50cy4gVGhlIG1peGluIHdpbGxcbi8vIG1vdmUgdGhlIGRlbnNpdHkgc3R5bGVzIHRvIHJvb3QgaWYgdGhlIGAkbWF0LXByaXZhdGUtZGVuc2l0eS1nZW5lcmF0ZS1hdC1yb290YCBnbG9iYWwgdmFyaWFibGVcbi8vIGlzIHNldC4gSWYgYCRtYXQtcHJpdmF0ZS1kZW5zaXR5LWdlbmVyYXRlLXN0eWxlc2AgaXMgc2V0IHRvIGBmYWxzZWAsIGdlbmVyYXRpb24gb2YgZGVuc2l0eVxuLy8gc3R5bGVzIHdyYXBwZWQgaW4gdGhpcyBtaXhpbiBpcyBza2lwcGVkLiBUaGlzIG1peGluIGV4aXN0cyB0byBpbXByb3ZlIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4vLyBvZiB0aGUgbmV3IHRoZW1pbmcgQVBJIHdoZXJlIGRlbnNpdHkgc3R5bGVzIGFyZSBpbmNsdWRlZCBhcyBwYXJ0IG9mIHRoZW1lcy4gUHJldmlvdXNseSxcbi8vIGRlbnNpdHkgc3R5bGVzIG9mIGNvbXBvbmVudHMgd2VyZSBwYXJ0IG9mIHRoZWlyIGJhc2Ugc3R5bGVzLiBXaXRoIHRoZSBuZXcgQVBJLCB0aGV5IGFyZVxuLy8gcGFydCBvZiB0aGUgdGhlbWluZyBzeXN0ZW0uIFRoZSBgPC4uPi10aGVtZWAgbWl4aW5zIGdlbmVyYXRlIGRlbnNpdHkgYnkgZGVmYXVsdCB1bmxlc3Ncbi8vIHRoZSBkZW5zaXR5IGNvbmZpZ3VyYXRpb24gaXMgZXhwbGljaXRseSBzcGVjaWZpZWQgYXMgcGVyIG5ldyBBUEkuIFRoaXMgbWVhbnMsIHRoYXQgcHJvamVjdHNcbi8vIHVzaW5nIGA8Li4+LXRoZW1lYCBtaXhpbnMgZm9yIHNlcGFyYXRlIHRoZW1lcyAobGlrZSBgLmRhcmstdGhlbWVgKSB3aWxsIGNhdXNlIGR1cGxpY2F0ZVxuLy8gZGVuc2l0eSBzdHlsZXMuIFRoaXMgaXMgYnJlYWtpbmcgYXMgaXQgaW5jcmVhc2VzIHNwZWNpZmljaXR5IG9mIGRlbnNpdHkgc3R5bGVzLiBUaGlzIG1peGluXG4vLyBwcm92aWRlcyBhbiBBUEkgdG8gY29udHJvbCBnZW5lcmF0aW9uIG9mIGRlbnNpdHkgc3R5bGVzIHNvIHRoYXQgd2UgY2FuIGVuc3VyZSB0aGV5IGFyZSBvbmx5XG4vLyBjcmVhdGVkICpvbmNlKiBhbmQgYXQgcm9vdC5cbkBtaXhpbiBtYXQtcHJpdmF0ZS1kZW5zaXR5LWxlZ2FjeS1jb21wYXRpYmlsaXR5KCkge1xuICBAaWYgJG1hdC1wcml2YXRlLWRlbnNpdHktZ2VuZXJhdGUtc3R5bGVzIGFuZCAkbWF0LXByaXZhdGUtZGVuc2l0eS1nZW5lcmF0ZS1hdC1yb290IHtcbiAgICBAYXQtcm9vdCB7XG4gICAgICBAY29udGVudDtcbiAgICB9XG4gIH1cbiAgQGVsc2UgaWYgJG1hdC1wcml2YXRlLWRlbnNpdHktZ2VuZXJhdGUtc3R5bGVzIHtcbiAgICBAY29udGVudDtcbiAgfVxufVxuXG5AZnVuY3Rpb24gbWF0LXByaXZhdGUtZGVuc2l0eS1wcm9wLXZhbHVlKCRkZW5zaXR5LWNvbmZpZywgJGRlbnNpdHktc2NhbGUsICRwcm9wZXJ0eS1uYW1lKSB7XG4gIEBpZiAodHlwZS1vZigkZGVuc2l0eS1zY2FsZSkgPT0gJ3N0cmluZycgYW5kXG4gICAgICBpbmRleCgkbGlzdDogJF9tYXQtZGVuc2l0eS1zdXBwb3J0ZWQtc2NhbGVzLCAkdmFsdWU6ICRkZW5zaXR5LXNjYWxlKSA9PSBudWxsKSB7XG4gICAgQGVycm9yICdtYXQtZGVuc2l0eTogU3VwcG9ydGVkIGRlbnNpdHkgc2NhbGVzICN7JF9tYXQtZGVuc2l0eS1zdXBwb3J0ZWQtc2NhbGVzfSwgJyAgK1xuICAgICAgJ2J1dCByZWNlaXZlZCAjeyRkZW5zaXR5LXNjYWxlfS4nO1xuICB9XG5cbiAgJHZhbHVlOiBudWxsO1xuICAkcHJvcGVydHktc2NhbGUtbWFwOiBtYXAtZ2V0KCRkZW5zaXR5LWNvbmZpZywgJHByb3BlcnR5LW5hbWUpO1xuXG4gIEBpZiBtYXAtaGFzLWtleSgkcHJvcGVydHktc2NhbGUtbWFwLCAkZGVuc2l0eS1zY2FsZSkge1xuICAgICR2YWx1ZTogbWFwLWdldCgkcHJvcGVydHktc2NhbGUtbWFwLCAkZGVuc2l0eS1zY2FsZSk7XG4gIH1cbiAgQGVsc2Uge1xuICAgICR2YWx1ZTogbWFwLWdldCgkcHJvcGVydHktc2NhbGUtbWFwLCBkZWZhdWx0KSArICRkZW5zaXR5LXNjYWxlICogJF9tYXQtZGVuc2l0eS1pbnRlcnZhbDtcbiAgfVxuXG4gICRtaW4tdmFsdWU6IG1hcC1nZXQoJHByb3BlcnR5LXNjYWxlLW1hcCwgJF9tYXQtZGVuc2l0eS1taW5pbXVtLXNjYWxlKTtcbiAgJG1heC12YWx1ZTogbWFwLWdldCgkcHJvcGVydHktc2NhbGUtbWFwLCAkX21hdC1kZW5zaXR5LW1heGltdW0tc2NhbGUpO1xuXG4gIEBpZiAoJHZhbHVlIDwgJG1pbi12YWx1ZSBvciAkdmFsdWUgPiAkbWF4LXZhbHVlKSB7XG4gICAgQGVycm9yICdtYXQtZGVuc2l0eTogI3skcHJvcGVydHktbmFtZX0gbXVzdCBiZSBiZXR3ZWVuICN7JG1pbi12YWx1ZX0gYW5kICcgK1xuICAgICAgJyN7JG1heC12YWx1ZX0gKGluY2x1c2l2ZSksIGJ1dCByZWNlaXZlZCAjeyR2YWx1ZX0uJztcbiAgfVxuXG4gIEByZXR1cm4gJHZhbHVlO1xufVxuXG5cbi8vIFdoZXRoZXIgZHVwbGljYXRpb24gd2FybmluZ3Mgc2hvdWxkIGJlIGRpc2FibGVkLiBXYXJuaW5ncyBlbmFibGVkIGJ5IGRlZmF1bHQuXG4kbWF0LXRoZW1lLWlnbm9yZS1kdXBsaWNhdGlvbi13YXJuaW5nczogZmFsc2UgIWRlZmF1bHQ7XG5cbi8vIFdoZXRoZXIgZGVuc2l0eSBzaG91bGQgYmUgZ2VuZXJhdGVkIGJ5IGRlZmF1bHQuXG4kX21hdC10aGVtZS1nZW5lcmF0ZS1kZWZhdWx0LWRlbnNpdHk6IHRydWUgIWRlZmF1bHQ7XG5cbi8vIFdhcm5pbmcgdGhhdCB3aWxsIGJlIHByaW50ZWQgaWYgZHVwbGljYXRlZCBzdHlsZXMgYXJlIGdlbmVyYXRlZCBieSBhIHRoZW1lLlxuJF9tYXQtdGhlbWUtZHVwbGljYXRlLXdhcm5pbmc6ICdSZWFkIG1vcmUgYWJvdXQgaG93IHN0eWxlIGR1cGxpY2F0aW9uIGNhbiBiZSBhdm9pZGVkIGluIGEgJyArXG4gICdkZWRpY2F0ZWQgZ3VpZGUuIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2NvbXBvbmVudHMvYmxvYi9tYXN0ZXIvZ3VpZGVzL2R1cGxpY2F0ZS10aGVtaW5nLXN0eWxlcy5tZCc7XG5cbi8vIFRoZXNlIHZhcmlhYmxlIGFyZSBub3QgaW50ZW5kZWQgdG8gYmUgb3ZlcnJpZGRlbiBleHRlcm5hbGx5LiBUaGV5IHVzZSBgIWRlZmF1bHRgIHRvXG4vLyBhdm9pZCBiZWluZyByZXNldCBldmVyeSB0aW1lIHRoaXMgZmlsZSBpcyBpbXBvcnRlZC5cbiRfbWF0LXRoZW1lLWVtaXR0ZWQtY29sb3I6ICgpICFkZWZhdWx0O1xuJF9tYXQtdGhlbWUtZW1pdHRlZC10eXBvZ3JhcGh5OiAoKSAhZGVmYXVsdDtcbiRfbWF0LXRoZW1lLWVtaXR0ZWQtZGVuc2l0eTogKCkgIWRlZmF1bHQ7XG5cbi8vIEZvciBhIGdpdmVuIGh1ZSBpbiBhIHBhbGV0dGUsIHJldHVybiB0aGUgY29udHJhc3QgY29sb3IgZnJvbSB0aGUgbWFwIG9mIGNvbnRyYXN0IHBhbGV0dGVzLlxuLy8gQHBhcmFtICRwYWxldHRlXG4vLyBAcGFyYW0gJGh1ZVxuQGZ1bmN0aW9uIG1hdC1jb250cmFzdCgkcGFsZXR0ZSwgJGh1ZSkge1xuICBAcmV0dXJuIG1hcC1nZXQobWFwLWdldCgkcGFsZXR0ZSwgY29udHJhc3QpLCAkaHVlKTtcbn1cblxuXG4vLyBDcmVhdGVzIGEgbWFwIG9mIGh1ZXMgdG8gY29sb3JzIGZvciBhIHRoZW1lLiBUaGlzIGlzIHVzZWQgdG8gZGVmaW5lIGEgdGhlbWUgcGFsZXR0ZSBpbiB0ZXJtc1xuLy8gb2YgdGhlIE1hdGVyaWFsIERlc2lnbiBodWVzLlxuLy8gQHBhcmFtICRiYXNlLXBhbGV0dGVcbi8vIEBwYXJhbSAkZGVmYXVsdFxuLy8gQHBhcmFtICRsaWdodGVyXG4vLyBAcGFyYW0gJGRhcmtlclxuLy8gQHBhcmFtICR0ZXh0XG5AZnVuY3Rpb24gbWF0LXBhbGV0dGUoJGJhc2UtcGFsZXR0ZSwgJGRlZmF1bHQ6IDUwMCwgJGxpZ2h0ZXI6IDEwMCwgJGRhcmtlcjogNzAwLCAkdGV4dDogJGRlZmF1bHQpIHtcbiAgJHJlc3VsdDogbWFwLW1lcmdlKCRiYXNlLXBhbGV0dGUsIChcbiAgICBkZWZhdWx0OiBtYXAtZ2V0KCRiYXNlLXBhbGV0dGUsICRkZWZhdWx0KSxcbiAgICBsaWdodGVyOiBtYXAtZ2V0KCRiYXNlLXBhbGV0dGUsICRsaWdodGVyKSxcbiAgICBkYXJrZXI6IG1hcC1nZXQoJGJhc2UtcGFsZXR0ZSwgJGRhcmtlciksXG4gICAgdGV4dDogbWFwLWdldCgkYmFzZS1wYWxldHRlLCAkdGV4dCksXG5cbiAgICBkZWZhdWx0LWNvbnRyYXN0OiBtYXQtY29udHJhc3QoJGJhc2UtcGFsZXR0ZSwgJGRlZmF1bHQpLFxuICAgIGxpZ2h0ZXItY29udHJhc3Q6IG1hdC1jb250cmFzdCgkYmFzZS1wYWxldHRlLCAkbGlnaHRlciksXG4gICAgZGFya2VyLWNvbnRyYXN0OiBtYXQtY29udHJhc3QoJGJhc2UtcGFsZXR0ZSwgJGRhcmtlcilcbiAgKSk7XG5cbiAgLy8gRm9yIGVhY2ggaHVlIGluIHRoZSBwYWxldHRlLCBhZGQgYSBcIi1jb250cmFzdFwiIGNvbG9yIHRvIHRoZSBtYXAuXG4gIEBlYWNoICRodWUsICRjb2xvciBpbiAkYmFzZS1wYWxldHRlIHtcbiAgICAkcmVzdWx0OiBtYXAtbWVyZ2UoJHJlc3VsdCwgKFxuICAgICAgJyN7JGh1ZX0tY29udHJhc3QnOiBtYXQtY29udHJhc3QoJGJhc2UtcGFsZXR0ZSwgJGh1ZSlcbiAgICApKTtcbiAgfVxuXG4gIEByZXR1cm4gJHJlc3VsdDtcbn1cblxuXG4vLyBHZXRzIGEgY29sb3IgZnJvbSBhIHRoZW1lIHBhbGV0dGUgKHRoZSBvdXRwdXQgb2YgbWF0LXBhbGV0dGUpLlxuLy8gVGhlIGh1ZSBjYW4gYmUgb25lIG9mIHRoZSBzdGFuZGFyZCB2YWx1ZXMgKDUwMCwgQTQwMCwgZXRjLiksIG9uZSBvZiB0aGUgdGhyZWUgcHJlY29uZmlndXJlZFxuLy8gaHVlcyAoZGVmYXVsdCwgbGlnaHRlciwgZGFya2VyKSwgb3IgYW55IG9mIHRoZSBhZm9yZW1lbnRpb25lZCBwcmVmaXhlZCB3aXRoIFwiLWNvbnRyYXN0XCIuXG4vL1xuLy8gQHBhcmFtICRwYWxldHRlIFRoZSB0aGVtZSBwYWxldHRlIChvdXRwdXQgb2YgbWF0LXBhbGV0dGUpLlxuLy8gQHBhcmFtICRodWUgVGhlIGh1ZSBmcm9tIHRoZSBwYWxldHRlIHRvIHVzZS4gSWYgdGhpcyBpcyBhIHZhbHVlIGJldHdlZW4gMCBhbmQgMSwgaXQgd2lsbFxuLy8gICAgIGJlIHRyZWF0ZWQgYXMgb3BhY2l0eS5cbi8vIEBwYXJhbSAkb3BhY2l0eSBUaGUgYWxwaGEgY2hhbm5lbCB2YWx1ZSBmb3IgdGhlIGNvbG9yLlxuQGZ1bmN0aW9uIG1hdC1jb2xvcigkcGFsZXR0ZSwgJGh1ZTogZGVmYXVsdCwgJG9wYWNpdHk6IG51bGwpIHtcbiAgLy8gSWYgaHVlS2V5IGlzIGEgbnVtYmVyIGJldHdlZW4gemVybyBhbmQgb25lLCB0aGVuIGl0IGFjdHVhbGx5IGNvbnRhaW5zIGFuXG4gIC8vIG9wYWNpdHkgdmFsdWUsIHNvIHJlY2FsbCB0aGlzIGZ1bmN0aW9uIHdpdGggdGhlIGRlZmF1bHQgaHVlIGFuZCB0aGF0IGdpdmVuIG9wYWNpdHkuXG4gIEBpZiB0eXBlLW9mKCRodWUpID09IG51bWJlciBhbmQgJGh1ZSA+PSAwIGFuZCAkaHVlIDw9IDEge1xuICAgIEByZXR1cm4gbWF0LWNvbG9yKCRwYWxldHRlLCBkZWZhdWx0LCAkaHVlKTtcbiAgfVxuXG4gICRjb2xvcjogbWFwLWdldCgkcGFsZXR0ZSwgJGh1ZSk7XG5cbiAgQGlmICh0eXBlLW9mKCRjb2xvcikgIT0gY29sb3IpIHtcbiAgICAvLyBJZiB0aGUgJGNvbG9yIHJlc29sdmVkIHRvIHNvbWV0aGluZyBkaWZmZXJlbnQgZnJvbSBhIGNvbG9yIChlLmcuIGEgQ1NTIHZhcmlhYmxlKSxcbiAgICAvLyB3ZSBjYW4ndCBhcHBseSB0aGUgb3BhY2l0eSBhbnl3YXkgc28gd2UgcmV0dXJuIHRoZSB2YWx1ZSBhcyBpcywgb3RoZXJ3aXNlIFNhc3MgY2FuXG4gICAgLy8gdGhyb3cgYW4gZXJyb3Igb3Igb3V0cHV0IHNvbWV0aGluZyBpbnZhbGlkLlxuICAgIEByZXR1cm4gJGNvbG9yO1xuICB9XG5cbiAgQHJldHVybiByZ2JhKCRjb2xvciwgaWYoJG9wYWNpdHkgPT0gbnVsbCwgb3BhY2l0eSgkY29sb3IpLCAkb3BhY2l0eSkpO1xufVxuXG4vLyBWYWxpZGF0ZXMgdGhlIHNwZWNpZmllZCB0aGVtZSBieSBlbnN1cmluZyB0aGF0IHRoZSBvcHRpb25hbCBjb2xvciBjb25maWcgZGVmaW5lc1xuLy8gYSBwcmltYXJ5LCBhY2NlbnQgYW5kIHdhcm4gcGFsZXR0ZS4gUmV0dXJucyB0aGUgdGhlbWUgaWYgbm8gZmFpbHVyZXMgd2VyZSBmb3VuZC5cbkBmdW5jdGlvbiBfbWF0LXZhbGlkYXRlLXRoZW1lKCR0aGVtZSkge1xuICBAaWYgbWFwLWdldCgkdGhlbWUsIGNvbG9yKSB7XG4gICAgJGNvbG9yOiBtYXAtZ2V0KCR0aGVtZSwgY29sb3IpO1xuICAgIEBpZiBub3QgbWFwLWdldCgkY29sb3IsIHByaW1hcnkpIHtcbiAgICAgIEBlcnJvciAnVGhlbWUgZG9lcyBub3QgZGVmaW5lIGEgdmFsaWQgXCJwcmltYXJ5XCIgcGFsZXR0ZS4nO1xuICAgIH1cbiAgICBAZWxzZSBpZiBub3QgbWFwLWdldCgkY29sb3IsIGFjY2VudCkge1xuICAgICAgQGVycm9yICdUaGVtZSBkb2VzIG5vdCBkZWZpbmUgYSB2YWxpZCBcImFjY2VudFwiIHBhbGV0dGUuJztcbiAgICB9XG4gICAgQGVsc2UgaWYgbm90IG1hcC1nZXQoJGNvbG9yLCB3YXJuKSB7XG4gICAgICBAZXJyb3IgJ1RoZW1lIGRvZXMgbm90IGRlZmluZSBhIHZhbGlkIFwid2FyblwiIHBhbGV0dGUuJztcbiAgICB9XG4gIH1cbiAgQHJldHVybiAkdGhlbWU7XG59XG5cbi8vIENyZWF0ZXMgYSBsaWdodC10aGVtZWQgY29sb3IgY29uZmlndXJhdGlvbiBmcm9tIHRoZSBzcGVjaWZpZWRcbi8vIHByaW1hcnksIGFjY2VudCBhbmQgd2FybiBwYWxldHRlcy5cbkBmdW5jdGlvbiBfbWF0LWNyZWF0ZS1saWdodC1jb2xvci1jb25maWcoJHByaW1hcnksICRhY2NlbnQsICR3YXJuOiBudWxsKSB7XG4gIEByZXR1cm4gKFxuICAgIHByaW1hcnk6ICRwcmltYXJ5LFxuICAgIGFjY2VudDogJGFjY2VudCxcbiAgICB3YXJuOiBpZigkd2FybiAhPSBudWxsLCAkd2FybiwgbWF0LXBhbGV0dGUoJG1hdC1yZWQpKSxcbiAgICBpcy1kYXJrOiBmYWxzZSxcbiAgICBmb3JlZ3JvdW5kOiAkbWF0LWxpZ2h0LXRoZW1lLWZvcmVncm91bmQsXG4gICAgYmFja2dyb3VuZDogJG1hdC1saWdodC10aGVtZS1iYWNrZ3JvdW5kLFxuICApO1xufVxuXG4vLyBDcmVhdGVzIGEgZGFyay10aGVtZWQgY29sb3IgY29uZmlndXJhdGlvbiBmcm9tIHRoZSBzcGVjaWZpZWRcbi8vIHByaW1hcnksIGFjY2VudCBhbmQgd2FybiBwYWxldHRlcy5cbkBmdW5jdGlvbiBfbWF0LWNyZWF0ZS1kYXJrLWNvbG9yLWNvbmZpZygkcHJpbWFyeSwgJGFjY2VudCwgJHdhcm46IG51bGwpIHtcbiAgQHJldHVybiAoXG4gICAgcHJpbWFyeTogJHByaW1hcnksXG4gICAgYWNjZW50OiAkYWNjZW50LFxuICAgIHdhcm46IGlmKCR3YXJuICE9IG51bGwsICR3YXJuLCBtYXQtcGFsZXR0ZSgkbWF0LXJlZCkpLFxuICAgIGlzLWRhcms6IHRydWUsXG4gICAgZm9yZWdyb3VuZDogJG1hdC1kYXJrLXRoZW1lLWZvcmVncm91bmQsXG4gICAgYmFja2dyb3VuZDogJG1hdC1kYXJrLXRoZW1lLWJhY2tncm91bmQsXG4gICk7XG59XG5cbi8vIENyZWF0ZXMgYSBjb250YWluZXIgb2JqZWN0IGZvciBhIGxpZ2h0IHRoZW1lIHRvIGJlIGdpdmVuIHRvIGluZGl2aWR1YWwgY29tcG9uZW50IHRoZW1lIG1peGlucy5cbi8vIFRPRE86IFJlbW92ZSBsZWdhY3kgQVBJIGFuZCByZW5hbWUgYCRwcmltYXJ5YCB0byBgJGNvbmZpZ2AuIEN1cnJlbnRseSBpdCBjYW5ub3QgYmUgcmVuYW1lZFxuLy8gYXMgaXQgd291bGQgYnJlYWsgZXhpc3RpbmcgYXBwcyB0aGF0IHNldCB0aGUgcGFyYW1ldGVyIGJ5IG5hbWUuXG5AZnVuY3Rpb24gbWF0LWxpZ2h0LXRoZW1lKCRwcmltYXJ5LCAkYWNjZW50OiBudWxsLCAkd2FybjogbWF0LXBhbGV0dGUoJG1hdC1yZWQpKSB7XG4gIC8vIFRoaXMgZnVuY3Rpb24gY3JlYXRlcyBhIGNvbnRhaW5lciBvYmplY3QgZm9yIHRoZSBpbmRpdmlkdWFsIGNvbXBvbmVudCB0aGVtZSBtaXhpbnMuIENvbnN1bWVyc1xuICAvLyBjYW4gY29uc3RydWN0IHN1Y2ggYW4gb2JqZWN0IGJ5IGNhbGxpbmcgdGhpcyBmdW5jdGlvbiwgb3IgYnkgYnVpbGRpbmcgdGhlIG9iamVjdCBtYW51YWxseS5cbiAgLy8gVGhlcmUgYXJlIHR3byBwb3NzaWJsZSB3YXlzIHRvIGludm9rZSB0aGlzIGZ1bmN0aW9uIGluIG9yZGVyIHRvIGNyZWF0ZSBzdWNoIGFuIG9iamVjdDpcbiAgLy9cbiAgLy8gICAgKDEpIFBhc3NpbmcgaW4gYSBtYXAgdGhhdCBob2xkcyBvcHRpb25hbCBjb25maWd1cmF0aW9ucyBmb3IgaW5kaXZpZHVhbCBwYXJ0cyBvZiB0aGVcbiAgLy8gICAgICAgIHRoZW1pbmcgc3lzdGVtLiBGb3IgYGNvbG9yYCBjb25maWd1cmF0aW9ucywgdGhlIGZ1bmN0aW9uIG9ubHkgZXhwZWN0cyB0aGUgcGFsZXR0ZXNcbiAgLy8gICAgICAgIGZvciBgcHJpbWFyeWAgYW5kIGBhY2NlbnRgIChhbmQgb3B0aW9uYWxseSBgd2FybmApLiBUaGUgZnVuY3Rpb24gd2lsbCBleHBhbmQgdGhlXG4gIC8vICAgICAgICBzaG9ydGhhbmQgaW50byBhbiBhY3R1YWwgY29uZmlndXJhdGlvbiB0aGF0IGNhbiBiZSBjb25zdW1lZCBpbiBgLWNvbG9yYCBtaXhpbnMuXG4gIC8vICAgICgyKSBMZWdhY3kgcGF0dGVybjogUGFzc2luZyBpbiB0aGUgcGFsZXR0ZXMgYXMgcGFyYW1ldGVycy4gVGhpcyBpcyBub3QgYXMgZmxleGlibGVcbiAgLy8gICAgICAgIGFzIHBhc3NpbmcgaW4gYSBjb25maWd1cmF0aW9uIG1hcCBiZWNhdXNlIG9ubHkgdGhlIGBjb2xvcmAgc3lzdGVtIGNhbiBiZSBjb25maWd1cmVkLlxuICAvL1xuICAvLyBJZiB0aGUgbGVnYWN5IHBhdHRlcm4gaXMgdXNlZCwgd2UgZ2VuZXJhdGUgYSBjb250YWluZXIgb2JqZWN0IG9ubHkgd2l0aCBhIGxpZ2h0LXRoZW1lZFxuICAvLyBjb25maWd1cmF0aW9uIGZvciB0aGUgYGNvbG9yYCB0aGVtaW5nIHBhcnQuXG4gIEBpZiAkYWNjZW50ICE9IG51bGwge1xuICAgIEByZXR1cm4gbWF0LXByaXZhdGUtY3JlYXRlLWJhY2t3YXJkcy1jb21wYXRpYmlsaXR5LXRoZW1lKF9tYXQtdmFsaWRhdGUtdGhlbWUoKFxuICAgICAgX2lzLWxlZ2FjeS10aGVtZTogdHJ1ZSxcbiAgICAgIGNvbG9yOiBfbWF0LWNyZWF0ZS1saWdodC1jb2xvci1jb25maWcoJHByaW1hcnksICRhY2NlbnQsICR3YXJuKSxcbiAgICApKSk7XG4gIH1cbiAgLy8gSWYgdGhlIG1hcCBwYXR0ZXJuIGlzIHVzZWQgKDEpLCB3ZSBqdXN0IHBhc3MtdGhyb3VnaCB0aGUgY29uZmlndXJhdGlvbnMgZm9yIGluZGl2aWR1YWxcbiAgLy8gcGFydHMgb2YgdGhlIHRoZW1pbmcgc3lzdGVtLCBidXQgdXBkYXRlIHRoZSBgY29sb3JgIGNvbmZpZ3VyYXRpb24gaWYgc2V0LiBBcyBleHBsYWluZWRcbiAgLy8gYWJvdmUsIHRoZSBjb2xvciBzaG9ydGhhbmQgd2lsbCBiZSBleHBhbmRlZCB0byBhbiBhY3R1YWwgbGlnaHQtdGhlbWVkIGNvbG9yIGNvbmZpZ3VyYXRpb24uXG4gICRyZXN1bHQ6ICRwcmltYXJ5O1xuICBAaWYgbWFwLWdldCgkcHJpbWFyeSwgY29sb3IpIHtcbiAgICAkY29sb3Itc2V0dGluZ3M6IG1hcC1nZXQoJHByaW1hcnksIGNvbG9yKTtcbiAgICAkcHJpbWFyeTogbWFwLWdldCgkY29sb3Itc2V0dGluZ3MsIHByaW1hcnkpO1xuICAgICRhY2NlbnQ6IG1hcC1nZXQoJGNvbG9yLXNldHRpbmdzLCBhY2NlbnQpO1xuICAgICR3YXJuOiBtYXAtZ2V0KCRjb2xvci1zZXR0aW5ncywgd2Fybik7XG4gICAgJHJlc3VsdDogbWFwLW1lcmdlKCRyZXN1bHQsIChjb2xvcjogX21hdC1jcmVhdGUtbGlnaHQtY29sb3ItY29uZmlnKCRwcmltYXJ5LCAkYWNjZW50LCAkd2FybikpKTtcbiAgfVxuICBAcmV0dXJuIG1hdC1wcml2YXRlLWNyZWF0ZS1iYWNrd2FyZHMtY29tcGF0aWJpbGl0eS10aGVtZShfbWF0LXZhbGlkYXRlLXRoZW1lKCRyZXN1bHQpKTtcbn1cblxuLy8gQ3JlYXRlcyBhIGNvbnRhaW5lciBvYmplY3QgZm9yIGEgZGFyayB0aGVtZSB0byBiZSBnaXZlbiB0byBpbmRpdmlkdWFsIGNvbXBvbmVudCB0aGVtZSBtaXhpbnMuXG4vLyBUT0RPOiBSZW1vdmUgbGVnYWN5IEFQSSBhbmQgcmVuYW1lIGAkcHJpbWFyeWAgdG8gYCRjb25maWdgLiBDdXJyZW50bHkgaXQgY2Fubm90IGJlIHJlbmFtZWRcbi8vIGFzIGl0IHdvdWxkIGJyZWFrIGV4aXN0aW5nIGFwcHMgdGhhdCBzZXQgdGhlIHBhcmFtZXRlciBieSBuYW1lLlxuQGZ1bmN0aW9uIG1hdC1kYXJrLXRoZW1lKCRwcmltYXJ5LCAkYWNjZW50OiBudWxsLCAkd2FybjogbWF0LXBhbGV0dGUoJG1hdC1yZWQpKSB7XG4gIC8vIFRoaXMgZnVuY3Rpb24gY3JlYXRlcyBhIGNvbnRhaW5lciBvYmplY3QgZm9yIHRoZSBpbmRpdmlkdWFsIGNvbXBvbmVudCB0aGVtZSBtaXhpbnMuIENvbnN1bWVyc1xuICAvLyBjYW4gY29uc3RydWN0IHN1Y2ggYW4gb2JqZWN0IGJ5IGNhbGxpbmcgdGhpcyBmdW5jdGlvbiwgb3IgYnkgYnVpbGRpbmcgdGhlIG9iamVjdCBtYW51YWxseS5cbiAgLy8gVGhlcmUgYXJlIHR3byBwb3NzaWJsZSB3YXlzIHRvIGludm9rZSB0aGlzIGZ1bmN0aW9uIGluIG9yZGVyIHRvIGNyZWF0ZSBzdWNoIGFuIG9iamVjdDpcbiAgLy9cbiAgLy8gICAgKDEpIFBhc3NpbmcgaW4gYSBtYXAgdGhhdCBob2xkcyBvcHRpb25hbCBjb25maWd1cmF0aW9ucyBmb3IgaW5kaXZpZHVhbCBwYXJ0cyBvZiB0aGVcbiAgLy8gICAgICAgIHRoZW1pbmcgc3lzdGVtLiBGb3IgYGNvbG9yYCBjb25maWd1cmF0aW9ucywgdGhlIGZ1bmN0aW9uIG9ubHkgZXhwZWN0cyB0aGUgcGFsZXR0ZXNcbiAgLy8gICAgICAgIGZvciBgcHJpbWFyeWAgYW5kIGBhY2NlbnRgIChhbmQgb3B0aW9uYWxseSBgd2FybmApLiBUaGUgZnVuY3Rpb24gd2lsbCBleHBhbmQgdGhlXG4gIC8vICAgICAgICBzaG9ydGhhbmQgaW50byBhbiBhY3R1YWwgY29uZmlndXJhdGlvbiB0aGF0IGNhbiBiZSBjb25zdW1lZCBpbiBgLWNvbG9yYCBtaXhpbnMuXG4gIC8vICAgICgyKSBMZWdhY3kgcGF0dGVybjogUGFzc2luZyBpbiB0aGUgcGFsZXR0ZXMgYXMgcGFyYW1ldGVycy4gVGhpcyBpcyBub3QgYXMgZmxleGlibGVcbiAgLy8gICAgICAgIGFzIHBhc3NpbmcgaW4gYSBjb25maWd1cmF0aW9uIG1hcCBiZWNhdXNlIG9ubHkgdGhlIGBjb2xvcmAgc3lzdGVtIGNhbiBiZSBjb25maWd1cmVkLlxuICAvL1xuICAvLyBJZiB0aGUgbGVnYWN5IHBhdHRlcm4gaXMgdXNlZCwgd2UgZ2VuZXJhdGUgYSBjb250YWluZXIgb2JqZWN0IG9ubHkgd2l0aCBhIGRhcmstdGhlbWVkXG4gIC8vIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBgY29sb3JgIHRoZW1pbmcgcGFydC5cbiAgQGlmICRhY2NlbnQgIT0gbnVsbCB7XG4gICAgQHJldHVybiBtYXQtcHJpdmF0ZS1jcmVhdGUtYmFja3dhcmRzLWNvbXBhdGliaWxpdHktdGhlbWUoX21hdC12YWxpZGF0ZS10aGVtZSgoXG4gICAgICBfaXMtbGVnYWN5LXRoZW1lOiB0cnVlLFxuICAgICAgY29sb3I6IF9tYXQtY3JlYXRlLWRhcmstY29sb3ItY29uZmlnKCRwcmltYXJ5LCAkYWNjZW50LCAkd2FybiksXG4gICAgKSkpO1xuICB9XG4gIC8vIElmIHRoZSBtYXAgcGF0dGVybiBpcyB1c2VkICgxKSwgd2UganVzdCBwYXNzLXRocm91Z2ggdGhlIGNvbmZpZ3VyYXRpb25zIGZvciBpbmRpdmlkdWFsXG4gIC8vIHBhcnRzIG9mIHRoZSB0aGVtaW5nIHN5c3RlbSwgYnV0IHVwZGF0ZSB0aGUgYGNvbG9yYCBjb25maWd1cmF0aW9uIGlmIHNldC4gQXMgZXhwbGFpbmVkXG4gIC8vIGFib3ZlLCB0aGUgY29sb3Igc2hvcnRoYW5kIHdpbGwgYmUgZXhwYW5kZWQgdG8gYW4gYWN0dWFsIGRhcmstdGhlbWVkIGNvbG9yIGNvbmZpZ3VyYXRpb24uXG4gICRyZXN1bHQ6ICRwcmltYXJ5O1xuICBAaWYgbWFwLWdldCgkcHJpbWFyeSwgY29sb3IpIHtcbiAgICAkY29sb3Itc2V0dGluZ3M6IG1hcC1nZXQoJHByaW1hcnksIGNvbG9yKTtcbiAgICAkcHJpbWFyeTogbWFwLWdldCgkY29sb3Itc2V0dGluZ3MsIHByaW1hcnkpO1xuICAgICRhY2NlbnQ6IG1hcC1nZXQoJGNvbG9yLXNldHRpbmdzLCBhY2NlbnQpO1xuICAgICR3YXJuOiBtYXAtZ2V0KCRjb2xvci1zZXR0aW5ncywgd2Fybik7XG4gICAgJHJlc3VsdDogbWFwLW1lcmdlKCRyZXN1bHQsIChjb2xvcjogX21hdC1jcmVhdGUtZGFyay1jb2xvci1jb25maWcoJHByaW1hcnksICRhY2NlbnQsICR3YXJuKSkpO1xuICB9XG4gIEByZXR1cm4gbWF0LXByaXZhdGUtY3JlYXRlLWJhY2t3YXJkcy1jb21wYXRpYmlsaXR5LXRoZW1lKF9tYXQtdmFsaWRhdGUtdGhlbWUoJHJlc3VsdCkpO1xufVxuXG4vLy8gR2V0cyB0aGUgY29sb3IgY29uZmlndXJhdGlvbiBmcm9tIHRoZSBnaXZlbiB0aGVtZSBvciBjb25maWd1cmF0aW9uLlxuQGZ1bmN0aW9uIG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSwgJGRlZmF1bHQ6IG51bGwpIHtcbiAgLy8gSWYgYSBjb25maWd1cmF0aW9uIGhhcyBiZWVuIHBhc3NlZCwgcmV0dXJuIHRoZSBjb25maWcgZGlyZWN0bHkuXG4gIEBpZiBub3QgbWF0LXByaXZhdGUtaXMtdGhlbWUtb2JqZWN0KCR0aGVtZSkge1xuICAgIEByZXR1cm4gJHRoZW1lO1xuICB9XG4gIC8vIElmIHRoZSB0aGVtZSBoYXMgYmVlbiBjb25zdHJ1Y3RlZCB0aHJvdWdoIHRoZSBsZWdhY3kgdGhlbWluZyBBUEksIHdlIHVzZSB0aGUgdGhlbWUgb2JqZWN0XG4gIC8vIGFzIGNvbG9yIGNvbmZpZ3VyYXRpb24gaW5zdGVhZCBvZiB0aGUgZGVkaWNhdGVkIGBjb2xvcmAgcHJvcGVydHkuIFdlIGRvIHRoaXMgYmVjYXVzZSBmb3JcbiAgLy8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHksIHdlIGNvcGllZCB0aGUgY29sb3IgY29uZmlndXJhdGlvbiBmcm9tIGAkdGhlbWUuY29sb3JgIHRvIGAkdGhlbWVgLlxuICAvLyBIZW5jZSBkZXZlbG9wZXJzIGNvdWxkIGN1c3RvbWl6ZSB0aGUgY29sb3JzIGF0IHRvcC1sZXZlbCBhbmQgd2FudCB0byByZXNwZWN0IHRoZXNlIGNoYW5nZXNcbiAgLy8gVE9ETzogUmVtb3ZlIHdoZW4gbGVnYWN5IHRoZW1pbmcgQVBJIGlzIHJlbW92ZWQuXG4gIEBpZiBtYXQtcHJpdmF0ZS1pcy1sZWdhY3ktY29uc3RydWN0ZWQtdGhlbWUoJHRoZW1lKSB7XG4gICAgQHJldHVybiAkdGhlbWU7XG4gIH1cbiAgQGlmIG1hcC1oYXMta2V5KCR0aGVtZSwgY29sb3IpIHtcbiAgICBAcmV0dXJuIG1hcC1nZXQoJHRoZW1lLCBjb2xvcik7XG4gIH1cbiAgQHJldHVybiAkZGVmYXVsdDtcbn1cblxuLy8vIEdldHMgdGhlIGRlbnNpdHkgY29uZmlndXJhdGlvbiBmcm9tIHRoZSBnaXZlbiB0aGVtZSBvciBjb25maWd1cmF0aW9uLlxuQGZ1bmN0aW9uIG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lLW9yLWNvbmZpZywgJGRlZmF1bHQ6IDApIHtcbiAgLy8gSWYgYSBjb25maWd1cmF0aW9uIGhhcyBiZWVuIHBhc3NlZCwgcmV0dXJuIHRoZSBjb25maWcgZGlyZWN0bHkuXG4gIEBpZiBub3QgbWF0LXByaXZhdGUtaXMtdGhlbWUtb2JqZWN0KCR0aGVtZS1vci1jb25maWcpIHtcbiAgICBAcmV0dXJuICR0aGVtZS1vci1jb25maWc7XG4gIH1cbiAgLy8gSW4gY2FzZSBhIHRoZW1lIGhhcyBiZWVuIHBhc3NlZCwgZXh0cmFjdCB0aGUgY29uZmlndXJhdGlvbiBpZiBwcmVzZW50LFxuICAvLyBvciBmYWxsIGJhY2sgdG8gdGhlIGRlZmF1bHQgZGVuc2l0eSBjb25maWcuXG4gIEBpZiBtYXAtaGFzLWtleSgkdGhlbWUtb3ItY29uZmlnLCBkZW5zaXR5KSB7XG4gICAgQHJldHVybiBtYXAtZ2V0KCR0aGVtZS1vci1jb25maWcsIGRlbnNpdHkpO1xuICB9XG4gIEByZXR1cm4gJGRlZmF1bHQ7XG59XG5cbi8vLyBHZXRzIHRoZSB0eXBvZ3JhcGh5IGNvbmZpZ3VyYXRpb24gZnJvbSB0aGUgZ2l2ZW4gdGhlbWUgb3IgY29uZmlndXJhdGlvbi5cbi8vLyBGb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHksIHR5cG9ncmFwaHkgaXMgbm90IGluY2x1ZGVkIGJ5IGRlZmF1bHQuXG5AZnVuY3Rpb24gbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUtb3ItY29uZmlnLCAkZGVmYXVsdDogbnVsbCkge1xuICAvLyBJZiBhIGNvbmZpZ3VyYXRpb24gaGFzIGJlZW4gcGFzc2VkLCByZXR1cm4gdGhlIGNvbmZpZyBkaXJlY3RseS5cbiAgQGlmIG5vdCBtYXQtcHJpdmF0ZS1pcy10aGVtZS1vYmplY3QoJHRoZW1lLW9yLWNvbmZpZykge1xuICAgIEByZXR1cm4gJHRoZW1lLW9yLWNvbmZpZztcbiAgfVxuICAvLyBJbiBjYXNlIGEgdGhlbWUgaGFzIGJlZW4gcGFzc2VkLCBleHRyYWN0IHRoZSBjb25maWd1cmF0aW9uIGlmIHByZXNlbnQsXG4gIC8vIG9yIGZhbGwgYmFjayB0byB0aGUgZGVmYXVsdCB0eXBvZ3JhcGh5IGNvbmZpZy5cbiAgQGlmIChtYXAtaGFzLWtleSgkdGhlbWUtb3ItY29uZmlnLCB0eXBvZ3JhcGh5KSkge1xuICAgIEByZXR1cm4gbWFwLWdldCgkdGhlbWUtb3ItY29uZmlnLCB0eXBvZ3JhcGh5KTtcbiAgfVxuICBAcmV0dXJuICRkZWZhdWx0O1xufVxuXG5cbi8vXG4vLyBQcml2YXRlIEFQSXNcbi8vXG5cbi8vIENoZWNrcyBpZiBjb25maWd1cmF0aW9ucyB0aGF0IGhhdmUgYmVlbiBkZWNsYXJlZCBpbiB0aGUgZ2l2ZW4gdGhlbWUgaGF2ZSBiZWVuIGdlbmVyYXRlZFxuLy8gYmVmb3JlLiBJZiBzbywgd2FybmluZ3Mgd2lsbCBiZSByZXBvcnRlZC4gVGhpcyBzaG91bGQgbm90aWZ5IGRldmVsb3BlcnMgaW4gY2FzZSBkdXBsaWNhdGVcbi8vIHN0eWxlcyBhcmUgYWNjaWRlbnRhbGx5IGdlbmVyYXRlZCBkdWUgdG8gd3JvbmcgdXNhZ2Ugb2YgdGhlIGFsbC10aGVtZSBtaXhpbnMuXG4vL1xuLy8gQWRkaXRpb25hbGx5LCB0aGlzIG1peGluIGNvbnRyb2xzIHRoZSBkZWZhdWx0IHZhbHVlIGZvciB0aGUgZGVuc2l0eSBjb25maWd1cmF0aW9uLiBCeVxuLy8gZGVmYXVsdCwgZGVuc2l0eSBzdHlsZXMgYXJlIGdlbmVyYXRlZCBhdCBzY2FsZSB6ZXJvLiBJZiB0aGUgc2FtZSBkZW5zaXR5IHN0eWxlcyB3b3VsZCBiZVxuLy8gZ2VuZXJhdGVkIGEgc2Vjb25kIHRpbWUgdGhvdWdoLCB0aGUgZGVmYXVsdCB2YWx1ZSB3aWxsIGNoYW5nZSB0byBhdm9pZCBkdXBsaWNhdGUgc3R5bGVzLlxuLy9cbi8vIFRoZSBtaXhpbiBrZWVwcyB0cmFjayBvZiBhbGwgY29uZmlndXJhdGlvbnMgaW4gYSBsaXN0IHRoYXQgaXMgc2NvcGVkIHRvIHRoZSBzcGVjaWZpZWRcbi8vIGlkLiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIGEgZ2l2ZW4gdGhlbWUgY2FuIGJlIHBhc3NlZCB0byBtdWx0aXBsZSBkaXNqb2ludCB0aGVtZSBtaXhpbnNcbi8vIChlLmcuIGBhbmd1bGFyLW1hdGVyaWFsLXRoZW1lYCBhbmQgYGFuZ3VsYXItbWF0ZXJpYWwtbWRjLXRoZW1lYCkgd2l0aG91dCBjYXVzaW5nIGFueVxuLy8gc3R5bGUgZHVwbGljYXRpb24uXG5AbWl4aW4gbWF0LXByaXZhdGUtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUtb3ItY29sb3ItY29uZmlnLCAkaWQpIHtcbiAgJHRoZW1lOiBtYXQtcHJpdmF0ZS1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAkY29sb3ItY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAkZGVuc2l0eS1jb25maWc6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgJHR5cG9ncmFwaHktY29uZmlnOiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG4gIC8vIExpc3RzIG9mIHByZXZpb3VzIGBjb2xvcmAsIGBkZW5zaXR5YCBhbmQgYHR5cG9ncmFwaHlgIGNvbmZpZ3VyYXRpb25zLlxuICAkcHJldmlvdXMtY29sb3I6IG1hcC1nZXQoJF9tYXQtdGhlbWUtZW1pdHRlZC1jb2xvciwgJGlkKSBvciAoKTtcbiAgJHByZXZpb3VzLXR5cG9ncmFwaHk6IG1hcC1nZXQoJF9tYXQtdGhlbWUtZW1pdHRlZC10eXBvZ3JhcGh5LCAkaWQpIG9yICgpO1xuICAkcHJldmlvdXMtZGVuc2l0eTogbWFwLWdldCgkX21hdC10aGVtZS1lbWl0dGVkLWRlbnNpdHksICRpZCkgb3IgKCk7XG4gIC8vIFdoZXRoZXIgZHVwbGljYXRlIGxlZ2FjeSBkZW5zaXR5IHN0eWxlcyB3b3VsZCBiZSBnZW5lcmF0ZWQuXG4gICRkdXBsaWNhdGUtbGVnYWN5LWRlbnNpdHk6IGZhbHNlO1xuXG4gIC8vIENoZWNrIGlmIHRoZSBjb2xvciBjb25maWd1cmF0aW9uIGhhcyBiZWVuIGdlbmVyYXRlZCBiZWZvcmUuXG4gIEBpZiAkY29sb3ItY29uZmlnICE9IG51bGwge1xuICAgIEBpZiBpbmRleCgkcHJldmlvdXMtY29sb3IsICRjb2xvci1jb25maWcpICE9IG51bGwgYW5kXG4gICAgICAgIG5vdCAkbWF0LXRoZW1lLWlnbm9yZS1kdXBsaWNhdGlvbi13YXJuaW5ncyB7XG4gICAgICBAd2FybiAnVGhlIHNhbWUgY29sb3Igc3R5bGVzIGFyZSBnZW5lcmF0ZWQgbXVsdGlwbGUgdGltZXMuICcgK1xuICAgICAgICAgICRfbWF0LXRoZW1lLWR1cGxpY2F0ZS13YXJuaW5nO1xuICAgIH1cbiAgICAkcHJldmlvdXMtY29sb3I6IGFwcGVuZCgkcHJldmlvdXMtY29sb3IsICRjb2xvci1jb25maWcpO1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgdGhlIHR5cG9ncmFwaHkgY29uZmlndXJhdGlvbiBoYXMgYmVlbiBnZW5lcmF0ZWQgYmVmb3JlLlxuICBAaWYgJHR5cG9ncmFwaHktY29uZmlnICE9IG51bGwge1xuICAgIEBpZiBpbmRleCgkcHJldmlvdXMtdHlwb2dyYXBoeSwgJHR5cG9ncmFwaHktY29uZmlnKSAhPSBudWxsIGFuZFxuICAgICAgICBub3QgJG1hdC10aGVtZS1pZ25vcmUtZHVwbGljYXRpb24td2FybmluZ3Mge1xuICAgICAgQHdhcm4gJ1RoZSBzYW1lIHR5cG9ncmFwaHkgc3R5bGVzIGFyZSBnZW5lcmF0ZWQgbXVsdGlwbGUgdGltZXMuICcgK1xuICAgICAgICAgICRfbWF0LXRoZW1lLWR1cGxpY2F0ZS13YXJuaW5nO1xuICAgIH1cbiAgICAkcHJldmlvdXMtdHlwb2dyYXBoeTogYXBwZW5kKCRwcmV2aW91cy10eXBvZ3JhcGh5LCAkdHlwb2dyYXBoeS1jb25maWcpO1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgdGhlIGRlbnNpdHkgY29uZmlndXJhdGlvbiBoYXMgYmVlbiBnZW5lcmF0ZWQgYmVmb3JlLlxuICBAaWYgJGRlbnNpdHktY29uZmlnICE9IG51bGwge1xuICAgIEBpZiBpbmRleCgkcHJldmlvdXMtZGVuc2l0eSwgJGRlbnNpdHktY29uZmlnKSAhPSBudWxsIHtcbiAgICAgIC8vIE9ubHkgcmVwb3J0IGEgd2FybmluZyBpZiBkZW5zaXR5IHN0eWxlcyB3b3VsZCBiZSBkdXBsaWNhdGVkIGZvciBub24tbGVnYWN5IHRoZW1lXG4gICAgICAvLyBkZWZpbml0aW9ucy4gRm9yIGxlZ2FjeSB0aGVtZXMsIHdlIGhhdmUgY29tcGF0aWJpbGl0eSBsb2dpYyB0aGF0IGF2b2lkcyBkdXBsaWNhdGlvblxuICAgICAgLy8gb2YgZGVmYXVsdCBkZW5zaXR5IHN0eWxlcy4gV2UgZG9uJ3Qgd2FudCB0byByZXBvcnQgYSB3YXJuaW5nIGluIHRob3NlIGNhc2VzLlxuICAgICAgQGlmIG1hdC1wcml2YXRlLWlzLWxlZ2FjeS1jb25zdHJ1Y3RlZC10aGVtZSgkdGhlbWUpIHtcbiAgICAgICAgJGR1cGxpY2F0ZS1sZWdhY3ktZGVuc2l0eTogdHJ1ZTtcbiAgICAgIH1cbiAgICAgIEBlbHNlIGlmIG5vdCAkbWF0LXRoZW1lLWlnbm9yZS1kdXBsaWNhdGlvbi13YXJuaW5ncyB7XG4gICAgICAgIEB3YXJuICdUaGUgc2FtZSBkZW5zaXR5IHN0eWxlcyBhcmUgZ2VuZXJhdGVkIG11bHRpcGxlIHRpbWVzLiAnICtcbiAgICAgICAgICAgJF9tYXQtdGhlbWUtZHVwbGljYXRlLXdhcm5pbmc7XG4gICAgICB9XG4gICAgfVxuICAgICRwcmV2aW91cy1kZW5zaXR5OiBhcHBlbmQoJHByZXZpb3VzLWRlbnNpdHksICRkZW5zaXR5LWNvbmZpZyk7XG4gIH1cblxuICAkX21hdC10aGVtZS1lbWl0dGVkLWNvbG9yOiBtYXAtbWVyZ2UoXG4gICAgICAkX21hdC10aGVtZS1lbWl0dGVkLWNvbG9yLCAoJGlkOiAkcHJldmlvdXMtY29sb3IpKSAhZ2xvYmFsO1xuICAkX21hdC10aGVtZS1lbWl0dGVkLWRlbnNpdHk6IG1hcC1tZXJnZShcbiAgICAgICRfbWF0LXRoZW1lLWVtaXR0ZWQtZGVuc2l0eSwgKCRpZDogJHByZXZpb3VzLWRlbnNpdHkpKSAhZ2xvYmFsO1xuICAkX21hdC10aGVtZS1lbWl0dGVkLXR5cG9ncmFwaHk6IG1hcC1tZXJnZShcbiAgICAgICRfbWF0LXRoZW1lLWVtaXR0ZWQtdHlwb2dyYXBoeSwgKCRpZDogJHByZXZpb3VzLXR5cG9ncmFwaHkpKSAhZ2xvYmFsO1xuXG4gIC8vIE9wdGlvbmFsbHksIGNvbnN1bWVycyBvZiB0aGlzIG1peGluIGNhbiB3cmFwIGNvbnRlbnRzIGluc2lkZSBzbyB0aGF0IG5lc3RlZFxuICAvLyBkdXBsaWNhdGUgc3R5bGUgY2hlY2tzIGRvIG5vdCByZXBvcnQgYW5vdGhlciB3YXJuaW5nLiBlLmcuIGlmIGRldmVsb3BlcnMgaW5jbHVkZVxuICAvLyB0aGUgYGFuZ3VsYXItbWF0ZXJpYWwtdGhlbWVgIG1peGluIHR3aWNlLCBvbmx5IHRoZSB0b3AtbGV2ZWwgZHVwbGljYXRlIHN0eWxlcyBjaGVja1xuICAvLyBzaG91bGQgcmVwb3J0IGEgd2FybmluZy4gTm90IGFsbCBpbmRpdmlkdWFsIGNvbXBvbmVudHMgc2hvdWxkIHJlcG9ydCBhIHdhcm5pbmcgdG9vLlxuICAkb3JpZy1tYXQtdGhlbWUtaWdub3JlLWR1cGxpY2F0aW9uLXdhcm5pbmdzOiAkbWF0LXRoZW1lLWlnbm9yZS1kdXBsaWNhdGlvbi13YXJuaW5ncztcbiAgJG1hdC10aGVtZS1pZ25vcmUtZHVwbGljYXRpb24td2FybmluZ3M6IHRydWUgIWdsb2JhbDtcblxuICAvLyBJZiBkdXBsaWNhdGUgZGVmYXVsdCBkZW5zaXR5IHN0eWxlcyB3b3VsZCBiZSBnZW5lcmF0ZWQgZm9yIGEgbGVnYWN5IGNvbnN0cnVjdGVkIHRoZW1lLFxuICAvLyB3ZSBhZGp1c3QgdGhlIGRlbnNpdHkgZ2VuZXJhdGlvbiBzbyB0aGF0IG5vIGRlbnNpdHkgc3R5bGVzIGFyZSBnZW5lcmF0ZWQgYnkgZGVmYXVsdC5cbiAgLy8gSWYgbm8gZGVmYXVsdCBkZW5zaXR5IHN0eWxlcyBoYXZlIGJlZW4gZ2VuZXJhdGVkIHlldCwgd2UgZW5zdXJlIHRoYXQgdGhlIHN0eWxlc1xuICAvLyBhcmUgZ2VuZXJhdGVkIGF0IHJvb3QuIEZvciBsZWdhY3kgdGhlbWVzIG91ciBnb2FsIGlzIHRvIGdlbmVyYXRlIGRlZmF1bHQgZGVuc2l0eVxuICAvLyBzdHlsZXMgKipvbmNlKiogYW5kIGF0IHJvb3QuIFRoaXMgbWF0Y2hlcyB0aGUgb2xkIGJlaGF2aW9yIHdoZXJlIGRlbnNpdHkgc3R5bGVzIHdlcmVcbiAgLy8gcGFydCBvZiB0aGUgYmFzZSBjb21wb25lbnQgc3R5bGVzICh0aGF0IGRpZCBub3QgdXNlIHZpZXcgZW5jYXBzdWxhdGlvbikuXG4gIC8vIFRPRE86IFJlbW92ZSB0aGlzIGNvbXBhdGliaWxpdHkgbG9naWMgd2hlbiB0aGUgbGVnYWN5IHRoZW1pbmcgQVBJIGlzIHJlbW92ZWQuXG4gICRtYXQtcHJpdmF0ZS1kZW5zaXR5LWdlbmVyYXRlLWF0LXJvb3Q6IG1hdC1wcml2YXRlLWlzLWxlZ2FjeS1jb25zdHJ1Y3RlZC10aGVtZSgkdGhlbWUpICFnbG9iYWw7XG4gICRtYXQtcHJpdmF0ZS1kZW5zaXR5LWdlbmVyYXRlLXN0eWxlczogbm90ICRkdXBsaWNhdGUtbGVnYWN5LWRlbnNpdHkgIWdsb2JhbDtcblxuICBAY29udGVudDtcbiAgJG1hdC10aGVtZS1pZ25vcmUtZHVwbGljYXRpb24td2FybmluZ3M6ICRvcmlnLW1hdC10aGVtZS1pZ25vcmUtZHVwbGljYXRpb24td2FybmluZ3MgIWdsb2JhbDtcblxuICAkbWF0LXByaXZhdGUtZGVuc2l0eS1nZW5lcmF0ZS1hdC1yb290OiBmYWxzZSAhZ2xvYmFsO1xuICAkbWF0LXByaXZhdGUtZGVuc2l0eS1nZW5lcmF0ZS1zdHlsZXM6IHRydWUgIWdsb2JhbDtcbn1cblxuLy8gQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIHZhbHVlIHJlc29sdmVzIHRvIGEgdGhlbWUgb2JqZWN0LiBUaGVtZSBvYmplY3RzIGFyZSBhbHdheXNcbi8vIG9mIHR5cGUgYG1hcGAgYW5kIGNhbiBvcHRpb25hbGx5IG9ubHkgc3BlY2lmeSBgY29sb3JgLCBgZGVuc2l0eWAgb3IgYHR5cG9ncmFwaHlgLlxuQGZ1bmN0aW9uIG1hdC1wcml2YXRlLWlzLXRoZW1lLW9iamVjdCgkdmFsdWUpIHtcbiAgQHJldHVybiB0eXBlLW9mKCR2YWx1ZSkgPT0gJ21hcCcgYW5kIChcbiAgICBtYXAtaGFzLWtleSgkdmFsdWUsIGNvbG9yKSBvclxuICAgIG1hcC1oYXMta2V5KCR2YWx1ZSwgZGVuc2l0eSkgb3JcbiAgICBtYXAtaGFzLWtleSgkdmFsdWUsIHR5cG9ncmFwaHkpIG9yXG4gICAgbGVuZ3RoKCR2YWx1ZSkgPT0gMFxuICApO1xufVxuXG4vLyBDaGVja3Mgd2hldGhlciBhIGdpdmVuIHZhbHVlIGNvcnJlc3BvbmRzIHRvIGEgbGVnYWN5IGNvbnN0cnVjdGVkIHRoZW1lLlxuQGZ1bmN0aW9uIG1hdC1wcml2YXRlLWlzLWxlZ2FjeS1jb25zdHJ1Y3RlZC10aGVtZSgkdmFsdWUpIHtcbiAgQHJldHVybiB0eXBlLW9mKCR2YWx1ZSkgPT0gJ21hcCcgYW5kIG1hcC1nZXQoJHZhbHVlLCAnX2lzLWxlZ2FjeS10aGVtZScpO1xufVxuXG4vLyBDcmVhdGVzIGEgYmFja3dhcmRzIGNvbXBhdGlibGUgdGhlbWUuIFByZXZpb3VzbHkgaW4gQW5ndWxhciBNYXRlcmlhbCwgdGhlbWUgb2JqZWN0c1xuLy8gY29udGFpbmVkIHRoZSBjb2xvciBjb25maWd1cmF0aW9uIGRpcmVjdGx5LiBXaXRoIHRoZSByZWNlbnQgcmVmYWN0b3Jpbmcgb2YgdGhlIHRoZW1pbmdcbi8vIHN5c3RlbSB0byBhbGxvdyBmb3IgZGVuc2l0eSBhbmQgdHlwb2dyYXBoeSBjb25maWd1cmF0aW9ucywgdGhpcyBpcyBubyBsb25nZXIgdGhlIGNhc2UuXG4vLyBUbyBlbnN1cmUgdGhhdCBjb25zdHJ1Y3RlZCB0aGVtZXMgd2hpY2ggd2lsbCBiZSBwYXNzZWQgdG8gY3VzdG9tIHRoZW1lIG1peGlucyBkbyBub3QgYnJlYWssXG4vLyB3ZSBjb3B5IHRoZSBjb2xvciBjb25maWd1cmF0aW9uIGFuZCBwdXQgaXRzIHByb3BlcnRpZXMgYXQgdGhlIHRvcC1sZXZlbCBvZiB0aGUgdGhlbWUgb2JqZWN0LlxuLy8gSGVyZSBpcyBhbiBleGFtcGxlIG9mIGEgcGF0dGVybiB0aGF0IHNob3VsZCBzdGlsbCB3b3JrIHVudGlsIGl0J3Mgb2ZmaWNpYWxseSBtYXJrZWQgYXMgYVxuLy8gYnJlYWtpbmcgY2hhbmdlOlxuLy9cbi8vICAgIEBtaXhpbiBteS1jdXN0b20tY29tcG9uZW50LXRoZW1lKCR0aGVtZSkge1xuLy8gICAgICAubXktY29tcCB7XG4vLyAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKG1hcC1nZXQoJHRoZW1lLCBwcmltYXJ5KSk7XG4vLyAgICAgIH1cbi8vICAgIH1cbi8vXG4vLyBOb3RlIHRoYXQgdGhlIGAkdGhlbWUucHJpbWFyeWAga2V5IGRvZXMgdXN1YWxseSBub3QgZXhpc3Qgc2luY2UgdGhlIGNvbG9yIGNvbmZpZ3VyYXRpb25cbi8vIGlzIHN0b3JlZCBpbiBgJHRoZW1lLmNvbG9yYCB3aGljaCBjb250YWlucyBhIHByb3BlcnR5IGZvciBgcHJpbWFyeWAuIFRoaXMgbWV0aG9kIGNvcGllc1xuLy8gdGhlIG1hcCBmcm9tIGAkdGhlbWUuY29sb3JgIHRvIGAkdGhlbWVgIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbkBmdW5jdGlvbiBtYXQtcHJpdmF0ZS1jcmVhdGUtYmFja3dhcmRzLWNvbXBhdGliaWxpdHktdGhlbWUoJHRoZW1lKSB7XG4gIEBpZiBub3QgbWFwLWdldCgkdGhlbWUsIGNvbG9yKSB7XG4gICAgQHJldHVybiAkdGhlbWU7XG4gIH1cbiAgJGNvbG9yOiBtYXAtZ2V0KCR0aGVtZSwgY29sb3IpO1xuICBAcmV0dXJuIG1hcC1tZXJnZSgkdGhlbWUsICRjb2xvcik7XG59XG5cbi8vIEdldHMgdGhlIHRoZW1lIGZyb20gdGhlIGdpdmVuIHZhbHVlIHRoYXQgaXMgZWl0aGVyIGFscmVhZHkgYSB0aGVtZSwgb3IgYSBjb2xvciBjb25maWd1cmF0aW9uLlxuLy8gVGhpcyBoYW5kbGVzIHRoZSBsZWdhY3kgY2FzZSB3aGVyZSBkZXZlbG9wZXJzIHBhc3MgYSBjb2xvciBjb25maWd1cmF0aW9uIGRpcmVjdGx5IHRvIHRoZVxuLy8gdGhlbWUgbWl4aW4uIEJlZm9yZSB3ZSBpbnRyb2R1Y2VkIHRoZSBuZXcgcGF0dGVybiBmb3IgY29uc3RydWN0aW5nIGEgdGhlbWUsIGRldmVsb3BlcnMgcGFzc2VkXG4vLyB0aGUgY29sb3IgY29uZmlndXJhdGlvbiBkaXJlY3RseSB0byB0aGUgdGhlbWUgbWl4aW5zLiBUaGlzIGNhbiBiZSBzdGlsbCB0aGUgY2FzZSBpZiBkZXZlbG9wZXJzXG4vLyBjb25zdHJ1Y3QgYSB0aGVtZSBtYW51YWxseSBhbmQgcGFzcyBpdCB0byBhIHRoZW1lLiBXZSBzdXBwb3J0IHRoaXMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuLy8gVE9ETyhkZXZ2ZXJzaW9uKTogcmVtb3ZlIHRoaXMgaW4gdGhlIGZ1dHVyZS4gQ29uc3RydWN0aW5nIHRoZW1lcyBtYW51YWxseSBpcyByYXJlLFxuLy8gYW5kIHRoZSBjb2RlIGNhbiBiZSBlYXNpbHkgdXBkYXRlZCB0byB0aGUgbmV3IEFQSS5cbkBmdW5jdGlvbiBtYXQtcHJpdmF0ZS1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgQGlmIG1hdC1wcml2YXRlLWlzLXRoZW1lLW9iamVjdCgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICAgQHJldHVybiAkdGhlbWUtb3ItY29sb3ItY29uZmlnO1xuICB9XG4gIEByZXR1cm4gbWF0LXByaXZhdGUtY3JlYXRlLWJhY2t3YXJkcy1jb21wYXRpYmlsaXR5LXRoZW1lKChcbiAgICBfaXMtbGVnYWN5LXRoZW1lOiB0cnVlLFxuICAgIGNvbG9yOiAkdGhlbWUtb3ItY29sb3ItY29uZmlnXG4gICkpO1xufVxuXG5cblxuJG1hdC1yaXBwbGUtY29sb3Itb3BhY2l0eTogMC4xO1xuXG5AbWl4aW4gbWF0LXJpcHBsZSgpIHtcblxuICAvLyBUaGUgaG9zdCBlbGVtZW50IG9mIGFuIG1hdC1yaXBwbGUgZGlyZWN0aXZlIHNob3VsZCBhbHdheXMgaGF2ZSBhIHBvc2l0aW9uIG9mIFwiYWJzb2x1dGVcIiBvclxuICAvLyBcInJlbGF0aXZlXCIgc28gdGhhdCB0aGUgcmlwcGxlcyBpbnNpZGUgYXJlIGNvcnJlY3RseSBwb3NpdGlvbmVkIHJlbGF0aXZlbHkgdG8gdGhlIGNvbnRhaW5lci5cbiAgLm1hdC1yaXBwbGUge1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG5cbiAgICAvLyBCeSBkZWZhdWx0LCBldmVyeSByaXBwbGUgY29udGFpbmVyIHNob3VsZCBoYXZlIHBvc2l0aW9uOiByZWxhdGl2ZSBpbiBmYXZvciBvZiBjcmVhdGluZyBhblxuICAgIC8vIGVhc3kgQVBJIGZvciBkZXZlbG9wZXJzIHVzaW5nIHRoZSBNYXRSaXBwbGUgZGlyZWN0aXZlLlxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcblxuICAgIC8vIFByb21vdGUgY29udGFpbmVycyB0aGF0IGhhdmUgcmlwcGxlcyB0byBhIG5ldyBsYXllci4gV2Ugd2FudCB0byB0YXJnZXQgYDpub3QoOmVtcHR5KWAsXG4gICAgLy8gYmVjYXVzZSB3ZSBkb24ndCB3YW50IGFsbCByaXBwbGUgY29udGFpbmVycyB0byBoYXZlIHRoZWlyIG93biBsYXllciBzaW5jZSB0aGV5J3JlIHVzZWQgaW4gYVxuICAgIC8vIGxvdCBvZiBwbGFjZXMgYW5kIHRoZSBsYXllciBpcyBvbmx5IHJlbGV2YW50IHdoaWxlIGFuaW1hdGluZy4gTm90ZSB0aGF0IGlkZWFsbHkgd2UnZCB1c2VcbiAgICAvLyB0aGUgYGNvbnRhaW5gIHByb3BlcnR5IGhlcmUgKHNlZSAjMTMxNzUpLCBiZWNhdXNlIGA6ZW1wdHlgIGNhbiBiZSBicm9rZW4gYnkgaGF2aW5nIGV4dHJhXG4gICAgLy8gdGV4dCBpbnNpZGUgdGhlIGVsZW1lbnQsIGJ1dCBpdCBpc24ndCB2ZXJ5IHdlbGwgc3VwcG9ydGVkIHlldC5cbiAgICAmOm5vdCg6ZW1wdHkpIHtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWigwKTtcbiAgICB9XG4gIH1cblxuICAubWF0LXJpcHBsZS5tYXQtcmlwcGxlLXVuYm91bmRlZCB7XG4gICAgb3ZlcmZsb3c6IHZpc2libGU7XG4gIH1cblxuICAubWF0LXJpcHBsZS1lbGVtZW50IHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuXG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSwgdHJhbnNmb3JtIDBtcyBjdWJpYy1iZXppZXIoMCwgMCwgMC4yLCAxKTtcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDApO1xuXG4gICAgLy8gSW4gaGlnaCBjb250cmFzdCBtb2RlIHRoZSByaXBwbGUgaXMgb3BhcXVlLCBjYXVzaW5nIGl0IHRvIG9ic3RydWN0IHRoZSBjb250ZW50LlxuICAgIEBpbmNsdWRlIGNkay1oaWdoLWNvbnRyYXN0KGFjdGl2ZSwgb2ZmKSB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgfVxufVxuXG4vKiBDb2xvcnMgZm9yIHRoZSByaXBwbGUgZWxlbWVudHMuKi9cbkBtaXhpbiBtYXQtcmlwcGxlLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuICAkZm9yZWdyb3VuZC1iYXNlOiBtYXAtZ2V0KCRmb3JlZ3JvdW5kLCBiYXNlKTtcblxuICAubWF0LXJpcHBsZS1lbGVtZW50IHtcbiAgICAvLyBJZiB0aGUgcmlwcGxlIGNvbG9yIGlzIHJlc29sdmVzIHRvIGEgY29sb3IgKnR5cGUqLCB3ZSBjYW4gdXNlIGl0IGRpcmVjdGx5LCBvdGhlcndpc2VcbiAgICAvLyAoZS5nLiBpdCByZXNvbHZlcyB0byBhIENTUyB2YXJpYWJsZSkgd2UgZmFsbCBiYWNrIHRvIHVzaW5nIHRoZSBjb2xvciBhbmQgc2V0dGluZyBhbiBvcGFjaXR5LlxuICAgIEBpZiAodHlwZS1vZigkZm9yZWdyb3VuZC1iYXNlKSA9PSBjb2xvcikge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgkZm9yZWdyb3VuZC1iYXNlLCAkbWF0LXJpcHBsZS1jb2xvci1vcGFjaXR5KTtcbiAgICB9XG4gICAgQGVsc2Uge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGZvcmVncm91bmQtYmFzZTtcbiAgICAgIG9wYWNpdHk6ICRtYXQtcmlwcGxlLWNvbG9yLW9wYWNpdHk7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBtYXQtcmlwcGxlLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBtYXQtcHJpdmF0ZS1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1yaXBwbGUnKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtcmlwcGxlLWNvbG9yKCRjb2xvcik7XG4gICAgfVxuICB9XG59XG5cblxuLy8gVGhpcyBtaXhpbiBlbnN1cmVzIGFuIGVsZW1lbnQgc3BhbnMgdG8gZmlsbCB0aGUgbmVhcmVzdCBhbmNlc3RvciB3aXRoIGRlZmluZWQgcG9zaXRpb25pbmcuXG5AbWl4aW4gbWF0LWZpbGwge1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbn1cblxuXG4vLy8gTWl4aW4gdGhhdCB0dXJucyBvbiBzdHJvbmcgZm9jdXMgaW5kaWNhdG9ycy5cbi8vL1xuLy8vIEBleGFtcGxlXG4vLy8gICAubXktYXBwIHtcbi8vLyAgICAgQGluY2x1ZGUgbWF0LXN0cm9uZy1mb2N1cy1pbmRpY2F0b3JzKCRjb25maWcpO1xuLy8vICAgfVxuQG1peGluIG1hdC1zdHJvbmctZm9jdXMtaW5kaWNhdG9ycygkY29uZmlnOiAoKSkge1xuICAvLyBEZWZhdWx0IGZvY3VzIGluZGljYXRvciBjb25maWcuXG4gICRkZWZhdWx0LWNvbmZpZzogKFxuICAgIGJvcmRlci1zdHlsZTogc29saWQsXG4gICAgYm9yZGVyLXdpZHRoOiAzcHgsXG4gICAgYm9yZGVyLXJhZGl1czogNHB4LFxuICApO1xuXG4gIC8vIE1lcmdlIGRlZmF1bHQgY29uZmlnIHdpdGggdXNlciBjb25maWcuXG4gICRjb25maWc6IG1hcC1tZXJnZSgkZGVmYXVsdC1jb25maWcsICRjb25maWcpO1xuICAkYm9yZGVyLXN0eWxlOiBtYXAtZ2V0KCRjb25maWcsIGJvcmRlci1zdHlsZSk7XG4gICRib3JkZXItd2lkdGg6IG1hcC1nZXQoJGNvbmZpZywgYm9yZGVyLXdpZHRoKTtcbiAgJGJvcmRlci1yYWRpdXM6IG1hcC1nZXQoJGNvbmZpZywgYm9yZGVyLXJhZGl1cyk7XG5cbiAgLy8gQmFzZSBzdHlsZXMgZm9yIGZvY3VzIGluZGljYXRvcnMuXG4gIC5tYXQtZm9jdXMtaW5kaWNhdG9yOjpiZWZvcmUge1xuICAgIEBpbmNsdWRlIG1hdC1maWxsKCk7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICBib3JkZXI6ICRib3JkZXItd2lkdGggJGJvcmRlci1zdHlsZSB0cmFuc3BhcmVudDtcbiAgICBib3JkZXItcmFkaXVzOiAkYm9yZGVyLXJhZGl1cztcbiAgfVxuXG4gIC8vIEJ5IGRlZmF1bHQsIGFsbCBmb2N1cyBpbmRpY2F0b3JzIGFyZSBmbHVzaCB3aXRoIHRoZSBib3VuZGluZyBib3ggb2YgdGhlaXJcbiAgLy8gaG9zdCBlbGVtZW50LiBGb3IgcGFydGljdWxhciBlbGVtZW50cyAobGlzdGVkIGJlbG93KSwgZGVmYXVsdCBpbnNldC9vZmZzZXRcbiAgLy8gdmFsdWVzIGFyZSBuZWNlc3NhcnkgdG8gZW5zdXJlIHRoYXQgdGhlIGZvY3VzIGluZGljYXRvciBpcyBzdWZmaWNpZW50bHlcbiAgLy8gY29udHJhc3RpdmUgYW5kIHJlbmRlcnMgYXBwcm9wcmlhdGVseS5cblxuICAubWF0LWZvY3VzLWluZGljYXRvci5tYXQtZmxhdC1idXR0b246OmJlZm9yZSxcbiAgLm1hdC1mb2N1cy1pbmRpY2F0b3IubWF0LXJhaXNlZC1idXR0b246OmJlZm9yZSxcbiAgLm1hdC1mb2N1cy1pbmRpY2F0b3IubWF0LWZhYjo6YmVmb3JlLFxuICAubWF0LWZvY3VzLWluZGljYXRvci5tYXQtbWluaS1mYWI6OmJlZm9yZSxcbiAgLm1hdC1mb2N1cy1pbmRpY2F0b3IubWF0LWNoaXA6OmJlZm9yZSxcbiAgLm1hdC1mb2N1cy1pbmRpY2F0b3IubWF0LXNvcnQtaGVhZGVyLWNvbnRhaW5lcjo6YmVmb3JlIHtcbiAgICBtYXJnaW46IC0oJGJvcmRlci13aWR0aCArIDJweCk7XG4gIH1cblxuICAubWF0LWZvY3VzLWluZGljYXRvci5tYXQtc3Ryb2tlZC1idXR0b246OmJlZm9yZSxcbiAgLm1hdC1mb2N1cy1pbmRpY2F0b3IubWF0LWNhbGVuZGFyLWJvZHktY2VsbC1jb250ZW50OjpiZWZvcmUge1xuICAgIG1hcmdpbjogLSgkYm9yZGVyLXdpZHRoICsgM3B4KTtcbiAgfVxuXG4gIC5tYXQtZm9jdXMtaW5kaWNhdG9yLm1hdC10YWItbGluazo6YmVmb3JlLFxuICAubWF0LWZvY3VzLWluZGljYXRvci5tYXQtdGFiLWxhYmVsOjpiZWZvcmUge1xuICAgIG1hcmdpbjogNXB4O1xuICB9XG5cbiAgLy8gUmVuZGVyIHRoZSBmb2N1cyBpbmRpY2F0b3Igb24gZm9jdXMuIERlZmluaW5nIGEgcHNldWRvIGVsZW1lbnQnc1xuICAvLyBjb250ZW50IHdpbGwgY2F1c2UgaXQgdG8gcmVuZGVyLlxuXG4gIC8vIENoZWNrYm94ZXMsIHJhZGlvcywgYW5kIHNsaWRlIHRvZ2dsZXMgcmVuZGVyIGZvY3VzIGluZGljYXRvcnMgd2hlbiB0aGVcbiAgLy8gYXNzb2NpYXRlZCB2aXN1YWxseS1oaWRkZW4gaW5wdXQgaXMgZm9jdXNlZC5cbiAgLm1hdC1jaGVja2JveC1pbnB1dDpmb2N1cyB+IC5tYXQtZm9jdXMtaW5kaWNhdG9yOjpiZWZvcmUsXG4gIC5tYXQtcmFkaW8taW5wdXQ6Zm9jdXMgfiAubWF0LWZvY3VzLWluZGljYXRvcjo6YmVmb3JlLFxuICAubWF0LXNsaWRlLXRvZ2dsZS1pbnB1dDpmb2N1cyB+IC5tYXQtc2xpZGUtdG9nZ2xlLXRodW1iLWNvbnRhaW5lciAubWF0LWZvY3VzLWluZGljYXRvcjo6YmVmb3JlLFxuXG4gIC8vIEZvciBvcHRpb25zLCByZW5kZXIgdGhlIGZvY3VzIGluZGljYXRvciB3aGVuIHRoZSBjbGFzcyAubWF0LWFjdGl2ZVxuICAvLyBpcyBwcmVzZW50LlxuICAubWF0LWZvY3VzLWluZGljYXRvci5tYXQtb3B0aW9uLm1hdC1hY3RpdmU6OmJlZm9yZSxcblxuICAvLyBGb3IgY2FsZW5kYXIgY2VsbHMsIHJlbmRlciB0aGUgZm9jdXMgaW5kaWNhdG9yIHdoZW4gdGhlIHBhcmVudCBjZWxsIGlzXG4gIC8vIGZvY3VzZWQuXG4gIC5tYXQtY2FsZW5kYXItYm9keS1jZWxsOmZvY3VzIC5tYXQtZm9jdXMtaW5kaWNhdG9yOjpiZWZvcmUsXG5cbiAgLy8gRm9yIGFsbCBvdGhlciBjb21wb25lbnRzLCByZW5kZXIgdGhlIGZvY3VzIGluZGljYXRvciBvbiBmb2N1cy5cbiAgLm1hdC1mb2N1cy1pbmRpY2F0b3I6Zm9jdXM6OmJlZm9yZSB7XG4gICAgY29udGVudDogJyc7XG4gIH1cbn1cblxuLy8gTWl4aW4gdGhhdCBhcHBsaWVzIHRoZSBib3JkZXIgY29sb3IgZm9yIHRoZSBmb2N1cyBpbmRpY2F0b3JzLlxuQG1peGluIF9tYXQtc3Ryb25nLWZvY3VzLWluZGljYXRvcnMtYm9yZGVyLWNvbG9yKCRjb2xvcikge1xuICAubWF0LWZvY3VzLWluZGljYXRvcjo6YmVmb3JlIHtcbiAgICBib3JkZXItY29sb3I6ICRjb2xvcjtcbiAgfVxufVxuXG5AbWl4aW4gbWF0LXN0cm9uZy1mb2N1cy1pbmRpY2F0b3JzLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIEBpbmNsdWRlIF9tYXQtc3Ryb25nLWZvY3VzLWluZGljYXRvcnMtYm9yZGVyLWNvbG9yKG1hdC1jb2xvcihtYXAtZ2V0KCRjb25maWcsIHByaW1hcnkpKSk7XG59XG5cbi8vLyBNaXhpbiB0aGF0IHNldHMgdGhlIGNvbG9yIG9mIHRoZSBmb2N1cyBpbmRpY2F0b3JzLlxuLy8vXG4vLy8gQHBhcmFtIHtjb2xvcnxtYXB9ICR0aGVtZS1vci1jb2xvclxuLy8vICAgSWYgdGhlbWUsIGZvY3VzIGluZGljYXRvcnMgYXJlIHNldCB0byB0aGUgcHJpbWFyeSBjb2xvciBvZiB0aGUgdGhlbWUuIElmXG4vLy8gICBjb2xvciwgZm9jdXMgaW5kaWNhdG9ycyBhcmUgc2V0IHRvIHRoYXQgY29sb3IuXG4vLy9cbi8vLyBAZXhhbXBsZVxuLy8vICAgLmRlbW8tZGFyay10aGVtZSB7XG4vLy8gICAgIEBpbmNsdWRlIG1hdC1zdHJvbmctZm9jdXMtaW5kaWNhdG9ycy10aGVtZSgkZGFyay10aGVtZS1tYXApO1xuLy8vICAgfVxuLy8vXG4vLy8gQGV4YW1wbGVcbi8vLyAgIC5kZW1vLXJlZC10aGVtZSB7XG4vLy8gICAgIEBpbmNsdWRlIG1hdC1zdHJvbmctZm9jdXMtaW5kaWNhdG9ycy10aGVtZSgjZjAwKTtcbi8vLyAgIH1cbi8qIHN0eWxlbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXRlcmlhbC90aGVtZS1taXhpbi1hcGkgKi9cbkBtaXhpbiBtYXQtc3Ryb25nLWZvY3VzLWluZGljYXRvcnMtdGhlbWUoJHRoZW1lLW9yLWNvbG9yKSB7XG4gIEBpZiB0eXBlLW9mKCR0aGVtZS1vci1jb2xvcikgIT0gJ21hcCcge1xuICAgIEBpbmNsdWRlIF9tYXQtc3Ryb25nLWZvY3VzLWluZGljYXRvcnMtYm9yZGVyLWNvbG9yKCR0aGVtZS1vci1jb2xvcik7XG4gIH1cbiAgQGVsc2Uge1xuICAgICR0aGVtZTogbWF0LXByaXZhdGUtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3IpO1xuICAgIEBpbmNsdWRlIG1hdC1wcml2YXRlLWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LXN0cm9uZy1mb2N1cy1pbmRpY2F0b3JzJykge1xuICAgICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgICAgQGluY2x1ZGUgbWF0LXN0cm9uZy1mb2N1cy1pbmRpY2F0b3JzLWNvbG9yKCRjb2xvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIE1peGluIHRoYXQgZW5zdXJlcyBmb2N1cyBpbmRpY2F0b3IgaG9zdCBlbGVtZW50cyBhcmUgcG9zaXRpb25lZCBzbyB0aGF0IHRoZSBmb2N1cyBpbmRpY2F0b3Jcbi8vIHBzZXVkbyBlbGVtZW50IHdpdGhpbiBpcyBwb3NpdGlvbmVkIHJlbGF0aXZlIHRvIHRoZSBob3N0LiBQcml2YXRlIG1peGluIGluY2x1ZGVkIHdpdGhpblxuLy8gYG1hdC1jb3JlYC5cbkBtaXhpbiBtYXQtcHJpdmF0ZS1zdHJvbmctZm9jdXMtaW5kaWNhdG9ycy1wb3NpdGlvbmluZygpIHtcbiAgLm1hdC1mb2N1cy1pbmRpY2F0b3Ige1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxufVxuXG5cblxuLy8gVXRpbGl0eSBmb3IgZmV0Y2hpbmcgYSBuZXN0ZWQgdmFsdWUgZnJvbSBhIHR5cG9ncmFwaHkgY29uZmlnLlxuQGZ1bmN0aW9uIF9tYXQtZ2V0LXR5cGUtdmFsdWUoJGNvbmZpZywgJGxldmVsLCAkbmFtZSkge1xuICBAcmV0dXJuIG1hcC1nZXQobWFwLWdldCgkY29uZmlnLCAkbGV2ZWwpLCAkbmFtZSk7XG59XG5cbi8vIEdldHMgdGhlIGZvbnQgc2l6ZSBmb3IgYSBsZXZlbCBpbnNpZGUgYSB0eXBvZ3JhcGh5IGNvbmZpZy5cbkBmdW5jdGlvbiBtYXQtZm9udC1zaXplKCRjb25maWcsICRsZXZlbCkge1xuICBAcmV0dXJuIF9tYXQtZ2V0LXR5cGUtdmFsdWUoJGNvbmZpZywgJGxldmVsLCBmb250LXNpemUpO1xufVxuXG4vLyBHZXRzIHRoZSBsaW5lIGhlaWdodCBmb3IgYSBsZXZlbCBpbnNpZGUgYSB0eXBvZ3JhcGh5IGNvbmZpZy5cbkBmdW5jdGlvbiBtYXQtbGluZS1oZWlnaHQoJGNvbmZpZywgJGxldmVsKSB7XG4gIEByZXR1cm4gX21hdC1nZXQtdHlwZS12YWx1ZSgkY29uZmlnLCAkbGV2ZWwsIGxpbmUtaGVpZ2h0KTtcbn1cblxuLy8gR2V0cyB0aGUgZm9udCB3ZWlnaHQgZm9yIGEgbGV2ZWwgaW5zaWRlIGEgdHlwb2dyYXBoeSBjb25maWcuXG5AZnVuY3Rpb24gbWF0LWZvbnQtd2VpZ2h0KCRjb25maWcsICRsZXZlbCkge1xuICBAcmV0dXJuIF9tYXQtZ2V0LXR5cGUtdmFsdWUoJGNvbmZpZywgJGxldmVsLCBmb250LXdlaWdodCk7XG59XG5cbi8vIEdldHMgdGhlIGxldHRlciBzcGFjaW5nIGZvciBhIGxldmVsIGluc2lkZSBhIHR5cG9ncmFwaHkgY29uZmlnLlxuQGZ1bmN0aW9uIG1hdC1sZXR0ZXItc3BhY2luZygkY29uZmlnLCAkbGV2ZWwpIHtcbiAgQHJldHVybiBfbWF0LWdldC10eXBlLXZhbHVlKCRjb25maWcsICRsZXZlbCwgbGV0dGVyLXNwYWNpbmcpO1xufVxuXG4vLyBHZXRzIHRoZSBmb250LWZhbWlseSBmcm9tIGEgdHlwb2dyYXBoeSBjb25maWcgYW5kIHJlbW92ZXMgdGhlIHF1b3RlcyBhcm91bmQgaXQuXG5AZnVuY3Rpb24gbWF0LWZvbnQtZmFtaWx5KCRjb25maWcsICRsZXZlbDogbnVsbCkge1xuICAkZm9udC1mYW1pbHk6IG1hcC1nZXQoJGNvbmZpZywgZm9udC1mYW1pbHkpO1xuXG4gIEBpZiAkbGV2ZWwgIT0gbnVsbCB7XG4gICAgJGZvbnQtZmFtaWx5OiBfbWF0LWdldC10eXBlLXZhbHVlKCRjb25maWcsICRsZXZlbCwgZm9udC1mYW1pbHkpO1xuICB9XG5cbiAgLy8gR3VhcmQgYWdhaW5zdCB1bnF1b3Rpbmcgbm9uLXN0cmluZyB2YWx1ZXMsIGJlY2F1c2UgaXQncyBkZXByZWNhdGVkLlxuICBAcmV0dXJuIGlmKHR5cGUtb2YoJGZvbnQtZmFtaWx5KSA9PSBzdHJpbmcsIHVucXVvdGUoJGZvbnQtZmFtaWx5KSwgJGZvbnQtZmFtaWx5KTtcbn1cblxuLy8gT3V0cHV0cyB0aGUgc2hvcnRoYW5kIGBmb250YCBDU1MgcHJvcGVydHksIGJhc2VkIG9uIGEgc2V0IG9mIHR5cG9ncmFwaHkgdmFsdWVzLiBGYWxscyBiYWNrIHRvXG4vLyB0aGUgaW5kaXZpZHVhbCBwcm9wZXJ0aWVzIGlmIGEgdmFsdWUgdGhhdCBpc24ndCBhbGxvd2VkIGluIHRoZSBzaG9ydGhhbmQgaXMgcGFzc2VkIGluLlxuQG1peGluIG1hdC10eXBvZ3JhcGh5LWZvbnQtc2hvcnRoYW5kKCRmb250LXNpemUsICRmb250LXdlaWdodCwgJGxpbmUtaGVpZ2h0LCAkZm9udC1mYW1pbHkpIHtcbiAgLy8gSWYgYW55IG9mIHRoZSB2YWx1ZXMgYXJlIHNldCB0byBgaW5oZXJpdGAsIHdlIGNhbid0IHVzZSB0aGUgc2hvcnRoYW5kXG4gIC8vIHNvIHdlIGZhbGwgYmFjayB0byBwYXNzaW5nIGluIHRoZSBpbmRpdmlkdWFsIHByb3BlcnRpZXMuXG4gIEBpZiAoJGZvbnQtc2l6ZSA9PSBpbmhlcml0IG9yXG4gICAgICAgJGZvbnQtd2VpZ2h0ID09IGluaGVyaXQgb3JcbiAgICAgICAkbGluZS1oZWlnaHQgPT0gaW5oZXJpdCBvclxuICAgICAgICRmb250LWZhbWlseSA9PSBpbmhlcml0IG9yXG4gICAgICAgJGZvbnQtc2l6ZSA9PSBudWxsIG9yXG4gICAgICAgJGZvbnQtd2VpZ2h0ID09IG51bGwgb3JcbiAgICAgICAkbGluZS1oZWlnaHQgPT0gbnVsbCBvclxuICAgICAgICRmb250LWZhbWlseSA9PSBudWxsKSB7XG5cbiAgICBmb250LXNpemU6ICRmb250LXNpemU7XG4gICAgZm9udC13ZWlnaHQ6ICRmb250LXdlaWdodDtcbiAgICBsaW5lLWhlaWdodDogJGxpbmUtaGVpZ2h0O1xuICAgIGZvbnQtZmFtaWx5OiAkZm9udC1mYW1pbHk7XG4gIH1cbiAgQGVsc2Uge1xuICAgIC8vIE90aGVyd2lzZSB1c2UgdGhlIHNob3J0aGFuZCBgZm9udGAsIGJlY2F1c2UgaXQncyB0aGUgbGVhc3QgYW1vdW50IG9mIGJ5dGVzLiBOb3RlXG4gICAgLy8gdGhhdCB3ZSBuZWVkIHRvIHVzZSBpbnRlcnBvbGF0aW9uIGZvciBgZm9udC1zaXplL2xpbmUtaGVpZ2h0YCBpbiBvcmRlciB0byBwcmV2ZW50XG4gICAgLy8gU2FzcyBmcm9tIGRpdmlkaW5nIHRoZSB0d28gdmFsdWVzLlxuICAgIGZvbnQ6ICRmb250LXdlaWdodCAjeyRmb250LXNpemV9LyN7JGxpbmUtaGVpZ2h0fSAkZm9udC1mYW1pbHk7XG4gIH1cbn1cblxuLy8gQ29udmVydHMgYSB0eXBvZ3JhcGh5IGxldmVsIGludG8gQ1NTIHN0eWxlcy5cbkBtaXhpbiBtYXQtdHlwb2dyYXBoeS1sZXZlbC10by1zdHlsZXMoJGNvbmZpZywgJGxldmVsKSB7XG4gICRmb250LXNpemU6IG1hdC1mb250LXNpemUoJGNvbmZpZywgJGxldmVsKTtcbiAgJGZvbnQtd2VpZ2h0OiBtYXQtZm9udC13ZWlnaHQoJGNvbmZpZywgJGxldmVsKTtcbiAgJGxpbmUtaGVpZ2h0OiBtYXQtbGluZS1oZWlnaHQoJGNvbmZpZywgJGxldmVsKTtcbiAgJGZvbnQtZmFtaWx5OiBtYXQtZm9udC1mYW1pbHkoJGNvbmZpZywgJGxldmVsKTtcblxuICBAaW5jbHVkZSBtYXQtdHlwb2dyYXBoeS1mb250LXNob3J0aGFuZCgkZm9udC1zaXplLCAkZm9udC13ZWlnaHQsICRsaW5lLWhlaWdodCwgJGZvbnQtZmFtaWx5KTtcbiAgbGV0dGVyLXNwYWNpbmc6IG1hdC1sZXR0ZXItc3BhY2luZygkY29uZmlnLCAkbGV2ZWwpO1xufVxuXG5cbkBtaXhpbiBtYXQtb3B0aW9uLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJHByaW1hcnk6IG1hcC1nZXQoJGNvbmZpZywgcHJpbWFyeSk7XG4gICRhY2NlbnQ6IG1hcC1nZXQoJGNvbmZpZywgYWNjZW50KTtcbiAgJHdhcm46IG1hcC1nZXQoJGNvbmZpZywgd2Fybik7XG5cbiAgLm1hdC1vcHRpb24ge1xuICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHRleHQpO1xuXG4gICAgJjpob3Zlcjpub3QoLm1hdC1vcHRpb24tZGlzYWJsZWQpLFxuICAgICY6Zm9jdXM6bm90KC5tYXQtb3B0aW9uLWRpc2FibGVkKSB7XG4gICAgICBiYWNrZ3JvdW5kOiBtYXQtY29sb3IoJGJhY2tncm91bmQsIGhvdmVyKTtcbiAgICB9XG5cbiAgICAvLyBJbiBtdWx0aXBsZSBtb2RlIHRoZXJlIGlzIGEgY2hlY2tib3ggdG8gc2hvdyB0aGF0IHRoZSBvcHRpb24gaXMgc2VsZWN0ZWQuXG4gICAgJi5tYXQtc2VsZWN0ZWQ6bm90KC5tYXQtb3B0aW9uLW11bHRpcGxlKTpub3QoLm1hdC1vcHRpb24tZGlzYWJsZWQpIHtcbiAgICAgIGJhY2tncm91bmQ6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgaG92ZXIpO1xuICAgIH1cblxuICAgICYubWF0LWFjdGl2ZSB7XG4gICAgICBiYWNrZ3JvdW5kOiBtYXQtY29sb3IoJGJhY2tncm91bmQsIGhvdmVyKTtcbiAgICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHRleHQpO1xuICAgIH1cblxuICAgICYubWF0LW9wdGlvbi1kaXNhYmxlZCB7XG4gICAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBoaW50LXRleHQpO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtcHJpbWFyeSAubWF0LW9wdGlvbi5tYXQtc2VsZWN0ZWQ6bm90KC5tYXQtb3B0aW9uLWRpc2FibGVkKSB7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkcHJpbWFyeSwgdGV4dCk7XG4gIH1cblxuICAubWF0LWFjY2VudCAubWF0LW9wdGlvbi5tYXQtc2VsZWN0ZWQ6bm90KC5tYXQtb3B0aW9uLWRpc2FibGVkKSB7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkYWNjZW50LCB0ZXh0KTtcbiAgfVxuXG4gIC5tYXQtd2FybiAubWF0LW9wdGlvbi5tYXQtc2VsZWN0ZWQ6bm90KC5tYXQtb3B0aW9uLWRpc2FibGVkKSB7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkd2FybiwgdGV4dCk7XG4gIH1cbn1cblxuQG1peGluIG1hdC1vcHRpb24tdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC5tYXQtb3B0aW9uIHtcbiAgICBmb250OiB7XG4gICAgICBmYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnKTtcbiAgICAgIHNpemU6IG1hdC1mb250LXNpemUoJGNvbmZpZywgc3ViaGVhZGluZy0yKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIF9tYXQtb3B0aW9uLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1vcHRpb24tdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IG1hdC1wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1wcml2YXRlLWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LW9wdGlvbicpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1vcHRpb24tY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1vcHRpb24tZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1vcHRpb24tdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuQG1peGluIG1hdC1vcHRncm91cC1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkZm9yZWdyb3VuZDogbWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcblxuICAubWF0LW9wdGdyb3VwLWxhYmVsIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBzZWNvbmRhcnktdGV4dCk7XG4gIH1cblxuICAubWF0LW9wdGdyb3VwLWRpc2FibGVkIC5tYXQtb3B0Z3JvdXAtbGFiZWwge1xuICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGhpbnQtdGV4dCk7XG4gIH1cbn1cblxuQG1peGluIG1hdC1vcHRncm91cC10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLm1hdC1vcHRncm91cC1sYWJlbCB7XG4gICAgQGluY2x1ZGUgbWF0LXR5cG9ncmFwaHktbGV2ZWwtdG8tc3R5bGVzKCRjb25maWcsIGJvZHktMik7XG4gIH1cbn1cblxuQG1peGluIF9tYXQtb3B0Z3JvdXAtZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gbWF0LW9wdGdyb3VwLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBtYXQtcHJpdmF0ZS1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1vcHRncm91cCcpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1vcHRncm91cC1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LW9wdGdyb3VwLWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtb3B0Z3JvdXAtdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5AbWl4aW4gbWF0LXBzZXVkby1jaGVja2JveC1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkaXMtZGFyay10aGVtZTogbWFwLWdldCgkY29uZmlnLCBpcy1kYXJrKTtcbiAgJHByaW1hcnk6IG1hcC1nZXQoJGNvbmZpZywgcHJpbWFyeSk7XG4gICRhY2NlbnQ6IG1hcC1nZXQoJGNvbmZpZywgYWNjZW50KTtcbiAgJHdhcm46IG1hcC1nZXQoJGNvbmZpZywgd2Fybik7XG4gICRiYWNrZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGJhY2tncm91bmQpO1xuXG4gIC8vIE5PVEUodHJhdmlza2F1Zm1hbik6IFdoaWxlIHRoZSBzcGVjIGNhbGxzIGZvciB0cmFuc2x1Y2VudCBibGFja3Mvd2hpdGVzIGZvciBkaXNhYmxlZCBjb2xvcnMsXG4gIC8vIHRoaXMgZG9lcyBub3Qgd29yayB3ZWxsIHdpdGggZWxlbWVudHMgbGF5ZXJlZCBvbiB0b3Agb2Ygb25lIGFub3RoZXIuIFRvIGdldCBhcm91bmQgdGhpcyB3ZVxuICAvLyBibGVuZCB0aGUgY29sb3JzIHRvZ2V0aGVyIGJhc2VkIG9uIHRoZSBiYXNlIGNvbG9yIGFuZCB0aGUgdGhlbWUgYmFja2dyb3VuZC5cbiAgJHdoaXRlLTMwcGN0LW9wYWNpdHktb24tZGFyazogIzY4Njg2ODtcbiAgJGJsYWNrLTI2cGN0LW9wYWNpdHktb24tbGlnaHQ6ICNiMGIwYjA7XG4gICRkaXNhYmxlZC1jb2xvcjogaWYoJGlzLWRhcmstdGhlbWUsICR3aGl0ZS0zMHBjdC1vcGFjaXR5LW9uLWRhcmssICRibGFjay0yNnBjdC1vcGFjaXR5LW9uLWxpZ2h0KTtcbiAgJGNvbG9yZWQtYm94LXNlbGVjdG9yOiAnLm1hdC1wc2V1ZG8tY2hlY2tib3gtY2hlY2tlZCwgLm1hdC1wc2V1ZG8tY2hlY2tib3gtaW5kZXRlcm1pbmF0ZSc7XG5cbiAgLm1hdC1wc2V1ZG8tY2hlY2tib3gge1xuICAgIGNvbG9yOiBtYXQtY29sb3IobWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKSwgc2Vjb25kYXJ5LXRleHQpO1xuXG4gICAgJjo6YWZ0ZXIge1xuICAgICAgY29sb3I6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgYmFja2dyb3VuZCk7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1wc2V1ZG8tY2hlY2tib3gtZGlzYWJsZWQge1xuICAgIGNvbG9yOiAkZGlzYWJsZWQtY29sb3I7XG4gIH1cblxuICAubWF0LXByaW1hcnkgLm1hdC1wc2V1ZG8tY2hlY2tib3gtY2hlY2tlZCxcbiAgLm1hdC1wcmltYXJ5IC5tYXQtcHNldWRvLWNoZWNrYm94LWluZGV0ZXJtaW5hdGUge1xuICAgIGJhY2tncm91bmQ6IG1hdC1jb2xvcihtYXAtZ2V0KCRjb25maWcsIHByaW1hcnkpKTtcbiAgfVxuXG4gIC8vIERlZmF1bHQgdG8gdGhlIGFjY2VudCBjb2xvci4gTm90ZSB0aGF0IHRoZSBwc2V1ZG8gY2hlY2tib3hlcyBhcmUgbWVhbnQgdG8gaW5oZXJpdCB0aGVcbiAgLy8gdGhlbWUgZnJvbSB0aGVpciBwYXJlbnQsIHJhdGhlciB0aGFuIGltcGxlbWVudGluZyB0aGVpciBvd24gdGhlbWluZywgd2hpY2ggaXMgd2h5IHdlXG4gIC8vIGRvbid0IGF0dGFjaCB0byB0aGUgYG1hdC0qYCBjbGFzc2VzLiBBbHNvIG5vdGUgdGhhdCB0aGlzIG5lZWRzIHRvIGJlIGJlbG93IGAubWF0LXByaW1hcnlgXG4gIC8vIGluIG9yZGVyIHRvIGFsbG93IGZvciB0aGUgY29sb3IgdG8gYmUgb3ZlcndyaXR0ZW4gaWYgdGhlIGNoZWNrYm94IGlzIGluc2lkZSBhIHBhcmVudCB0aGF0XG4gIC8vIGhhcyBgbWF0LWFjY2VudGAgYW5kIGlzIHBsYWNlZCBpbnNpZGUgYW5vdGhlciBwYXJlbnQgdGhhdCBoYXMgYG1hdC1wcmltYXJ5YC5cbiAgLm1hdC1wc2V1ZG8tY2hlY2tib3gtY2hlY2tlZCxcbiAgLm1hdC1wc2V1ZG8tY2hlY2tib3gtaW5kZXRlcm1pbmF0ZSxcbiAgLm1hdC1hY2NlbnQgLm1hdC1wc2V1ZG8tY2hlY2tib3gtY2hlY2tlZCxcbiAgLm1hdC1hY2NlbnQgLm1hdC1wc2V1ZG8tY2hlY2tib3gtaW5kZXRlcm1pbmF0ZSB7XG4gICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKG1hcC1nZXQoJGNvbmZpZywgYWNjZW50KSk7XG4gIH1cblxuICAubWF0LXdhcm4gLm1hdC1wc2V1ZG8tY2hlY2tib3gtY2hlY2tlZCxcbiAgLm1hdC13YXJuIC5tYXQtcHNldWRvLWNoZWNrYm94LWluZGV0ZXJtaW5hdGUge1xuICAgIGJhY2tncm91bmQ6IG1hdC1jb2xvcihtYXAtZ2V0KCRjb25maWcsIHdhcm4pKTtcbiAgfVxuXG4gIC5tYXQtcHNldWRvLWNoZWNrYm94LWNoZWNrZWQsXG4gIC5tYXQtcHNldWRvLWNoZWNrYm94LWluZGV0ZXJtaW5hdGUge1xuICAgICYubWF0LXBzZXVkby1jaGVja2JveC1kaXNhYmxlZCB7XG4gICAgICBiYWNrZ3JvdW5kOiAkZGlzYWJsZWQtY29sb3I7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBtYXQtcHNldWRvLWNoZWNrYm94LXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIF9tYXQtcHNldWRvLWNoZWNrYm94LWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1wc2V1ZG8tY2hlY2tib3gtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IG1hdC1wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1wcml2YXRlLWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LXBzZXVkby1jaGVja2JveCcpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1wc2V1ZG8tY2hlY2tib3gtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1wc2V1ZG8tY2hlY2tib3gtZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1wc2V1ZG8tY2hlY2tib3gtdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG4vLyBSZXByZXNlbnRzIGEgdHlwb2dyYXBoeSBsZXZlbCBmcm9tIHRoZSBNYXRlcmlhbCBkZXNpZ24gc3BlYy5cbkBmdW5jdGlvbiBtYXQtdHlwb2dyYXBoeS1sZXZlbChcbiAgJGZvbnQtc2l6ZSxcbiAgJGxpbmUtaGVpZ2h0OiAkZm9udC1zaXplLFxuICAkZm9udC13ZWlnaHQ6IDQwMCxcbiAgJGZvbnQtZmFtaWx5OiBudWxsLFxuICAkbGV0dGVyLXNwYWNpbmc6IG5vcm1hbCkge1xuXG4gIEByZXR1cm4gKFxuICAgIGZvbnQtc2l6ZTogJGZvbnQtc2l6ZSxcbiAgICBsaW5lLWhlaWdodDogJGxpbmUtaGVpZ2h0LFxuICAgIGZvbnQtd2VpZ2h0OiAkZm9udC13ZWlnaHQsXG4gICAgZm9udC1mYW1pbHk6ICRmb250LWZhbWlseSxcbiAgICBsZXR0ZXItc3BhY2luZzogJGxldHRlci1zcGFjaW5nXG4gICk7XG59XG5cbi8vIFJlcHJlc2VudHMgYSBjb2xsZWN0aW9uIG9mIHR5cG9ncmFwaHkgbGV2ZWxzLlxuLy8gRGVmYXVsdHMgY29tZSBmcm9tIGh0dHBzOi8vbWF0ZXJpYWwuaW8vZ3VpZGVsaW5lcy9zdHlsZS90eXBvZ3JhcGh5Lmh0bWxcbi8vIE5vdGU6IFRoZSBzcGVjIGRvZXNuJ3QgbWVudGlvbiBsZXR0ZXIgc3BhY2luZy4gVGhlIHZhbHVlcyBoZXJlIGNvbWUgZnJvbVxuLy8gZXllYmFsbGluZyBpdCB1bnRpbCBpdCBsb29rZWQgZXhhY3RseSBsaWtlIHRoZSBzcGVjIGV4YW1wbGVzLlxuQGZ1bmN0aW9uIG1hdC10eXBvZ3JhcGh5LWNvbmZpZyhcbiAgJGZvbnQtZmFtaWx5OiAgICdSb2JvdG8sIFwiSGVsdmV0aWNhIE5ldWVcIiwgc2Fucy1zZXJpZicsXG4gICRkaXNwbGF5LTQ6ICAgICBtYXQtdHlwb2dyYXBoeS1sZXZlbCgxMTJweCwgMTEycHgsIDMwMCwgJGxldHRlci1zcGFjaW5nOiAtMC4wNWVtKSxcbiAgJGRpc3BsYXktMzogICAgIG1hdC10eXBvZ3JhcGh5LWxldmVsKDU2cHgsIDU2cHgsIDQwMCwgJGxldHRlci1zcGFjaW5nOiAtMC4wMmVtKSxcbiAgJGRpc3BsYXktMjogICAgIG1hdC10eXBvZ3JhcGh5LWxldmVsKDQ1cHgsIDQ4cHgsIDQwMCwgJGxldHRlci1zcGFjaW5nOiAtMC4wMDVlbSksXG4gICRkaXNwbGF5LTE6ICAgICBtYXQtdHlwb2dyYXBoeS1sZXZlbCgzNHB4LCA0MHB4LCA0MDApLFxuICAkaGVhZGxpbmU6ICAgICAgbWF0LXR5cG9ncmFwaHktbGV2ZWwoMjRweCwgMzJweCwgNDAwKSxcbiAgJHRpdGxlOiAgICAgICAgIG1hdC10eXBvZ3JhcGh5LWxldmVsKDIwcHgsIDMycHgsIDUwMCksXG4gICRzdWJoZWFkaW5nLTI6ICBtYXQtdHlwb2dyYXBoeS1sZXZlbCgxNnB4LCAyOHB4LCA0MDApLFxuICAkc3ViaGVhZGluZy0xOiAgbWF0LXR5cG9ncmFwaHktbGV2ZWwoMTVweCwgMjRweCwgNDAwKSxcbiAgJGJvZHktMjogICAgICAgIG1hdC10eXBvZ3JhcGh5LWxldmVsKDE0cHgsIDI0cHgsIDUwMCksXG4gICRib2R5LTE6ICAgICAgICBtYXQtdHlwb2dyYXBoeS1sZXZlbCgxNHB4LCAyMHB4LCA0MDApLFxuICAkY2FwdGlvbjogICAgICAgbWF0LXR5cG9ncmFwaHktbGV2ZWwoMTJweCwgMjBweCwgNDAwKSxcbiAgJGJ1dHRvbjogICAgICAgIG1hdC10eXBvZ3JhcGh5LWxldmVsKDE0cHgsIDE0cHgsIDUwMCksXG4gIC8vIExpbmUtaGVpZ2h0IG11c3QgYmUgdW5pdC1sZXNzIGZyYWN0aW9uIG9mIHRoZSBmb250LXNpemUuXG4gICRpbnB1dDogICAgICAgICBtYXQtdHlwb2dyYXBoeS1sZXZlbChpbmhlcml0LCAxLjEyNSwgNDAwKVxuKSB7XG5cbiAgLy8gRGVjbGFyZSBhbiBpbml0aWFsIG1hcCB3aXRoIGFsbCBvZiB0aGUgbGV2ZWxzLlxuICAkY29uZmlnOiAoXG4gICAgZGlzcGxheS00OiAgICAgICRkaXNwbGF5LTQsXG4gICAgZGlzcGxheS0zOiAgICAgICRkaXNwbGF5LTMsXG4gICAgZGlzcGxheS0yOiAgICAgICRkaXNwbGF5LTIsXG4gICAgZGlzcGxheS0xOiAgICAgICRkaXNwbGF5LTEsXG4gICAgaGVhZGxpbmU6ICAgICAgICRoZWFkbGluZSxcbiAgICB0aXRsZTogICAgICAgICAgJHRpdGxlLFxuICAgIHN1YmhlYWRpbmctMjogICAkc3ViaGVhZGluZy0yLFxuICAgIHN1YmhlYWRpbmctMTogICAkc3ViaGVhZGluZy0xLFxuICAgIGJvZHktMjogICAgICAgICAkYm9keS0yLFxuICAgIGJvZHktMTogICAgICAgICAkYm9keS0xLFxuICAgIGNhcHRpb246ICAgICAgICAkY2FwdGlvbixcbiAgICBidXR0b246ICAgICAgICAgJGJ1dHRvbixcbiAgICBpbnB1dDogICAgICAgICAgJGlucHV0LFxuICApO1xuXG4gIC8vIExvb3AgdGhyb3VnaCB0aGUgbGV2ZWxzIGFuZCBzZXQgdGhlIGBmb250LWZhbWlseWAgb2YgdGhlIG9uZXMgdGhhdCBkb24ndCBoYXZlIG9uZSB0byB0aGUgYmFzZS5cbiAgLy8gTm90ZSB0aGF0IFNhc3MgY2FuJ3QgbW9kaWZ5IG1hcHMgaW4gcGxhY2UsIHdoaWNoIG1lYW5zIHRoYXQgd2UgbmVlZCB0byBtZXJnZSBhbmQgcmUtYXNzaWduLlxuICBAZWFjaCAka2V5LCAkbGV2ZWwgaW4gJGNvbmZpZyB7XG4gICAgQGlmIG1hcC1nZXQoJGxldmVsLCBmb250LWZhbWlseSkgPT0gbnVsbCB7XG4gICAgICAkbmV3LWxldmVsOiBtYXAtbWVyZ2UoJGxldmVsLCAoZm9udC1mYW1pbHk6ICRmb250LWZhbWlseSkpO1xuICAgICAgJGNvbmZpZzogbWFwLW1lcmdlKCRjb25maWcsICgka2V5OiAkbmV3LWxldmVsKSk7XG4gICAgfVxuICB9XG5cbiAgLy8gQWRkIHRoZSBiYXNlIGZvbnQgZmFtaWx5IHRvIHRoZSBjb25maWcuXG4gIEByZXR1cm4gbWFwLW1lcmdlKCRjb25maWcsIChmb250LWZhbWlseTogJGZvbnQtZmFtaWx5KSk7XG59XG5cbi8vIFdoZXRoZXIgYSBjb25maWcgaXMgZm9yIHRoZSBNYXRlcmlhbCBEZXNpZ24gMjAxOCB0eXBvZ3JhcGh5IHN5c3RlbS5cbkBmdW5jdGlvbiBtYXQtcHJpdmF0ZS10eXBvZ3JhcGh5LWlzLTIwMTgtY29uZmlnKCRjb25maWcpIHtcbiAgQHJldHVybiBtYXAtZ2V0KCRjb25maWcsIGhlYWRsaW5lLTEpICE9IG51bGw7XG59XG5cbi8vIFdoZXRoZXIgYSBjb25maWcgaXMgZm9yIHRoZSBNYXRlcmlhbCBEZXNpZ24gMjAxNCB0eXBvZ3JhcGh5IHN5c3RlbS5cbkBmdW5jdGlvbiBtYXQtcHJpdmF0ZS10eXBvZ3JhcGh5LWlzLTIwMTQtY29uZmlnKCRjb25maWcpIHtcbiAgQHJldHVybiBtYXAtZ2V0KCRjb25maWcsIGhlYWRsaW5lKSAhPSBudWxsO1xufVxuXG4vLyBHaXZlbiBhIGNvbmZpZyBmb3IgZWl0aGVyIHRoZSAyMDE0IG9yIDIwMTggTWF0ZXJpYWwgRGVzaWduIHR5cG9ncmFwaHkgc3lzdGVtLFxuLy8gcHJvZHVjZXMgYSBub3JtYWxpemVkIHR5cG9ncmFwaHkgY29uZmlnIGZvciB0aGUgMjAxNCBNYXRlcmlhbCBEZXNpZ24gdHlwb2dyYXBoeSBzeXN0ZW0uXG4vLyAyMDE0IC0gaHR0cHM6Ly9tYXRlcmlhbC5pby9hcmNoaXZlL2d1aWRlbGluZXMvc3R5bGUvdHlwb2dyYXBoeS5odG1sI3R5cG9ncmFwaHktc3R5bGVzXG4vLyAyMDE4IC0gaHR0cHM6Ly9tYXRlcmlhbC5pby9kZXNpZ24vdHlwb2dyYXBoeS90aGUtdHlwZS1zeXN0ZW0uaHRtbCN0eXBlLXNjYWxlXG5AZnVuY3Rpb24gbWF0LXByaXZhdGUtdHlwb2dyYXBoeS10by0yMDE0LWNvbmZpZygkY29uZmlnKSB7XG4gIEBpZiBtYXQtcHJpdmF0ZS10eXBvZ3JhcGh5LWlzLTIwMTgtY29uZmlnKCRjb25maWcpIHtcbiAgICBAcmV0dXJuIG1hdC10eXBvZ3JhcGh5LWNvbmZpZyhcbiAgICAgICAgJGRpc3BsYXktNDogbWFwLWdldCgkY29uZmlnLCBoZWFkbGluZS0xKSxcbiAgICAgICAgJGRpc3BsYXktMzogbWFwLWdldCgkY29uZmlnLCBoZWFkbGluZS0yKSxcbiAgICAgICAgJGRpc3BsYXktMjogbWFwLWdldCgkY29uZmlnLCBoZWFkbGluZS0zKSxcbiAgICAgICAgJGRpc3BsYXktMTogbWFwLWdldCgkY29uZmlnLCBoZWFkbGluZS00KSxcbiAgICAgICAgJGhlYWRsaW5lOiBtYXAtZ2V0KCRjb25maWcsIGhlYWRsaW5lLTUpLFxuICAgICAgICAkdGl0bGU6IG1hcC1nZXQoJGNvbmZpZywgaGVhZGxpbmUtNiksXG4gICAgICAgICRzdWJoZWFkaW5nLTI6IG1hcC1nZXQoJGNvbmZpZywgc3VidGl0bGUtMSksXG4gICAgICAgICRzdWJoZWFkaW5nLTE6IG1hcC1nZXQoJGNvbmZpZywgc3VidGl0bGUtMiksXG4gICAgICAgICRib2R5LTI6IG1hcC1nZXQoJGNvbmZpZywgYm9keS0xKSxcbiAgICAgICAgJGJvZHktMTogbWFwLWdldCgkY29uZmlnLCBib2R5LTIpLFxuICAgICAgICAkYnV0dG9uOiBtYXAtZ2V0KCRjb25maWcsIGJ1dHRvbiksXG4gICAgICAgICRjYXB0aW9uOiBtYXAtZ2V0KCRjb25maWcsIGNhcHRpb24pLFxuICAgICk7XG4gIH1cbiAgQHJldHVybiAkY29uZmlnO1xufVxuXG4vLyBHaXZlbiBhIGNvbmZpZyBmb3IgZWl0aGVyIHRoZSAyMDE0IG9yIDIwMTggTWF0ZXJpYWwgRGVzaWduIHR5cG9ncmFwaHkgc3lzdGVtLFxuLy8gcHJvZHVjZXMgYSBub3JtYWxpemVkIHR5cG9ncmFwaHkgY29uZmlnIGZvciB0aGUgMjAxOCBNYXRlcmlhbCBEZXNpZ24gdHlwb2dyYXBoeSBzeXN0ZW0uXG4vLyAyMDE0IC0gaHR0cHM6Ly9tYXRlcmlhbC5pby9hcmNoaXZlL2d1aWRlbGluZXMvc3R5bGUvdHlwb2dyYXBoeS5odG1sI3R5cG9ncmFwaHktc3R5bGVzXG4vLyAyMDE4IC0gaHR0cHM6Ly9tYXRlcmlhbC5pby9kZXNpZ24vdHlwb2dyYXBoeS90aGUtdHlwZS1zeXN0ZW0uaHRtbCN0eXBlLXNjYWxlXG5AZnVuY3Rpb24gbWF0LXByaXZhdGUtdHlwb2dyYXBoeS10by0yMDE4LWNvbmZpZygkY29uZmlnKSB7XG4gIEBpZiBtYXQtcHJpdmF0ZS10eXBvZ3JhcGh5LWlzLTIwMTQtY29uZmlnKCRjb25maWcpIHtcbiAgICBAcmV0dXJuIChcbiAgICAgICAgaGVhZGxpbmUtMTogbWFwLWdldCgkY29uZmlnLCBkaXNwbGF5LTQpLFxuICAgICAgICBoZWFkbGluZS0yOiBtYXAtZ2V0KCRjb25maWcsIGRpc3BsYXktMyksXG4gICAgICAgIGhlYWRsaW5lLTM6IG1hcC1nZXQoJGNvbmZpZywgZGlzcGxheS0yKSxcbiAgICAgICAgaGVhZGxpbmUtNDogbWFwLWdldCgkY29uZmlnLCBkaXNwbGF5LTEpLFxuICAgICAgICBoZWFkbGluZS01OiBtYXAtZ2V0KCRjb25maWcsIGhlYWRsaW5lKSxcbiAgICAgICAgaGVhZGxpbmUtNjogbWFwLWdldCgkY29uZmlnLCB0aXRsZSksXG4gICAgICAgIHN1YnRpdGxlLTE6IG1hcC1nZXQoJGNvbmZpZywgc3ViaGVhZGluZy0yKSxcbiAgICAgICAgc3VidGl0bGUtMjogbWFwLWdldCgkY29uZmlnLCBzdWJoZWFkaW5nLTEpLFxuICAgICAgICBib2R5LTE6IG1hcC1nZXQoJGNvbmZpZywgYm9keS0yKSxcbiAgICAgICAgYm9keS0yOiBtYXAtZ2V0KCRjb25maWcsIGJvZHktMSksXG4gICAgICAgIGJ1dHRvbjogbWFwLWdldCgkY29uZmlnLCBidXR0b24pLFxuICAgICAgICBjYXB0aW9uOiBtYXAtZ2V0KCRjb25maWcsIGNhcHRpb24pLFxuICAgICk7XG4gIH1cbiAgQHJldHVybiAkY29uZmlnO1xufVxuXG4vLyBBZGRzIHRoZSBiYXNlIHR5cG9ncmFwaHkgc3R5bGVzLCBiYXNlZCBvbiBhIGNvbmZpZy5cbi8qIHN0eWxlbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXRlcmlhbC90aGVtZS1taXhpbi1hcGkgKi9cbkBtaXhpbiBtYXQtYmFzZS10eXBvZ3JhcGh5KCRjb25maWcsICRzZWxlY3RvcjogJy5tYXQtdHlwb2dyYXBoeScpIHtcbiAgLm1hdC1oMSwgLm1hdC1oZWFkbGluZSwgI3skc2VsZWN0b3J9IGgxIHtcbiAgICBAaW5jbHVkZSBtYXQtdHlwb2dyYXBoeS1sZXZlbC10by1zdHlsZXMoJGNvbmZpZywgaGVhZGxpbmUpO1xuICAgIG1hcmdpbjogMCAwIDE2cHg7XG4gIH1cblxuICAubWF0LWgyLCAubWF0LXRpdGxlLCAjeyRzZWxlY3Rvcn0gaDIge1xuICAgIEBpbmNsdWRlIG1hdC10eXBvZ3JhcGh5LWxldmVsLXRvLXN0eWxlcygkY29uZmlnLCB0aXRsZSk7XG4gICAgbWFyZ2luOiAwIDAgMTZweDtcbiAgfVxuXG4gIC5tYXQtaDMsIC5tYXQtc3ViaGVhZGluZy0yLCAjeyRzZWxlY3Rvcn0gaDMge1xuICAgIEBpbmNsdWRlIG1hdC10eXBvZ3JhcGh5LWxldmVsLXRvLXN0eWxlcygkY29uZmlnLCBzdWJoZWFkaW5nLTIpO1xuICAgIG1hcmdpbjogMCAwIDE2cHg7XG4gIH1cblxuICAubWF0LWg0LCAubWF0LXN1YmhlYWRpbmctMSwgI3skc2VsZWN0b3J9IGg0IHtcbiAgICBAaW5jbHVkZSBtYXQtdHlwb2dyYXBoeS1sZXZlbC10by1zdHlsZXMoJGNvbmZpZywgc3ViaGVhZGluZy0xKTtcbiAgICBtYXJnaW46IDAgMCAxNnB4O1xuICB9XG5cbiAgLy8gTm90ZTogdGhlIHNwZWMgZG9lc24ndCBoYXZlIGFueXRoaW5nIHRoYXQgd291bGQgY29ycmVzcG9uZCB0byBoNSBhbmQgaDYsIGJ1dCB3ZSBhZGQgdGhlc2UgZm9yXG4gIC8vIGNvbnNpc3RlbmN5LiBUaGUgZm9udCBzaXplcyBjb21lIGZyb20gdGhlIENocm9tZSB1c2VyIGFnZW50IHN0eWxlcyB3aGljaCBoYXZlIGg1IGF0IDAuODNlbVxuICAvLyBhbmQgaDYgYXQgMC42N2VtLlxuICAubWF0LWg1LCAjeyRzZWxlY3Rvcn0gaDUge1xuICAgIEBpbmNsdWRlIG1hdC10eXBvZ3JhcGh5LWZvbnQtc2hvcnRoYW5kKFxuICAgICAgIC8vIGNhbGMgaXMgdXNlZCBoZXJlIHRvIHN1cHBvcnQgY3NzIHZhcmlhYmxlc1xuICAgICAgY2FsYygje21hdC1mb250LXNpemUoJGNvbmZpZywgYm9keS0xKX0gKiAwLjgzKSxcbiAgICAgIG1hdC1mb250LXdlaWdodCgkY29uZmlnLCBib2R5LTEpLFxuICAgICAgbWF0LWxpbmUtaGVpZ2h0KCRjb25maWcsIGJvZHktMSksXG4gICAgICBtYXQtZm9udC1mYW1pbHkoJGNvbmZpZywgYm9keS0xKVxuICAgICk7XG5cbiAgICBtYXJnaW46IDAgMCAxMnB4O1xuICB9XG5cbiAgLm1hdC1oNiwgI3skc2VsZWN0b3J9IGg2IHtcbiAgICBAaW5jbHVkZSBtYXQtdHlwb2dyYXBoeS1mb250LXNob3J0aGFuZChcbiAgICAgICAvLyBjYWxjIGlzIHVzZWQgaGVyZSB0byBzdXBwb3J0IGNzcyB2YXJpYWJsZXNcbiAgICAgIGNhbGMoI3ttYXQtZm9udC1zaXplKCRjb25maWcsIGJvZHktMSl9ICogMC42NyksXG4gICAgICBtYXQtZm9udC13ZWlnaHQoJGNvbmZpZywgYm9keS0xKSxcbiAgICAgIG1hdC1saW5lLWhlaWdodCgkY29uZmlnLCBib2R5LTEpLFxuICAgICAgbWF0LWZvbnQtZmFtaWx5KCRjb25maWcsIGJvZHktMSlcbiAgICApO1xuXG4gICAgbWFyZ2luOiAwIDAgMTJweDtcbiAgfVxuXG4gIC5tYXQtYm9keS1zdHJvbmcsIC5tYXQtYm9keS0yIHtcbiAgICBAaW5jbHVkZSBtYXQtdHlwb2dyYXBoeS1sZXZlbC10by1zdHlsZXMoJGNvbmZpZywgYm9keS0yKTtcbiAgfVxuXG4gIC5tYXQtYm9keSwgLm1hdC1ib2R5LTEsICN7JHNlbGVjdG9yfSB7XG4gICAgQGluY2x1ZGUgbWF0LXR5cG9ncmFwaHktbGV2ZWwtdG8tc3R5bGVzKCRjb25maWcsIGJvZHktMSk7XG5cbiAgICBwIHtcbiAgICAgIG1hcmdpbjogMCAwIDEycHg7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1zbWFsbCwgLm1hdC1jYXB0aW9uIHtcbiAgICBAaW5jbHVkZSBtYXQtdHlwb2dyYXBoeS1sZXZlbC10by1zdHlsZXMoJGNvbmZpZywgY2FwdGlvbik7XG4gIH1cblxuICAubWF0LWRpc3BsYXktNCwgI3skc2VsZWN0b3J9IC5tYXQtZGlzcGxheS00IHtcbiAgICBAaW5jbHVkZSBtYXQtdHlwb2dyYXBoeS1sZXZlbC10by1zdHlsZXMoJGNvbmZpZywgZGlzcGxheS00KTtcbiAgICBtYXJnaW46IDAgMCA1NnB4O1xuICB9XG5cbiAgLm1hdC1kaXNwbGF5LTMsICN7JHNlbGVjdG9yfSAubWF0LWRpc3BsYXktMyB7XG4gICAgQGluY2x1ZGUgbWF0LXR5cG9ncmFwaHktbGV2ZWwtdG8tc3R5bGVzKCRjb25maWcsIGRpc3BsYXktMyk7XG4gICAgbWFyZ2luOiAwIDAgNjRweDtcbiAgfVxuXG4gIC5tYXQtZGlzcGxheS0yLCAjeyRzZWxlY3Rvcn0gLm1hdC1kaXNwbGF5LTIge1xuICAgIEBpbmNsdWRlIG1hdC10eXBvZ3JhcGh5LWxldmVsLXRvLXN0eWxlcygkY29uZmlnLCBkaXNwbGF5LTIpO1xuICAgIG1hcmdpbjogMCAwIDY0cHg7XG4gIH1cblxuICAubWF0LWRpc3BsYXktMSwgI3skc2VsZWN0b3J9IC5tYXQtZGlzcGxheS0xIHtcbiAgICBAaW5jbHVkZSBtYXQtdHlwb2dyYXBoeS1sZXZlbC10by1zdHlsZXMoJGNvbmZpZywgZGlzcGxheS0xKTtcbiAgICBtYXJnaW46IDAgMCA2NHB4O1xuICB9XG59XG5cblxuXG5cbkBtaXhpbiBtYXQtYXV0b2NvbXBsZXRlLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcblxuICAubWF0LWF1dG9jb21wbGV0ZS1wYW5lbCB7XG4gICAgQGluY2x1ZGUgbWF0LXByaXZhdGUtdGhlbWUtb3ZlcnJpZGFibGUtZWxldmF0aW9uKDQsICRjb25maWcpO1xuICAgIGJhY2tncm91bmQ6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgY2FyZCk7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG5cbiAgICAvLyBTZWxlY3RlZCBvcHRpb25zIGluIGF1dG9jb21wbGV0ZXMgc2hvdWxkIG5vdCBiZSBncmF5LCBidXQgd2VcbiAgICAvLyBvbmx5IHdhbnQgdG8gb3ZlcnJpZGUgdGhlIGJhY2tncm91bmQgZm9yIHNlbGVjdGVkIG9wdGlvbnMgaWZcbiAgICAvLyB0aGV5IGFyZSAqbm90KiBpbiBob3ZlciBvciBmb2N1cyBzdGF0ZS4gVGhpcyBjaGFuZ2UgaGFzIHRvIGJlXG4gICAgLy8gbWFkZSBoZXJlIGJlY2F1c2UgYmFzZSBvcHRpb24gc3R5bGVzIGFyZSBzaGFyZWQgYmV0d2VlbiB0aGVcbiAgICAvLyBhdXRvY29tcGxldGUgYW5kIHRoZSBzZWxlY3QuXG4gICAgLm1hdC1vcHRpb24ubWF0LXNlbGVjdGVkOm5vdCgubWF0LWFjdGl2ZSk6bm90KDpob3Zlcikge1xuICAgICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBjYXJkKTtcblxuICAgICAgJjpub3QoLm1hdC1vcHRpb24tZGlzYWJsZWQpIHtcbiAgICAgICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBtYXQtYXV0b2NvbXBsZXRlLXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIF9tYXQtYXV0b2NvbXBsZXRlLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1hdXRvY29tcGxldGUtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IG1hdC1wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1wcml2YXRlLWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LWF1dG9jb21wbGV0ZScpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1hdXRvY29tcGxldGUtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1hdXRvY29tcGxldGUtZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1hdXRvY29tcGxldGUtdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cbi8vIFRoaXMgY29udGFpbnMgYWxsIG9mIHRoZSBzdHlsZXMgZm9yIHRoZSBiYWRnZVxuLy8gcmF0aGVyIHRoYW4ganVzdCB0aGUgY29sb3IvdGhlbWUgYmVjYXVzZSBvZlxuLy8gbm8gc3R5bGUgc2hlZXQgc3VwcG9ydCBmb3IgZGlyZWN0aXZlcy5cblxuXG5cblxuXG4kbWF0LWJhZGdlLWZvbnQtc2l6ZTogMTJweDtcbiRtYXQtYmFkZ2UtZm9udC13ZWlnaHQ6IDYwMDtcbiRtYXQtYmFkZ2UtZGVmYXVsdC1zaXplOiAyMnB4ICFkZWZhdWx0O1xuJG1hdC1iYWRnZS1zbWFsbC1zaXplOiAkbWF0LWJhZGdlLWRlZmF1bHQtc2l6ZSAtIDY7XG4kbWF0LWJhZGdlLWxhcmdlLXNpemU6ICRtYXQtYmFkZ2UtZGVmYXVsdC1zaXplICsgNjtcblxuLy8gTWl4aW4gZm9yIGJ1aWxkaW5nIG9mZnNldCBnaXZlbiBkaWZmZXJlbnQgc2l6ZXNcbkBtaXhpbiBfbWF0LWJhZGdlLXNpemUoJHNpemUpIHtcbiAgLm1hdC1iYWRnZS1jb250ZW50IHtcbiAgICB3aWR0aDogJHNpemU7XG4gICAgaGVpZ2h0OiAkc2l6ZTtcbiAgICBsaW5lLWhlaWdodDogJHNpemU7XG4gIH1cblxuICAmLm1hdC1iYWRnZS1hYm92ZSB7XG4gICAgLm1hdC1iYWRnZS1jb250ZW50IHtcbiAgICAgIHRvcDogLSRzaXplIC8gMjtcbiAgICB9XG4gIH1cblxuICAmLm1hdC1iYWRnZS1iZWxvdyB7XG4gICAgLm1hdC1iYWRnZS1jb250ZW50IHtcbiAgICAgIGJvdHRvbTogLSRzaXplIC8gMjtcbiAgICB9XG4gIH1cblxuICAmLm1hdC1iYWRnZS1iZWZvcmUge1xuICAgIC5tYXQtYmFkZ2UtY29udGVudCB7XG4gICAgICBsZWZ0OiAtJHNpemU7XG4gICAgfVxuICB9XG5cbiAgW2Rpcj0ncnRsJ10gJi5tYXQtYmFkZ2UtYmVmb3JlIHtcbiAgICAubWF0LWJhZGdlLWNvbnRlbnQge1xuICAgICAgbGVmdDogYXV0bztcbiAgICAgIHJpZ2h0OiAtJHNpemU7XG4gICAgfVxuICB9XG5cbiAgJi5tYXQtYmFkZ2UtYWZ0ZXIge1xuICAgIC5tYXQtYmFkZ2UtY29udGVudCB7XG4gICAgICByaWdodDogLSRzaXplO1xuICAgIH1cbiAgfVxuXG4gIFtkaXI9J3J0bCddICYubWF0LWJhZGdlLWFmdGVyIHtcbiAgICAubWF0LWJhZGdlLWNvbnRlbnQge1xuICAgICAgcmlnaHQ6IGF1dG87XG4gICAgICBsZWZ0OiAtJHNpemU7XG4gICAgfVxuICB9XG5cbiAgJi5tYXQtYmFkZ2Utb3ZlcmxhcCB7XG4gICAgJi5tYXQtYmFkZ2UtYmVmb3JlIHtcbiAgICAgIC5tYXQtYmFkZ2UtY29udGVudCB7XG4gICAgICAgIGxlZnQ6IC0kc2l6ZSAvIDI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgW2Rpcj0ncnRsJ10gJi5tYXQtYmFkZ2UtYmVmb3JlIHtcbiAgICAgIC5tYXQtYmFkZ2UtY29udGVudCB7XG4gICAgICAgIGxlZnQ6IGF1dG87XG4gICAgICAgIHJpZ2h0OiAtJHNpemUgLyAyO1xuICAgICAgfVxuICAgIH1cblxuICAgICYubWF0LWJhZGdlLWFmdGVyIHtcbiAgICAgIC5tYXQtYmFkZ2UtY29udGVudCB7XG4gICAgICAgIHJpZ2h0OiAtJHNpemUgLyAyO1xuICAgICAgfVxuICAgIH1cblxuICAgIFtkaXI9J3J0bCddICYubWF0LWJhZGdlLWFmdGVyIHtcbiAgICAgIC5tYXQtYmFkZ2UtY29udGVudCB7XG4gICAgICAgIHJpZ2h0OiBhdXRvO1xuICAgICAgICBsZWZ0OiAtJHNpemUgLyAyO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LWJhZGdlLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRhY2NlbnQ6IG1hcC1nZXQoJGNvbmZpZywgYWNjZW50KTtcbiAgJHdhcm46IG1hcC1nZXQoJGNvbmZpZywgd2Fybik7XG4gICRwcmltYXJ5OiBtYXAtZ2V0KCRjb25maWcsIHByaW1hcnkpO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cbiAgLm1hdC1iYWRnZS1jb250ZW50IHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRwcmltYXJ5LCBkZWZhdWx0LWNvbnRyYXN0KTtcbiAgICBiYWNrZ3JvdW5kOiBtYXQtY29sb3IoJHByaW1hcnkpO1xuXG4gICAgQGluY2x1ZGUgY2RrLWhpZ2gtY29udHJhc3QoYWN0aXZlLCBvZmYpIHtcbiAgICAgIG91dGxpbmU6IHNvbGlkIDFweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDA7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1iYWRnZS1hY2NlbnQge1xuICAgIC5tYXQtYmFkZ2UtY29udGVudCB7XG4gICAgICBiYWNrZ3JvdW5kOiBtYXQtY29sb3IoJGFjY2VudCk7XG4gICAgICBjb2xvcjogbWF0LWNvbG9yKCRhY2NlbnQsIGRlZmF1bHQtY29udHJhc3QpO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtYmFkZ2Utd2FybiB7XG4gICAgLm1hdC1iYWRnZS1jb250ZW50IHtcbiAgICAgIGNvbG9yOiBtYXQtY29sb3IoJHdhcm4sIGRlZmF1bHQtY29udHJhc3QpO1xuICAgICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKCR3YXJuKTtcbiAgICB9XG4gIH1cblxuICAubWF0LWJhZGdlIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIH1cblxuICAubWF0LWJhZGdlLWhpZGRlbiB7XG4gICAgLm1hdC1iYWRnZS1jb250ZW50IHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1iYWRnZS1kaXNhYmxlZCB7XG4gICAgLm1hdC1iYWRnZS1jb250ZW50IHtcbiAgICAgICRhcHAtYmFja2dyb3VuZDogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCAnYmFja2dyb3VuZCcpO1xuICAgICAgJGJhZGdlLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGRpc2FibGVkLWJ1dHRvbik7XG5cbiAgICAgIC8vIFRoZSBkaXNhYmxlZCBjb2xvciB1c3VhbGx5IGhhcyBzb21lIGtpbmQgb2Ygb3BhY2l0eSwgYnV0IGJlY2F1c2UgdGhlIGJhZGdlIGlzIG92ZXJsYXllZFxuICAgICAgLy8gb24gdG9wIG9mIHNvbWV0aGluZyBlbHNlLCBpdCB3b24ndCBsb29rIGdvb2QgaWYgaXQncyBvcGFxdWUuIElmIGl0IGlzIGEgY29sb3IgKnR5cGUqLFxuICAgICAgLy8gd2UgY29udmVydCBpdCBpbnRvIGEgc29saWQgY29sb3IgYnkgdGFraW5nIHRoZSBvcGFjaXR5IGZyb20gdGhlIHJnYmEgdmFsdWUgYW5kIHVzaW5nXG4gICAgICAvLyB0aGUgdmFsdWUgdG8gZGV0ZXJtaW5lIHRoZSBwZXJjZW50YWdlIG9mIHRoZSBiYWNrZ3JvdW5kIHRvIHB1dCBpbnRvIGZvcmVncm91bmQgd2hlblxuICAgICAgLy8gbWl4aW5nIHRoZSBjb2xvcnMgdG9nZXRoZXIuXG4gICAgICBAaWYgKHR5cGUtb2YoJGJhZGdlLWNvbG9yKSA9PSBjb2xvciBhbmQgdHlwZS1vZigkYXBwLWJhY2tncm91bmQpID09IGNvbG9yKSB7XG4gICAgICAgICRiYWRnZS1vcGFjaXR5OiBvcGFjaXR5KCRiYWRnZS1jb2xvcik7XG4gICAgICAgIGJhY2tncm91bmQ6IG1peCgkYXBwLWJhY2tncm91bmQsIHJnYmEoJGJhZGdlLWNvbG9yLCAxKSwgKDEgLSAkYmFkZ2Utb3BhY2l0eSkgKiAxMDAlKTtcbiAgICAgIH1cbiAgICAgIEBlbHNlIHtcbiAgICAgICAgYmFja2dyb3VuZDogJGJhZGdlLWNvbG9yO1xuICAgICAgfVxuXG4gICAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXNhYmxlZC10ZXh0KTtcbiAgICB9XG4gIH1cblxuICAubWF0LWJhZGdlLWNvbnRlbnQge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMjAwbXMgZWFzZS1pbi1vdXQ7XG4gICAgdHJhbnNmb3JtOiBzY2FsZSgwLjYpO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgfVxuXG4gIC5uZy1hbmltYXRlLWRpc2FibGVkIC5tYXQtYmFkZ2UtY29udGVudCxcbiAgLm1hdC1iYWRnZS1jb250ZW50Ll9tYXQtYW5pbWF0aW9uLW5vb3BhYmxlIHtcbiAgICB0cmFuc2l0aW9uOiBub25lO1xuICB9XG5cbiAgLy8gVGhlIGFjdGl2ZSBjbGFzcyBpcyBhZGRlZCBhZnRlciB0aGUgZWxlbWVudCBpcyBhZGRlZFxuICAvLyBzbyBpdCBjYW4gYW5pbWF0ZSBzY2FsZSB0byBkZWZhdWx0XG4gIC5tYXQtYmFkZ2UtY29udGVudC5tYXQtYmFkZ2UtYWN0aXZlIHtcbiAgICAvLyBTY2FsZSB0byBgbm9uZWAgaW5zdGVhZCBvZiBgMWAgdG8gYXZvaWQgYmx1cnJ5IHRleHQgaW4gc29tZSBicm93c2Vycy5cbiAgICB0cmFuc2Zvcm06IG5vbmU7XG4gIH1cblxuICAubWF0LWJhZGdlLXNtYWxsIHtcbiAgICBAaW5jbHVkZSBfbWF0LWJhZGdlLXNpemUoJG1hdC1iYWRnZS1zbWFsbC1zaXplKTtcbiAgfVxuICAubWF0LWJhZGdlLW1lZGl1bSB7XG4gICAgQGluY2x1ZGUgX21hdC1iYWRnZS1zaXplKCRtYXQtYmFkZ2UtZGVmYXVsdC1zaXplKTtcbiAgfVxuICAubWF0LWJhZGdlLWxhcmdlIHtcbiAgICBAaW5jbHVkZSBfbWF0LWJhZGdlLXNpemUoJG1hdC1iYWRnZS1sYXJnZS1zaXplKTtcbiAgfVxufVxuXG5AbWl4aW4gbWF0LWJhZGdlLXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAubWF0LWJhZGdlLWNvbnRlbnQge1xuICAgIGZvbnQtd2VpZ2h0OiAkbWF0LWJhZGdlLWZvbnQtd2VpZ2h0O1xuICAgIGZvbnQtc2l6ZTogJG1hdC1iYWRnZS1mb250LXNpemU7XG4gICAgZm9udC1mYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnKTtcbiAgfVxuXG4gIC5tYXQtYmFkZ2Utc21hbGwgLm1hdC1iYWRnZS1jb250ZW50IHtcbiAgICAvLyBTZXQgdGhlIGZvbnQgc2l6ZSB0byA3NSUgb2YgdGhlIG9yaWdpbmFsLlxuICAgIGZvbnQtc2l6ZTogJG1hdC1iYWRnZS1mb250LXNpemUgKiAwLjc1O1xuICB9XG5cbiAgLm1hdC1iYWRnZS1sYXJnZSAubWF0LWJhZGdlLWNvbnRlbnQge1xuICAgIGZvbnQtc2l6ZTogJG1hdC1iYWRnZS1mb250LXNpemUgKiAyO1xuICB9XG59XG5cbkBtaXhpbiBfbWF0LWJhZGdlLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1iYWRnZS10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogbWF0LXByaXZhdGUtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXByaXZhdGUtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtYmFkZ2UnKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtYmFkZ2UtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1iYWRnZS1kZW5zaXR5KCRkZW5zaXR5KTtcbiAgICB9XG4gICAgQGlmICR0eXBvZ3JhcGh5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWJhZGdlLXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5cblxuQG1peGluIG1hdC1ib3R0b20tc2hlZXQtY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGJhY2tncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuXG4gIC5tYXQtYm90dG9tLXNoZWV0LWNvbnRhaW5lciB7XG4gICAgQGluY2x1ZGUgbWF0LXByaXZhdGUtdGhlbWUtZWxldmF0aW9uKDE2LCAkY29uZmlnKTtcbiAgICBiYWNrZ3JvdW5kOiBtYXQtY29sb3IoJGJhY2tncm91bmQsIGRpYWxvZyk7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG4gIH1cbn1cblxuQG1peGluIG1hdC1ib3R0b20tc2hlZXQtdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC5tYXQtYm90dG9tLXNoZWV0LWNvbnRhaW5lciB7XG4gICAgQGluY2x1ZGUgbWF0LXR5cG9ncmFwaHktbGV2ZWwtdG8tc3R5bGVzKCRjb25maWcsIGJvZHktMSk7XG4gIH1cbn1cblxuQG1peGluIF9tYXQtYm90dG9tLXNoZWV0LWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1ib3R0b20tc2hlZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IG1hdC1wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1wcml2YXRlLWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LWJvdHRvbS1zaGVldCcpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1ib3R0b20tc2hlZXQtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1ib3R0b20tc2hlZXQtZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1ib3R0b20tc2hlZXQtdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuJF9tYXQtYnV0dG9uLXJpcHBsZS1vcGFjaXR5OiAwLjE7XG5cbi8vIEFwcGxpZXMgYSBmb2N1cyBzdHlsZSB0byBhbiBtYXQtYnV0dG9uIGVsZW1lbnQgZm9yIGVhY2ggb2YgdGhlIHN1cHBvcnRlZCBwYWxldHRlcy5cbkBtaXhpbiBfbWF0LWJ1dHRvbi1mb2N1cy1vdmVybGF5LWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRwcmltYXJ5OiBtYXAtZ2V0KCRjb25maWcsIHByaW1hcnkpO1xuICAkYWNjZW50OiBtYXAtZ2V0KCRjb25maWcsIGFjY2VudCk7XG4gICR3YXJuOiBtYXAtZ2V0KCRjb25maWcsIHdhcm4pO1xuXG4gICYubWF0LXByaW1hcnkgLm1hdC1idXR0b24tZm9jdXMtb3ZlcmxheSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRwcmltYXJ5KTtcbiAgfVxuXG4gICYubWF0LWFjY2VudCAubWF0LWJ1dHRvbi1mb2N1cy1vdmVybGF5IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJGFjY2VudCk7XG4gIH1cblxuICAmLm1hdC13YXJuIC5tYXQtYnV0dG9uLWZvY3VzLW92ZXJsYXkge1xuICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkd2Fybik7XG4gIH1cblxuICAmLm1hdC1idXR0b24tZGlzYWJsZWQgLm1hdC1idXR0b24tZm9jdXMtb3ZlcmxheSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIH1cbn1cblxuLy8gQXBwbGllcyB0aGUgYmFja2dyb3VuZCBjb2xvciBmb3IgYSByaXBwbGUuIElmIHRoZSB2YWx1ZSBwcm92aWRlZCBpcyBub3QgYSBTYXNzIGNvbG9yLFxuLy8gd2UgYXNzdW1lIHRoYXQgd2UndmUgYmVlbiBnaXZlbiBhIENTUyB2YXJpYWJsZS4gU2luY2Ugd2UgY2FuJ3QgcGVyZm9ybSBhbHBoYS1ibGVuZGluZ1xuLy8gb24gYSBDU1MgdmFyaWFibGUsIHdlIGluc3RlYWQgYWRkIHRoZSBvcGFjaXR5IGRpcmVjdGx5IHRvIHRoZSByaXBwbGUgZWxlbWVudC5cbkBtaXhpbiBfbWF0LWJ1dHRvbi1yaXBwbGUtYmFja2dyb3VuZCgkcGFsZXR0ZSwgJGh1ZSwgJG9wYWNpdHkpIHtcbiAgJGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkcGFsZXR0ZSwgJGh1ZSwgJG9wYWNpdHkpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAkYmFja2dyb3VuZC1jb2xvcjtcbiAgQGlmICh0eXBlLW9mKCRiYWNrZ3JvdW5kLWNvbG9yKSAhPSBjb2xvcikge1xuICAgIG9wYWNpdHk6ICRvcGFjaXR5O1xuICB9XG59XG5cbkBtaXhpbiBfbWF0LWJ1dHRvbi1yaXBwbGUtY29sb3IoJHRoZW1lLCAkaHVlLCAkb3BhY2l0eTogJF9tYXQtYnV0dG9uLXJpcHBsZS1vcGFjaXR5KSB7XG4gICRwcmltYXJ5OiBtYXAtZ2V0KCR0aGVtZSwgcHJpbWFyeSk7XG4gICRhY2NlbnQ6IG1hcC1nZXQoJHRoZW1lLCBhY2NlbnQpO1xuICAkd2FybjogbWFwLWdldCgkdGhlbWUsIHdhcm4pO1xuXG4gICYubWF0LXByaW1hcnkgLm1hdC1yaXBwbGUtZWxlbWVudCB7XG4gICAgQGluY2x1ZGUgX21hdC1idXR0b24tcmlwcGxlLWJhY2tncm91bmQoJHByaW1hcnksICRodWUsICRvcGFjaXR5KTtcbiAgfVxuXG4gICYubWF0LWFjY2VudCAubWF0LXJpcHBsZS1lbGVtZW50IHtcbiAgICBAaW5jbHVkZSBfbWF0LWJ1dHRvbi1yaXBwbGUtYmFja2dyb3VuZCgkYWNjZW50LCAkaHVlLCAkb3BhY2l0eSk7XG4gIH1cblxuICAmLm1hdC13YXJuIC5tYXQtcmlwcGxlLWVsZW1lbnQge1xuICAgIEBpbmNsdWRlIF9tYXQtYnV0dG9uLXJpcHBsZS1iYWNrZ3JvdW5kKCR3YXJuLCAkaHVlLCAkb3BhY2l0eSk7XG4gIH1cbn1cblxuLy8gQXBwbGllcyBhIHByb3BlcnR5IHRvIGFuIG1hdC1idXR0b24gZWxlbWVudCBmb3IgZWFjaCBvZiB0aGUgc3VwcG9ydGVkIHBhbGV0dGVzLlxuQG1peGluIF9tYXQtYnV0dG9uLXRoZW1lLXByb3BlcnR5KCR0aGVtZSwgJHByb3BlcnR5LCAkaHVlKSB7XG4gICRwcmltYXJ5OiBtYXAtZ2V0KCR0aGVtZSwgcHJpbWFyeSk7XG4gICRhY2NlbnQ6IG1hcC1nZXQoJHRoZW1lLCBhY2NlbnQpO1xuICAkd2FybjogbWFwLWdldCgkdGhlbWUsIHdhcm4pO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkdGhlbWUsIGJhY2tncm91bmQpO1xuICAkZm9yZWdyb3VuZDogbWFwLWdldCgkdGhlbWUsIGZvcmVncm91bmQpO1xuXG4gICYubWF0LXByaW1hcnkge1xuICAgICN7JHByb3BlcnR5fTogbWF0LWNvbG9yKCRwcmltYXJ5LCAkaHVlKTtcbiAgfVxuICAmLm1hdC1hY2NlbnQge1xuICAgICN7JHByb3BlcnR5fTogbWF0LWNvbG9yKCRhY2NlbnQsICRodWUpO1xuICB9XG4gICYubWF0LXdhcm4ge1xuICAgICN7JHByb3BlcnR5fTogbWF0LWNvbG9yKCR3YXJuLCAkaHVlKTtcbiAgfVxuXG4gICYubWF0LXByaW1hcnksICYubWF0LWFjY2VudCwgJi5tYXQtd2FybiwgJi5tYXQtYnV0dG9uLWRpc2FibGVkIHtcbiAgICAmLm1hdC1idXR0b24tZGlzYWJsZWQge1xuICAgICAgJHBhbGV0dGU6IGlmKCRwcm9wZXJ0eSA9PSAnY29sb3InLCAkZm9yZWdyb3VuZCwgJGJhY2tncm91bmQpO1xuICAgICAgI3skcHJvcGVydHl9OiBtYXQtY29sb3IoJHBhbGV0dGUsIGRpc2FibGVkLWJ1dHRvbik7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBtYXQtYnV0dG9uLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRwcmltYXJ5OiBtYXAtZ2V0KCRjb25maWcsIHByaW1hcnkpO1xuICAkYWNjZW50OiBtYXAtZ2V0KCRjb25maWcsIGFjY2VudCk7XG4gICR3YXJuOiBtYXAtZ2V0KCRjb25maWcsIHdhcm4pO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cbiAgLm1hdC1idXR0b24sIC5tYXQtaWNvbi1idXR0b24sIC5tYXQtc3Ryb2tlZC1idXR0b24ge1xuICAgIC8vIEJ1dHRvbnMgd2l0aG91dCBhIGJhY2tncm91bmQgY29sb3Igc2hvdWxkIGluaGVyaXQgdGhlIGZvbnQgY29sb3IuIFRoaXMgaXMgbmVjZXNzYXJ5IHRvXG4gICAgLy8gZW5zdXJlIHRoYXQgdGhlIGJ1dHRvbiBpcyByZWFkYWJsZSBvbiBjdXN0b20gYmFja2dyb3VuZCBjb2xvcnMuIEl0J3Mgd3JvbmcgdG8gYWx3YXlzIGFzc3VtZVxuICAgIC8vIHRoYXQgdGhvc2UgYnV0dG9ucyBhcmUgYWx3YXlzIHBsYWNlZCBpbnNpZGUgb2YgY29udGFpbmVycyB3aXRoIHRoZSBkZWZhdWx0IGJhY2tncm91bmRcbiAgICAvLyBjb2xvciBvZiB0aGUgdGhlbWUgKGUuZy4gdGhlbWVkIHRvb2xiYXJzKS5cbiAgICBjb2xvcjogaW5oZXJpdDtcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcblxuICAgIEBpbmNsdWRlIF9tYXQtYnV0dG9uLXRoZW1lLXByb3BlcnR5KCRjb25maWcsICdjb2xvcicsIHRleHQpO1xuICAgIEBpbmNsdWRlIF9tYXQtYnV0dG9uLWZvY3VzLW92ZXJsYXktY29sb3IoJGNvbmZpZyk7XG5cbiAgICAvLyBTZXR1cCB0aGUgcmlwcGxlIGNvbG9yIHRvIGJlIGJhc2VkIG9uIHRoZSB0ZXh0IGNvbG9yLiBUaGlzIGVuc3VyZXMgdGhhdCB0aGUgcmlwcGxlc1xuICAgIC8vIGFyZSBtYXRjaGluZyB3aXRoIHRoZSBjdXJyZW50IHRoZW1lIHBhbGV0dGUgYW5kIGFyZSBpbiBjb250cmFzdCB0byB0aGUgYmFja2dyb3VuZCBjb2xvclxuICAgIC8vIChlLmcgaW4gdGhlbWVkIHRvb2xiYXJzKS5cbiAgICAubWF0LXJpcHBsZS1lbGVtZW50IHtcbiAgICAgIG9wYWNpdHk6ICRfbWF0LWJ1dHRvbi1yaXBwbGUtb3BhY2l0eTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IGN1cnJlbnRDb2xvcjtcbiAgICB9XG4gIH1cblxuICAubWF0LWJ1dHRvbi1mb2N1cy1vdmVybGF5IHtcbiAgICBiYWNrZ3JvdW5kOiBtYXAtZ2V0KCRmb3JlZ3JvdW5kLCBiYXNlKTtcbiAgfVxuXG4gIC8vIE5vdGU6IHRoaXMgbmVlZHMgYSBiaXQgZXh0cmEgc3BlY2lmaWNpdHksIGJlY2F1c2Ugd2UncmUgbm90IGd1YXJhbnRlZWQgdGhlIGluY2x1c2lvblxuICAvLyBvcmRlciBvZiB0aGUgdGhlbWUgc3R5bGVzIGFuZCB0aGUgYnV0dG9uIHJlc2V0IG1heSBlbmQgdXAgcmVzZXR0aW5nIHRoaXMgYXMgd2VsbC5cbiAgLm1hdC1zdHJva2VkLWJ1dHRvbjpub3QoLm1hdC1idXR0b24tZGlzYWJsZWQpIHtcbiAgICBib3JkZXItY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgZGl2aWRlcik7XG4gIH1cblxuICAubWF0LWZsYXQtYnV0dG9uLCAubWF0LXJhaXNlZC1idXR0b24sIC5tYXQtZmFiLCAubWF0LW1pbmktZmFiIHtcbiAgICAvLyBEZWZhdWx0IGZvbnQgYW5kIGJhY2tncm91bmQgY29sb3Igd2hlbiBub3QgdXNpbmcgYW55IGNvbG9yIHBhbGV0dGUuXG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCByYWlzZWQtYnV0dG9uKTtcblxuICAgIEBpbmNsdWRlIF9tYXQtYnV0dG9uLXRoZW1lLXByb3BlcnR5KCRjb25maWcsICdjb2xvcicsIGRlZmF1bHQtY29udHJhc3QpO1xuICAgIEBpbmNsdWRlIF9tYXQtYnV0dG9uLXRoZW1lLXByb3BlcnR5KCRjb25maWcsICdiYWNrZ3JvdW5kLWNvbG9yJywgZGVmYXVsdCk7XG4gICAgQGluY2x1ZGUgX21hdC1idXR0b24tcmlwcGxlLWNvbG9yKCRjb25maWcsIGRlZmF1bHQtY29udHJhc3QpO1xuICB9XG5cbiAgLm1hdC1zdHJva2VkLWJ1dHRvbiwgLm1hdC1mbGF0LWJ1dHRvbiB7XG4gICAgQGluY2x1ZGUgbWF0LXByaXZhdGUtdGhlbWUtb3ZlcnJpZGFibGUtZWxldmF0aW9uKDAsICRjb25maWcpO1xuICB9XG5cbiAgLm1hdC1yYWlzZWQtYnV0dG9uIHtcbiAgICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS10aGVtZS1vdmVycmlkYWJsZS1lbGV2YXRpb24oMiwgJGNvbmZpZyk7XG5cbiAgICAmOm5vdCgubWF0LWJ1dHRvbi1kaXNhYmxlZCk6YWN0aXZlIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1wcml2YXRlLXRoZW1lLW92ZXJyaWRhYmxlLWVsZXZhdGlvbig4LCAkY29uZmlnKTtcbiAgICB9XG5cbiAgICAmLm1hdC1idXR0b24tZGlzYWJsZWQge1xuICAgICAgQGluY2x1ZGUgbWF0LXByaXZhdGUtdGhlbWUtb3ZlcnJpZGFibGUtZWxldmF0aW9uKDAsICRjb25maWcpO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtZmFiLCAubWF0LW1pbmktZmFiIHtcbiAgICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS10aGVtZS1vdmVycmlkYWJsZS1lbGV2YXRpb24oNiwgJGNvbmZpZyk7XG5cbiAgICAmOm5vdCgubWF0LWJ1dHRvbi1kaXNhYmxlZCk6YWN0aXZlIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1wcml2YXRlLXRoZW1lLW92ZXJyaWRhYmxlLWVsZXZhdGlvbigxMiwgJGNvbmZpZyk7XG4gICAgfVxuXG4gICAgJi5tYXQtYnV0dG9uLWRpc2FibGVkIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1wcml2YXRlLXRoZW1lLW92ZXJyaWRhYmxlLWVsZXZhdGlvbigwLCAkY29uZmlnKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIG1hdC1idXR0b24tdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC5tYXQtYnV0dG9uLCAubWF0LXJhaXNlZC1idXR0b24sIC5tYXQtaWNvbi1idXR0b24sIC5tYXQtc3Ryb2tlZC1idXR0b24sXG4gIC5tYXQtZmxhdC1idXR0b24sIC5tYXQtZmFiLCAubWF0LW1pbmktZmFiIHtcbiAgICBmb250OiB7XG4gICAgICBmYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnLCBidXR0b24pO1xuICAgICAgc2l6ZTogbWF0LWZvbnQtc2l6ZSgkY29uZmlnLCBidXR0b24pO1xuICAgICAgd2VpZ2h0OiBtYXQtZm9udC13ZWlnaHQoJGNvbmZpZywgYnV0dG9uKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIF9tYXQtYnV0dG9uLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1idXR0b24tdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IG1hdC1wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1wcml2YXRlLWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LWJ1dHRvbicpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1idXR0b24tY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1idXR0b24tZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1idXR0b24tdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuXG5cbiRtYXQtYnV0dG9uLXRvZ2dsZS1zdGFuZGFyZC1oZWlnaHQ6IDQ4cHggIWRlZmF1bHQ7XG4vLyBNaW5pbXVtIGhlaWdodCBmb3IgaGlnaGVzdCBkZW5zaXR5IGNhbiB2YXJ5IGJhc2VkIG9uIHRoZSBjb250ZW50IHRoYXQgZGV2ZWxvcGVyc1xuLy8gcHJvamVjdCBpbnRvIGJ1dHRvbi10b2dnbGUncy4gV2UgdXNlIGEgbWluaW11bSBvZiBgMjRweGAgdGhvdWdoIGJlY2F1c2UgY29tbW9ubHlcbi8vIGljb25zIG9yIHRleHQgYXJlIGRpc3BsYXllZC4gSWNvbnMgYnkgZGVmYXVsdCBoYXZlIGEgc2l6ZSBvZiBgMjRweGAuXG4kbWF0LWJ1dHRvbi10b2dnbGUtc3RhbmRhcmQtbWluaW11bS1oZWlnaHQ6IDI0cHggIWRlZmF1bHQ7XG4kbWF0LWJ1dHRvbi10b2dnbGUtc3RhbmRhcmQtbWF4aW11bS1oZWlnaHQ6ICRtYXQtYnV0dG9uLXRvZ2dsZS1zdGFuZGFyZC1oZWlnaHQgIWRlZmF1bHQ7XG5cbiRtYXQtYnV0dG9uLXRvZ2dsZS1zdGFuZGFyZC1kZW5zaXR5LWNvbmZpZzogKFxuICBoZWlnaHQ6IChcbiAgICBkZWZhdWx0OiAkbWF0LWJ1dHRvbi10b2dnbGUtc3RhbmRhcmQtaGVpZ2h0LFxuICAgIG1heGltdW06ICRtYXQtYnV0dG9uLXRvZ2dsZS1zdGFuZGFyZC1tYXhpbXVtLWhlaWdodCxcbiAgICBtaW5pbXVtOiAkbWF0LWJ1dHRvbi10b2dnbGUtc3RhbmRhcmQtbWluaW11bS1oZWlnaHQsXG4gIClcbikgIWRlZmF1bHQ7XG5cblxuQG1peGluIG1hdC1idXR0b24tdG9nZ2xlLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJGRpdmlkZXItY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgZGl2aWRlcik7XG5cbiAgLm1hdC1idXR0b24tdG9nZ2xlLXN0YW5kYWxvbmUsXG4gIC5tYXQtYnV0dG9uLXRvZ2dsZS1ncm91cCB7XG4gICAgQGluY2x1ZGUgbWF0LXByaXZhdGUtdGhlbWUtZWxldmF0aW9uKDIsICRjb25maWcpO1xuICB9XG5cbiAgLm1hdC1idXR0b24tdG9nZ2xlLXN0YW5kYWxvbmUubWF0LWJ1dHRvbi10b2dnbGUtYXBwZWFyYW5jZS1zdGFuZGFyZCxcbiAgLm1hdC1idXR0b24tdG9nZ2xlLWdyb3VwLWFwcGVhcmFuY2Utc3RhbmRhcmQge1xuICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gIH1cblxuICAubWF0LWJ1dHRvbi10b2dnbGUge1xuICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGhpbnQtdGV4dCk7XG5cbiAgICAubWF0LWJ1dHRvbi10b2dnbGUtZm9jdXMtb3ZlcmxheSB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJGJhY2tncm91bmQsIGZvY3VzZWQtYnV0dG9uKTtcbiAgICB9XG4gIH1cblxuICAubWF0LWJ1dHRvbi10b2dnbGUtYXBwZWFyYW5jZS1zdGFuZGFyZCB7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG4gICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBjYXJkKTtcblxuICAgIC5tYXQtYnV0dG9uLXRvZ2dsZS1mb2N1cy1vdmVybGF5IHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgZm9jdXNlZC1idXR0b24sIDEpO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtYnV0dG9uLXRvZ2dsZS1ncm91cC1hcHBlYXJhbmNlLXN0YW5kYXJkIC5tYXQtYnV0dG9uLXRvZ2dsZSArIC5tYXQtYnV0dG9uLXRvZ2dsZSB7XG4gICAgYm9yZGVyLWxlZnQ6IHNvbGlkIDFweCAkZGl2aWRlci1jb2xvcjtcbiAgfVxuXG4gIFtkaXI9J3J0bCddIC5tYXQtYnV0dG9uLXRvZ2dsZS1ncm91cC1hcHBlYXJhbmNlLXN0YW5kYXJkIC5tYXQtYnV0dG9uLXRvZ2dsZSArIC5tYXQtYnV0dG9uLXRvZ2dsZSB7XG4gICAgYm9yZGVyLWxlZnQ6IG5vbmU7XG4gICAgYm9yZGVyLXJpZ2h0OiBzb2xpZCAxcHggJGRpdmlkZXItY29sb3I7XG4gIH1cblxuICAubWF0LWJ1dHRvbi10b2dnbGUtZ3JvdXAtYXBwZWFyYW5jZS1zdGFuZGFyZC5tYXQtYnV0dG9uLXRvZ2dsZS12ZXJ0aWNhbCB7XG4gICAgLm1hdC1idXR0b24tdG9nZ2xlICsgLm1hdC1idXR0b24tdG9nZ2xlIHtcbiAgICAgIGJvcmRlci1sZWZ0OiBub25lO1xuICAgICAgYm9yZGVyLXJpZ2h0OiBub25lO1xuICAgICAgYm9yZGVyLXRvcDogc29saWQgMXB4ICRkaXZpZGVyLWNvbG9yO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtYnV0dG9uLXRvZ2dsZS1jaGVja2VkIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJGJhY2tncm91bmQsIHNlbGVjdGVkLWJ1dHRvbik7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgc2Vjb25kYXJ5LXRleHQpO1xuXG4gICAgJi5tYXQtYnV0dG9uLXRvZ2dsZS1hcHBlYXJhbmNlLXN0YW5kYXJkIHtcbiAgICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHRleHQpO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtYnV0dG9uLXRvZ2dsZS1kaXNhYmxlZCB7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgZGlzYWJsZWQtYnV0dG9uKTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJGJhY2tncm91bmQsIGRpc2FibGVkLWJ1dHRvbi10b2dnbGUpO1xuXG4gICAgJi5tYXQtYnV0dG9uLXRvZ2dsZS1hcHBlYXJhbmNlLXN0YW5kYXJkIHtcbiAgICAgIGJhY2tncm91bmQ6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgY2FyZCk7XG4gICAgfVxuXG4gICAgJi5tYXQtYnV0dG9uLXRvZ2dsZS1jaGVja2VkIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgc2VsZWN0ZWQtZGlzYWJsZWQtYnV0dG9uKTtcbiAgICB9XG4gIH1cblxuICAubWF0LWJ1dHRvbi10b2dnbGUtc3RhbmRhbG9uZS5tYXQtYnV0dG9uLXRvZ2dsZS1hcHBlYXJhbmNlLXN0YW5kYXJkLFxuICAubWF0LWJ1dHRvbi10b2dnbGUtZ3JvdXAtYXBwZWFyYW5jZS1zdGFuZGFyZCB7XG4gICAgYm9yZGVyOiBzb2xpZCAxcHggJGRpdmlkZXItY29sb3I7XG4gIH1cbn1cblxuQG1peGluIG1hdC1idXR0b24tdG9nZ2xlLXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAubWF0LWJ1dHRvbi10b2dnbGUge1xuICAgIGZvbnQtZmFtaWx5OiBtYXQtZm9udC1mYW1pbHkoJGNvbmZpZyk7XG4gIH1cbn1cblxuQG1peGluIG1hdC1idXR0b24tdG9nZ2xlLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkZGVuc2l0eS1zY2FsZTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJHN0YW5kYXJkLWhlaWdodDogbWF0LXByaXZhdGUtZGVuc2l0eS1wcm9wLXZhbHVlKFxuICAgICAgJG1hdC1idXR0b24tdG9nZ2xlLXN0YW5kYXJkLWRlbnNpdHktY29uZmlnLCAkZGVuc2l0eS1zY2FsZSwgaGVpZ2h0KTtcblxuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1kZW5zaXR5LWxlZ2FjeS1jb21wYXRpYmlsaXR5KCkge1xuICAgIC5tYXQtYnV0dG9uLXRvZ2dsZS1hcHBlYXJhbmNlLXN0YW5kYXJkIC5tYXQtYnV0dG9uLXRvZ2dsZS1sYWJlbC1jb250ZW50IHtcbiAgICAgIGxpbmUtaGVpZ2h0OiAkc3RhbmRhcmQtaGVpZ2h0O1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LWJ1dHRvbi10b2dnbGUtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IG1hdC1wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1wcml2YXRlLWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LWJ1dHRvbi10b2dnbGUnKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtYnV0dG9uLXRvZ2dsZS1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtYnV0dG9uLXRvZ2dsZS1kZW5zaXR5KCRkZW5zaXR5KTtcbiAgICB9XG4gICAgQGlmICR0eXBvZ3JhcGh5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWJ1dHRvbi10b2dnbGUtdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuXG5cbkBtaXhpbiBtYXQtY2FyZC1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cbiAgLm1hdC1jYXJkIHtcbiAgICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS10aGVtZS1vdmVycmlkYWJsZS1lbGV2YXRpb24oMSwgJGNvbmZpZyk7XG4gICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBjYXJkKTtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCB0ZXh0KTtcblxuICAgIC8vIE5lZWRzIGV4dHJhIHNwZWNpZmljaXR5IHRvIGJlIGFibGUgdG8gb3ZlcnJpZGUgdGhlIGVsZXZhdGlvbiBzZWxlY3RvcnMuXG4gICAgJi5tYXQtY2FyZC1mbGF0IHtcbiAgICAgIEBpbmNsdWRlIG1hdC1wcml2YXRlLXRoZW1lLW92ZXJyaWRhYmxlLWVsZXZhdGlvbigwLCAkY29uZmlnKTtcbiAgICB9XG4gIH1cblxuICAubWF0LWNhcmQtc3VidGl0bGUge1xuICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHNlY29uZGFyeS10ZXh0KTtcbiAgfVxufVxuXG5AbWl4aW4gbWF0LWNhcmQtdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC5tYXQtY2FyZCB7XG4gICAgZm9udC1mYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnKTtcbiAgfVxuXG4gIC5tYXQtY2FyZC10aXRsZSB7XG4gICAgZm9udDoge1xuICAgICAgc2l6ZTogbWF0LWZvbnQtc2l6ZSgkY29uZmlnLCBoZWFkbGluZSk7XG4gICAgICB3ZWlnaHQ6IG1hdC1mb250LXdlaWdodCgkY29uZmlnLCB0aXRsZSk7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1jYXJkLWhlYWRlciAubWF0LWNhcmQtdGl0bGUge1xuICAgIGZvbnQtc2l6ZTogbWF0LWZvbnQtc2l6ZSgkY29uZmlnLCB0aXRsZSk7XG4gIH1cblxuICAubWF0LWNhcmQtc3VidGl0bGUsXG4gIC5tYXQtY2FyZC1jb250ZW50IHtcbiAgICBmb250LXNpemU6IG1hdC1mb250LXNpemUoJGNvbmZpZywgYm9keS0xKTtcbiAgfVxufVxuXG5AbWl4aW4gX21hdC1jYXJkLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1jYXJkLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBtYXQtcHJpdmF0ZS1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1jYXJkJykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWNhcmQtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1jYXJkLWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtY2FyZC10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG5AbWl4aW4gbWF0LWNoZWNrYm94LWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRpcy1kYXJrLXRoZW1lOiBtYXAtZ2V0KCRjb25maWcsIGlzLWRhcmspO1xuICAkcHJpbWFyeTogbWFwLWdldCgkY29uZmlnLCBwcmltYXJ5KTtcbiAgJGFjY2VudDogbWFwLWdldCgkY29uZmlnLCBhY2NlbnQpO1xuICAkd2FybjogbWFwLWdldCgkY29uZmlnLCB3YXJuKTtcbiAgJGJhY2tncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuXG5cbiAgLy8gVGhlIGNvbG9yIG9mIHRoZSBjaGVja2JveCdzIGNoZWNrbWFyayAvIG1peGVkbWFyay5cbiAgJGNoZWNrYm94LW1hcmstY29sb3I6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgYmFja2dyb3VuZCk7XG5cbiAgLy8gTk9URSh0cmF2aXNrYXVmbWFuKTogV2hpbGUgdGhlIHNwZWMgY2FsbHMgZm9yIHRyYW5zbHVjZW50IGJsYWNrcy93aGl0ZXMgZm9yIGRpc2FibGVkIGNvbG9ycyxcbiAgLy8gdGhpcyBkb2VzIG5vdCB3b3JrIHdlbGwgd2l0aCBlbGVtZW50cyBsYXllcmVkIG9uIHRvcCBvZiBvbmUgYW5vdGhlci4gVG8gZ2V0IGFyb3VuZCB0aGlzIHdlXG4gIC8vIGJsZW5kIHRoZSBjb2xvcnMgdG9nZXRoZXIgYmFzZWQgb24gdGhlIGJhc2UgY29sb3IgYW5kIHRoZSB0aGVtZSBiYWNrZ3JvdW5kLlxuICAkd2hpdGUtMzBwY3Qtb3BhY2l0eS1vbi1kYXJrOiAjNjg2ODY4O1xuICAkYmxhY2stMjZwY3Qtb3BhY2l0eS1vbi1saWdodDogI2IwYjBiMDtcbiAgJGRpc2FibGVkLWNvbG9yOiBpZigkaXMtZGFyay10aGVtZSwgJHdoaXRlLTMwcGN0LW9wYWNpdHktb24tZGFyaywgJGJsYWNrLTI2cGN0LW9wYWNpdHktb24tbGlnaHQpO1xuXG4gIC5tYXQtY2hlY2tib3gtZnJhbWUge1xuICAgIGJvcmRlci1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBzZWNvbmRhcnktdGV4dCk7XG4gIH1cblxuICAubWF0LWNoZWNrYm94LWNoZWNrbWFyayB7XG4gICAgZmlsbDogJGNoZWNrYm94LW1hcmstY29sb3I7XG4gIH1cblxuICAubWF0LWNoZWNrYm94LWNoZWNrbWFyay1wYXRoIHtcbiAgICAvLyAhaW1wb3J0YW50IGlzIG5lZWRlZCBoZXJlIGJlY2F1c2UgYSBzdHJva2UgbXVzdCBiZSBzZXQgYXMgYW5cbiAgICAvLyBhdHRyaWJ1dGUgb24gdGhlIFNWRyBpbiBvcmRlciBmb3IgbGluZSBhbmltYXRpb24gdG8gd29yayBwcm9wZXJseS5cbiAgICBzdHJva2U6ICRjaGVja2JveC1tYXJrLWNvbG9yICFpbXBvcnRhbnQ7XG4gIH1cblxuICAubWF0LWNoZWNrYm94LW1peGVkbWFyayB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogJGNoZWNrYm94LW1hcmstY29sb3I7XG4gIH1cblxuICAubWF0LWNoZWNrYm94LWluZGV0ZXJtaW5hdGUsIC5tYXQtY2hlY2tib3gtY2hlY2tlZCB7XG4gICAgJi5tYXQtcHJpbWFyeSAubWF0LWNoZWNrYm94LWJhY2tncm91bmQge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRwcmltYXJ5KTtcbiAgICB9XG5cbiAgICAmLm1hdC1hY2NlbnQgLm1hdC1jaGVja2JveC1iYWNrZ3JvdW5kIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkYWNjZW50KTtcbiAgICB9XG5cbiAgICAmLm1hdC13YXJuIC5tYXQtY2hlY2tib3gtYmFja2dyb3VuZCB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJHdhcm4pO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtY2hlY2tib3gtZGlzYWJsZWQge1xuICAgICYubWF0LWNoZWNrYm94LWNoZWNrZWQsXG4gICAgJi5tYXQtY2hlY2tib3gtaW5kZXRlcm1pbmF0ZSB7XG4gICAgICAubWF0LWNoZWNrYm94LWJhY2tncm91bmQge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkZGlzYWJsZWQtY29sb3I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJjpub3QoLm1hdC1jaGVja2JveC1jaGVja2VkKSB7XG4gICAgICAubWF0LWNoZWNrYm94LWZyYW1lIHtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAkZGlzYWJsZWQtY29sb3I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLm1hdC1jaGVja2JveC1sYWJlbCB7XG4gICAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBzZWNvbmRhcnktdGV4dCk7XG4gICAgfVxuICB9XG5cbiAgLy8gU3dpdGNoIHRoaXMgdG8gYSBzb2xpZCBjb2xvciBzaW5jZSB3ZSdyZSB1c2luZyBgb3BhY2l0eWBcbiAgLy8gdG8gY29udHJvbCBob3cgb3BhcXVlIHRoZSByaXBwbGUgc2hvdWxkIGJlLlxuICAubWF0LWNoZWNrYm94IC5tYXQtcmlwcGxlLWVsZW1lbnQge1xuICAgIGJhY2tncm91bmQtY29sb3I6IG1hcC1nZXQobWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKSwgYmFzZSk7XG4gIH1cblxuICAubWF0LWNoZWNrYm94LWNoZWNrZWQ6bm90KC5tYXQtY2hlY2tib3gtZGlzYWJsZWQpLFxuICAubWF0LWNoZWNrYm94OmFjdGl2ZTpub3QoLm1hdC1jaGVja2JveC1kaXNhYmxlZCkge1xuICAgICYubWF0LXByaW1hcnkgLm1hdC1yaXBwbGUtZWxlbWVudCB7XG4gICAgICBiYWNrZ3JvdW5kOiBtYXQtY29sb3IoJHByaW1hcnkpO1xuICAgIH1cblxuICAgICYubWF0LWFjY2VudCAubWF0LXJpcHBsZS1lbGVtZW50IHtcbiAgICAgIGJhY2tncm91bmQ6IG1hdC1jb2xvcigkYWNjZW50KTtcbiAgICB9XG5cbiAgICAmLm1hdC13YXJuIC5tYXQtcmlwcGxlLWVsZW1lbnQge1xuICAgICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKCR3YXJuKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIG1hdC1jaGVja2JveC10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLm1hdC1jaGVja2JveCB7XG4gICAgZm9udC1mYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnKTtcbiAgfVxuXG4gIC8vIFRPRE8oa2FyYSk6IFJlbW92ZSB0aGlzIHN0eWxlIHdoZW4gZml4aW5nIHZlcnRpY2FsIGJhc2VsaW5lXG4gIC5tYXQtY2hlY2tib3gtbGF5b3V0IC5tYXQtY2hlY2tib3gtbGFiZWwge1xuICAgIGxpbmUtaGVpZ2h0OiBtYXQtbGluZS1oZWlnaHQoJGNvbmZpZywgYm9keS0yKTtcbiAgfVxufVxuXG5AbWl4aW4gX21hdC1jaGVja2JveC1kZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHt9XG5cbkBtaXhpbiBtYXQtY2hlY2tib3gtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IG1hdC1wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1wcml2YXRlLWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LWNoZWNrYm94Jykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWNoZWNrYm94LWNvbG9yKCRjb2xvcik7XG4gICAgfVxuICAgIEBpZiAkZGVuc2l0eSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtY2hlY2tib3gtZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1jaGVja2JveC10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG5cbiRtYXQtY2hpcC1yZW1vdmUtZm9udC1zaXplOiAxOHB4O1xuXG5AbWl4aW4gX21hdC1jaGlwLWVsZW1lbnQtY29sb3IoJGZvcmVncm91bmQsICRiYWNrZ3JvdW5kKSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICRiYWNrZ3JvdW5kO1xuICBjb2xvcjogJGZvcmVncm91bmQ7XG5cbiAgLm1hdC1jaGlwLXJlbW92ZSB7XG4gICAgY29sb3I6ICRmb3JlZ3JvdW5kO1xuICAgIG9wYWNpdHk6IDAuNDtcbiAgfVxufVxuXG5cbi8vIEFwcGxpZXMgdGhlIGJhY2tncm91bmQgY29sb3IgZm9yIGEgcmlwcGxlIGVsZW1lbnQuXG4vLyBJZiB0aGUgY29sb3IgdmFsdWUgcHJvdmlkZWQgaXMgbm90IGEgU2FzcyBjb2xvcixcbi8vIHdlIGFzc3VtZSB0aGF0IHdlJ3ZlIGJlZW4gZ2l2ZW4gYSBDU1MgdmFyaWFibGUuXG4vLyBTaW5jZSB3ZSBjYW4ndCBwZXJmb3JtIGFscGhhLWJsZW5kaW5nIG9uIGEgQ1NTIHZhcmlhYmxlLFxuLy8gd2UgaW5zdGVhZCBhZGQgdGhlIG9wYWNpdHkgZGlyZWN0bHkgdG8gdGhlIHJpcHBsZSBlbGVtZW50LlxuQG1peGluIF9tYXQtY2hpcHMtcmlwcGxlLWJhY2tncm91bmQoJHBhbGV0dGUsICRkZWZhdWx0LWNvbnRyYXN0LCAkb3BhY2l0eSkge1xuICAkYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRwYWxldHRlLCAkZGVmYXVsdC1jb250cmFzdCwgJG9wYWNpdHkpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAkYmFja2dyb3VuZC1jb2xvcjtcbiAgQGlmICh0eXBlLW9mKCRiYWNrZ3JvdW5kLWNvbG9yKSAhPSBjb2xvcikge1xuICAgIG9wYWNpdHk6ICRvcGFjaXR5O1xuICB9XG59XG5cbkBtaXhpbiBfbWF0LWNoaXAtdGhlbWUtY29sb3IoJHBhbGV0dGUpIHtcbiAgQGluY2x1ZGUgX21hdC1jaGlwLWVsZW1lbnQtY29sb3IobWF0LWNvbG9yKCRwYWxldHRlLCBkZWZhdWx0LWNvbnRyYXN0KSwgbWF0LWNvbG9yKCRwYWxldHRlKSk7XG5cbiAgLm1hdC1yaXBwbGUtZWxlbWVudCB7XG4gICAgQGluY2x1ZGUgX21hdC1jaGlwcy1yaXBwbGUtYmFja2dyb3VuZCgkcGFsZXR0ZSwgZGVmYXVsdC1jb250cmFzdCwgMC4xKTtcbiAgfVxufVxuXG5AbWl4aW4gbWF0LWNoaXBzLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRpcy1kYXJrLXRoZW1lOiBtYXAtZ2V0KCRjb25maWcsIGlzLWRhcmspO1xuICAkcHJpbWFyeTogbWFwLWdldCgkY29uZmlnLCBwcmltYXJ5KTtcbiAgJGFjY2VudDogbWFwLWdldCgkY29uZmlnLCBhY2NlbnQpO1xuICAkd2FybjogbWFwLWdldCgkY29uZmlnLCB3YXJuKTtcbiAgJGJhY2tncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuXG4gICR1bnNlbGVjdGVkLWJhY2tncm91bmQ6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgdW5zZWxlY3RlZC1jaGlwKTtcbiAgJHVuc2VsZWN0ZWQtZm9yZWdyb3VuZDogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCB0ZXh0KTtcblxuICAubWF0LWNoaXAubWF0LXN0YW5kYXJkLWNoaXAge1xuICAgIEBpbmNsdWRlIF9tYXQtY2hpcC1lbGVtZW50LWNvbG9yKCR1bnNlbGVjdGVkLWZvcmVncm91bmQsICR1bnNlbGVjdGVkLWJhY2tncm91bmQpO1xuXG4gICAgJjpub3QoLm1hdC1jaGlwLWRpc2FibGVkKSB7XG4gICAgICAmOmFjdGl2ZSB7XG4gICAgICAgIEBpbmNsdWRlIG1hdC1wcml2YXRlLXRoZW1lLWVsZXZhdGlvbigzLCAkY29uZmlnKTtcbiAgICAgIH1cblxuICAgICAgLm1hdC1jaGlwLXJlbW92ZTpob3ZlciB7XG4gICAgICAgIG9wYWNpdHk6IDAuNTQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJi5tYXQtY2hpcC1kaXNhYmxlZCB7XG4gICAgICBvcGFjaXR5OiAwLjQ7XG4gICAgfVxuXG4gICAgJjo6YWZ0ZXIge1xuICAgICAgYmFja2dyb3VuZDogbWFwLWdldCgkZm9yZWdyb3VuZCwgYmFzZSk7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1jaGlwLm1hdC1zdGFuZGFyZC1jaGlwLm1hdC1jaGlwLXNlbGVjdGVkIHtcbiAgICAmLm1hdC1wcmltYXJ5IHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtY2hpcC10aGVtZS1jb2xvcigkcHJpbWFyeSk7XG4gICAgfVxuXG4gICAgJi5tYXQtd2FybiB7XG4gICAgICBAaW5jbHVkZSBfbWF0LWNoaXAtdGhlbWUtY29sb3IoJHdhcm4pO1xuICAgIH1cblxuICAgICYubWF0LWFjY2VudCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LWNoaXAtdGhlbWUtY29sb3IoJGFjY2VudCk7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBtYXQtY2hpcHMtdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC5tYXQtY2hpcCB7XG4gICAgZm9udC1zaXplOiBtYXQtZm9udC1zaXplKCRjb25maWcsIGJvZHktMik7XG4gICAgZm9udC13ZWlnaHQ6IG1hdC1mb250LXdlaWdodCgkY29uZmlnLCBib2R5LTIpO1xuXG4gICAgLm1hdC1jaGlwLXRyYWlsaW5nLWljb24ubWF0LWljb24sXG4gICAgLm1hdC1jaGlwLXJlbW92ZS5tYXQtaWNvbiB7XG4gICAgICBmb250LXNpemU6ICRtYXQtY2hpcC1yZW1vdmUtZm9udC1zaXplO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gX21hdC1jaGlwcy1kZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHt9XG5cbkBtaXhpbiBtYXQtY2hpcHMtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IG1hdC1wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1wcml2YXRlLWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LWNoaXBzJykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWNoaXBzLWNvbG9yKCRjb2xvcik7XG4gICAgfVxuICAgIEBpZiAkZGVuc2l0eSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtY2hpcHMtZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1jaGlwcy10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG5cbkBtaXhpbiBtYXQtZGl2aWRlci1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkZm9yZWdyb3VuZDogbWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcblxuICAubWF0LWRpdmlkZXIge1xuICAgIGJvcmRlci10b3AtY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgZGl2aWRlcik7XG4gIH1cblxuICAubWF0LWRpdmlkZXItdmVydGljYWwge1xuICAgIGJvcmRlci1yaWdodC1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXZpZGVyKTtcbiAgfVxufVxuXG5AbWl4aW4gbWF0LWRpdmlkZXItdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gX21hdC1kaXZpZGVyLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1kaXZpZGVyLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBtYXQtcHJpdmF0ZS1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1kaXZpZGVyJykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWRpdmlkZXItY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1kaXZpZGVyLWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtZGl2aWRlci10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG5AbWl4aW4gbWF0LXRhYmxlLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRiYWNrZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGJhY2tncm91bmQpO1xuICAkZm9yZWdyb3VuZDogbWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcblxuICAubWF0LXRhYmxlIHtcbiAgICBiYWNrZ3JvdW5kOiBtYXQtY29sb3IoJGJhY2tncm91bmQsICdjYXJkJyk7XG4gIH1cblxuICAubWF0LXRhYmxlIHRoZWFkLCAubWF0LXRhYmxlIHRib2R5LCAubWF0LXRhYmxlIHRmb290LFxuICBtYXQtaGVhZGVyLXJvdywgbWF0LXJvdywgbWF0LWZvb3Rlci1yb3csXG4gIFttYXQtaGVhZGVyLXJvd10sIFttYXQtcm93XSwgW21hdC1mb290ZXItcm93XSxcbiAgLm1hdC10YWJsZS1zdGlja3kge1xuICAgIGJhY2tncm91bmQ6IGluaGVyaXQ7XG4gIH1cblxuICBtYXQtcm93LCBtYXQtaGVhZGVyLXJvdywgbWF0LWZvb3Rlci1yb3csXG4gIHRoLm1hdC1oZWFkZXItY2VsbCwgdGQubWF0LWNlbGwsIHRkLm1hdC1mb290ZXItY2VsbCB7XG4gICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXZpZGVyKTtcbiAgfVxuXG4gIC5tYXQtaGVhZGVyLWNlbGwge1xuICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHNlY29uZGFyeS10ZXh0KTtcbiAgfVxuXG4gIC5tYXQtY2VsbCwgLm1hdC1mb290ZXItY2VsbCB7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG4gIH1cbn1cblxuQG1peGluIG1hdC10YWJsZS10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLm1hdC10YWJsZSB7XG4gICAgZm9udC1mYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnKTtcbiAgfVxuXG4gIC5tYXQtaGVhZGVyLWNlbGwge1xuICAgIGZvbnQtc2l6ZTogbWF0LWZvbnQtc2l6ZSgkY29uZmlnLCBjYXB0aW9uKTtcbiAgICBmb250LXdlaWdodDogbWF0LWZvbnQtd2VpZ2h0KCRjb25maWcsIGJvZHktMik7XG4gIH1cblxuICAubWF0LWNlbGwsIC5tYXQtZm9vdGVyLWNlbGwge1xuICAgIGZvbnQtc2l6ZTogbWF0LWZvbnQtc2l6ZSgkY29uZmlnLCBib2R5LTEpO1xuICB9XG59XG5cbkBtaXhpbiBfbWF0LXRhYmxlLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC10YWJsZS10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogbWF0LXByaXZhdGUtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXByaXZhdGUtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtdGFibGUnKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtdGFibGUtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC10YWJsZS1kZW5zaXR5KCRkZW5zaXR5KTtcbiAgICB9XG4gICAgQGlmICR0eXBvZ3JhcGh5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXRhYmxlLXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5cblxuXG4kbWF0LWRhdGVwaWNrZXItc2VsZWN0ZWQtdG9kYXktYm94LXNoYWRvdy13aWR0aDogMXB4O1xuJG1hdC1kYXRlcGlja2VyLXNlbGVjdGVkLWZhZGUtYW1vdW50OiAwLjY7XG4kbWF0LWRhdGVwaWNrZXItcmFuZ2UtZmFkZS1hbW91bnQ6IDAuMjtcbiRtYXQtZGF0ZXBpY2tlci10b2RheS1mYWRlLWFtb3VudDogMC4yO1xuJG1hdC1jYWxlbmRhci1ib2R5LWZvbnQtc2l6ZTogMTNweCAhZGVmYXVsdDtcbiRtYXQtY2FsZW5kYXItd2Vla2RheS10YWJsZS1mb250LXNpemU6IDExcHggIWRlZmF1bHQ7XG5cbkBtaXhpbiBfbWF0LWRhdGVwaWNrZXItY29sb3IoJHBhbGV0dGUpIHtcbiAgQGluY2x1ZGUgbWF0LWRhdGUtcmFuZ2UtY29sb3JzKFxuICAgIG1hdC1jb2xvcigkcGFsZXR0ZSwgZGVmYXVsdCwgJG1hdC1kYXRlcGlja2VyLXJhbmdlLWZhZGUtYW1vdW50KSk7XG5cbiAgLm1hdC1jYWxlbmRhci1ib2R5LXNlbGVjdGVkIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJHBhbGV0dGUpO1xuICAgIGNvbG9yOiBtYXQtY29sb3IoJHBhbGV0dGUsIGRlZmF1bHQtY29udHJhc3QpO1xuICB9XG5cbiAgLm1hdC1jYWxlbmRhci1ib2R5LWRpc2FibGVkID4gLm1hdC1jYWxlbmRhci1ib2R5LXNlbGVjdGVkIHtcbiAgICAkYmFja2dyb3VuZDogbWF0LWNvbG9yKCRwYWxldHRlKTtcblxuICAgIEBpZiAodHlwZS1vZigkYmFja2dyb3VuZCkgPT0gY29sb3IpIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IGZhZGUtb3V0KCRiYWNrZ3JvdW5kLCAkbWF0LWRhdGVwaWNrZXItc2VsZWN0ZWQtZmFkZS1hbW91bnQpO1xuICAgIH1cbiAgICBAZWxzZSB7XG4gICAgICAvLyBJZiB3ZSBjb3VsZG4ndCByZXNvbHZlIHRvIGJhY2tncm91bmQgdG8gYSBjb2xvciAoZS5nLiBpdCdzIGEgQ1NTIHZhcmlhYmxlKSxcbiAgICAgIC8vIGZhbGwgYmFjayB0byBmYWRpbmcgdGhlIGNvbnRlbnQgb3V0IHZpYSBgb3BhY2l0eWAuXG4gICAgICBvcGFjaXR5OiAkbWF0LWRhdGVwaWNrZXItdG9kYXktZmFkZS1hbW91bnQ7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1jYWxlbmRhci1ib2R5LXRvZGF5Lm1hdC1jYWxlbmRhci1ib2R5LXNlbGVjdGVkIHtcbiAgICBib3gtc2hhZG93OiBpbnNldCAwIDAgMCAkbWF0LWRhdGVwaWNrZXItc2VsZWN0ZWQtdG9kYXktYm94LXNoYWRvdy13aWR0aFxuICAgICAgICAgICAgICAgIG1hdC1jb2xvcigkcGFsZXR0ZSwgZGVmYXVsdC1jb250cmFzdCk7XG4gIH1cblxuICAubWF0LWNhbGVuZGFyLWJvZHktY2VsbDpub3QoLm1hdC1jYWxlbmRhci1ib2R5LWRpc2FibGVkKTpob3ZlcixcbiAgLmNkay1rZXlib2FyZC1mb2N1c2VkIC5tYXQtY2FsZW5kYXItYm9keS1hY3RpdmUsXG4gIC5jZGstcHJvZ3JhbS1mb2N1c2VkIC5tYXQtY2FsZW5kYXItYm9keS1hY3RpdmUge1xuICAgICYgPiAubWF0LWNhbGVuZGFyLWJvZHktY2VsbC1jb250ZW50IHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtZGF0ZXBpY2tlci11bnNlbGVjdGVkLWNlbGwge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJHBhbGV0dGUsIDAuMyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIFV0aWxpdHkgbWl4aW4gdG8gdGFyZ2V0IGNlbGxzIHRoYXQgYXJlbid0IHNlbGVjdGVkLiBVc2VkIHRvIG1ha2Ugc2VsZWN0b3IgZWFzaWVyIHRvIGZvbGxvdy5cbkBtaXhpbiBfbWF0LWRhdGVwaWNrZXItdW5zZWxlY3RlZC1jZWxsIHtcbiAgJjpub3QoLm1hdC1jYWxlbmRhci1ib2R5LXNlbGVjdGVkKTpub3QoLm1hdC1jYWxlbmRhci1ib2R5LWNvbXBhcmlzb24taWRlbnRpY2FsKSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cblxuQG1peGluIG1hdC1kYXRlcGlja2VyLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJGRpc2FibGVkLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGRpc2FibGVkLXRleHQpO1xuXG4gIC5tYXQtY2FsZW5kYXItYXJyb3cge1xuICAgIGJvcmRlci10b3AtY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgaWNvbik7XG4gIH1cblxuICAvLyBUaGUgcHJldi9uZXh0IGJ1dHRvbnMgbmVlZCBhIGJpdCBtb3JlIHNwZWNpZmljaXR5IHRvXG4gIC8vIGF2b2lkIGJlaW5nIG92ZXJ3cml0dGVuIGJ5IHRoZSAubWF0LWljb24tYnV0dG9uLlxuICAubWF0LWRhdGVwaWNrZXItdG9nZ2xlLFxuICAubWF0LWRhdGVwaWNrZXItY29udGVudCAubWF0LWNhbGVuZGFyLW5leHQtYnV0dG9uLFxuICAubWF0LWRhdGVwaWNrZXItY29udGVudCAubWF0LWNhbGVuZGFyLXByZXZpb3VzLWJ1dHRvbiB7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgaWNvbik7XG4gIH1cblxuICAubWF0LWNhbGVuZGFyLXRhYmxlLWhlYWRlciB7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgaGludC10ZXh0KTtcbiAgfVxuXG4gIC5tYXQtY2FsZW5kYXItdGFibGUtaGVhZGVyLWRpdmlkZXI6OmFmdGVyIHtcbiAgICBiYWNrZ3JvdW5kOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGRpdmlkZXIpO1xuICB9XG5cbiAgLm1hdC1jYWxlbmRhci1ib2R5LWxhYmVsIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBzZWNvbmRhcnktdGV4dCk7XG4gIH1cblxuICAubWF0LWNhbGVuZGFyLWJvZHktY2VsbC1jb250ZW50LFxuICAubWF0LWRhdGUtcmFuZ2UtaW5wdXQtc2VwYXJhdG9yIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCB0ZXh0KTtcbiAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xuICB9XG5cbiAgLm1hdC1jYWxlbmRhci1ib2R5LWRpc2FibGVkID4gLm1hdC1jYWxlbmRhci1ib2R5LWNlbGwtY29udGVudCB7XG4gICAgQGluY2x1ZGUgX21hdC1kYXRlcGlja2VyLXVuc2VsZWN0ZWQtY2VsbCB7XG4gICAgICBjb2xvcjogJGRpc2FibGVkLWNvbG9yO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtZm9ybS1maWVsZC1kaXNhYmxlZCAubWF0LWRhdGUtcmFuZ2UtaW5wdXQtc2VwYXJhdG9yIHtcbiAgICBjb2xvcjogJGRpc2FibGVkLWNvbG9yO1xuICB9XG5cbiAgLm1hdC1jYWxlbmRhci1ib2R5LWluLXByZXZpZXcge1xuICAgICRkaXZpZGVyLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGRpdmlkZXIpO1xuXG4gICAgQGlmIHR5cGUtb2YoJGRpdmlkZXItY29sb3IpID09IGNvbG9yIHtcbiAgICAgIC8vIFRoZSBkaXZpZGVyIGNvbG9yIGlzIHNldCB1bmRlciB0aGUgYXNzdW1wdGlvbiB0aGF0IGl0J2xsIGJlIHVzZWRcbiAgICAgIC8vIGZvciBhIHNvbGlkIGJvcmRlciwgYnV0IGJlY2F1c2Ugd2UncmUgdXNpbmcgYSBkYXNoZWQgYm9yZGVyIGZvciB0aGVcbiAgICAgIC8vIHByZXZpZXcgcmFuZ2UsIHdlIG5lZWQgdG8gYnVtcCBpdHMgb3BhY2l0eSB0byBlbnN1cmUgdGhhdCBpdCdzIHZpc2libGUuXG4gICAgICBjb2xvcjogcmdiYSgkZGl2aWRlci1jb2xvciwgbWluKG9wYWNpdHkoJGRpdmlkZXItY29sb3IpICogMiwgMSkpO1xuICAgIH1cbiAgICBAZWxzZSB7XG4gICAgICBjb2xvcjogJGRpdmlkZXItY29sb3I7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1jYWxlbmRhci1ib2R5LXRvZGF5IHtcbiAgICBAaW5jbHVkZSBfbWF0LWRhdGVwaWNrZXItdW5zZWxlY3RlZC1jZWxsIHtcbiAgICAgIC8vIE5vdGU6IHRob3VnaCBpdCdzIG5vdCB0ZXh0LCB0aGUgYm9yZGVyIGlzIGEgaGludCBhYm91dCB0aGUgZmFjdCB0aGF0IHRoaXMgaXMgdG9kYXkncyBkYXRlLFxuICAgICAgLy8gc28gd2UgdXNlIHRoZSBoaW50IGNvbG9yLlxuICAgICAgYm9yZGVyLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGhpbnQtdGV4dCk7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1jYWxlbmRhci1ib2R5LWRpc2FibGVkID4gLm1hdC1jYWxlbmRhci1ib2R5LXRvZGF5IHtcbiAgICBAaW5jbHVkZSBfbWF0LWRhdGVwaWNrZXItdW5zZWxlY3RlZC1jZWxsIHtcbiAgICAgICRjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBoaW50LXRleHQpO1xuXG4gICAgICBAaWYgKHR5cGUtb2YoJGNvbG9yKSA9PSBjb2xvcikge1xuICAgICAgICBib3JkZXItY29sb3I6IGZhZGUtb3V0KCRjb2xvciwgJG1hdC1kYXRlcGlja2VyLXRvZGF5LWZhZGUtYW1vdW50KTtcbiAgICAgIH1cbiAgICAgIEBlbHNlIHtcbiAgICAgICAgLy8gSWYgdGhlIGNvbG9yIGRpZG4ndCByZXNvbHZlIHRvIGEgY29sb3IgdmFsdWUsIGJ1dCBzb21ldGhpbmcgbGlrZSBhIENTUyB2YXJpYWJsZSwgd2UgY2FuJ3RcbiAgICAgICAgLy8gZmFkZSBpdCBvdXQgc28gd2UgZmFsbCBiYWNrIHRvIHJlZHVjaW5nIHRoZSBlbGVtZW50IG9wYWNpdHkuIE5vdGUgdGhhdCB3ZSBkb24ndCB1c2UgdGhlXG4gICAgICAgIC8vICRtYXQtZGF0ZXBpY2tlci10b2RheS1mYWRlLWFtb3VudCwgYmVjYXVzZSBoaW50IHRleHQgdXN1YWxseSBoYXMgc29tZSBvcGFjaXR5IGFwcGxpZWRcbiAgICAgICAgLy8gdG8gaXQgYWxyZWFkeSBhbmQgd2UgZG9uJ3Qgd2FudCB0aGVtIHRvIHN0YWNrIG9uIHRvcCBvZiBlYWNoIG90aGVyLlxuICAgICAgICBvcGFjaXR5OiAwLjU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgQGluY2x1ZGUgX21hdC1kYXRlcGlja2VyLWNvbG9yKG1hcC1nZXQoJGNvbmZpZywgcHJpbWFyeSkpO1xuXG4gIC5tYXQtZGF0ZXBpY2tlci1jb250ZW50IHtcbiAgICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS10aGVtZS1lbGV2YXRpb24oNCwgJGNvbmZpZyk7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBjYXJkKTtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCB0ZXh0KTtcblxuICAgICYubWF0LWFjY2VudCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LWRhdGVwaWNrZXItY29sb3IobWFwLWdldCgkY29uZmlnLCBhY2NlbnQpKTtcbiAgICB9XG5cbiAgICAmLm1hdC13YXJuIHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtZGF0ZXBpY2tlci1jb2xvcihtYXAtZ2V0KCRjb25maWcsIHdhcm4pKTtcbiAgICB9XG4gIH1cblxuICAubWF0LWRhdGVwaWNrZXItY29udGVudC10b3VjaCB7XG4gICAgQGluY2x1ZGUgbWF0LXByaXZhdGUtdGhlbWUtZWxldmF0aW9uKDAsICRjb25maWcpO1xuICB9XG5cbiAgLm1hdC1kYXRlcGlja2VyLXRvZ2dsZS1hY3RpdmUge1xuICAgIGNvbG9yOiBtYXQtY29sb3IobWFwLWdldCgkY29uZmlnLCBwcmltYXJ5KSwgdGV4dCk7XG5cbiAgICAmLm1hdC1hY2NlbnQge1xuICAgICAgY29sb3I6IG1hdC1jb2xvcihtYXAtZ2V0KCRjb25maWcsIGFjY2VudCksIHRleHQpO1xuICAgIH1cblxuICAgICYubWF0LXdhcm4ge1xuICAgICAgY29sb3I6IG1hdC1jb2xvcihtYXAtZ2V0KCRjb25maWcsIHdhcm4pLCB0ZXh0KTtcbiAgICB9XG4gIH1cblxuICAubWF0LWRhdGUtcmFuZ2UtaW5wdXQtaW5uZXJbZGlzYWJsZWRdIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXNhYmxlZC10ZXh0KTtcbiAgfVxufVxuXG5AbWl4aW4gbWF0LWRhdGVwaWNrZXItdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC5tYXQtY2FsZW5kYXIge1xuICAgIGZvbnQtZmFtaWx5OiBtYXQtZm9udC1mYW1pbHkoJGNvbmZpZyk7XG4gIH1cblxuICAubWF0LWNhbGVuZGFyLWJvZHkge1xuICAgIGZvbnQtc2l6ZTogJG1hdC1jYWxlbmRhci1ib2R5LWZvbnQtc2l6ZTtcbiAgfVxuXG4gIC5tYXQtY2FsZW5kYXItYm9keS1sYWJlbCxcbiAgLm1hdC1jYWxlbmRhci1wZXJpb2QtYnV0dG9uIHtcbiAgICBmb250OiB7XG4gICAgICBzaXplOiBtYXQtZm9udC1zaXplKCRjb25maWcsIGJ1dHRvbik7XG4gICAgICB3ZWlnaHQ6IG1hdC1mb250LXdlaWdodCgkY29uZmlnLCBidXR0b24pO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtY2FsZW5kYXItdGFibGUtaGVhZGVyIHRoIHtcbiAgICBmb250OiB7XG4gICAgICBzaXplOiAkbWF0LWNhbGVuZGFyLXdlZWtkYXktdGFibGUtZm9udC1zaXplO1xuICAgICAgd2VpZ2h0OiBtYXQtZm9udC13ZWlnaHQoJGNvbmZpZywgYm9keS0xKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIG1hdC1kYXRlLXJhbmdlLWNvbG9ycyhcbiAgJHJhbmdlLWNvbG9yLFxuICAkY29tcGFyaXNvbi1jb2xvcjogcmdiYSgjZjlhYjAwLCAkbWF0LWRhdGVwaWNrZXItcmFuZ2UtZmFkZS1hbW91bnQpLFxuICAkb3ZlcmxhcC1jb2xvcjogI2E4ZGFiNSxcbiAgJG92ZXJsYXAtc2VsZWN0ZWQtY29sb3I6IGRhcmtlbigkb3ZlcmxhcC1jb2xvciwgMzAlKSkge1xuXG4gIC5tYXQtY2FsZW5kYXItYm9keS1pbi1yYW5nZTo6YmVmb3JlIHtcbiAgICBiYWNrZ3JvdW5kOiAkcmFuZ2UtY29sb3I7XG4gIH1cblxuICAubWF0LWNhbGVuZGFyLWJvZHktY29tcGFyaXNvbi1pZGVudGljYWwsXG4gIC5tYXQtY2FsZW5kYXItYm9keS1pbi1jb21wYXJpc29uLXJhbmdlOjpiZWZvcmUge1xuICAgIGJhY2tncm91bmQ6ICRjb21wYXJpc29uLWNvbG9yO1xuICB9XG5cbiAgLm1hdC1jYWxlbmRhci1ib2R5LWNvbXBhcmlzb24tYnJpZGdlLXN0YXJ0OjpiZWZvcmUsXG4gIFtkaXI9J3J0bCddIC5tYXQtY2FsZW5kYXItYm9keS1jb21wYXJpc29uLWJyaWRnZS1lbmQ6OmJlZm9yZSB7XG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAkcmFuZ2UtY29sb3IgNTAlLCAkY29tcGFyaXNvbi1jb2xvciA1MCUpO1xuICB9XG5cbiAgLm1hdC1jYWxlbmRhci1ib2R5LWNvbXBhcmlzb24tYnJpZGdlLWVuZDo6YmVmb3JlLFxuICBbZGlyPSdydGwnXSAubWF0LWNhbGVuZGFyLWJvZHktY29tcGFyaXNvbi1icmlkZ2Utc3RhcnQ6OmJlZm9yZSB7XG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGxlZnQsICRyYW5nZS1jb2xvciA1MCUsICRjb21wYXJpc29uLWNvbG9yIDUwJSk7XG4gIH1cblxuICAubWF0LWNhbGVuZGFyLWJvZHktaW4tcmFuZ2UgPiAubWF0LWNhbGVuZGFyLWJvZHktY29tcGFyaXNvbi1pZGVudGljYWwsXG4gIC5tYXQtY2FsZW5kYXItYm9keS1pbi1jb21wYXJpc29uLXJhbmdlLm1hdC1jYWxlbmRhci1ib2R5LWluLXJhbmdlOjphZnRlciB7XG4gICAgYmFja2dyb3VuZDogJG92ZXJsYXAtY29sb3I7XG4gIH1cblxuICAubWF0LWNhbGVuZGFyLWJvZHktY29tcGFyaXNvbi1pZGVudGljYWwubWF0LWNhbGVuZGFyLWJvZHktc2VsZWN0ZWQsXG4gIC5tYXQtY2FsZW5kYXItYm9keS1pbi1jb21wYXJpc29uLXJhbmdlID4gLm1hdC1jYWxlbmRhci1ib2R5LXNlbGVjdGVkIHtcbiAgICBiYWNrZ3JvdW5kOiAkb3ZlcmxhcC1zZWxlY3RlZC1jb2xvcjtcbiAgfVxufVxuXG5AbWl4aW4gX21hdC1kYXRlcGlja2VyLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1kYXRlcGlja2VyLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBtYXQtcHJpdmF0ZS1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1kYXRlcGlja2VyJykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWRhdGVwaWNrZXItY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1kYXRlcGlja2VyLWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtZGF0ZXBpY2tlci10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG5cblxuQG1peGluIG1hdC1kaWFsb2ctY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGJhY2tncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuXG4gIC5tYXQtZGlhbG9nLWNvbnRhaW5lciB7XG4gICAgQGluY2x1ZGUgbWF0LXByaXZhdGUtdGhlbWUtZWxldmF0aW9uKDI0LCAkY29uZmlnKTtcbiAgICBiYWNrZ3JvdW5kOiBtYXQtY29sb3IoJGJhY2tncm91bmQsIGRpYWxvZyk7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG4gIH1cbn1cblxuQG1peGluIG1hdC1kaWFsb2ctdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC5tYXQtZGlhbG9nLXRpdGxlIHtcbiAgICBAaW5jbHVkZSBtYXQtdHlwb2dyYXBoeS1sZXZlbC10by1zdHlsZXMoJGNvbmZpZywgdGl0bGUpO1xuICB9XG59XG5cbkBtaXhpbiBfbWF0LWRpYWxvZy1kZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHt9XG5cbkBtaXhpbiBtYXQtZGlhbG9nLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBtYXQtcHJpdmF0ZS1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1kaWFsb2cnKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtZGlhbG9nLWNvbG9yKCRjb2xvcik7XG4gICAgfVxuICAgIEBpZiAkZGVuc2l0eSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtZGlhbG9nLWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtZGlhbG9nLXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5cblxuLy8gRGVmYXVsdCBtaW5pbXVtIGFuZCBtYXhpbXVtIGhlaWdodCBmb3IgY29sbGFwc2VkIHBhbmVsIGhlYWRlcnMuXG4kbWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItY29sbGFwc2VkLWhlaWdodDogNDhweCAhZGVmYXVsdDtcbiRtYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci1jb2xsYXBzZWQtbWluaW11bS1oZWlnaHQ6IDM2cHggIWRlZmF1bHQ7XG4kbWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItY29sbGFwc2VkLW1heGltdW0taGVpZ2h0OlxuICAgICRtYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci1jb2xsYXBzZWQtaGVpZ2h0ICFkZWZhdWx0O1xuXG4vLyBEZWZhdWx0IG1pbmltdW0gYW5kIG1heGltdW0gaGVpZ2h0IGZvciBleHBhbmRlZCBwYW5lbCBoZWFkZXJzLlxuJG1hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyLWV4cGFuZGVkLWhlaWdodDogNjRweCAhZGVmYXVsdDtcbiRtYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci1leHBhbmRlZC1taW5pbXVtLWhlaWdodDogNDhweCAhZGVmYXVsdDtcbiRtYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci1leHBhbmRlZC1tYXhpbXVtLWhlaWdodDpcbiAgICAkbWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItZXhwYW5kZWQtaGVpZ2h0ICFkZWZhdWx0O1xuXG4vLyBEZW5zaXR5IGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBleHBhbnNpb24gcGFuZWwuIENhcHR1cmVzIHRoZVxuLy8gaGVpZ2h0IGZvciBib3RoIGV4cGFuZGVkIGFuZCBjb2xsYXBzZWQgcGFuZWwgaGVhZGVycy5cbiRtYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci1kZW5zaXR5LWNvbmZpZzogKFxuICBjb2xsYXBzZWQtaGVpZ2h0OiAoXG4gICAgZGVmYXVsdDogJG1hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyLWNvbGxhcHNlZC1oZWlnaHQsXG4gICAgbWF4aW11bTogJG1hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyLWNvbGxhcHNlZC1tYXhpbXVtLWhlaWdodCxcbiAgICBtaW5pbXVtOiAkbWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItY29sbGFwc2VkLW1pbmltdW0taGVpZ2h0LFxuICApLFxuICBleHBhbmRlZC1oZWlnaHQ6IChcbiAgICBkZWZhdWx0OiAkbWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItZXhwYW5kZWQtaGVpZ2h0LFxuICAgIG1heGltdW06ICRtYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci1leHBhbmRlZC1tYXhpbXVtLWhlaWdodCxcbiAgICBtaW5pbXVtOiAkbWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItZXhwYW5kZWQtbWluaW11bS1oZWlnaHQsXG4gIClcbikgIWRlZmF1bHQ7XG5cbi8vIE5vdGU6IEtlZXAgdGhpcyBpbiBzeW5jIHdpdGggdGhlIGFuaW1hdGlvbiB0aW1pbmcgZm9yIHRoZSB0b2dnbGUgaW5kaWNhdG9yXG4vLyBhbmQgYm9keSBleHBhbnNpb24uIFRoZXNlIGFyZSBhbmltYXRlZCB1c2luZyBBbmd1bGFyIGFuaW1hdGlvbnMuXG4kbWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItdHJhbnNpdGlvbjogMjI1bXMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKTtcblxuQG1peGluIG1hdC1wcml2YXRlLWV4cGFuc2lvbi1mb2N1cyB7XG4gIC5tYXQtZXhwYW5zaW9uLXBhbmVsIHtcbiAgICAmIC5tYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci5jZGsta2V5Ym9hcmQtZm9jdXNlZCxcbiAgICAmIC5tYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci5jZGstcHJvZ3JhbS1mb2N1c2VkLFxuICAgICY6bm90KC5tYXQtZXhwYW5kZWQpIC5tYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlcjpob3ZlciB7XG4gICAgICAmOm5vdChbYXJpYS1kaXNhYmxlZD0ndHJ1ZSddKSB7XG4gICAgICAgIEBjb250ZW50O1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5cbkBtaXhpbiBtYXQtZXhwYW5zaW9uLXBhbmVsLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRiYWNrZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGJhY2tncm91bmQpO1xuICAkZm9yZWdyb3VuZDogbWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcblxuICAubWF0LWV4cGFuc2lvbi1wYW5lbCB7XG4gICAgQGluY2x1ZGUgbWF0LXByaXZhdGUtdGhlbWUtb3ZlcnJpZGFibGUtZWxldmF0aW9uKDIsICRjb25maWcpO1xuICAgIGJhY2tncm91bmQ6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgY2FyZCk7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG4gIH1cblxuICAubWF0LWFjdGlvbi1yb3cge1xuICAgIGJvcmRlci10b3AtY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgZGl2aWRlcik7XG4gIH1cblxuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1leHBhbnNpb24tZm9jdXMge1xuICAgIGJhY2tncm91bmQ6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgaG92ZXIpO1xuICB9XG5cbiAgLy8gRGlzYWJsZSB0aGUgaG92ZXIgb24gdG91Y2ggZGV2aWNlcyBzaW5jZSBpdCBjYW4gYXBwZWFyIGxpa2UgaXQgaXMgc3R1Y2suIFdlIGNhbid0IHVzZVxuICAvLyBgQG1lZGlhIChob3ZlcilgIGFib3ZlLCBiZWNhdXNlIHRoZSBkZXNrdG9wIHN1cHBvcnQgYnJvd3NlciBzdXBwb3J0IGlzbid0IGdyZWF0LlxuICBAbWVkaWEgKGhvdmVyOiBub25lKSB7XG4gICAgLm1hdC1leHBhbnNpb24tcGFuZWw6bm90KC5tYXQtZXhwYW5kZWQpOm5vdChbYXJpYS1kaXNhYmxlZD0ndHJ1ZSddKVxuICAgICAgLm1hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQ6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgY2FyZCk7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyLXRpdGxlIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCB0ZXh0KTtcbiAgfVxuXG4gIC5tYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci1kZXNjcmlwdGlvbixcbiAgLm1hdC1leHBhbnNpb24taW5kaWNhdG9yOjphZnRlciB7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgc2Vjb25kYXJ5LXRleHQpO1xuICB9XG5cbiAgLm1hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyW2FyaWEtZGlzYWJsZWQ9J3RydWUnXSB7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgZGlzYWJsZWQtYnV0dG9uKTtcblxuICAgIC5tYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci10aXRsZSxcbiAgICAubWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItZGVzY3JpcHRpb24ge1xuICAgICAgY29sb3I6IGluaGVyaXQ7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBtYXQtZXhwYW5zaW9uLXBhbmVsLXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAubWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXIge1xuICAgIGZvbnQ6IHtcbiAgICAgIGZhbWlseTogbWF0LWZvbnQtZmFtaWx5KCRjb25maWcsIHN1YmhlYWRpbmctMSk7XG4gICAgICBzaXplOiBtYXQtZm9udC1zaXplKCRjb25maWcsIHN1YmhlYWRpbmctMSk7XG4gICAgICB3ZWlnaHQ6IG1hdC1mb250LXdlaWdodCgkY29uZmlnLCBzdWJoZWFkaW5nLTEpO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtZXhwYW5zaW9uLXBhbmVsLWNvbnRlbnQge1xuICAgIEBpbmNsdWRlIG1hdC10eXBvZ3JhcGh5LWxldmVsLXRvLXN0eWxlcygkY29uZmlnLCBib2R5LTEpO1xuICB9XG59XG5cbkBtaXhpbiBtYXQtZXhwYW5zaW9uLXBhbmVsLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkZGVuc2l0eS1zY2FsZTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGV4cGFuZGVkLWhlaWdodDogbWF0LXByaXZhdGUtZGVuc2l0eS1wcm9wLXZhbHVlKFxuICAgICAgICAkbWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItZGVuc2l0eS1jb25maWcsICRkZW5zaXR5LXNjYWxlLCBleHBhbmRlZC1oZWlnaHQpO1xuICAkY29sbGFwc2VkLWhlaWdodDogbWF0LXByaXZhdGUtZGVuc2l0eS1wcm9wLXZhbHVlKFxuICAgICAgJG1hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyLWRlbnNpdHktY29uZmlnLCAkZGVuc2l0eS1zY2FsZSwgY29sbGFwc2VkLWhlaWdodCk7XG5cbiAgQGluY2x1ZGUgbWF0LXByaXZhdGUtZGVuc2l0eS1sZWdhY3ktY29tcGF0aWJpbGl0eSgpIHtcbiAgICAubWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXIge1xuICAgICAgaGVpZ2h0OiAkY29sbGFwc2VkLWhlaWdodDtcblxuICAgICAgJi5tYXQtZXhwYW5kZWQge1xuICAgICAgICBoZWlnaHQ6ICRleHBhbmRlZC1oZWlnaHQ7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBtYXQtZXhwYW5zaW9uLXBhbmVsLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBtYXQtcHJpdmF0ZS1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1leHBhbnNpb24tcGFuZWwnKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtZXhwYW5zaW9uLXBhbmVsLWNvbG9yKCRjb2xvcik7XG4gICAgfVxuICAgIEBpZiAkZGVuc2l0eSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1leHBhbnNpb24tcGFuZWwtZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1leHBhbnNpb24tcGFuZWwtdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cbi8vIFRoaXMgbWl4aW4gd2lsbCBlbnN1cmUgdGhhdCBsaW5lcyB0aGF0IG92ZXJmbG93IHRoZSBjb250YWluZXIgd2lsbCBoaWRlIHRoZSBvdmVyZmxvdyBhbmRcbi8vIHRydW5jYXRlIG5lYXRseSB3aXRoIGFuIGVsbGlwc2lzLlxuQG1peGluIG1hdC10cnVuY2F0ZS1saW5lKCkge1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbn1cblxuLy8gTWl4aW4gdG8gcHJvdmlkZSBhbGwgbWF0LWxpbmUgc3R5bGVzLCBjaGFuZ2luZyBzZWNvbmRhcnkgZm9udCBzaXplIGJhc2VkIG9uIHdoZXRoZXIgdGhlIGxpc3Rcbi8vIGlzIGluIGRlbnNlIG1vZGUuXG5AbWl4aW4gbWF0LWxpbmUtYmFzZSgkc2Vjb25kYXJ5LWZvbnQtc2l6ZSkge1xuICAubWF0LWxpbmUge1xuICAgIEBpbmNsdWRlIG1hdC10cnVuY2F0ZS1saW5lKCk7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcblxuICAgIC8vIGFsbCBsaW5lcyBidXQgdGhlIHRvcCBsaW5lIHNob3VsZCBoYXZlIHNtYWxsZXIgdGV4dFxuICAgICY6bnRoLWNoaWxkKG4rMikge1xuICAgICAgZm9udC1zaXplOiAkc2Vjb25kYXJ5LWZvbnQtc2l6ZTtcbiAgICB9XG4gIH1cbn1cblxuLy8gVGhpcyBtaXhpbiBub3JtYWxpemVzIGRlZmF1bHQgZWxlbWVudCBzdHlsZXMsIGUuZy4gZm9udCB3ZWlnaHQgZm9yIGhlYWRpbmcgdGV4dC5cbkBtaXhpbiBtYXQtbm9ybWFsaXplLXRleHQoKSB7XG4gICYgPiAqIHtcbiAgICBtYXJnaW46IDA7XG4gICAgcGFkZGluZzogMDtcbiAgICBmb250LXdlaWdodDogbm9ybWFsO1xuICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcbiAgfVxufVxuXG4vLyBUaGlzIG1peGluIHByb3ZpZGVzIGJhc2Ugc3R5bGVzIGZvciB0aGUgd3JhcHBlciBhcm91bmQgbWF0LWxpbmUgZWxlbWVudHMgaW4gYSBsaXN0LlxuQG1peGluIG1hdC1saW5lLXdyYXBwZXItYmFzZSgpIHtcbiAgQGluY2x1ZGUgbWF0LW5vcm1hbGl6ZS10ZXh0KCk7XG5cbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZmxleDogYXV0bztcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcblxuICAvLyBNdXN0IHJlbW92ZSB3cmFwcGVyIHdoZW4gbGluZXMgYXJlIGVtcHR5IG9yIGl0IHRha2VzIHVwIGhvcml6b250YWxcbiAgLy8gc3BhY2UgYW5kIHB1c2hlcyBvdGhlciBlbGVtZW50cyB0byB0aGUgcmlnaHQuXG4gICY6ZW1wdHkge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cbn1cblxuXG5cbi8vIEluY2x1ZGUgdGhpcyBlbXB0eSBtaXhpbiBmb3IgY29uc2lzdGVuY3kgd2l0aCB0aGUgb3RoZXIgY29tcG9uZW50cy5cbkBtaXhpbiBtYXQtZ3JpZC1saXN0LWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHt9XG5cbkBtaXhpbiBtYXQtZ3JpZC1saXN0LXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAubWF0LWdyaWQtdGlsZS1oZWFkZXIsXG4gIC5tYXQtZ3JpZC10aWxlLWZvb3RlciB7XG4gICAgQGluY2x1ZGUgbWF0LWxpbmUtYmFzZShtYXQtZm9udC1zaXplKCRjb25maWcsIGNhcHRpb24pKTtcbiAgICBmb250LXNpemU6IG1hdC1mb250LXNpemUoJGNvbmZpZywgYm9keS0xKTtcbiAgfVxufVxuXG5AbWl4aW4gX21hdC1ncmlkLWxpc3QtZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gbWF0LWdyaWQtbGlzdC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogbWF0LXByaXZhdGUtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXByaXZhdGUtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtZ3JpZC1saXN0Jykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWdyaWQtbGlzdC1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LWdyaWQtbGlzdC1kZW5zaXR5KCRkZW5zaXR5KTtcbiAgICB9XG4gICAgQGlmICR0eXBvZ3JhcGh5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWdyaWQtbGlzdC10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cbkBtaXhpbiBtYXQtaWNvbi1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkcHJpbWFyeTogbWFwLWdldCgkY29uZmlnLCBwcmltYXJ5KTtcbiAgJGFjY2VudDogbWFwLWdldCgkY29uZmlnLCBhY2NlbnQpO1xuICAkd2FybjogbWFwLWdldCgkY29uZmlnLCB3YXJuKTtcbiAgJGJhY2tncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuXG4gIC5tYXQtaWNvbiB7XG4gICAgJi5tYXQtcHJpbWFyeSB7XG4gICAgICBjb2xvcjogbWF0LWNvbG9yKCRwcmltYXJ5LCB0ZXh0KTtcbiAgICB9XG5cbiAgICAmLm1hdC1hY2NlbnQge1xuICAgICAgY29sb3I6IG1hdC1jb2xvcigkYWNjZW50LCB0ZXh0KTtcbiAgICB9XG5cbiAgICAmLm1hdC13YXJuIHtcbiAgICAgIGNvbG9yOiBtYXQtY29sb3IoJHdhcm4sIHRleHQpO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LWljb24tdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gX21hdC1pY29uLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1pY29uLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBtYXQtcHJpdmF0ZS1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1pY29uJykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWljb24tY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1pY29uLWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtaWNvbi10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG5cbi8vIFJlbmRlcnMgYSBncmFkaWVudCBmb3Igc2hvd2luZyB0aGUgZGFzaGVkIGxpbmUgd2hlbiB0aGUgaW5wdXQgaXMgZGlzYWJsZWQuXG4vLyBVbmxpa2UgdXNpbmcgYSBib3JkZXIsIGEgZ3JhZGllbnQgYWxsb3dzIHVzIHRvIGFkanVzdCB0aGUgc3BhY2luZyBvZiB0aGUgZG90dGVkIGxpbmVcbi8vIHRvIG1hdGNoIHRoZSBNYXRlcmlhbCBEZXNpZ24gc3BlYy5cbkBtaXhpbiBtYXQtcHJpdmF0ZS1jb250cm9sLWRpc2FibGVkLXVuZGVybGluZSgkY29sb3IpIHtcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAkY29sb3IgMCUsICRjb2xvciAzMyUsIHRyYW5zcGFyZW50IDAlKTtcbiAgYmFja2dyb3VuZC1zaXplOiA0cHggMTAwJTtcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IHJlcGVhdC14O1xufVxuXG4vLyBGaWd1cmVzIG91dCB0aGUgY29sb3Igb2YgdGhlIHBsYWNlaG9sZGVyIGZvciBhIGZvcm0gY29udHJvbC5cbi8vIFVzZWQgcHJpbWFyaWx5IHRvIHByZXZlbnQgdGhlIHZhcmlvdXMgZm9ybSBjb250cm9scyBmcm9tXG4vLyBiZWNvbWluZyBvdXQgb2Ygc3luYyBzaW5jZSB0aGVzZSBjb2xvcnMgYXJlbid0IGluIGEgcGFsZXR0ZS5cbkBmdW5jdGlvbiBtYXQtcHJpdmF0ZS1jb250cm9sLXBsYWNlaG9sZGVyLWNvbG9yKCRjb25maWcpIHtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG4gICRpcy1kYXJrLXRoZW1lOiBtYXAtZ2V0KCRjb25maWcsIGlzLWRhcmspO1xuICBAcmV0dXJuIG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgc2Vjb25kYXJ5LXRleHQsIGlmKCRpcy1kYXJrLXRoZW1lLCAwLjUsIDAuNDIpKTtcbn1cblxuXG4vKiBzdHlsZWxpbnQtZGlzYWJsZSBtYXRlcmlhbC9uby1wcmVmaXhlcyAqL1xuQG1peGluIHVzZXItc2VsZWN0KCR2YWx1ZSkge1xuICAtd2Via2l0LXVzZXItc2VsZWN0OiAkdmFsdWU7XG4gIC1tb3otdXNlci1zZWxlY3Q6ICR2YWx1ZTtcbiAgLW1zLXVzZXItc2VsZWN0OiAkdmFsdWU7XG4gIHVzZXItc2VsZWN0OiAkdmFsdWU7XG59XG5cbkBtaXhpbiBpbnB1dC1wbGFjZWhvbGRlciB7XG4gICY6OnBsYWNlaG9sZGVyIHtcbiAgICBAY29udGVudDtcbiAgfVxuXG4gICY6Oi1tb3otcGxhY2Vob2xkZXIge1xuICAgIEBjb250ZW50O1xuICB9XG5cbiAgJjo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlciB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cblxuICAmOi1tcy1pbnB1dC1wbGFjZWhvbGRlciB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cblxuQG1peGluIGN1cnNvci1ncmFiIHtcbiAgY3Vyc29yOiAtd2Via2l0LWdyYWI7XG4gIGN1cnNvcjogZ3JhYjtcbn1cblxuQG1peGluIGN1cnNvci1ncmFiYmluZyB7XG4gIGN1cnNvcjogLXdlYmtpdC1ncmFiYmluZztcbiAgY3Vyc29yOiBncmFiYmluZztcbn1cblxuQG1peGluIGJhY2tmYWNlLXZpc2liaWxpdHkoJHZhbHVlKSB7XG4gIC13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTogJHZhbHVlO1xuICBiYWNrZmFjZS12aXNpYmlsaXR5OiAkdmFsdWU7XG59XG5cbkBtaXhpbiBwb3NpdGlvbi1zdGlja3koJGltcG9ydGFudDogZmFsc2UpIHtcbiAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5ICN7aWYoJGltcG9ydGFudCwgJyFpbXBvcnRhbnQnLCAnJyl9O1xuICBwb3NpdGlvbjogc3RpY2t5ICN7aWYoJGltcG9ydGFudCwgJyFpbXBvcnRhbnQnLCAnJyl9O1xufVxuLyogc3R5bGVsaW50LWVuYWJsZSAqL1xuXG5cblxuQG1peGluIG1hdC1pbnB1dC1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkcHJpbWFyeTogbWFwLWdldCgkY29uZmlnLCBwcmltYXJ5KTtcbiAgJGFjY2VudDogbWFwLWdldCgkY29uZmlnLCBhY2NlbnQpO1xuICAkd2FybjogbWFwLWdldCgkY29uZmlnLCB3YXJuKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cbiAgLm1hdC1mb3JtLWZpZWxkLXR5cGUtbWF0LW5hdGl2ZS1zZWxlY3QgLm1hdC1mb3JtLWZpZWxkLWluZml4OjphZnRlciB7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgc2Vjb25kYXJ5LXRleHQpO1xuICB9XG5cbiAgLm1hdC1pbnB1dC1lbGVtZW50OmRpc2FibGVkLFxuICAubWF0LWZvcm0tZmllbGQtdHlwZS1tYXQtbmF0aXZlLXNlbGVjdC5tYXQtZm9ybS1maWVsZC1kaXNhYmxlZCAubWF0LWZvcm0tZmllbGQtaW5maXg6OmFmdGVyIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXNhYmxlZC10ZXh0KTtcbiAgfVxuXG4gIC5tYXQtaW5wdXQtZWxlbWVudCB7XG4gICAgY2FyZXQtY29sb3I6IG1hdC1jb2xvcigkcHJpbWFyeSwgdGV4dCk7XG5cbiAgICBAaW5jbHVkZSBpbnB1dC1wbGFjZWhvbGRlciB7XG4gICAgICBjb2xvcjogbWF0LXByaXZhdGUtY29udHJvbC1wbGFjZWhvbGRlci1jb2xvcigkY29uZmlnKTtcbiAgICB9XG5cbiAgICAvLyBPbiBkYXJrIHRoZW1lcyB3ZSBzZXQgdGhlIG5hdGl2ZSBgc2VsZWN0YCBjb2xvciB0byBzb21lIHNoYWRlIG9mIHdoaXRlLFxuICAgIC8vIGhvd2V2ZXIgdGhlIGNvbG9yIHByb3BhZ2F0ZXMgdG8gYWxsIG9mIHRoZSBgb3B0aW9uYCBlbGVtZW50cywgd2hpY2ggYXJlXG4gICAgLy8gYWx3YXlzIG9uIGEgd2hpdGUgYmFja2dyb3VuZCBpbnNpZGUgdGhlIGRyb3Bkb3duLCBjYXVzaW5nIHRoZW0gdG8gYmxlbmQgaW4uXG4gICAgLy8gU2luY2Ugd2UgY2FuJ3QgY2hhbmdlIGJhY2tncm91bmQgb2YgdGhlIGRyb3Bkb3duLCB3ZSBuZWVkIHRvIGV4cGxpY2l0bHlcbiAgICAvLyByZXNldCB0aGUgY29sb3Igb2YgdGhlIG9wdGlvbnMgdG8gc29tZXRoaW5nIGRhcmsuXG4gICAgQGlmIChtYXAtZ2V0KCRjb25maWcsIGlzLWRhcmspKSB7XG4gICAgICBvcHRpb24ge1xuICAgICAgICBjb2xvcjogJGRhcmstcHJpbWFyeS10ZXh0O1xuICAgICAgfVxuXG4gICAgICBvcHRpb246ZGlzYWJsZWQge1xuICAgICAgICBjb2xvcjogJGRhcmstZGlzYWJsZWQtdGV4dDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAubWF0LWZvcm0tZmllbGQubWF0LWFjY2VudCAubWF0LWlucHV0LWVsZW1lbnQge1xuICAgIGNhcmV0LWNvbG9yOiBtYXQtY29sb3IoJGFjY2VudCwgdGV4dCk7XG4gIH1cblxuICAubWF0LWZvcm0tZmllbGQubWF0LXdhcm4gLm1hdC1pbnB1dC1lbGVtZW50LFxuICAubWF0LWZvcm0tZmllbGQtaW52YWxpZCAubWF0LWlucHV0LWVsZW1lbnQge1xuICAgIGNhcmV0LWNvbG9yOiBtYXQtY29sb3IoJHdhcm4sIHRleHQpO1xuICB9XG5cbiAgLm1hdC1mb3JtLWZpZWxkLXR5cGUtbWF0LW5hdGl2ZS1zZWxlY3QubWF0LWZvcm0tZmllbGQtaW52YWxpZCAubWF0LWZvcm0tZmllbGQtaW5maXg6OmFmdGVyIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCR3YXJuLCB0ZXh0KTtcbiAgfVxufVxuXG5AbWl4aW4gbWF0LWlucHV0LXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAvLyBUaGUgdW5pdC1sZXNzIGxpbmUtaGVpZ2h0IGZyb20gdGhlIGZvbnQgY29uZmlnLlxuICAkbGluZS1oZWlnaHQ6IG1hdC1saW5lLWhlaWdodCgkY29uZmlnLCBpbnB1dCk7XG5cbiAgLy8gVGhlIGFtb3VudCBvZiBzcGFjZSBiZXR3ZWVuIHRoZSB0b3Agb2YgdGhlIGxpbmUgYW5kIHRoZSB0b3Agb2YgdGhlIGFjdHVhbCB0ZXh0XG4gIC8vIChhcyBhIGZyYWN0aW9uIG9mIHRoZSBmb250LXNpemUpLlxuICAkbGluZS1zcGFjaW5nOiAoJGxpbmUtaGVpZ2h0IC0gMSkgLyAyO1xuXG4gIC8vIDxpbnB1dD4gZWxlbWVudHMgc2VlbSB0byBoYXZlIHRoZWlyIGhlaWdodCBzZXQgc2xpZ2h0bHkgdG9vIGxhcmdlIG9uIFNhZmFyaSBjYXVzaW5nIHRoZSB0ZXh0IHRvXG4gIC8vIGJlIG1pc2FsaWduZWQgdy5yLnQuIHRoZSBwbGFjZWhvbGRlci4gQWRkaW5nIHRoaXMgbWFyZ2luIGNvcnJlY3RzIGl0LlxuICBpbnB1dC5tYXQtaW5wdXQtZWxlbWVudCB7XG4gICAgbWFyZ2luLXRvcDogLSRsaW5lLXNwYWNpbmcgKiAxZW07XG4gIH1cbn1cblxuQG1peGluIF9tYXQtaW5wdXQtZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gbWF0LWlucHV0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBtYXQtcHJpdmF0ZS1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1pbnB1dCcpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1pbnB1dC1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LWlucHV0LWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtaW5wdXQtdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuXG5cbkBtaXhpbiBtYXQtbGlzdC1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cbiAgLm1hdC1saXN0LWJhc2Uge1xuICAgIC5tYXQtbGlzdC1pdGVtIHtcbiAgICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHRleHQpO1xuICAgIH1cblxuICAgIC5tYXQtbGlzdC1vcHRpb24ge1xuICAgICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG4gICAgfVxuXG4gICAgLm1hdC1zdWJoZWFkZXIge1xuICAgICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgc2Vjb25kYXJ5LXRleHQpO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtbGlzdC1pdGVtLWRpc2FibGVkIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJGJhY2tncm91bmQsIGRpc2FibGVkLWxpc3Qtb3B0aW9uKTtcbiAgfVxuXG4gIC5tYXQtbGlzdC1vcHRpb24sXG4gIC5tYXQtbmF2LWxpc3QgLm1hdC1saXN0LWl0ZW0sXG4gIC5tYXQtYWN0aW9uLWxpc3QgLm1hdC1saXN0LWl0ZW0ge1xuICAgICY6aG92ZXIsICY6Zm9jdXMge1xuICAgICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCAnaG92ZXInKTtcbiAgICB9XG4gIH1cblxuICAubWF0LWxpc3Qtc2luZ2xlLXNlbGVjdGVkLW9wdGlvbiB7XG4gICAgJiwgJjpob3ZlciwgJjpmb2N1cyB7XG4gICAgICBiYWNrZ3JvdW5kOiBtYXQtY29sb3IoJGJhY2tncm91bmQsIGhvdmVyLCAwLjEyKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIG1hdC1saXN0LXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkZm9udC1mYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnKTtcblxuICAubWF0LWxpc3QtaXRlbSB7XG4gICAgZm9udC1mYW1pbHk6ICRmb250LWZhbWlseTtcbiAgfVxuXG4gIC5tYXQtbGlzdC1vcHRpb24ge1xuICAgIGZvbnQtZmFtaWx5OiAkZm9udC1mYW1pbHk7XG4gIH1cblxuICAvLyBEZWZhdWx0IGxpc3RcbiAgLm1hdC1saXN0LWJhc2Uge1xuICAgIC5tYXQtbGlzdC1pdGVtIHtcbiAgICAgIGZvbnQtc2l6ZTogbWF0LWZvbnQtc2l6ZSgkY29uZmlnLCBzdWJoZWFkaW5nLTIpO1xuICAgICAgQGluY2x1ZGUgbWF0LWxpbmUtYmFzZShtYXQtZm9udC1zaXplKCRjb25maWcsIGJvZHktMSkpO1xuICAgIH1cblxuICAgIC5tYXQtbGlzdC1vcHRpb24ge1xuICAgICAgZm9udC1zaXplOiBtYXQtZm9udC1zaXplKCRjb25maWcsIHN1YmhlYWRpbmctMik7XG4gICAgICBAaW5jbHVkZSBtYXQtbGluZS1iYXNlKG1hdC1mb250LXNpemUoJGNvbmZpZywgYm9keS0xKSk7XG4gICAgfVxuXG4gICAgLm1hdC1zdWJoZWFkZXIge1xuICAgICAgZm9udC1mYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnLCBib2R5LTIpO1xuICAgICAgZm9udC1zaXplOiBtYXQtZm9udC1zaXplKCRjb25maWcsIGJvZHktMik7XG4gICAgICBmb250LXdlaWdodDogbWF0LWZvbnQtd2VpZ2h0KCRjb25maWcsIGJvZHktMik7XG4gICAgfVxuICB9XG5cbiAgLy8gRGVuc2UgbGlzdFxuICAubWF0LWxpc3QtYmFzZVtkZW5zZV0ge1xuICAgIC5tYXQtbGlzdC1pdGVtIHtcbiAgICAgIGZvbnQtc2l6ZTogbWF0LWZvbnQtc2l6ZSgkY29uZmlnLCBjYXB0aW9uKTtcbiAgICAgIEBpbmNsdWRlIG1hdC1saW5lLWJhc2UobWF0LWZvbnQtc2l6ZSgkY29uZmlnLCBjYXB0aW9uKSk7XG4gICAgfVxuXG4gICAgLm1hdC1saXN0LW9wdGlvbiB7XG4gICAgICBmb250LXNpemU6IG1hdC1mb250LXNpemUoJGNvbmZpZywgY2FwdGlvbik7XG4gICAgICBAaW5jbHVkZSBtYXQtbGluZS1iYXNlKG1hdC1mb250LXNpemUoJGNvbmZpZywgY2FwdGlvbikpO1xuICAgIH1cblxuICAgIC5tYXQtc3ViaGVhZGVyIHtcbiAgICAgIGZvbnQtZmFtaWx5OiAkZm9udC1mYW1pbHk7XG4gICAgICBmb250LXNpemU6IG1hdC1mb250LXNpemUoJGNvbmZpZywgY2FwdGlvbik7XG4gICAgICBmb250LXdlaWdodDogbWF0LWZvbnQtd2VpZ2h0KCRjb25maWcsIGJvZHktMik7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBfbWF0LWxpc3QtZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gbWF0LWxpc3QtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IG1hdC1wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1wcml2YXRlLWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LWxpc3QnKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtbGlzdC1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LWxpc3QtZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1saXN0LXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5cblxuXG5AbWl4aW4gbWF0LW1lbnUtY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGJhY2tncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuXG4gIC5tYXQtbWVudS1wYW5lbCB7XG4gICAgQGluY2x1ZGUgbWF0LXByaXZhdGUtdGhlbWUtb3ZlcnJpZGFibGUtZWxldmF0aW9uKDQsICRjb25maWcpO1xuICAgIGJhY2tncm91bmQ6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgJ2NhcmQnKTtcbiAgfVxuXG4gIC5tYXQtbWVudS1pdGVtIHtcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCAndGV4dCcpO1xuXG4gICAgJltkaXNhYmxlZF0ge1xuICAgICAgJixcbiAgICAgICY6OmFmdGVyLFxuICAgICAgLm1hdC1pY29uLW5vLWNvbG9yIHtcbiAgICAgICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgJ2Rpc2FibGVkJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLm1hdC1tZW51LWl0ZW0gLm1hdC1pY29uLW5vLWNvbG9yLFxuICAubWF0LW1lbnUtaXRlbS1zdWJtZW51LXRyaWdnZXI6OmFmdGVyIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCAnaWNvbicpO1xuICB9XG5cbiAgLm1hdC1tZW51LWl0ZW06aG92ZXIsXG4gIC5tYXQtbWVudS1pdGVtLmNkay1wcm9ncmFtLWZvY3VzZWQsXG4gIC5tYXQtbWVudS1pdGVtLmNkay1rZXlib2FyZC1mb2N1c2VkLFxuICAubWF0LW1lbnUtaXRlbS1oaWdobGlnaHRlZCB7XG4gICAgJjpub3QoW2Rpc2FibGVkXSkge1xuICAgICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCAnaG92ZXInKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIG1hdC1tZW51LXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAubWF0LW1lbnUtaXRlbSB7XG4gICAgZm9udDoge1xuICAgICAgZmFtaWx5OiBtYXQtZm9udC1mYW1pbHkoJGNvbmZpZywgYm9keS0xKTtcbiAgICAgIHNpemU6IG1hdC1mb250LXNpemUoJGNvbmZpZywgYm9keS0xKTtcbiAgICAgIHdlaWdodDogbWF0LWZvbnQtd2VpZ2h0KCRjb25maWcsIGJvZHktMSk7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBfbWF0LW1lbnUtZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gbWF0LW1lbnUtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IG1hdC1wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1wcml2YXRlLWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LW1lbnUnKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtbWVudS1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LW1lbnUtZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1tZW51LXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5cblxuJG1hdC1wYWdpbmF0b3ItaGVpZ2h0OiA1NnB4ICFkZWZhdWx0O1xuLy8gTWluaW11bSBoZWlnaHQgZm9yIHBhZ2luYXRvcidzIGluIHRoZSBoaWdoZXN0IGRlbnNpdHkgaXMgZGV0ZXJtaW5lZCBiYXNlZCBvbiBob3dcbi8vIG11Y2ggdGhlIHBhZ2luYXRvciBjYW4gc2hyaW5rIHVudGlsIHRoZSBjb250ZW50IGV4Y2VlZHMgKGkuZS4gbmF2aWdhdGlvbiBidXR0b25zKS5cbiRtYXQtcGFnaW5hdG9yLW1pbmltdW0taGVpZ2h0OiA0MHB4ICFkZWZhdWx0O1xuJG1hdC1wYWdpbmF0b3ItbWF4aW11bS1oZWlnaHQ6ICRtYXQtcGFnaW5hdG9yLWhlaWdodCAhZGVmYXVsdDtcblxuJG1hdC1wYWdpbmF0b3ItZGVuc2l0eS1jb25maWc6IChcbiAgaGVpZ2h0OiAoXG4gICAgZGVmYXVsdDogJG1hdC1wYWdpbmF0b3ItaGVpZ2h0LFxuICAgIG1heGltdW06ICRtYXQtcGFnaW5hdG9yLW1heGltdW0taGVpZ2h0LFxuICAgIG1pbmltdW06ICRtYXQtcGFnaW5hdG9yLW1pbmltdW0taGVpZ2h0LFxuICApXG4pICFkZWZhdWx0O1xuXG5cbkBtaXhpbiBtYXQtcGFnaW5hdG9yLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcblxuICAubWF0LXBhZ2luYXRvciB7XG4gICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCAnY2FyZCcpO1xuICB9XG5cbiAgLm1hdC1wYWdpbmF0b3IsXG4gIC5tYXQtcGFnaW5hdG9yLXBhZ2Utc2l6ZSAubWF0LXNlbGVjdC10cmlnZ2VyIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBzZWNvbmRhcnktdGV4dCk7XG4gIH1cblxuICAubWF0LXBhZ2luYXRvci1kZWNyZW1lbnQsXG4gIC5tYXQtcGFnaW5hdG9yLWluY3JlbWVudCB7XG4gICAgYm9yZGVyLXRvcDogMnB4IHNvbGlkIG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgJ2ljb24nKTtcbiAgICBib3JkZXItcmlnaHQ6IDJweCBzb2xpZCBtYXQtY29sb3IoJGZvcmVncm91bmQsICdpY29uJyk7XG4gIH1cblxuICAubWF0LXBhZ2luYXRvci1maXJzdCxcbiAgLm1hdC1wYWdpbmF0b3ItbGFzdCB7XG4gICAgYm9yZGVyLXRvcDogMnB4IHNvbGlkIG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgJ2ljb24nKTtcbiAgfVxuXG4gIC5tYXQtaWNvbi1idXR0b25bZGlzYWJsZWRdIHtcbiAgICAubWF0LXBhZ2luYXRvci1kZWNyZW1lbnQsXG4gICAgLm1hdC1wYWdpbmF0b3ItaW5jcmVtZW50LFxuICAgIC5tYXQtcGFnaW5hdG9yLWZpcnN0LFxuICAgIC5tYXQtcGFnaW5hdG9yLWxhc3Qge1xuICAgICAgYm9yZGVyLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsICdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LXBhZ2luYXRvci10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLm1hdC1wYWdpbmF0b3IsXG4gIC5tYXQtcGFnaW5hdG9yLXBhZ2Utc2l6ZSAubWF0LXNlbGVjdC10cmlnZ2VyIHtcbiAgICBmb250OiB7XG4gICAgICBmYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnLCBjYXB0aW9uKTtcbiAgICAgIHNpemU6IG1hdC1mb250LXNpemUoJGNvbmZpZywgY2FwdGlvbik7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBtYXQtcGFnaW5hdG9yLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkZGVuc2l0eS1zY2FsZTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGhlaWdodDogbWF0LXByaXZhdGUtZGVuc2l0eS1wcm9wLXZhbHVlKCRtYXQtcGFnaW5hdG9yLWRlbnNpdHktY29uZmlnLCAkZGVuc2l0eS1zY2FsZSwgaGVpZ2h0KTtcblxuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1kZW5zaXR5LWxlZ2FjeS1jb21wYXRpYmlsaXR5KCkge1xuICAgIC5tYXQtcGFnaW5hdG9yLWNvbnRhaW5lciB7XG4gICAgICBtaW4taGVpZ2h0OiAkaGVpZ2h0O1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LXBhZ2luYXRvci10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogbWF0LXByaXZhdGUtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXByaXZhdGUtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtcGFnaW5hdG9yJykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXBhZ2luYXRvci1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtcGFnaW5hdG9yLWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtcGFnaW5hdG9yLXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5AbWl4aW4gbWF0LXByb2dyZXNzLWJhci1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkcHJpbWFyeTogbWFwLWdldCgkY29uZmlnLCBwcmltYXJ5KTtcbiAgJGFjY2VudDogbWFwLWdldCgkY29uZmlnLCBhY2NlbnQpO1xuICAkd2FybjogbWFwLWdldCgkY29uZmlnLCB3YXJuKTtcblxuICAubWF0LXByb2dyZXNzLWJhci1iYWNrZ3JvdW5kIHtcbiAgICBmaWxsOiBtYXQtY29sb3IoJHByaW1hcnksIGxpZ2h0ZXIpO1xuICB9XG5cbiAgLm1hdC1wcm9ncmVzcy1iYXItYnVmZmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJHByaW1hcnksIGxpZ2h0ZXIpO1xuICB9XG5cbiAgLm1hdC1wcm9ncmVzcy1iYXItZmlsbDo6YWZ0ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkcHJpbWFyeSk7XG4gIH1cblxuICAubWF0LXByb2dyZXNzLWJhci5tYXQtYWNjZW50IHtcbiAgICAubWF0LXByb2dyZXNzLWJhci1iYWNrZ3JvdW5kIHtcbiAgICAgIGZpbGw6IG1hdC1jb2xvcigkYWNjZW50LCBsaWdodGVyKTtcbiAgICB9XG5cbiAgICAubWF0LXByb2dyZXNzLWJhci1idWZmZXIge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRhY2NlbnQsIGxpZ2h0ZXIpO1xuICAgIH1cblxuICAgIC5tYXQtcHJvZ3Jlc3MtYmFyLWZpbGw6OmFmdGVyIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkYWNjZW50KTtcbiAgICB9XG4gIH1cblxuICAubWF0LXByb2dyZXNzLWJhci5tYXQtd2FybiB7XG4gICAgLm1hdC1wcm9ncmVzcy1iYXItYmFja2dyb3VuZCB7XG4gICAgICBmaWxsOiBtYXQtY29sb3IoJHdhcm4sIGxpZ2h0ZXIpO1xuICAgIH1cblxuICAgIC5tYXQtcHJvZ3Jlc3MtYmFyLWJ1ZmZlciB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJHdhcm4sIGxpZ2h0ZXIpO1xuICAgIH1cblxuICAgIC5tYXQtcHJvZ3Jlc3MtYmFyLWZpbGw6OmFmdGVyIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkd2Fybik7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBtYXQtcHJvZ3Jlc3MtYmFyLXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIF9tYXQtcHJvZ3Jlc3MtYmFyLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1wcm9ncmVzcy1iYXItdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IG1hdC1wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1wcml2YXRlLWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LXByb2dyZXNzLWJhcicpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1wcm9ncmVzcy1iYXItY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1wcm9ncmVzcy1iYXItZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1wcm9ncmVzcy1iYXItdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuQG1peGluIG1hdC1wcm9ncmVzcy1zcGlubmVyLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRwcmltYXJ5OiBtYXAtZ2V0KCRjb25maWcsIHByaW1hcnkpO1xuICAkYWNjZW50OiBtYXAtZ2V0KCRjb25maWcsIGFjY2VudCk7XG4gICR3YXJuOiBtYXAtZ2V0KCRjb25maWcsIHdhcm4pO1xuXG4gIC5tYXQtcHJvZ3Jlc3Mtc3Bpbm5lciwgLm1hdC1zcGlubmVyIHtcbiAgICBjaXJjbGUge1xuICAgICAgc3Ryb2tlOiBtYXQtY29sb3IoJHByaW1hcnkpO1xuICAgIH1cblxuICAgICYubWF0LWFjY2VudCBjaXJjbGUge1xuICAgICAgc3Ryb2tlOiBtYXQtY29sb3IoJGFjY2VudCk7XG4gICAgfVxuXG4gICAgJi5tYXQtd2FybiBjaXJjbGUge1xuICAgICAgc3Ryb2tlOiBtYXQtY29sb3IoJHdhcm4pO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LXByb2dyZXNzLXNwaW5uZXItdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gX21hdC1wcm9ncmVzcy1zcGlubmVyLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1wcm9ncmVzcy1zcGlubmVyLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBtYXQtcHJpdmF0ZS1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1wcm9ncmVzcy1zcGlubmVyJykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXByb2dyZXNzLXNwaW5uZXItY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1wcm9ncmVzcy1zcGlubmVyLWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtcHJvZ3Jlc3Mtc3Bpbm5lci10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG5AbWl4aW4gX21hdC1yYWRpby1jb2xvcigkcGFsZXR0ZSkge1xuICAmLm1hdC1yYWRpby1jaGVja2VkIC5tYXQtcmFkaW8tb3V0ZXItY2lyY2xlIHtcbiAgICBib3JkZXItY29sb3I6IG1hdC1jb2xvcigkcGFsZXR0ZSk7XG4gIH1cblxuICAubWF0LXJhZGlvLWlubmVyLWNpcmNsZSxcbiAgLm1hdC1yYWRpby1yaXBwbGUgLm1hdC1yaXBwbGUtZWxlbWVudDpub3QoLm1hdC1yYWRpby1wZXJzaXN0ZW50LXJpcHBsZSksXG4gICYubWF0LXJhZGlvLWNoZWNrZWQgLm1hdC1yYWRpby1wZXJzaXN0ZW50LXJpcHBsZSxcbiAgJjphY3RpdmUgLm1hdC1yYWRpby1wZXJzaXN0ZW50LXJpcHBsZSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRwYWxldHRlKTtcbiAgfVxufVxuXG5AbWl4aW4gbWF0LXJhZGlvLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRwcmltYXJ5OiBtYXAtZ2V0KCRjb25maWcsIHByaW1hcnkpO1xuICAkYWNjZW50OiBtYXAtZ2V0KCRjb25maWcsIGFjY2VudCk7XG4gICR3YXJuOiBtYXAtZ2V0KCRjb25maWcsIHdhcm4pO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cbiAgLm1hdC1yYWRpby1vdXRlci1jaXJjbGUge1xuICAgIGJvcmRlci1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBzZWNvbmRhcnktdGV4dCk7XG4gIH1cblxuICAubWF0LXJhZGlvLWJ1dHRvbiB7XG4gICAgJi5tYXQtcHJpbWFyeSB7XG4gICAgICBAaW5jbHVkZSBfbWF0LXJhZGlvLWNvbG9yKCRwcmltYXJ5KTtcbiAgICB9XG5cbiAgICAmLm1hdC1hY2NlbnQge1xuICAgICAgQGluY2x1ZGUgX21hdC1yYWRpby1jb2xvcigkYWNjZW50KTtcbiAgICB9XG5cbiAgICAmLm1hdC13YXJuIHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtcmFkaW8tY29sb3IoJHdhcm4pO1xuICAgIH1cblxuICAgIC8vIFRoaXMgbmVlZHMgZXh0cmEgc3BlY2lmaWNpdHksIGJlY2F1c2UgdGhlIGNsYXNzZXMgYWJvdmUgYXJlIGNvbWJpbmVkXG4gICAgLy8gKGUuZy4gYC5tYXQtcmFkaW8tYnV0dG9uLm1hdC1hY2NlbnRgKSB3aGljaCBpbmNyZWFzZXMgdGhlaXIgc3BlY2lmaWNpdHkgYSBsb3QuXG4gICAgLy8gVE9ETzogY29uc2lkZXIgbWFraW5nIHRoZSBzZWxlY3RvcnMgaW50byBkZXNjZW5kYW50cyAoYC5tYXQtcHJpbWFyeSAubWF0LXJhZGlvLWJ1dHRvbmApLlxuICAgICYubWF0LXJhZGlvLWRpc2FibGVkIHtcbiAgICAgICYubWF0LXJhZGlvLWNoZWNrZWQgLm1hdC1yYWRpby1vdXRlci1jaXJjbGUsXG4gICAgICAubWF0LXJhZGlvLW91dGVyLWNpcmNsZSB7XG4gICAgICAgIGJvcmRlci1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXNhYmxlZCk7XG4gICAgICB9XG5cbiAgICAgIC5tYXQtcmFkaW8tcmlwcGxlIC5tYXQtcmlwcGxlLWVsZW1lbnQsXG4gICAgICAubWF0LXJhZGlvLWlubmVyLWNpcmNsZSB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgZGlzYWJsZWQpO1xuICAgICAgfVxuXG4gICAgICAubWF0LXJhZGlvLWxhYmVsLWNvbnRlbnQge1xuICAgICAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXNhYmxlZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU3dpdGNoIHRoaXMgdG8gYSBzb2xpZCBjb2xvciBzaW5jZSB3ZSdyZSB1c2luZyBgb3BhY2l0eWBcbiAgICAvLyB0byBjb250cm9sIGhvdyBvcGFxdWUgdGhlIHJpcHBsZSBzaG91bGQgYmUuXG4gICAgLm1hdC1yaXBwbGUtZWxlbWVudCB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXAtZ2V0KCRmb3JlZ3JvdW5kLCBiYXNlKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIG1hdC1yYWRpby10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLm1hdC1yYWRpby1idXR0b24ge1xuICAgIGZvbnQtZmFtaWx5OiBtYXQtZm9udC1mYW1pbHkoJGNvbmZpZyk7XG4gIH1cbn1cblxuQG1peGluIF9tYXQtcmFkaW8tZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gbWF0LXJhZGlvLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBtYXQtcHJpdmF0ZS1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1yYWRpbycpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1yYWRpby1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LXJhZGlvLWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtcmFkaW8tdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuXG5cblxuQG1peGluIG1hdC1zZWxlY3QtY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG4gICRiYWNrZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGJhY2tncm91bmQpO1xuICAkcHJpbWFyeTogbWFwLWdldCgkY29uZmlnLCBwcmltYXJ5KTtcbiAgJGFjY2VudDogbWFwLWdldCgkY29uZmlnLCBhY2NlbnQpO1xuICAkd2FybjogbWFwLWdldCgkY29uZmlnLCB3YXJuKTtcblxuICAubWF0LXNlbGVjdC12YWx1ZSB7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG4gIH1cblxuICAubWF0LXNlbGVjdC1wbGFjZWhvbGRlciB7XG4gICAgY29sb3I6IG1hdC1wcml2YXRlLWNvbnRyb2wtcGxhY2Vob2xkZXItY29sb3IoJGNvbmZpZyk7XG4gIH1cblxuICAubWF0LXNlbGVjdC1kaXNhYmxlZCAubWF0LXNlbGVjdC12YWx1ZSB7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgZGlzYWJsZWQtdGV4dCk7XG4gIH1cblxuICAubWF0LXNlbGVjdC1hcnJvdyB7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgc2Vjb25kYXJ5LXRleHQpO1xuICB9XG5cbiAgLm1hdC1zZWxlY3QtcGFuZWwge1xuICAgIGJhY2tncm91bmQ6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgY2FyZCk7XG4gICAgQGluY2x1ZGUgbWF0LXByaXZhdGUtdGhlbWUtb3ZlcnJpZGFibGUtZWxldmF0aW9uKDQsICRjb25maWcpO1xuXG4gICAgLm1hdC1vcHRpb24ubWF0LXNlbGVjdGVkOm5vdCgubWF0LW9wdGlvbi1tdWx0aXBsZSkge1xuICAgICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBob3ZlciwgMC4xMik7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1mb3JtLWZpZWxkIHtcbiAgICAmLm1hdC1mb2N1c2VkIHtcbiAgICAgICYubWF0LXByaW1hcnkgLm1hdC1zZWxlY3QtYXJyb3cge1xuICAgICAgICBjb2xvcjogbWF0LWNvbG9yKCRwcmltYXJ5LCB0ZXh0KTtcbiAgICAgIH1cblxuICAgICAgJi5tYXQtYWNjZW50IC5tYXQtc2VsZWN0LWFycm93IHtcbiAgICAgICAgY29sb3I6IG1hdC1jb2xvcigkYWNjZW50LCB0ZXh0KTtcbiAgICAgIH1cblxuICAgICAgJi5tYXQtd2FybiAubWF0LXNlbGVjdC1hcnJvdyB7XG4gICAgICAgIGNvbG9yOiBtYXQtY29sb3IoJHdhcm4sIHRleHQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC5tYXQtc2VsZWN0Lm1hdC1zZWxlY3QtaW52YWxpZCAubWF0LXNlbGVjdC1hcnJvdyB7XG4gICAgICBjb2xvcjogbWF0LWNvbG9yKCR3YXJuLCB0ZXh0KTtcbiAgICB9XG5cbiAgICAubWF0LXNlbGVjdC5tYXQtc2VsZWN0LWRpc2FibGVkIC5tYXQtc2VsZWN0LWFycm93IHtcbiAgICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGRpc2FibGVkLXRleHQpO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LXNlbGVjdC10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLy8gVGhlIHVuaXQtbGVzcyBsaW5lLWhlaWdodCBmcm9tIHRoZSBmb250IGNvbmZpZy5cbiAgJGxpbmUtaGVpZ2h0OiBtYXQtbGluZS1oZWlnaHQoJGNvbmZpZywgaW5wdXQpO1xuXG4gIC5tYXQtc2VsZWN0IHtcbiAgICBmb250LWZhbWlseTogbWF0LWZvbnQtZmFtaWx5KCRjb25maWcpO1xuICB9XG5cbiAgLm1hdC1zZWxlY3QtdHJpZ2dlciB7XG4gICAgaGVpZ2h0OiAkbGluZS1oZWlnaHQgKiAxZW07XG4gIH1cbn1cblxuQG1peGluIF9tYXQtc2VsZWN0LWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1zZWxlY3QtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IG1hdC1wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1wcml2YXRlLWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LXNlbGVjdCcpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1zZWxlY3QtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1zZWxlY3QtZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1zZWxlY3QtdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuQG1peGluIG1hdC1zaWRlbmF2LWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRwcmltYXJ5OiBtYXAtZ2V0KCRjb25maWcsIHByaW1hcnkpO1xuICAkYWNjZW50OiBtYXAtZ2V0KCRjb25maWcsIGFjY2VudCk7XG4gICR3YXJuOiBtYXAtZ2V0KCRjb25maWcsIHdhcm4pO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cbiAgJGRyYXdlci1iYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJGJhY2tncm91bmQsIGRpYWxvZyk7XG4gICRkcmF3ZXItY29udGFpbmVyLWJhY2tncm91bmQtY29sb3I6ICBtYXQtY29sb3IoJGJhY2tncm91bmQsIGJhY2tncm91bmQpO1xuICAkZHJhd2VyLXB1c2gtYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBkaWFsb2cpO1xuICAkZHJhd2VyLXNpZGUtYm9yZGVyOiBzb2xpZCAxcHggbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXZpZGVyKTtcblxuICAubWF0LWRyYXdlci1jb250YWluZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICRkcmF3ZXItY29udGFpbmVyLWJhY2tncm91bmQtY29sb3I7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG4gIH1cblxuICAubWF0LWRyYXdlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogJGRyYXdlci1iYWNrZ3JvdW5kLWNvbG9yO1xuICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHRleHQpO1xuXG4gICAgJi5tYXQtZHJhd2VyLXB1c2gge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGRyYXdlci1wdXNoLWJhY2tncm91bmQtY29sb3I7XG4gICAgfVxuXG4gICAgJjpub3QoLm1hdC1kcmF3ZXItc2lkZSkge1xuICAgICAgLy8gVGhlIGVsZXZhdGlvbiBvZiB6LTE2IGlzIG5vdGVkIGluIHRoZSBkZXNpZ24gc3BlY2lmaWNhdGlvbnMuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9tYXRlcmlhbC5pby9kZXNpZ24vY29tcG9uZW50cy9uYXZpZ2F0aW9uLWRyYXdlci5odG1sXG4gICAgICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS10aGVtZS1lbGV2YXRpb24oMTYsICRjb25maWcpO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtZHJhd2VyLXNpZGUge1xuICAgIGJvcmRlci1yaWdodDogJGRyYXdlci1zaWRlLWJvcmRlcjtcblxuICAgICYubWF0LWRyYXdlci1lbmQge1xuICAgICAgYm9yZGVyLWxlZnQ6ICRkcmF3ZXItc2lkZS1ib3JkZXI7XG4gICAgICBib3JkZXItcmlnaHQ6IG5vbmU7XG4gICAgfVxuICB9XG5cbiAgW2Rpcj0ncnRsJ10gLm1hdC1kcmF3ZXItc2lkZSB7XG4gICAgYm9yZGVyLWxlZnQ6ICRkcmF3ZXItc2lkZS1ib3JkZXI7XG4gICAgYm9yZGVyLXJpZ2h0OiBub25lO1xuXG4gICAgJi5tYXQtZHJhd2VyLWVuZCB7XG4gICAgICBib3JkZXItbGVmdDogbm9uZTtcbiAgICAgIGJvcmRlci1yaWdodDogJGRyYXdlci1zaWRlLWJvcmRlcjtcbiAgICB9XG4gIH1cblxuICAubWF0LWRyYXdlci1iYWNrZHJvcC5tYXQtZHJhd2VyLXNob3duIHtcbiAgICAkb3BhY2l0eTogMC42O1xuICAgICRiYWNrZHJvcC1jb2xvcjogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBjYXJkLCAkb3BhY2l0eSk7XG5cbiAgICBAaWYgKHR5cGUtb2YoJGJhY2tkcm9wLWNvbG9yKSA9PSBjb2xvcikge1xuICAgICAgLy8gV2UgdXNlIGludmVydCgpIGhlcmUgdG8gaGF2ZSB0aGUgZGFya2VuIHRoZSBiYWNrZ3JvdW5kIGNvbG9yIGV4cGVjdGVkIHRvIGJlIHVzZWQuIElmIHRoZVxuICAgICAgLy8gYmFja2dyb3VuZCBpcyBsaWdodCwgd2UgdXNlIGEgZGFyayBiYWNrZHJvcC4gSWYgdGhlIGJhY2tncm91bmQgaXMgZGFyayxcbiAgICAgIC8vIHdlIHVzZSBhIGxpZ2h0IGJhY2tkcm9wLlxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogaW52ZXJ0KCRiYWNrZHJvcC1jb2xvcik7XG4gICAgfVxuICAgIEBlbHNlIHtcbiAgICAgIC8vIElmIHdlIGNvdWxkbid0IHJlc29sdmUgdGhlIGJhY2tkcm9wIGNvbG9yIHRvIGEgY29sb3IgdmFsdWUsIGZhbGwgYmFjayB0byB1c2luZ1xuICAgICAgLy8gYG9wYWNpdHlgIHRvIG1ha2UgaXQgb3BhcXVlIHNpbmNlIGl0cyBlbmQgdmFsdWUgY291bGQgYmUgYSBzb2xpZCBjb2xvci5cbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRiYWNrZHJvcC1jb2xvcjtcbiAgICAgIG9wYWNpdHk6ICRvcGFjaXR5O1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LXNpZGVuYXYtdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gX21hdC1zaWRlbmF2LWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1zaWRlbmF2LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBtYXQtcHJpdmF0ZS1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1zaWRlbmF2Jykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXNpZGVuYXYtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1zaWRlbmF2LWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtc2lkZW5hdi10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG5cbkBtaXhpbiBfbWF0LXNsaWRlLXRvZ2dsZS1jaGVja2VkKCRwYWxldHRlLCAkdGh1bWItY2hlY2tlZC1odWUpIHtcbiAgJi5tYXQtY2hlY2tlZCB7XG4gICAgLm1hdC1zbGlkZS10b2dnbGUtdGh1bWIge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRwYWxldHRlLCAkdGh1bWItY2hlY2tlZC1odWUpO1xuICAgIH1cblxuICAgIC5tYXQtc2xpZGUtdG9nZ2xlLWJhciB7XG4gICAgICAvLyBPcGFjaXR5IGlzIGRldGVybWluZWQgZnJvbSB0aGUgc3BlY3MgZm9yIHRoZSBzZWxlY3Rpb24gY29udHJvbHMuXG4gICAgICAvLyBTZWU6IGh0dHBzOi8vbWF0ZXJpYWwuaW8vZGVzaWduL2NvbXBvbmVudHMvc2VsZWN0aW9uLWNvbnRyb2xzLmh0bWwjc3BlY3NcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkcGFsZXR0ZSwgJHRodW1iLWNoZWNrZWQtaHVlLCAwLjU0KTtcbiAgICB9XG5cbiAgICAubWF0LXJpcHBsZS1lbGVtZW50IHtcbiAgICAgIC8vIFNldCBubyBvcGFjaXR5IGZvciB0aGUgcmlwcGxlcyBiZWNhdXNlIHRoZSByaXBwbGUgb3BhY2l0eSB3aWxsIGJlIGFkanVzdGVkIGR5bmFtaWNhbGx5XG4gICAgICAvLyBiYXNlZCBvbiB0aGUgdHlwZSBvZiBpbnRlcmFjdGlvbiB3aXRoIHRoZSBzbGlkZS10b2dnbGUgKGUuZy4gZm9yIGhvdmVyLCBmb2N1cylcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkcGFsZXR0ZSwgJHRodW1iLWNoZWNrZWQtaHVlKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIG1hdC1zbGlkZS10b2dnbGUtY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGlzLWRhcms6IG1hcC1nZXQoJGNvbmZpZywgaXMtZGFyayk7XG4gICRwcmltYXJ5OiBtYXAtZ2V0KCRjb25maWcsIHByaW1hcnkpO1xuICAkYWNjZW50OiBtYXAtZ2V0KCRjb25maWcsIGFjY2VudCk7XG4gICR3YXJuOiBtYXAtZ2V0KCRjb25maWcsIHdhcm4pO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cbiAgLy8gQ29sb3IgaHVlcyBhcmUgYmFzZWQgb24gdGhlIHNwZWNzIHdoaWNoIGJyaWVmbHkgc2hvdyB0aGUgaHVlcyB0aGF0IGFyZSBhcHBsaWVkIHRvIGEgc3dpdGNoLlxuICAvLyBUaGUgMjAxOCBzcGVjcyBubyBsb25nZXIgZGVzY3JpYmUgaG93IGRhcmsgc3dpdGNoZXMgc2hvdWxkIGxvb2sgbGlrZS4gRHVlIHRvIHRoZSBsYWNrIG9mXG4gIC8vIGluZm9ybWF0aW9uIGZvciBkYXJrIHRoZW1lZCBzd2l0Y2hlcywgd2UgcGFydGlhbGx5IGtlZXAgdGhlIG9sZCBiZWhhdmlvciB0aGF0IGlzIGJhc2VkIG9uXG4gIC8vIHRoZSBwcmV2aW91cyBzcGVjaWZpY2F0aW9ucy4gRm9yIHRoZSBjaGVja2VkIGNvbG9yIHdlIGFsd2F5cyB1c2UgdGhlIGBkZWZhdWx0YCBodWUgYmVjYXVzZVxuICAvLyB0aGF0IGZvbGxvd3MgTURDIGFuZCBhbHNvIG1ha2VzIGl0IGVhc2llciBmb3IgcGVvcGxlIHRvIGNyZWF0ZSBhIGN1c3RvbSB0aGVtZSB3aXRob3V0IG5lZWRpbmdcbiAgLy8gdG8gc3BlY2lmeSBlYWNoIGh1ZSBpbmRpdmlkdWFsbHkuXG4gICR0aHVtYi11bmNoZWNrZWQtaHVlOiBpZigkaXMtZGFyaywgNDAwLCA1MCk7XG4gICR0aHVtYi1jaGVja2VkLWh1ZTogZGVmYXVsdDtcblxuICAkYmFyLXVuY2hlY2tlZC1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXNhYmxlZCk7XG4gICRyaXBwbGUtdW5jaGVja2VkLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGJhc2UpO1xuXG4gIC5tYXQtc2xpZGUtdG9nZ2xlIHtcbiAgICBAaW5jbHVkZSBfbWF0LXNsaWRlLXRvZ2dsZS1jaGVja2VkKCRhY2NlbnQsICR0aHVtYi1jaGVja2VkLWh1ZSk7XG5cbiAgICAmLm1hdC1wcmltYXJ5IHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtc2xpZGUtdG9nZ2xlLWNoZWNrZWQoJHByaW1hcnksICR0aHVtYi1jaGVja2VkLWh1ZSk7XG4gICAgfVxuXG4gICAgJi5tYXQtd2FybiB7XG4gICAgICBAaW5jbHVkZSBfbWF0LXNsaWRlLXRvZ2dsZS1jaGVja2VkKCR3YXJuLCAkdGh1bWItY2hlY2tlZC1odWUpO1xuICAgIH1cblxuICAgICY6bm90KC5tYXQtY2hlY2tlZCkgLm1hdC1yaXBwbGUtZWxlbWVudCB7XG4gICAgICAvLyBTZXQgbm8gb3BhY2l0eSBmb3IgdGhlIHJpcHBsZXMgYmVjYXVzZSB0aGUgcmlwcGxlIG9wYWNpdHkgd2lsbCBiZSBhZGp1c3RlZCBkeW5hbWljYWxseVxuICAgICAgLy8gYmFzZWQgb24gdGhlIHR5cGUgb2YgaW50ZXJhY3Rpb24gd2l0aCB0aGUgc2xpZGUtdG9nZ2xlIChlLmcuIGZvciBob3ZlciwgZm9jdXMpXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkcmlwcGxlLXVuY2hlY2tlZC1jb2xvcjtcbiAgICB9XG4gIH1cblxuICAubWF0LXNsaWRlLXRvZ2dsZS10aHVtYiB7XG4gICAgQGluY2x1ZGUgbWF0LXByaXZhdGUtdGhlbWUtZWxldmF0aW9uKDEsICRjb25maWcpO1xuICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkbWF0LWdyZXksICR0aHVtYi11bmNoZWNrZWQtaHVlKTtcbiAgfVxuXG4gIC5tYXQtc2xpZGUtdG9nZ2xlLWJhciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogJGJhci11bmNoZWNrZWQtY29sb3I7XG4gIH1cbn1cblxuQG1peGluIG1hdC1zbGlkZS10b2dnbGUtdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC5tYXQtc2xpZGUtdG9nZ2xlLWNvbnRlbnQge1xuICAgIGZvbnQtZmFtaWx5OiBtYXQtZm9udC1mYW1pbHkoJGNvbmZpZyk7XG4gIH1cbn1cblxuQG1peGluIF9tYXQtc2xpZGUtdG9nZ2xlLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1zbGlkZS10b2dnbGUtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IG1hdC1wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1wcml2YXRlLWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LXNsaWRlLXRvZ2dsZScpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1zbGlkZS10b2dnbGUtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1zbGlkZS10b2dnbGUtZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1zbGlkZS10b2dnbGUtdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuXG5AbWl4aW4gX21hdC1zbGlkZXItaW5uZXItY29udGVudC10aGVtZSgkcGFsZXR0ZSkge1xuICAubWF0LXNsaWRlci10cmFjay1maWxsLFxuICAubWF0LXNsaWRlci10aHVtYixcbiAgLm1hdC1zbGlkZXItdGh1bWItbGFiZWwge1xuICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkcGFsZXR0ZSk7XG4gIH1cblxuICAubWF0LXNsaWRlci10aHVtYi1sYWJlbC10ZXh0IHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRwYWxldHRlLCBkZWZhdWx0LWNvbnRyYXN0KTtcbiAgfVxuXG4gIC5tYXQtc2xpZGVyLWZvY3VzLXJpbmcge1xuICAgICRvcGFjaXR5OiAwLjI7XG4gICAgJGNvbG9yOiBtYXQtY29sb3IoJHBhbGV0dGUsIGRlZmF1bHQsICRvcGFjaXR5KTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkY29sb3I7XG5cbiAgICAvLyBgbWF0LWNvbG9yYCB1c2VzIGByZ2JhYCBmb3IgdGhlIG9wYWNpdHkgd2hpY2ggd29uJ3Qgd29yayB3aXRoXG4gICAgLy8gQ1NTIHZhcmlhYmxlcyBzbyB3ZSBuZWVkIHRvIHVzZSBgb3BhY2l0eWAgYXMgYSBmYWxsYmFjay5cbiAgICBAaWYgKHR5cGUtb2YoJGNvbG9yKSAhPSBjb2xvcikge1xuICAgICAgb3BhY2l0eTogJG9wYWNpdHk7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBtYXQtc2xpZGVyLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRwcmltYXJ5OiBtYXAtZ2V0KCRjb25maWcsIHByaW1hcnkpO1xuICAkYWNjZW50OiBtYXAtZ2V0KCRjb25maWcsIGFjY2VudCk7XG4gICR3YXJuOiBtYXAtZ2V0KCRjb25maWcsIHdhcm4pO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cbiAgJG1hdC1zbGlkZXItb2ZmLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHNsaWRlci1vZmYpO1xuICAkbWF0LXNsaWRlci1vZmYtZm9jdXNlZC1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBzbGlkZXItb2ZmLWFjdGl2ZSk7XG4gICRtYXQtc2xpZGVyLWRpc2FibGVkLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHNsaWRlci1vZmYpO1xuICAkbWF0LXNsaWRlci1sYWJlbGVkLW1pbi12YWx1ZS10aHVtYi1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBzbGlkZXItbWluKTtcbiAgJG1hdC1zbGlkZXItbGFiZWxlZC1taW4tdmFsdWUtdGh1bWItbGFiZWwtY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgc2xpZGVyLW9mZik7XG4gICRtYXQtc2xpZGVyLXRpY2stb3BhY2l0eTogMC43O1xuICAkbWF0LXNsaWRlci10aWNrLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGJhc2UsICRtYXQtc2xpZGVyLXRpY2stb3BhY2l0eSk7XG4gICRtYXQtc2xpZGVyLXRpY2stc2l6ZTogMnB4O1xuXG4gIC5tYXQtc2xpZGVyLXRyYWNrLWJhY2tncm91bmQge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICRtYXQtc2xpZGVyLW9mZi1jb2xvcjtcbiAgfVxuXG4gIC5tYXQtcHJpbWFyeSB7XG4gICAgQGluY2x1ZGUgX21hdC1zbGlkZXItaW5uZXItY29udGVudC10aGVtZSgkcHJpbWFyeSk7XG4gIH1cblxuICAubWF0LWFjY2VudCB7XG4gICAgQGluY2x1ZGUgX21hdC1zbGlkZXItaW5uZXItY29udGVudC10aGVtZSgkYWNjZW50KTtcbiAgfVxuXG4gIC5tYXQtd2FybiB7XG4gICAgQGluY2x1ZGUgX21hdC1zbGlkZXItaW5uZXItY29udGVudC10aGVtZSgkd2Fybik7XG4gIH1cblxuICAubWF0LXNsaWRlcjpob3ZlcixcbiAgLmNkay1mb2N1c2VkIHtcbiAgICAubWF0LXNsaWRlci10cmFjay1iYWNrZ3JvdW5kIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRtYXQtc2xpZGVyLW9mZi1mb2N1c2VkLWNvbG9yO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtc2xpZGVyLWRpc2FibGVkIHtcbiAgICAubWF0LXNsaWRlci10cmFjay1iYWNrZ3JvdW5kLFxuICAgIC5tYXQtc2xpZGVyLXRyYWNrLWZpbGwsXG4gICAgLm1hdC1zbGlkZXItdGh1bWIge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJG1hdC1zbGlkZXItZGlzYWJsZWQtY29sb3I7XG4gICAgfVxuXG4gICAgJjpob3ZlciB7XG4gICAgICAubWF0LXNsaWRlci10cmFjay1iYWNrZ3JvdW5kIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJG1hdC1zbGlkZXItZGlzYWJsZWQtY29sb3I7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLm1hdC1zbGlkZXItbWluLXZhbHVlIHtcbiAgICAubWF0LXNsaWRlci1mb2N1cy1yaW5nIHtcbiAgICAgICRvcGFjaXR5OiAwLjEyO1xuICAgICAgJGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGJhc2UsICRvcGFjaXR5KTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRjb2xvcjtcblxuICAgICAgLy8gYG1hdC1jb2xvcmAgdXNlcyBgcmdiYWAgZm9yIHRoZSBvcGFjaXR5IHdoaWNoIHdvbid0IHdvcmsgd2l0aFxuICAgICAgLy8gQ1NTIHZhcmlhYmxlcyBzbyB3ZSBuZWVkIHRvIHVzZSBgb3BhY2l0eWAgYXMgYSBmYWxsYmFjay5cbiAgICAgIEBpZiAodHlwZS1vZigkY29sb3IpICE9IGNvbG9yKSB7XG4gICAgICAgIG9wYWNpdHk6ICRvcGFjaXR5O1xuICAgICAgfVxuICAgIH1cblxuICAgICYubWF0LXNsaWRlci10aHVtYi1sYWJlbC1zaG93aW5nIHtcbiAgICAgIC5tYXQtc2xpZGVyLXRodW1iLFxuICAgICAgLm1hdC1zbGlkZXItdGh1bWItbGFiZWwge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkbWF0LXNsaWRlci1sYWJlbGVkLW1pbi12YWx1ZS10aHVtYi1jb2xvcjtcbiAgICAgIH1cblxuICAgICAgJi5jZGstZm9jdXNlZCB7XG4gICAgICAgIC5tYXQtc2xpZGVyLXRodW1iLFxuICAgICAgICAubWF0LXNsaWRlci10aHVtYi1sYWJlbCB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJG1hdC1zbGlkZXItbGFiZWxlZC1taW4tdmFsdWUtdGh1bWItbGFiZWwtY29sb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAmOm5vdCgubWF0LXNsaWRlci10aHVtYi1sYWJlbC1zaG93aW5nKSB7XG4gICAgICAubWF0LXNsaWRlci10aHVtYiB7XG4gICAgICAgIGJvcmRlci1jb2xvcjogJG1hdC1zbGlkZXItb2ZmLWNvbG9yO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgIH1cblxuICAgICAgJjpob3ZlcixcbiAgICAgICYuY2RrLWZvY3VzZWQge1xuICAgICAgICAubWF0LXNsaWRlci10aHVtYiB7XG4gICAgICAgICAgYm9yZGVyLWNvbG9yOiAkbWF0LXNsaWRlci1vZmYtZm9jdXNlZC1jb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgICYubWF0LXNsaWRlci1kaXNhYmxlZCAubWF0LXNsaWRlci10aHVtYiB7XG4gICAgICAgICAgYm9yZGVyLWNvbG9yOiAkbWF0LXNsaWRlci1kaXNhYmxlZC1jb2xvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC5tYXQtc2xpZGVyLWhhcy10aWNrcyAubWF0LXNsaWRlci13cmFwcGVyOjphZnRlciB7XG4gICAgYm9yZGVyLWNvbG9yOiAkbWF0LXNsaWRlci10aWNrLWNvbG9yO1xuXG4gICAgLy8gYG1hdC1jb2xvcmAgdXNlcyBgcmdiYWAgZm9yIHRoZSBvcGFjaXR5IHdoaWNoIHdvbid0IHdvcmsgd2l0aFxuICAgIC8vIENTUyB2YXJpYWJsZXMgc28gd2UgbmVlZCB0byB1c2UgYG9wYWNpdHlgIGFzIGEgZmFsbGJhY2suXG4gICAgQGlmICh0eXBlLW9mKCRtYXQtc2xpZGVyLXRpY2stY29sb3IpICE9IGNvbG9yKSB7XG4gICAgICBvcGFjaXR5OiAkbWF0LXNsaWRlci10aWNrLW9wYWNpdHk7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1zbGlkZXItaG9yaXpvbnRhbCAubWF0LXNsaWRlci10aWNrcyB7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogcmVwZWF0aW5nLWxpbmVhci1ncmFkaWVudCh0byByaWdodCwgJG1hdC1zbGlkZXItdGljay1jb2xvcixcbiAgICAgICAgJG1hdC1zbGlkZXItdGljay1jb2xvciAkbWF0LXNsaWRlci10aWNrLXNpemUsIHRyYW5zcGFyZW50IDAsIHRyYW5zcGFyZW50KTtcbiAgICAvLyBGaXJlZm94IGRvZXNuJ3QgZHJhdyB0aGUgZ3JhZGllbnQgY29ycmVjdGx5IHdpdGggJ3RvIHJpZ2h0J1xuICAgIC8vIChzZWUgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTMxNDMxOSkuXG4gICAgYmFja2dyb3VuZC1pbWFnZTogLW1vei1yZXBlYXRpbmctbGluZWFyLWdyYWRpZW50KDAuMDAwMWRlZywgJG1hdC1zbGlkZXItdGljay1jb2xvcixcbiAgICAgICAgJG1hdC1zbGlkZXItdGljay1jb2xvciAkbWF0LXNsaWRlci10aWNrLXNpemUsIHRyYW5zcGFyZW50IDAsIHRyYW5zcGFyZW50KTtcblxuICAgIC8vIGBtYXQtY29sb3JgIHVzZXMgYHJnYmFgIGZvciB0aGUgb3BhY2l0eSB3aGljaCB3b24ndCB3b3JrIHdpdGhcbiAgICAvLyBDU1MgdmFyaWFibGVzIHNvIHdlIG5lZWQgdG8gdXNlIGBvcGFjaXR5YCBhcyBhIGZhbGxiYWNrLlxuICAgIEBpZiAodHlwZS1vZigkbWF0LXNsaWRlci10aWNrLWNvbG9yKSAhPSBjb2xvcikge1xuICAgICAgb3BhY2l0eTogJG1hdC1zbGlkZXItdGljay1vcGFjaXR5O1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtc2xpZGVyLXZlcnRpY2FsIC5tYXQtc2xpZGVyLXRpY2tzIHtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiByZXBlYXRpbmctbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgJG1hdC1zbGlkZXItdGljay1jb2xvcixcbiAgICAgICAgJG1hdC1zbGlkZXItdGljay1jb2xvciAkbWF0LXNsaWRlci10aWNrLXNpemUsIHRyYW5zcGFyZW50IDAsIHRyYW5zcGFyZW50KTtcblxuICAgIC8vIGBtYXQtY29sb3JgIHVzZXMgYHJnYmFgIGZvciB0aGUgb3BhY2l0eSB3aGljaCB3b24ndCB3b3JrIHdpdGhcbiAgICAvLyBDU1MgdmFyaWFibGVzIHNvIHdlIG5lZWQgdG8gdXNlIGBvcGFjaXR5YCBhcyBhIGZhbGxiYWNrLlxuICAgIEBpZiAodHlwZS1vZigkbWF0LXNsaWRlci10aWNrLWNvbG9yKSAhPSBjb2xvcikge1xuICAgICAgb3BhY2l0eTogJG1hdC1zbGlkZXItdGljay1vcGFjaXR5O1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LXNsaWRlci10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLm1hdC1zbGlkZXItdGh1bWItbGFiZWwtdGV4dCB7XG4gICAgZm9udDoge1xuICAgICAgZmFtaWx5OiBtYXQtZm9udC1mYW1pbHkoJGNvbmZpZyk7XG4gICAgICBzaXplOiBtYXQtZm9udC1zaXplKCRjb25maWcsIGNhcHRpb24pO1xuICAgICAgd2VpZ2h0OiBtYXQtZm9udC13ZWlnaHQoJGNvbmZpZywgYm9keS0yKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIF9tYXQtc2xpZGVyLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1zbGlkZXItdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IG1hdC1wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1wcml2YXRlLWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LXNsaWRlcicpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1zbGlkZXItY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1zbGlkZXItZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1zbGlkZXItdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuJG1hdC1zdGVwcGVyLWhlYWRlci1oZWlnaHQ6IDcycHggIWRlZmF1bHQ7XG4vLyBNaW5pbXVtIGhlaWdodCBmb3IgaGlnaGVzdCBkZW5zaXR5IHN0ZXBwZXIncyBpcyBkZXRlcm1pbmVkIGJhc2VkIG9uIGhvdyBtdWNoXG4vLyBzdGVwcGVyIGhlYWRlcnMgY2FuIHNocmluayB1bnRpbCB0aGUgc3RlcCBpY29uIG9yIHN0ZXAgbGFiZWwgZXhjZWVkLiBXZSBjYW4ndCB1c2Vcbi8vIGEgdmFsdWUgYmVsb3cgYDQycHhgIGJlY2F1c2UgdGhlIG9wdGlvbmFsIGxhYmVsIGZvciBzdGVwcyB3b3VsZCBvdGhlcndpc2UgZXhjZWVkLlxuJG1hdC1zdGVwcGVyLWhlYWRlci1taW5pbXVtLWhlaWdodDogNDJweCAhZGVmYXVsdDtcbiRtYXQtc3RlcHBlci1oZWFkZXItbWF4aW11bS1oZWlnaHQ6ICRtYXQtc3RlcHBlci1oZWFkZXItaGVpZ2h0ICFkZWZhdWx0O1xuXG4kbWF0LXN0ZXBwZXItZGVuc2l0eS1jb25maWc6IChcbiAgaGVpZ2h0OiAoXG4gICAgZGVmYXVsdDogJG1hdC1zdGVwcGVyLWhlYWRlci1oZWlnaHQsXG4gICAgbWF4aW11bTogJG1hdC1zdGVwcGVyLWhlYWRlci1tYXhpbXVtLWhlaWdodCxcbiAgICBtaW5pbXVtOiAkbWF0LXN0ZXBwZXItaGVhZGVyLW1pbmltdW0taGVpZ2h0LFxuICApXG4pICFkZWZhdWx0O1xuXG4vLyBOb3RlOiBUaGVzZSB2YXJpYWJsZXMgYXJlIG5vdCBkZW5vdGVkIHdpdGggYCFkZWZhdWx0YCBiZWNhdXNlIHRoZXkgYXJlIHVzZWQgaW4gdGhlIG5vbi10aGVtZVxuLy8gY29tcG9uZW50IHN0eWxlcy4gTW9kaWZ5aW5nIHRoZXNlIHZhcmlhYmxlcyBkb2VzIG5vdCBoYXZlIHRoZSBkZXNpcmVkIGVmZmVjdCBmb3IgY29uc3VtZXJzLlxuJG1hdC1zdGVwcGVyLWxhYmVsLWhlYWRlci1oZWlnaHQ6IDI0cHg7XG4kbWF0LXN0ZXBwZXItbGFiZWwtcG9zaXRpb24tYm90dG9tLXRvcC1nYXA6IDE2cHg7XG4kbWF0LXN0ZXBwZXItbGFiZWwtbWluLXdpZHRoOiA1MHB4O1xuXG4kbWF0LXZlcnRpY2FsLXN0ZXBwZXItY29udGVudC1tYXJnaW46IDM2cHg7XG5cbiRtYXQtc3RlcHBlci1zaWRlLWdhcDogMjRweDtcbiRtYXQtc3RlcHBlci1saW5lLXdpZHRoOiAxcHg7XG4kbWF0LXN0ZXBwZXItbGluZS1nYXA6IDhweDtcblxuJG1hdC1zdGVwLXN1Yi1sYWJlbC1mb250LXNpemU6IDEycHg7XG4kbWF0LXN0ZXAtaGVhZGVyLWljb24tc2l6ZTogMTZweDtcblxuXG5AbWl4aW4gbWF0LXN0ZXBwZXItY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG4gICRiYWNrZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGJhY2tncm91bmQpO1xuICAkcHJpbWFyeTogbWFwLWdldCgkY29uZmlnLCBwcmltYXJ5KTtcbiAgJGFjY2VudDogbWFwLWdldCgkY29uZmlnLCBhY2NlbnQpO1xuICAkd2FybjogbWFwLWdldCgkY29uZmlnLCB3YXJuKTtcblxuICAubWF0LXN0ZXAtaGVhZGVyIHtcbiAgICAmLmNkay1rZXlib2FyZC1mb2N1c2VkLFxuICAgICYuY2RrLXByb2dyYW0tZm9jdXNlZCxcbiAgICAmOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgaG92ZXIpO1xuICAgIH1cblxuICAgIC8vIE9uIHRvdWNoIGRldmljZXMgdGhlIDpob3ZlciBzdGF0ZSB3aWxsIGxpbmdlciBvbiB0aGUgZWxlbWVudCBhZnRlciBhIHRhcC5cbiAgICAvLyBSZXNldCBpdCB2aWEgYEBtZWRpYWAgYWZ0ZXIgdGhlIGRlY2xhcmF0aW9uLCBiZWNhdXNlIHRoZSBtZWRpYSBxdWVyeSBpc24ndFxuICAgIC8vIHN1cHBvcnRlZCBieSBhbGwgYnJvd3NlcnMgeWV0LlxuICAgIEBtZWRpYSAoaG92ZXI6IG5vbmUpIHtcbiAgICAgICY6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgICAgfVxuICAgIH1cblxuICAgIC5tYXQtc3RlcC1sYWJlbCxcbiAgICAubWF0LXN0ZXAtb3B0aW9uYWwge1xuICAgICAgLy8gVE9ETyhqb3NlcGhwZXJyb3R0KTogVXBkYXRlIHRvIHVzaW5nIGEgY29ycmVjdGVkIGRpc2FibGVkLXRleHQgY29udHJhc3RcbiAgICAgIC8vIGluc3RlYWQgb2Ygc2Vjb25kYXJ5LXRleHQuXG4gICAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBzZWNvbmRhcnktdGV4dCk7XG4gICAgfVxuXG4gICAgLm1hdC1zdGVwLWljb24ge1xuICAgICAgLy8gVE9ETyhqb3NlcGhwZXJyb3R0KTogVXBkYXRlIHRvIHVzaW5nIGEgY29ycmVjdGVkIGRpc2FibGVkLXRleHQgY29udHJhc3RcbiAgICAgIC8vIGluc3RlYWQgb2Ygc2Vjb25kYXJ5LXRleHQuXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHNlY29uZGFyeS10ZXh0KTtcbiAgICAgIGNvbG9yOiBtYXQtY29sb3IoJHByaW1hcnksIGRlZmF1bHQtY29udHJhc3QpO1xuICAgIH1cblxuICAgIC5tYXQtc3RlcC1pY29uLXNlbGVjdGVkLFxuICAgIC5tYXQtc3RlcC1pY29uLXN0YXRlLWRvbmUsXG4gICAgLm1hdC1zdGVwLWljb24tc3RhdGUtZWRpdCB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJHByaW1hcnkpO1xuICAgICAgY29sb3I6IG1hdC1jb2xvcigkcHJpbWFyeSwgZGVmYXVsdC1jb250cmFzdCk7XG4gICAgfVxuXG4gICAgJi5tYXQtYWNjZW50IHtcbiAgICAgIC5tYXQtc3RlcC1pY29uIHtcbiAgICAgICAgY29sb3I6IG1hdC1jb2xvcigkYWNjZW50LCBkZWZhdWx0LWNvbnRyYXN0KTtcbiAgICAgIH1cblxuICAgICAgLm1hdC1zdGVwLWljb24tc2VsZWN0ZWQsXG4gICAgICAubWF0LXN0ZXAtaWNvbi1zdGF0ZS1kb25lLFxuICAgICAgLm1hdC1zdGVwLWljb24tc3RhdGUtZWRpdCB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkYWNjZW50KTtcbiAgICAgICAgY29sb3I6IG1hdC1jb2xvcigkYWNjZW50LCBkZWZhdWx0LWNvbnRyYXN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAmLm1hdC13YXJuIHtcbiAgICAgIC5tYXQtc3RlcC1pY29uIHtcbiAgICAgICAgY29sb3I6IG1hdC1jb2xvcigkd2FybiwgZGVmYXVsdC1jb250cmFzdCk7XG4gICAgICB9XG5cbiAgICAgIC5tYXQtc3RlcC1pY29uLXNlbGVjdGVkLFxuICAgICAgLm1hdC1zdGVwLWljb24tc3RhdGUtZG9uZSxcbiAgICAgIC5tYXQtc3RlcC1pY29uLXN0YXRlLWVkaXQge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJHdhcm4pO1xuICAgICAgICBjb2xvcjogbWF0LWNvbG9yKCR3YXJuLCBkZWZhdWx0LWNvbnRyYXN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAubWF0LXN0ZXAtaWNvbi1zdGF0ZS1lcnJvciB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgIGNvbG9yOiBtYXQtY29sb3IoJHdhcm4sIHRleHQpO1xuICAgIH1cblxuICAgIC5tYXQtc3RlcC1sYWJlbC5tYXQtc3RlcC1sYWJlbC1hY3RpdmUge1xuICAgICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG4gICAgfVxuXG4gICAgLm1hdC1zdGVwLWxhYmVsLm1hdC1zdGVwLWxhYmVsLWVycm9yIHtcbiAgICAgIGNvbG9yOiBtYXQtY29sb3IoJHdhcm4sIHRleHQpO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtc3RlcHBlci1ob3Jpem9udGFsLCAubWF0LXN0ZXBwZXItdmVydGljYWwge1xuICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgY2FyZCk7XG4gIH1cblxuICAubWF0LXN0ZXBwZXItdmVydGljYWwtbGluZTo6YmVmb3JlIHtcbiAgICBib3JkZXItbGVmdC1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXZpZGVyKTtcbiAgfVxuXG4gIC5tYXQtaG9yaXpvbnRhbC1zdGVwcGVyLWhlYWRlcjo6YmVmb3JlLFxuICAubWF0LWhvcml6b250YWwtc3RlcHBlci1oZWFkZXI6OmFmdGVyLFxuICAubWF0LXN0ZXBwZXItaG9yaXpvbnRhbC1saW5lIHtcbiAgICBib3JkZXItdG9wLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGRpdmlkZXIpO1xuICB9XG59XG5cbkBtaXhpbiBtYXQtc3RlcHBlci10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLm1hdC1zdGVwcGVyLXZlcnRpY2FsLCAubWF0LXN0ZXBwZXItaG9yaXpvbnRhbCB7XG4gICAgZm9udC1mYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnKTtcbiAgfVxuXG4gIC5tYXQtc3RlcC1sYWJlbCB7XG4gICAgZm9udDoge1xuICAgICAgc2l6ZTogbWF0LWZvbnQtc2l6ZSgkY29uZmlnLCBib2R5LTEpO1xuICAgICAgd2VpZ2h0OiBtYXQtZm9udC13ZWlnaHQoJGNvbmZpZywgYm9keS0xKTtcbiAgICB9O1xuICB9XG5cbiAgLm1hdC1zdGVwLXN1Yi1sYWJlbC1lcnJvciB7XG4gICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgfVxuXG4gIC5tYXQtc3RlcC1sYWJlbC1lcnJvciB7XG4gICAgZm9udC1zaXplOiBtYXQtZm9udC1zaXplKCRjb25maWcsIGJvZHktMik7XG4gIH1cblxuICAubWF0LXN0ZXAtbGFiZWwtc2VsZWN0ZWQge1xuICAgIGZvbnQ6IHtcbiAgICAgIHNpemU6IG1hdC1mb250LXNpemUoJGNvbmZpZywgYm9keS0yKTtcbiAgICAgIHdlaWdodDogbWF0LWZvbnQtd2VpZ2h0KCRjb25maWcsIGJvZHktMik7XG4gICAgfTtcbiAgfVxufVxuXG5AbWl4aW4gbWF0LXN0ZXBwZXItZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRkZW5zaXR5LXNjYWxlOiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkaGVpZ2h0OiBtYXQtcHJpdmF0ZS1kZW5zaXR5LXByb3AtdmFsdWUoJG1hdC1zdGVwcGVyLWRlbnNpdHktY29uZmlnLCAkZGVuc2l0eS1zY2FsZSwgaGVpZ2h0KTtcbiAgJHZlcnRpY2FsLXBhZGRpbmc6ICgkaGVpZ2h0IC0gJG1hdC1zdGVwcGVyLWxhYmVsLWhlYWRlci1oZWlnaHQpIC8gMjtcblxuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1kZW5zaXR5LWxlZ2FjeS1jb21wYXRpYmlsaXR5KCkge1xuICAgIC5tYXQtaG9yaXpvbnRhbC1zdGVwcGVyLWhlYWRlciB7XG4gICAgICBoZWlnaHQ6ICRoZWlnaHQ7XG4gICAgfVxuXG4gICAgLm1hdC1zdGVwcGVyLWxhYmVsLXBvc2l0aW9uLWJvdHRvbSAubWF0LWhvcml6b250YWwtc3RlcHBlci1oZWFkZXIsXG4gICAgLm1hdC12ZXJ0aWNhbC1zdGVwcGVyLWhlYWRlciB7XG4gICAgICBwYWRkaW5nOiAkdmVydGljYWwtcGFkZGluZyAkbWF0LXN0ZXBwZXItc2lkZS1nYXA7XG4gICAgfVxuXG4gICAgLy8gRW5zdXJlcyB0aGF0IHRoZSB2ZXJ0aWNhbCBsaW5lcyBmb3IgdGhlIHN0ZXAgY29udGVudCBleGNlZWQgaW50byB0aGUgc3RlcFxuICAgIC8vIGhlYWRlcnMgd2l0aCBhIGdpdmVuIGRpc3RhbmNlIChgJG1hdC1zdGVwcGVyLWxpbmUtZ2FwYCkgdG8gdGhlIHN0ZXAgaWNvbi5cbiAgICAubWF0LXN0ZXBwZXItdmVydGljYWwtbGluZTo6YmVmb3JlIHtcbiAgICAgIHRvcDogJG1hdC1zdGVwcGVyLWxpbmUtZ2FwIC0gJHZlcnRpY2FsLXBhZGRpbmc7XG4gICAgICBib3R0b206ICRtYXQtc3RlcHBlci1saW5lLWdhcCAtICR2ZXJ0aWNhbC1wYWRkaW5nO1xuICAgIH1cblxuICAgIC8vIEVuc3VyZXMgdGhhdCB0aGUgaG9yaXpvbnRhbCBsaW5lcyBmb3IgdGhlIHN0ZXAgaGVhZGVyIGFyZSBjZW50ZXJlZCB2ZXJ0aWNhbGx5LlxuICAgIC5tYXQtc3RlcHBlci1sYWJlbC1wb3NpdGlvbi1ib3R0b20gLm1hdC1ob3Jpem9udGFsLXN0ZXBwZXItaGVhZGVyIHtcbiAgICAgICY6OmFmdGVyLCAmOjpiZWZvcmUge1xuICAgICAgICB0b3A6ICR2ZXJ0aWNhbC1wYWRkaW5nICsgJG1hdC1zdGVwcGVyLWxhYmVsLWhlYWRlci1oZWlnaHQgLyAyO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEVuc3VyZXMgdGhhdCB0aGUgaG9yaXpvbnRhbCBsaW5lIGZvciB0aGUgc3RlcCBjb250ZW50IGlzIGFsaWduZWQgY2VudGVyZWQgdmVydGljYWxseS5cbiAgICAubWF0LXN0ZXBwZXItbGFiZWwtcG9zaXRpb24tYm90dG9tIC5tYXQtc3RlcHBlci1ob3Jpem9udGFsLWxpbmUge1xuICAgICAgdG9wOiAkdmVydGljYWwtcGFkZGluZyArICRtYXQtc3RlcHBlci1sYWJlbC1oZWFkZXItaGVpZ2h0IC8gMjtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIG1hdC1zdGVwcGVyLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBtYXQtcHJpdmF0ZS1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1zdGVwcGVyJykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXN0ZXBwZXItY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXN0ZXBwZXItZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1zdGVwcGVyLXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuQG1peGluIG1hdC1zb3J0LWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRiYWNrZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGJhY2tncm91bmQpO1xuICAkZm9yZWdyb3VuZDogbWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcblxuICAubWF0LXNvcnQtaGVhZGVyLWFycm93IHtcbiAgICAkdGFibGUtYmFja2dyb3VuZDogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCAnY2FyZCcpO1xuICAgICR0ZXh0LWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHNlY29uZGFyeS10ZXh0KTtcblxuICAgIC8vIEJlY2F1c2UgdGhlIGFycm93IGlzIG1hZGUgdXAgb2YgbXVsdGlwbGUgZWxlbWVudHMgdGhhdCBhcmUgc3RhY2tlZCBvbiB0b3Agb2YgZWFjaCBvdGhlcixcbiAgICAvLyB3ZSBjYW4ndCB1c2UgdGhlIHNlbWktdHJhbnNwYXJlbnQgY29sb3IgZnJvbSB0aGUgdGhlbWUgZGlyZWN0bHkuIElmIHRoZSB2YWx1ZSBpcyBhIGNvbG9yXG4gICAgLy8gKnR5cGUqLCB3ZSBjb252ZXJ0IGl0IGludG8gYSBzb2xpZCBjb2xvciBieSB0YWtpbmcgdGhlIG9wYWNpdHkgZnJvbSB0aGUgcmdiYSB2YWx1ZSBhbmRcbiAgICAvLyB1c2luZyB0aGUgdmFsdWUgdG8gZGV0ZXJtaW5lIHRoZSBwZXJjZW50YWdlIG9mIHRoZSBiYWNrZ3JvdW5kIHRvIHB1dCBpbnRvIGZvcmVncm91bmRcbiAgICAvLyB3aGVuIG1peGluZyB0aGUgY29sb3JzIHRvZ2V0aGVyLiBPdGhlcndpc2UsIGlmIGl0IHJlc29sdmVzIHRvIHNvbWV0aGluZyBkaWZmZXJlbnRcbiAgICAvLyAoZS5nLiBpdCByZXNvbHZlcyB0byBhIENTUyB2YXJpYWJsZSksIHdlIHVzZSB0aGUgY29sb3IgZGlyZWN0bHkuXG4gICAgQGlmICh0eXBlLW9mKCR0YWJsZS1iYWNrZ3JvdW5kKSA9PSBjb2xvciBhbmQgdHlwZS1vZigkdGV4dC1jb2xvcikgPT0gY29sb3IpIHtcbiAgICAgICR0ZXh0LW9wYWNpdHk6IG9wYWNpdHkoJHRleHQtY29sb3IpO1xuICAgICAgY29sb3I6IG1peCgkdGFibGUtYmFja2dyb3VuZCwgcmdiYSgkdGV4dC1jb2xvciwgMSksICgxIC0gJHRleHQtb3BhY2l0eSkgKiAxMDAlKTtcbiAgICB9XG4gICAgQGVsc2Uge1xuICAgICAgY29sb3I6ICR0ZXh0LWNvbG9yO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LXNvcnQtdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gX21hdC1zb3J0LWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1zb3J0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBtYXQtcHJpdmF0ZS1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1zb3J0Jykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXNvcnQtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1zb3J0LWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtc29ydC10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG5AbWl4aW4gbWF0LXRhYnMtY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJHByaW1hcnk6IG1hcC1nZXQoJGNvbmZpZywgcHJpbWFyeSk7XG4gICRhY2NlbnQ6IG1hcC1nZXQoJGNvbmZpZywgYWNjZW50KTtcbiAgJHdhcm46IG1hcC1nZXQoJGNvbmZpZywgd2Fybik7XG4gICRiYWNrZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGJhY2tncm91bmQpO1xuICAkZm9yZWdyb3VuZDogbWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcbiAgJGhlYWRlci1ib3JkZXI6IDFweCBzb2xpZCBtYXQtY29sb3IoJGZvcmVncm91bmQsIGRpdmlkZXIpO1xuXG4gIC5tYXQtdGFiLW5hdi1iYXIsXG4gIC5tYXQtdGFiLWhlYWRlciB7XG4gICAgYm9yZGVyLWJvdHRvbTogJGhlYWRlci1ib3JkZXI7XG4gIH1cblxuICAubWF0LXRhYi1ncm91cC1pbnZlcnRlZC1oZWFkZXIge1xuICAgIC5tYXQtdGFiLW5hdi1iYXIsXG4gICAgLm1hdC10YWItaGVhZGVyIHtcbiAgICAgIGJvcmRlci10b3A6ICRoZWFkZXItYm9yZGVyO1xuICAgICAgYm9yZGVyLWJvdHRvbTogbm9uZTtcbiAgICB9XG4gIH1cblxuICAubWF0LXRhYi1sYWJlbCwgLm1hdC10YWItbGluayB7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG5cbiAgICAmLm1hdC10YWItZGlzYWJsZWQge1xuICAgICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgZGlzYWJsZWQtdGV4dCk7XG4gICAgfVxuICB9XG5cbiAgLm1hdC10YWItaGVhZGVyLXBhZ2luYXRpb24tY2hldnJvbiB7XG4gICAgYm9yZGVyLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHRleHQpO1xuICB9XG5cbiAgLm1hdC10YWItaGVhZGVyLXBhZ2luYXRpb24tZGlzYWJsZWQgLm1hdC10YWItaGVhZGVyLXBhZ2luYXRpb24tY2hldnJvbiB7XG4gICAgYm9yZGVyLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGRpc2FibGVkLXRleHQpO1xuICB9XG5cbiAgLy8gUmVtb3ZlIGhlYWRlciBib3JkZXIgd2hlbiB0aGVyZSBpcyBhIGJhY2tncm91bmQgY29sb3JcbiAgLm1hdC10YWItZ3JvdXBbY2xhc3MqPSdtYXQtYmFja2dyb3VuZC0nXSAubWF0LXRhYi1oZWFkZXIsXG4gIC5tYXQtdGFiLW5hdi1iYXJbY2xhc3MqPSdtYXQtYmFja2dyb3VuZC0nXSB7XG4gICAgYm9yZGVyLWJvdHRvbTogbm9uZTtcbiAgICBib3JkZXItdG9wOiBub25lO1xuICB9XG5cbiAgLm1hdC10YWItZ3JvdXAsIC5tYXQtdGFiLW5hdi1iYXIge1xuICAgICR0aGVtZS1jb2xvcnM6IChcbiAgICAgIHByaW1hcnk6ICRwcmltYXJ5LFxuICAgICAgYWNjZW50OiAkYWNjZW50LFxuICAgICAgd2FybjogJHdhcm5cbiAgICApO1xuXG4gICAgQGVhY2ggJG5hbWUsICRjb2xvciBpbiAkdGhlbWUtY29sb3JzIHtcbiAgICAgIC8vIFNldCB0aGUgZm9yZWdyb3VuZCBjb2xvciBvZiB0aGUgdGFic1xuICAgICAgJi5tYXQtI3skbmFtZX0ge1xuICAgICAgICBAaW5jbHVkZSBfbWF0LXRhYi1sYWJlbC1mb2N1cygkY29sb3IpO1xuICAgICAgICBAaW5jbHVkZSBfbWF0LWluay1iYXIoJGNvbG9yKTtcblxuICAgICAgICAvLyBPdmVycmlkZSBpbmsgYmFyIHdoZW4gYmFja2dyb3VuZCBjb2xvciBpcyB0aGUgc2FtZVxuICAgICAgICAmLm1hdC1iYWNrZ3JvdW5kLSN7JG5hbWV9IHtcbiAgICAgICAgICA+IC5tYXQtdGFiLWhlYWRlciwgPiAubWF0LXRhYi1saW5rLWNvbnRhaW5lciB7XG4gICAgICAgICAgICBAaW5jbHVkZSBfbWF0LWluay1iYXIoJGNvbG9yLCBkZWZhdWx0LWNvbnRyYXN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBAZWFjaCAkbmFtZSwgJGNvbG9yIGluICR0aGVtZS1jb2xvcnMge1xuICAgICAgLy8gU2V0IGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHRhYnMgYW5kIG92ZXJyaWRlIGZvY3VzIGNvbG9yXG4gICAgICAmLm1hdC1iYWNrZ3JvdW5kLSN7JG5hbWV9IHtcbiAgICAgICAgQGluY2x1ZGUgX21hdC10YWItbGFiZWwtZm9jdXMoJGNvbG9yKTtcbiAgICAgICAgQGluY2x1ZGUgX21hdC10YWJzLWJhY2tncm91bmQoJGNvbG9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuQG1peGluIF9tYXQtaW5rLWJhcigkY29sb3IsICRodWU6IGRlZmF1bHQpIHtcbiAgLm1hdC1pbmstYmFyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJGNvbG9yLCAkaHVlKTtcbiAgfVxufVxuXG5AbWl4aW4gX21hdC10YWItbGFiZWwtZm9jdXMoJHRhYi1mb2N1cy1jb2xvcikge1xuICAubWF0LXRhYi1sYWJlbCxcbiAgLm1hdC10YWItbGluayB7XG4gICAgJi5jZGsta2V5Ym9hcmQtZm9jdXNlZCxcbiAgICAmLmNkay1wcm9ncmFtLWZvY3VzZWQge1xuICAgICAgJjpub3QoLm1hdC10YWItZGlzYWJsZWQpIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCR0YWItZm9jdXMtY29sb3IsIGxpZ2h0ZXIsIDAuMyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBfbWF0LXRhYnMtYmFja2dyb3VuZCgkYmFja2dyb3VuZC1jb2xvcikge1xuICAvLyBOb3RlIHRoYXQgdGhlc2Ugc2VsZWN0b3JzIHRhcmdldCBkaXJlY3QgZGVzY2VuZGFudHMgc29cbiAgLy8gdGhhdCB0aGUgc3R5bGVzIGRvbid0IGFwcGx5IHRvIGFueSBuZXN0ZWQgdGFiIGdyb3Vwcy5cblxuICAvLyBTZXQgYmFja2dyb3VuZCBjb2xvciBmb3IgdGhlIHRhYiBncm91cFxuICA+IC5tYXQtdGFiLWhlYWRlciwgPiAubWF0LXRhYi1saW5rLWNvbnRhaW5lciwgPiAubWF0LXRhYi1oZWFkZXItcGFnaW5hdGlvbiB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLWNvbG9yKTtcbiAgfVxuXG4gIC8vIFNldCBsYWJlbHMgdG8gY29udHJhc3QgYWdhaW5zdCBiYWNrZ3JvdW5kXG4gID4gLm1hdC10YWItaGVhZGVyIC5tYXQtdGFiLWxhYmVsLCA+IC5tYXQtdGFiLWxpbmstY29udGFpbmVyIC5tYXQtdGFiLWxpbmsge1xuICAgIGNvbG9yOiBtYXQtY29sb3IoJGJhY2tncm91bmQtY29sb3IsIGRlZmF1bHQtY29udHJhc3QpO1xuXG4gICAgJi5tYXQtdGFiLWRpc2FibGVkIHtcbiAgICAgIGNvbG9yOiBtYXQtY29sb3IoJGJhY2tncm91bmQtY29sb3IsIGRlZmF1bHQtY29udHJhc3QsIDAuNCk7XG4gICAgfVxuICB9XG5cbiAgLy8gU2V0IHBhZ2luYXRpb24gY2hldnJvbnMgdG8gY29udHJhc3QgYmFja2dyb3VuZFxuICA+IC5tYXQtdGFiLWhlYWRlci1wYWdpbmF0aW9uIC5tYXQtdGFiLWhlYWRlci1wYWdpbmF0aW9uLWNoZXZyb24sXG4gID4gLm1hdC10YWItbGlua3MgLm1hdC1mb2N1cy1pbmRpY2F0b3I6OmJlZm9yZSxcbiAgPiAubWF0LXRhYi1oZWFkZXIgLm1hdC1mb2N1cy1pbmRpY2F0b3I6OmJlZm9yZSB7XG4gICAgYm9yZGVyLWNvbG9yOiBtYXQtY29sb3IoJGJhY2tncm91bmQtY29sb3IsIGRlZmF1bHQtY29udHJhc3QpO1xuICB9XG5cbiAgPiAubWF0LXRhYi1oZWFkZXItcGFnaW5hdGlvbi1kaXNhYmxlZCAubWF0LXRhYi1oZWFkZXItcGFnaW5hdGlvbi1jaGV2cm9uIHtcbiAgICBib3JkZXItY29sb3I6IG1hdC1jb2xvcigkYmFja2dyb3VuZC1jb2xvciwgZGVmYXVsdC1jb250cmFzdCwgMC40KTtcbiAgfVxuXG4gIC8vIFNldCByaXBwbGVzIGNvbG9yIHRvIGJlIHRoZSBjb250cmFzdCBjb2xvciBvZiB0aGUgbmV3IGJhY2tncm91bmQuIE90aGVyd2lzZSB0aGUgcmlwcGxlXG4gIC8vIGNvbG9yIHdpbGwgYmUgYmFzZWQgb24gdGhlIGFwcCBiYWNrZ3JvdW5kIGNvbG9yLlxuICA+IC5tYXQtdGFiLWhlYWRlciAubWF0LXJpcHBsZS1lbGVtZW50LFxuICA+IC5tYXQtdGFiLWxpbmstY29udGFpbmVyIC5tYXQtcmlwcGxlLWVsZW1lbnQge1xuICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkYmFja2dyb3VuZC1jb2xvciwgZGVmYXVsdC1jb250cmFzdCwgMC4xMik7XG4gIH1cbn1cblxuQG1peGluIG1hdC10YWJzLXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAubWF0LXRhYi1ncm91cCB7XG4gICAgZm9udC1mYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnKTtcbiAgfVxuXG4gIC5tYXQtdGFiLWxhYmVsLCAubWF0LXRhYi1saW5rIHtcbiAgICBmb250OiB7XG4gICAgICBmYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnLCBidXR0b24pO1xuICAgICAgc2l6ZTogbWF0LWZvbnQtc2l6ZSgkY29uZmlnLCBidXR0b24pO1xuICAgICAgd2VpZ2h0OiBtYXQtZm9udC13ZWlnaHQoJGNvbmZpZywgYnV0dG9uKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIF9tYXQtdGFicy1kZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHt9XG5cbkBtaXhpbiBtYXQtdGFicy10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogbWF0LXByaXZhdGUtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXByaXZhdGUtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtdGFicycpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC10YWJzLWNvbG9yKCRjb2xvcik7XG4gICAgfVxuICAgIEBpZiAkZGVuc2l0eSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtdGFicy1kZW5zaXR5KCRkZW5zaXR5KTtcbiAgICB9XG4gICAgQGlmICR0eXBvZ3JhcGh5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXRhYnMtdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuXG4vLyBNaW5pbXVtIGhlaWdodCBmb3IgdG9vbGJhcidzIGluIHRoZSBoaWdoZXN0IGRlbnNpdHkgaXMgZGlmZmljdWx0IHRvIGRldGVybWluZSBiZWNhdXNlXG4vLyBkZXZlbG9wZXJzIGNhbiBwcm9qZWN0IGFyYml0cmFyeSBjb250ZW50LiBXZSB1c2UgYSBtaW5pbXVtIHZhbHVlIHRoYXQgZW5zdXJlcyB0aGF0IG1vc3Rcbi8vIGNvbW1vbiBjb250ZW50IChlLmcuIGljb24gYnV0dG9ucykgZG9lcyBub3QgZXhjZWVkIHRoZSByb3cgYm91bmRhcmllcyBpbiBoaWdoZXN0IGRlbnNpdHkuXG4kbWF0LXRvb2xiYXItbWluaW11bS1oZWlnaHQ6IDQ0cHggIWRlZmF1bHQ7XG5cbiRtYXQtdG9vbGJhci1oZWlnaHQtZGVza3RvcDogNjRweCAhZGVmYXVsdDtcbiRtYXQtdG9vbGJhci1tYXhpbXVtLWhlaWdodC1kZXNrdG9wOiAkbWF0LXRvb2xiYXItaGVpZ2h0LWRlc2t0b3AgIWRlZmF1bHQ7XG4kbWF0LXRvb2xiYXItbWluaW11bS1oZWlnaHQtZGVza3RvcDogJG1hdC10b29sYmFyLW1pbmltdW0taGVpZ2h0ICFkZWZhdWx0O1xuXG4kbWF0LXRvb2xiYXItaGVpZ2h0LW1vYmlsZTogNTZweCAhZGVmYXVsdDtcbiRtYXQtdG9vbGJhci1tYXhpbXVtLWhlaWdodC1tb2JpbGU6ICRtYXQtdG9vbGJhci1oZWlnaHQtbW9iaWxlICFkZWZhdWx0O1xuJG1hdC10b29sYmFyLW1pbmltdW0taGVpZ2h0LW1vYmlsZTogJG1hdC10b29sYmFyLW1pbmltdW0taGVpZ2h0ICFkZWZhdWx0O1xuXG4kbWF0LXRvb2xiYXItZGVza3RvcC1kZW5zaXR5LWNvbmZpZzogKFxuICBoZWlnaHQ6IChcbiAgICBkZWZhdWx0OiAkbWF0LXRvb2xiYXItaGVpZ2h0LWRlc2t0b3AsXG4gICAgbWF4aW11bTogJG1hdC10b29sYmFyLW1heGltdW0taGVpZ2h0LWRlc2t0b3AsXG4gICAgbWluaW11bTogJG1hdC10b29sYmFyLW1pbmltdW0taGVpZ2h0LWRlc2t0b3AsXG4gIClcbikgIWRlZmF1bHQ7XG5cbiRtYXQtdG9vbGJhci1tb2JpbGUtZGVuc2l0eS1jb25maWc6IChcbiAgaGVpZ2h0OiAoXG4gICAgZGVmYXVsdDogJG1hdC10b29sYmFyLWhlaWdodC1tb2JpbGUsXG4gICAgbWF4aW11bTogJG1hdC10b29sYmFyLW1heGltdW0taGVpZ2h0LW1vYmlsZSxcbiAgICBtaW5pbXVtOiAkbWF0LXRvb2xiYXItbWluaW11bS1oZWlnaHQtbW9iaWxlLFxuICApXG4pICFkZWZhdWx0O1xuXG5cbkBtaXhpbiBfbWF0LXRvb2xiYXItaGVpZ2h0KCRoZWlnaHQpIHtcbiAgLm1hdC10b29sYmFyLW11bHRpcGxlLXJvd3Mge1xuICAgIG1pbi1oZWlnaHQ6ICRoZWlnaHQ7XG4gIH1cbiAgLm1hdC10b29sYmFyLXJvdywgLm1hdC10b29sYmFyLXNpbmdsZS1yb3cge1xuICAgIGhlaWdodDogJGhlaWdodDtcbiAgfVxufVxuXG5AbWl4aW4gX21hdC10b29sYmFyLWNvbG9yKCRwYWxldHRlKSB7XG4gIGJhY2tncm91bmQ6IG1hdC1jb2xvcigkcGFsZXR0ZSk7XG4gIGNvbG9yOiBtYXQtY29sb3IoJHBhbGV0dGUsIGRlZmF1bHQtY29udHJhc3QpO1xufVxuXG5AbWl4aW4gX21hdC10b29sYmFyLWZvcm0tZmllbGQtb3ZlcnJpZGVzIHtcbiAgLm1hdC1mb3JtLWZpZWxkLXVuZGVybGluZSxcbiAgLm1hdC1mb3JtLWZpZWxkLXJpcHBsZSxcbiAgLm1hdC1mb2N1c2VkIC5tYXQtZm9ybS1maWVsZC1yaXBwbGUge1xuICAgIGJhY2tncm91bmQtY29sb3I6IGN1cnJlbnRDb2xvcjtcbiAgfVxuXG4gIC5tYXQtZm9ybS1maWVsZC1sYWJlbCxcbiAgLm1hdC1mb2N1c2VkIC5tYXQtZm9ybS1maWVsZC1sYWJlbCxcbiAgLm1hdC1zZWxlY3QtdmFsdWUsXG4gIC5tYXQtc2VsZWN0LWFycm93LFxuICAubWF0LWZvcm0tZmllbGQubWF0LWZvY3VzZWQgLm1hdC1zZWxlY3QtYXJyb3cge1xuICAgIGNvbG9yOiBpbmhlcml0O1xuICB9XG5cbiAgLm1hdC1pbnB1dC1lbGVtZW50IHtcbiAgICBjYXJldC1jb2xvcjogY3VycmVudENvbG9yO1xuICB9XG59XG5cbkBtaXhpbiBtYXQtdG9vbGJhci1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkcHJpbWFyeTogbWFwLWdldCgkY29uZmlnLCBwcmltYXJ5KTtcbiAgJGFjY2VudDogbWFwLWdldCgkY29uZmlnLCBhY2NlbnQpO1xuICAkd2FybjogbWFwLWdldCgkY29uZmlnLCB3YXJuKTtcbiAgJGJhY2tncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuXG4gIC5tYXQtdG9vbGJhciB7XG4gICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBhcHAtYmFyKTtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCB0ZXh0KTtcblxuICAgICYubWF0LXByaW1hcnkge1xuICAgICAgQGluY2x1ZGUgX21hdC10b29sYmFyLWNvbG9yKCRwcmltYXJ5KTtcbiAgICB9XG5cbiAgICAmLm1hdC1hY2NlbnQge1xuICAgICAgQGluY2x1ZGUgX21hdC10b29sYmFyLWNvbG9yKCRhY2NlbnQpO1xuICAgIH1cblxuICAgICYubWF0LXdhcm4ge1xuICAgICAgQGluY2x1ZGUgX21hdC10b29sYmFyLWNvbG9yKCR3YXJuKTtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSBfbWF0LXRvb2xiYXItZm9ybS1maWVsZC1vdmVycmlkZXM7XG4gIH1cbn1cblxuQG1peGluIG1hdC10b29sYmFyLXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAubWF0LXRvb2xiYXIsXG4gIC5tYXQtdG9vbGJhciBoMSxcbiAgLm1hdC10b29sYmFyIGgyLFxuICAubWF0LXRvb2xiYXIgaDMsXG4gIC5tYXQtdG9vbGJhciBoNCxcbiAgLm1hdC10b29sYmFyIGg1LFxuICAubWF0LXRvb2xiYXIgaDYge1xuICAgIEBpbmNsdWRlIG1hdC10eXBvZ3JhcGh5LWxldmVsLXRvLXN0eWxlcygkY29uZmlnLCB0aXRsZSk7XG4gICAgbWFyZ2luOiAwO1xuICB9XG59XG5cbkBtaXhpbiBtYXQtdG9vbGJhci1kZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGRlbnNpdHktc2NhbGU6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRoZWlnaHQtZGVza3RvcDogbWF0LXByaXZhdGUtZGVuc2l0eS1wcm9wLXZhbHVlKFxuICAgICAgJG1hdC10b29sYmFyLWRlc2t0b3AtZGVuc2l0eS1jb25maWcsICRkZW5zaXR5LXNjYWxlLCBoZWlnaHQpO1xuICAkaGVpZ2h0LW1vYmlsZTogbWF0LXByaXZhdGUtZGVuc2l0eS1wcm9wLXZhbHVlKFxuICAgICAgJG1hdC10b29sYmFyLW1vYmlsZS1kZW5zaXR5LWNvbmZpZywgJGRlbnNpdHktc2NhbGUsIGhlaWdodCk7XG5cbiAgQGluY2x1ZGUgbWF0LXByaXZhdGUtZGVuc2l0eS1sZWdhY3ktY29tcGF0aWJpbGl0eSgpIHtcbiAgICAvLyBTZXQgdGhlIGRlZmF1bHQgaGVpZ2h0IGZvciB0aGUgdG9vbGJhci5cbiAgICBAaW5jbHVkZSBfbWF0LXRvb2xiYXItaGVpZ2h0KCRoZWlnaHQtZGVza3RvcCk7XG5cbiAgICAvLyBBcyBwZXIgc3BlY3MsIHRvb2xiYXJzIHNob3VsZCBoYXZlIGEgZGlmZmVyZW50IGhlaWdodCBpbiBtb2JpbGUgZGV2aWNlcy4gVGhpcyBoYXMgYmVlblxuICAgIC8vIHNwZWNpZmllZCBpbiB0aGUgb2xkIGd1aWRlbGluZXMgYW5kIGlzIHN0aWxsIG9ic2VydmFibGUgaW4gdGhlIG5ldyBzcGVjaWZpY2F0aW9ucyBieVxuICAgIC8vIGxvb2tpbmcgYXQgdGhlIHNwZWMgaW1hZ2VzLiBTZWU6IGh0dHBzOi8vbWF0ZXJpYWwuaW8vZGVzaWduL2NvbXBvbmVudHMvYXBwLWJhcnMtdG9wLmh0bWwjYW5hdG9teVxuICAgIEBtZWRpYSAoJG1hdC14c21hbGwpIHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtdG9vbGJhci1oZWlnaHQoJGhlaWdodC1tb2JpbGUpO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LXRvb2xiYXItdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IG1hdC1wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1wcml2YXRlLWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LXRvb2xiYXInKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtdG9vbGJhci1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtdG9vbGJhci1kZW5zaXR5KCRkZW5zaXR5KTtcbiAgICB9XG4gICAgQGlmICR0eXBvZ3JhcGh5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXRvb2xiYXItdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuJG1hdC10b29sdGlwLXRhcmdldC1oZWlnaHQ6IDIycHg7XG4kbWF0LXRvb2x0aXAtZm9udC1zaXplOiAxMHB4O1xuJG1hdC10b29sdGlwLXZlcnRpY2FsLXBhZGRpbmc6ICgkbWF0LXRvb2x0aXAtdGFyZ2V0LWhlaWdodCAtICRtYXQtdG9vbHRpcC1mb250LXNpemUpIC8gMjtcblxuJG1hdC10b29sdGlwLWhhbmRzZXQtdGFyZ2V0LWhlaWdodDogMzBweDtcbiRtYXQtdG9vbHRpcC1oYW5kc2V0LWZvbnQtc2l6ZTogMTRweDtcbiRtYXQtdG9vbHRpcC1oYW5kc2V0LXZlcnRpY2FsLXBhZGRpbmc6XG4gICAgKCRtYXQtdG9vbHRpcC1oYW5kc2V0LXRhcmdldC1oZWlnaHQgLSAkbWF0LXRvb2x0aXAtaGFuZHNldC1mb250LXNpemUpIC8gMjtcblxuQG1peGluIG1hdC10b29sdGlwLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRiYWNrZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGJhY2tncm91bmQpO1xuXG4gIC5tYXQtdG9vbHRpcCB7XG4gICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCB0b29sdGlwLCAwLjkpO1xuICB9XG59XG5cbkBtaXhpbiBtYXQtdG9vbHRpcC10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLm1hdC10b29sdGlwIHtcbiAgICBmb250LWZhbWlseTogbWF0LWZvbnQtZmFtaWx5KCRjb25maWcpO1xuICAgIGZvbnQtc2l6ZTogJG1hdC10b29sdGlwLWZvbnQtc2l6ZTtcbiAgICBwYWRkaW5nLXRvcDogJG1hdC10b29sdGlwLXZlcnRpY2FsLXBhZGRpbmc7XG4gICAgcGFkZGluZy1ib3R0b206ICRtYXQtdG9vbHRpcC12ZXJ0aWNhbC1wYWRkaW5nO1xuICB9XG5cbiAgLm1hdC10b29sdGlwLWhhbmRzZXQge1xuICAgIGZvbnQtc2l6ZTogJG1hdC10b29sdGlwLWhhbmRzZXQtZm9udC1zaXplO1xuICAgIHBhZGRpbmctdG9wOiAkbWF0LXRvb2x0aXAtaGFuZHNldC12ZXJ0aWNhbC1wYWRkaW5nO1xuICAgIHBhZGRpbmctYm90dG9tOiAkbWF0LXRvb2x0aXAtaGFuZHNldC12ZXJ0aWNhbC1wYWRkaW5nO1xuICB9XG59XG5cbkBtaXhpbiBfbWF0LXRvb2x0aXAtZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gbWF0LXRvb2x0aXAtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IG1hdC1wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1wcml2YXRlLWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LXRvb2x0aXAnKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtdG9vbHRpcC1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LXRvb2x0aXAtZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC10b29sdGlwLXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5cblxuXG5AbWl4aW4gbWF0LXNuYWNrLWJhci1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkaXMtZGFyay10aGVtZTogbWFwLWdldCgkY29uZmlnLCBpcy1kYXJrKTtcbiAgJGFjY2VudDogbWFwLWdldCgkY29uZmlnLCBhY2NlbnQpO1xuXG4gIC5tYXQtc25hY2stYmFyLWNvbnRhaW5lciB7XG4gICAgLy8gVXNlIHRoZSBwcmltYXJ5IHRleHQgb24gdGhlIGRhcmsgdGhlbWUsIGV2ZW4gdGhvdWdoIHRoZSBsaWdodGVyIG9uZSB1c2VzXG4gICAgLy8gYSBzZWNvbmRhcnksIGJlY2F1c2UgdGhlIGNvbnRyYXN0IG9uIHRoZSBsaWdodCBwcmltYXJ5IHRleHQgaXMgcG9vci5cbiAgICBjb2xvcjogaWYoJGlzLWRhcmstdGhlbWUsICRkYXJrLXByaW1hcnktdGV4dCwgJGxpZ2h0LXNlY29uZGFyeS10ZXh0KTtcbiAgICBiYWNrZ3JvdW5kOiBpZigkaXMtZGFyay10aGVtZSwgbWFwLWdldCgkbWF0LWdyZXksIDUwKSwgIzMyMzIzMik7XG5cbiAgICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS10aGVtZS1lbGV2YXRpb24oNiwgJGNvbmZpZyk7XG4gIH1cblxuICAubWF0LXNpbXBsZS1zbmFja2Jhci1hY3Rpb24ge1xuICAgIGNvbG9yOiBpZigkaXMtZGFyay10aGVtZSwgaW5oZXJpdCwgbWF0LWNvbG9yKCRhY2NlbnQsIHRleHQpKTtcbiAgfVxufVxuXG5AbWl4aW4gbWF0LXNuYWNrLWJhci10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLm1hdC1zaW1wbGUtc25hY2tiYXIge1xuICAgIGZvbnQ6IHtcbiAgICAgIGZhbWlseTogbWF0LWZvbnQtZmFtaWx5KCRjb25maWcsIGJvZHktMSk7XG4gICAgICBzaXplOiBtYXQtZm9udC1zaXplKCRjb25maWcsIGJvZHktMSk7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1zaW1wbGUtc25hY2tiYXItYWN0aW9uIHtcbiAgICBsaW5lLWhlaWdodDogMTtcbiAgICBmb250OiB7XG4gICAgICBmYW1pbHk6IGluaGVyaXQ7XG4gICAgICBzaXplOiBpbmhlcml0O1xuICAgICAgd2VpZ2h0OiBtYXQtZm9udC13ZWlnaHQoJGNvbmZpZywgYnV0dG9uKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIF9tYXQtc25hY2stYmFyLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1zbmFjay1iYXItdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IG1hdC1wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1wcml2YXRlLWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LXNuYWNrLWJhcicpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1zbmFjay1iYXItY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1zbmFjay1iYXItZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1zbmFjay1iYXItdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLy8gVGhlbWUgc3R5bGVzIHRoYXQgb25seSBhcHBseSB0byB0aGUgZmlsbCBhcHBlYXJhbmNlIG9mIHRoZSBmb3JtLWZpZWxkLlxuXG5AbWl4aW4gbWF0LWZvcm0tZmllbGQtZmlsbC1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkZm9yZWdyb3VuZDogbWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcbiAgJGlzLWRhcmstdGhlbWU6IG1hcC1nZXQoJGNvbmZpZywgaXMtZGFyayk7XG5cbiAgJGZpbGwtYmFja2dyb3VuZDogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBiYXNlLCBpZigkaXMtZGFyay10aGVtZSwgMC4xLCAwLjA0KSk7XG4gICRmaWxsLWRpc2FibGVkLWJhY2tncm91bmQ6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgYmFzZSwgaWYoJGlzLWRhcmstdGhlbWUsIDAuMDUsIDAuMDIpKTtcbiAgJHVuZGVybGluZS1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXZpZGVyLCBpZigkaXMtZGFyay10aGVtZSwgMC41LCAwLjQyKSk7XG4gICRsYWJlbC1kaXNhYmxlZC1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXNhYmxlZC10ZXh0KTtcblxuICAubWF0LWZvcm0tZmllbGQtYXBwZWFyYW5jZS1maWxsIHtcbiAgICAubWF0LWZvcm0tZmllbGQtZmxleCB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkZmlsbC1iYWNrZ3JvdW5kO1xuICAgIH1cblxuICAgICYubWF0LWZvcm0tZmllbGQtZGlzYWJsZWQgLm1hdC1mb3JtLWZpZWxkLWZsZXgge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGZpbGwtZGlzYWJsZWQtYmFja2dyb3VuZDtcbiAgICB9XG5cbiAgICAubWF0LWZvcm0tZmllbGQtdW5kZXJsaW5lOjpiZWZvcmUge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHVuZGVybGluZS1jb2xvcjtcbiAgICB9XG5cbiAgICAmLm1hdC1mb3JtLWZpZWxkLWRpc2FibGVkIHtcbiAgICAgIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XG4gICAgICAgIGNvbG9yOiAkbGFiZWwtZGlzYWJsZWQtY29sb3I7XG4gICAgICB9XG5cbiAgICAgIC5tYXQtZm9ybS1maWVsZC11bmRlcmxpbmU6OmJlZm9yZSB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBVc2VkIHRvIG1ha2UgaW5zdGFuY2VzIG9mIHRoZSBfbWF0LWZvcm0tZmllbGQtbGFiZWwtZmxvYXRpbmcgbWl4aW4gbmVnbGlnaWJseSBkaWZmZXJlbnQsXG4vLyBhbmQgcHJldmVudCBHb29nbGUncyBDU1MgT3B0aW1pemVyIGZyb20gY29sbGFwc2luZyB0aGUgZGVjbGFyYXRpb25zLiBUaGlzIGlzIG5lZWRlZCBiZWNhdXNlIHNvbWVcbi8vIG9mIHRoZSBzZWxlY3RvcnMgY29udGFpbiBwc2V1ZG8tY2xhc3NlcyBub3QgcmVjb2duaXplZCBpbiBhbGwgYnJvd3NlcnMuIElmIGEgYnJvd3NlciBlbmNvdW50ZXJzXG4vLyBhbiB1bmtub3duIHBzZXVkby1jbGFzcyBpdCB3aWxsIGRpc2NhcmQgdGhlIGVudGlyZSBydWxlIHNldC5cbiRtYXQtZm9ybS1maWVsZC1maWxsLWRlZHVwZTogMDtcblxuLy8gQXBwbGllcyBhIGZsb2F0aW5nIGxhYmVsIGFib3ZlIHRoZSBmb3JtIGZpZWxkIGNvbnRyb2wgaXRzZWxmLlxuQG1peGluIF9tYXQtZm9ybS1maWVsZC1maWxsLWxhYmVsLWZsb2F0aW5nKCRmb250LXNjYWxlLCAkaW5maXgtcGFkZGluZywgJGluZml4LW1hcmdpbi10b3ApIHtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0kaW5maXgtbWFyZ2luLXRvcCAtICRpbmZpeC1wYWRkaW5nICsgJG1hdC1mb3JtLWZpZWxkLWZpbGwtZGVkdXBlKVxuICAgICAgICAgICAgIHNjYWxlKCRmb250LXNjYWxlKTtcbiAgd2lkdGg6IDEwMCUgLyAkZm9udC1zY2FsZSArICRtYXQtZm9ybS1maWVsZC1maWxsLWRlZHVwZTtcblxuICAkbWF0LWZvcm0tZmllbGQtZmlsbC1kZWR1cGU6ICRtYXQtZm9ybS1maWVsZC1maWxsLWRlZHVwZSArIDAuMDAwMDEgIWdsb2JhbDtcbn1cblxuQG1peGluIG1hdC1mb3JtLWZpZWxkLWZpbGwtdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC8vIFRoZSB1bml0LWxlc3MgbGluZS1oZWlnaHQgZnJvbSB0aGUgZm9udCBjb25maWcuXG4gICRsaW5lLWhlaWdodDogbWF0LWxpbmUtaGVpZ2h0KCRjb25maWcsIGlucHV0KTtcbiAgLy8gVGhlIGFtb3VudCB0byBzY2FsZSB0aGUgZm9udCBmb3IgdGhlIGZsb2F0aW5nIGxhYmVsIGFuZCBzdWJzY3JpcHQuXG4gICRzdWJzY3JpcHQtZm9udC1zY2FsZTogMC43NTtcbiAgLy8gVGhlIHBhZGRpbmcgb24gdG9wIG9mIHRoZSBpbmZpeC5cbiAgJGluZml4LXBhZGRpbmctdG9wOiAwLjI1ZW07XG4gIC8vIFRoZSBwYWRkaW5nIGJlbG93IHRoZSBpbmZpeC5cbiAgJGluZml4LXBhZGRpbmctYm90dG9tOiAwLjc1ZW07XG4gIC8vIFRoZSBtYXJnaW4gYXBwbGllZCB0byB0aGUgZm9ybS1maWVsZC1pbmZpeCB0byByZXNlcnZlIHNwYWNlIGZvciB0aGUgZmxvYXRpbmcgbGFiZWwuXG4gICRpbmZpeC1tYXJnaW4tdG9wOiAxZW0gKiAkbGluZS1oZWlnaHQgKiAkc3Vic2NyaXB0LWZvbnQtc2NhbGU7XG4gIC8vIFRoZSBhbW91bnQgd2Ugb2Zmc2V0IHRoZSBsYWJlbCBmcm9tIHRoZSBpbnB1dCB0ZXh0IGluIHRoZSBmaWxsIGFwcGVhcmFuY2UuXG4gICRmaWxsLWFwcGVhcmFuY2UtbGFiZWwtb2Zmc2V0OiAtMC41ZW07XG5cbiAgLm1hdC1mb3JtLWZpZWxkLWFwcGVhcmFuY2UtZmlsbCB7XG4gICAgLm1hdC1mb3JtLWZpZWxkLWluZml4IHtcbiAgICAgIHBhZGRpbmc6ICRpbmZpeC1wYWRkaW5nLXRvcCAwICRpbmZpeC1wYWRkaW5nLWJvdHRvbSAwO1xuICAgIH1cblxuICAgIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XG4gICAgICB0b3A6ICRpbmZpeC1tYXJnaW4tdG9wICsgJGluZml4LXBhZGRpbmctdG9wO1xuICAgICAgbWFyZ2luLXRvcDogJGZpbGwtYXBwZWFyYW5jZS1sYWJlbC1vZmZzZXQ7XG4gICAgfVxuXG4gICAgJi5tYXQtZm9ybS1maWVsZC1jYW4tZmxvYXQge1xuICAgICAgJi5tYXQtZm9ybS1maWVsZC1zaG91bGQtZmxvYXQgLm1hdC1mb3JtLWZpZWxkLWxhYmVsLFxuICAgICAgLm1hdC1pbnB1dC1zZXJ2ZXI6Zm9jdXMgKyAubWF0LWZvcm0tZmllbGQtbGFiZWwtd3JhcHBlciAubWF0LWZvcm0tZmllbGQtbGFiZWwge1xuICAgICAgICBAaW5jbHVkZSBfbWF0LWZvcm0tZmllbGQtZmlsbC1sYWJlbC1mbG9hdGluZyhcbiAgICAgICAgICAgICAgICAkc3Vic2NyaXB0LWZvbnQtc2NhbGUsICRpbmZpeC1wYWRkaW5nLXRvcCArICRmaWxsLWFwcGVhcmFuY2UtbGFiZWwtb2Zmc2V0LFxuICAgICAgICAgICAgICAgICRpbmZpeC1tYXJnaW4tdG9wKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2VydmVyLXNpZGUgcmVuZGVyZWQgbWF0SW5wdXQgd2l0aCBhIGxhYmVsIGF0dHJpYnV0ZSBidXQgbGFiZWwgbm90IHNob3duXG4gICAgICAvLyAodXNlZCBhcyBhIHB1cmUgQ1NTIHN0YW5kLWluIGZvciBtYXQtZm9ybS1maWVsZC1zaG91bGQtZmxvYXQpLlxuICAgICAgLm1hdC1pbnB1dC1zZXJ2ZXJbbGFiZWxdOm5vdCg6bGFiZWwtc2hvd24pICsgLm1hdC1mb3JtLWZpZWxkLWxhYmVsLXdyYXBwZXJcbiAgICAgIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XG4gICAgICAgIEBpbmNsdWRlIF9tYXQtZm9ybS1maWVsZC1maWxsLWxhYmVsLWZsb2F0aW5nKFxuICAgICAgICAgICAgICAgICRzdWJzY3JpcHQtZm9udC1zY2FsZSwgJGluZml4LXBhZGRpbmctdG9wICsgJGZpbGwtYXBwZWFyYW5jZS1sYWJlbC1vZmZzZXQsXG4gICAgICAgICAgICAgICAgJGluZml4LW1hcmdpbi10b3ApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LXByaXZhdGUtZm9ybS1maWVsZC1maWxsLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1mb3JtLWZpZWxkLWZpbGwtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IG1hdC1wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1wcml2YXRlLWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LWZvcm0tZmllbGQtZmlsbCcpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1mb3JtLWZpZWxkLWZpbGwtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXByaXZhdGUtZm9ybS1maWVsZC1maWxsLWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtZm9ybS1maWVsZC1maWxsLXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5cblxuXG4vLyBUaGVtZSBzdHlsZXMgdGhhdCBvbmx5IGFwcGx5IHRvIHRoZSBsZWdhY3kgYXBwZWFyYW5jZSBvZiB0aGUgZm9ybS1maWVsZC5cblxuQG1peGluIG1hdC1mb3JtLWZpZWxkLWxlZ2FjeS1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkZm9yZWdyb3VuZDogbWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcbiAgJGlzLWRhcmstdGhlbWU6IG1hcC1nZXQoJGNvbmZpZywgaXMtZGFyayk7XG5cbiAgJGxhYmVsLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHNlY29uZGFyeS10ZXh0KTtcbiAgJHVuZGVybGluZS1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXZpZGVyLCBpZigkaXMtZGFyay10aGVtZSwgMC43LCAwLjQyKSk7XG5cbiAgLm1hdC1mb3JtLWZpZWxkLWFwcGVhcmFuY2UtbGVnYWN5IHtcbiAgICAubWF0LWZvcm0tZmllbGQtbGFiZWwge1xuICAgICAgY29sb3I6ICRsYWJlbC1jb2xvcjtcbiAgICB9XG5cbiAgICAubWF0LWhpbnQge1xuICAgICAgY29sb3I6ICRsYWJlbC1jb2xvcjtcbiAgICB9XG5cbiAgICAubWF0LWZvcm0tZmllbGQtdW5kZXJsaW5lIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICR1bmRlcmxpbmUtY29sb3I7XG4gICAgfVxuXG4gICAgJi5tYXQtZm9ybS1maWVsZC1kaXNhYmxlZCAubWF0LWZvcm0tZmllbGQtdW5kZXJsaW5lIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1wcml2YXRlLWNvbnRyb2wtZGlzYWJsZWQtdW5kZXJsaW5lKCR1bmRlcmxpbmUtY29sb3IpO1xuICAgIH1cbiAgfVxufVxuXG4vLyBVc2VkIHRvIG1ha2UgaW5zdGFuY2VzIG9mIHRoZSBfbWF0LWZvcm0tZmllbGQtbGFiZWwtZmxvYXRpbmcgbWl4aW4gbmVnbGlnaWJseSBkaWZmZXJlbnQsXG4vLyBhbmQgcHJldmVudCBHb29nbGUncyBDU1MgT3B0aW1pemVyIGZyb20gY29sbGFwc2luZyB0aGUgZGVjbGFyYXRpb25zLiBUaGlzIGlzIG5lZWRlZCBiZWNhdXNlIHNvbWVcbi8vIG9mIHRoZSBzZWxlY3RvcnMgY29udGFpbiBwc2V1ZG8tY2xhc3NlcyBub3QgcmVjb2duaXplZCBpbiBhbGwgYnJvd3NlcnMuIElmIGEgYnJvd3NlciBlbmNvdW50ZXJzXG4vLyBhbiB1bmtub3duIHBzZXVkby1jbGFzcyBpdCB3aWxsIGRpc2NhcmQgdGhlIGVudGlyZSBydWxlIHNldC5cbiRtYXQtZm9ybS1maWVsZC1sZWdhY3ktZGVkdXBlOiAwO1xuXG4vLyBBcHBsaWVzIGEgZmxvYXRpbmcgbGFiZWwgYWJvdmUgdGhlIGZvcm0gZmllbGQgY29udHJvbCBpdHNlbGYuXG5AbWl4aW4gX21hdC1mb3JtLWZpZWxkLWxlZ2FjeS1sYWJlbC1mbG9hdGluZygkZm9udC1zY2FsZSwgJGluZml4LXBhZGRpbmcsICRpbmZpeC1tYXJnaW4tdG9wKSB7XG4gIC8vIFdlIHVzZSBwZXJzcGVjdGl2ZSB0byBmaXggdGhlIHRleHQgYmx1cnJpbmVzcyBhcyBkZXNjcmliZWQgaGVyZTpcbiAgLy8gaHR0cDovL3d3dy51c2VyYWdlbnRtYW4uY29tL2Jsb2cvMjAxNC8wNS8wNC9maXhpbmctdHlwb2dyYXBoeS1pbnNpZGUtb2YtMi1kLWNzcy10cmFuc2Zvcm1zL1xuICAvLyBUaGlzIHJlc3VsdHMgaW4gYSBzbWFsbCBqaXR0ZXIgYWZ0ZXIgdGhlIGxhYmVsIGZsb2F0cyBvbiBGaXJlZm94LCB3aGljaCB0aGVcbiAgLy8gdHJhbnNsYXRlWiBmaXhlcy5cbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0kaW5maXgtbWFyZ2luLXRvcCAtICRpbmZpeC1wYWRkaW5nKSBzY2FsZSgkZm9udC1zY2FsZSkgcGVyc3BlY3RpdmUoMTAwcHgpXG4gIHRyYW5zbGF0ZVooMC4wMDFweCArICRtYXQtZm9ybS1maWVsZC1sZWdhY3ktZGVkdXBlKTtcbiAgLy8gVGhlIHRyaWNrcyBhYm92ZSB1c2VkIHRvIHNtb290aCBvdXQgdGhlIGFuaW1hdGlvbiBvbiBjaHJvbWUgYW5kIGZpcmVmb3ggYWN0dWFsbHkgbWFrZSB0aGluZ3NcbiAgLy8gd29yc2Ugb24gSUUsIHNvIHdlIGRvbid0IGluY2x1ZGUgdGhlbSBpbiB0aGUgSUUgdmVyc2lvbi5cbiAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtJGluZml4LW1hcmdpbi10b3AgLSAkaW5maXgtcGFkZGluZyArICRtYXQtZm9ybS1maWVsZC1sZWdhY3ktZGVkdXBlKVxuICAgICAgICAgICAgICAgICAgc2NhbGUoJGZvbnQtc2NhbGUpO1xuXG4gIHdpZHRoOiAxMDAlIC8gJGZvbnQtc2NhbGUgKyAkbWF0LWZvcm0tZmllbGQtbGVnYWN5LWRlZHVwZTtcblxuICAkbWF0LWZvcm0tZmllbGQtbGVnYWN5LWRlZHVwZTogJG1hdC1mb3JtLWZpZWxkLWxlZ2FjeS1kZWR1cGUgKyAwLjAwMDAxICFnbG9iYWw7XG59XG5cbi8vIFNhbWUgYXMgbWl4aW4gYWJvdmUsIGJ1dCBvbWl0cyB0aGUgdHJhbnNsYXRlWiBmb3IgcHJpbnRpbmcgcHVycG9zZXMuXG5AbWl4aW4gX21hdC1mb3JtLWZpZWxkLWxlZ2FjeS1sYWJlbC1mbG9hdGluZy1wcmludCgkZm9udC1zY2FsZSwgJGluZml4LXBhZGRpbmcsICRpbmZpeC1tYXJnaW4tdG9wKSB7XG4gIC8vIFRoaXMgcmVzdWx0cyBpbiBhIHNtYWxsIGppdHRlciBhZnRlciB0aGUgbGFiZWwgZmxvYXRzIG9uIEZpcmVmb3gsIHdoaWNoIHRoZVxuICAvLyB0cmFuc2xhdGVaIGZpeGVzLlxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLSRpbmZpeC1tYXJnaW4tdG9wIC0gJGluZml4LXBhZGRpbmcgKyAkbWF0LWZvcm0tZmllbGQtbGVnYWN5LWRlZHVwZSlcbiAgICAgICAgICAgICAgICAgIHNjYWxlKCRmb250LXNjYWxlKTtcbiAgLy8gVGhlIHRyaWNrcyBhYm92ZSB1c2VkIHRvIHNtb290aCBvdXQgdGhlIGFuaW1hdGlvbiBvbiBjaHJvbWUgYW5kIGZpcmVmb3ggYWN0dWFsbHkgbWFrZSB0aGluZ3NcbiAgLy8gd29yc2Ugb24gSUUsIHNvIHdlIGRvbid0IGluY2x1ZGUgdGhlbSBpbiB0aGUgSUUgdmVyc2lvbi5cbiAgJG1hdC1mb3JtLWZpZWxkLWxlZ2FjeS1kZWR1cGU6ICRtYXQtZm9ybS1maWVsZC1sZWdhY3ktZGVkdXBlICsgMC4wMDAwMSAhZ2xvYmFsO1xufVxuXG5AbWl4aW4gbWF0LWZvcm0tZmllbGQtbGVnYWN5LXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAvLyBUaGUgdW5pdC1sZXNzIGxpbmUtaGVpZ2h0IGZyb20gdGhlIGZvbnQgY29uZmlnLlxuICAkbGluZS1oZWlnaHQ6IG1hdC1saW5lLWhlaWdodCgkY29uZmlnLCBpbnB1dCk7XG4gIC8vIFRoZSBhbW91bnQgdG8gc2NhbGUgdGhlIGZvbnQgZm9yIHRoZSBmbG9hdGluZyBsYWJlbCBhbmQgc3Vic2NyaXB0LlxuICAkc3Vic2NyaXB0LWZvbnQtc2NhbGU6IDAuNzU7XG4gIC8vIFRoZSBhbW91bnQgb2Ygc3BhY2UgYmV0d2VlbiB0aGUgdG9wIG9mIHRoZSBsaW5lIGFuZCB0aGUgdG9wIG9mIHRoZSBhY3R1YWwgdGV4dFxuICAvLyAoYXMgYSBmcmFjdGlvbiBvZiB0aGUgZm9udC1zaXplKS5cbiAgJGxpbmUtc3BhY2luZzogKCRsaW5lLWhlaWdodCAtIDEpIC8gMjtcbiAgLy8gVGhlIHBhZGRpbmcgb24gdGhlIGluZml4LiBNb2NrcyBzaG93IGhhbGYgb2YgdGhlIHRleHQgc2l6ZSwgYnV0IHNlZW0gdG8gbWVhc3VyZSBmcm9tIHRoZSBlZGdlXG4gIC8vIG9mIHRoZSB0ZXh0IGl0c2VsZiwgbm90IHRoZSBlZGdlIG9mIHRoZSBsaW5lOyB0aGVyZWZvcmUgd2Ugc3VidHJhY3Qgb2ZmIHRoZSBsaW5lIHNwYWNpbmcuXG4gICRpbmZpeC1wYWRkaW5nOiAwLjVlbSAtICRsaW5lLXNwYWNpbmc7XG4gIC8vIFRoZSBtYXJnaW4gYXBwbGllZCB0byB0aGUgZm9ybS1maWVsZC1pbmZpeCB0byByZXNlcnZlIHNwYWNlIGZvciB0aGUgZmxvYXRpbmcgbGFiZWwuXG4gICRpbmZpeC1tYXJnaW4tdG9wOiAxZW0gKiAkbGluZS1oZWlnaHQgKiAkc3Vic2NyaXB0LWZvbnQtc2NhbGU7XG4gIC8vIFRoZSBzcGFjZSBiZXR3ZWVuIHRoZSBib3R0b20gb2YgdGhlIC5tYXQtZm9ybS1maWVsZC1mbGV4IGFyZWEgYW5kIHRoZSBzdWJzY3JpcHQgd3JhcHBlci5cbiAgLy8gTW9ja3Mgc2hvdyBoYWxmIG9mIHRoZSB0ZXh0IHNpemUsIGJ1dCB0aGlzIG1hcmdpbiBpcyBhcHBsaWVkIHRvIGFuIGVsZW1lbnQgd2l0aCB0aGUgc3Vic2NyaXB0XG4gIC8vIHRleHQgZm9udCBzaXplLCBzbyB3ZSBuZWVkIHRvIGRpdmlkZSBieSB0aGUgc2NhbGUgZmFjdG9yIHRvIG1ha2UgaXQgaGFsZiBvZiB0aGUgb3JpZ2luYWwgdGV4dFxuICAvLyBzaXplLiBXZSBhZ2FpbiBuZWVkIHRvIHN1YnRyYWN0IG9mZiB0aGUgbGluZSBzcGFjaW5nIHNpbmNlIHRoZSBtb2NrcyBtZWFzdXJlIHRvIHRoZSBlZGdlIG9mIHRoZVxuICAvLyB0ZXh0LCBub3QgdGhlICBlZGdlIG9mIHRoZSBsaW5lLlxuICAkc3Vic2NyaXB0LW1hcmdpbi10b3A6IDAuNWVtIC8gJHN1YnNjcmlwdC1mb250LXNjYWxlIC0gKCRsaW5lLXNwYWNpbmcgKiAyKTtcbiAgLy8gVGhlIHBhZGRpbmcgYXBwbGllZCB0byB0aGUgZm9ybS1maWVsZC13cmFwcGVyIHRvIHJlc2VydmUgc3BhY2UgZm9yIHRoZSBzdWJzY3JpcHQsIHNpbmNlIGl0J3NcbiAgLy8gYWJzb2x1dGVseSBwb3NpdGlvbmVkLiBUaGlzIGlzIGEgY29tYmluYXRpb24gb2YgdGhlIHN1YnNjcmlwdCdzIG1hcmdpbiBhbmQgbGluZS1oZWlnaHQsIGJ1dCB3ZVxuICAvLyBuZWVkIHRvIG11bHRpcGx5IGJ5IHRoZSBzdWJzY3JpcHQgZm9udCBzY2FsZSBmYWN0b3Igc2luY2UgdGhlIHdyYXBwZXIgaGFzIGEgbGFyZ2VyIGZvbnQgc2l6ZS5cbiAgJHdyYXBwZXItcGFkZGluZy1ib3R0b206ICgkc3Vic2NyaXB0LW1hcmdpbi10b3AgKyAkbGluZS1oZWlnaHQpICogJHN1YnNjcmlwdC1mb250LXNjYWxlO1xuXG4gIC5tYXQtZm9ybS1maWVsZC1hcHBlYXJhbmNlLWxlZ2FjeSB7XG4gICAgLm1hdC1mb3JtLWZpZWxkLXdyYXBwZXIge1xuICAgICAgcGFkZGluZy1ib3R0b206ICR3cmFwcGVyLXBhZGRpbmctYm90dG9tO1xuICAgIH1cblxuICAgIC5tYXQtZm9ybS1maWVsZC1pbmZpeCB7XG4gICAgICBwYWRkaW5nOiAkaW5maXgtcGFkZGluZyAwO1xuICAgIH1cblxuICAgICYubWF0LWZvcm0tZmllbGQtY2FuLWZsb2F0IHtcbiAgICAgICYubWF0LWZvcm0tZmllbGQtc2hvdWxkLWZsb2F0IC5tYXQtZm9ybS1maWVsZC1sYWJlbCxcbiAgICAgIC5tYXQtaW5wdXQtc2VydmVyOmZvY3VzICsgLm1hdC1mb3JtLWZpZWxkLWxhYmVsLXdyYXBwZXIgLm1hdC1mb3JtLWZpZWxkLWxhYmVsIHtcbiAgICAgICAgQGluY2x1ZGUgX21hdC1mb3JtLWZpZWxkLWxlZ2FjeS1sYWJlbC1mbG9hdGluZyhcbiAgICAgICAgICAgICAgICAkc3Vic2NyaXB0LWZvbnQtc2NhbGUsICRpbmZpeC1wYWRkaW5nLCAkaW5maXgtbWFyZ2luLXRvcCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEBicmVha2luZy1jaGFuZ2UgOC4wLjAgd2lsbCByZWx5IG9uIEF1dG9maWxsTW9uaXRvciBpbnN0ZWFkLlxuICAgICAgLm1hdC1mb3JtLWZpZWxkLWF1dG9maWxsLWNvbnRyb2w6LXdlYmtpdC1hdXRvZmlsbCArIC5tYXQtZm9ybS1maWVsZC1sYWJlbC13cmFwcGVyXG4gICAgICAubWF0LWZvcm0tZmllbGQtbGFiZWwge1xuICAgICAgICBAaW5jbHVkZSBfbWF0LWZvcm0tZmllbGQtbGVnYWN5LWxhYmVsLWZsb2F0aW5nKFxuICAgICAgICAgICAgICAgICRzdWJzY3JpcHQtZm9udC1zY2FsZSwgJGluZml4LXBhZGRpbmcsICRpbmZpeC1tYXJnaW4tdG9wKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2VydmVyLXNpZGUgcmVuZGVyZWQgbWF0SW5wdXQgd2l0aCBhIGxhYmVsIGF0dHJpYnV0ZSBidXQgbGFiZWwgbm90IHNob3duXG4gICAgICAvLyAodXNlZCBhcyBhIHB1cmUgQ1NTIHN0YW5kLWluIGZvciBtYXQtZm9ybS1maWVsZC1zaG91bGQtZmxvYXQpLlxuICAgICAgLm1hdC1pbnB1dC1zZXJ2ZXJbbGFiZWxdOm5vdCg6bGFiZWwtc2hvd24pICsgLm1hdC1mb3JtLWZpZWxkLWxhYmVsLXdyYXBwZXJcbiAgICAgIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XG4gICAgICAgIEBpbmNsdWRlIF9tYXQtZm9ybS1maWVsZC1sZWdhY3ktbGFiZWwtZmxvYXRpbmcoXG4gICAgICAgICAgICAgICAgJHN1YnNjcmlwdC1mb250LXNjYWxlLCAkaW5maXgtcGFkZGluZywgJGluZml4LW1hcmdpbi10b3ApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XG4gICAgICB0b3A6ICRpbmZpeC1tYXJnaW4tdG9wICsgJGluZml4LXBhZGRpbmc7XG4gICAgfVxuXG4gICAgLm1hdC1mb3JtLWZpZWxkLXVuZGVybGluZSB7XG4gICAgICAvLyBXZSB3YW50IHRoZSB1bmRlcmxpbmUgdG8gc3RhcnQgYXQgdGhlIGVuZCBvZiB0aGUgY29udGVudCBib3gsIG5vdCB0aGUgcGFkZGluZyBib3gsXG4gICAgICAvLyBzbyB3ZSBtb3ZlIGl0IHVwIGJ5IHRoZSBwYWRkaW5nIGFtb3VudC5cbiAgICAgIGJvdHRvbTogJHdyYXBwZXItcGFkZGluZy1ib3R0b207XG4gICAgfVxuXG4gICAgLm1hdC1mb3JtLWZpZWxkLXN1YnNjcmlwdC13cmFwcGVyIHtcbiAgICAgIG1hcmdpbi10b3A6ICRzdWJzY3JpcHQtbWFyZ2luLXRvcDtcblxuICAgICAgLy8gV2Ugd2FudCB0aGUgc3Vic2NyaXB0IHRvIHN0YXJ0IGF0IHRoZSBlbmQgb2YgdGhlIGNvbnRlbnQgYm94LCBub3QgdGhlIHBhZGRpbmcgYm94LFxuICAgICAgLy8gc28gd2UgbW92ZSBpdCB1cCBieSB0aGUgcGFkZGluZyBhbW91bnQgKGFkanVzdGVkIGZvciB0aGUgc21hbGxlciBmb250IHNpemUpO1xuICAgICAgdG9wOiBjYWxjKDEwMCUgLSAjeyR3cmFwcGVyLXBhZGRpbmctYm90dG9tIC8gJHN1YnNjcmlwdC1mb250LXNjYWxlfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gdHJhbnNsYXRlWiBjYXVzZXMgdGhlIGxhYmVsIHRvIG5vdCBhcHBlYXIgd2hpbGUgcHJpbnRpbmcsIHNvIHdlIG92ZXJyaWRlIGl0IHRvIG5vdFxuICAvLyBhcHBseSB0cmFuc2xhdGVaIHdoaWxlIHByaW50aW5nXG4gIEBtZWRpYSBwcmludCB7XG4gICAgLm1hdC1mb3JtLWZpZWxkLWFwcGVhcmFuY2UtbGVnYWN5IHtcbiAgICAgICYubWF0LWZvcm0tZmllbGQtY2FuLWZsb2F0IHtcbiAgICAgICAgJi5tYXQtZm9ybS1maWVsZC1zaG91bGQtZmxvYXQgLm1hdC1mb3JtLWZpZWxkLWxhYmVsLFxuICAgICAgICAubWF0LWlucHV0LXNlcnZlcjpmb2N1cyArIC5tYXQtZm9ybS1maWVsZC1sYWJlbC13cmFwcGVyIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XG4gICAgICAgICAgQGluY2x1ZGUgX21hdC1mb3JtLWZpZWxkLWxlZ2FjeS1sYWJlbC1mbG9hdGluZy1wcmludChcbiAgICAgICAgICAgICAgICAgICRzdWJzY3JpcHQtZm9udC1zY2FsZSwgJGluZml4LXBhZGRpbmcsICRpbmZpeC1tYXJnaW4tdG9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEBicmVha2luZy1jaGFuZ2UgOC4wLjAgd2lsbCByZWx5IG9uIEF1dG9maWxsTW9uaXRvciBpbnN0ZWFkLlxuICAgICAgICAubWF0LWZvcm0tZmllbGQtYXV0b2ZpbGwtY29udHJvbDotd2Via2l0LWF1dG9maWxsICsgLm1hdC1mb3JtLWZpZWxkLWxhYmVsLXdyYXBwZXJcbiAgICAgICAgLm1hdC1mb3JtLWZpZWxkLWxhYmVsIHtcbiAgICAgICAgICBAaW5jbHVkZSBfbWF0LWZvcm0tZmllbGQtbGVnYWN5LWxhYmVsLWZsb2F0aW5nLXByaW50KFxuICAgICAgICAgICAgICAgICAgJHN1YnNjcmlwdC1mb250LXNjYWxlLCAkaW5maXgtcGFkZGluZywgJGluZml4LW1hcmdpbi10b3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VydmVyLXNpZGUgcmVuZGVyZWQgbWF0SW5wdXQgd2l0aCBhIGxhYmVsIGF0dHJpYnV0ZSBidXQgbGFiZWwgbm90IHNob3duXG4gICAgICAgIC8vICh1c2VkIGFzIGEgcHVyZSBDU1Mgc3RhbmQtaW4gZm9yIG1hdC1mb3JtLWZpZWxkLXNob3VsZC1mbG9hdCkuXG4gICAgICAgIC5tYXQtaW5wdXQtc2VydmVyW2xhYmVsXTpub3QoOmxhYmVsLXNob3duKSArIC5tYXQtZm9ybS1maWVsZC1sYWJlbC13cmFwcGVyXG4gICAgICAgIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XG4gICAgICAgICAgQGluY2x1ZGUgX21hdC1mb3JtLWZpZWxkLWxlZ2FjeS1sYWJlbC1mbG9hdGluZy1wcmludChcbiAgICAgICAgICAgICAgICAgICRzdWJzY3JpcHQtZm9udC1zY2FsZSwgJGluZml4LXBhZGRpbmcsICRpbmZpeC1tYXJnaW4tdG9wKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LXByaXZhdGUtZm9ybS1maWVsZC1sZWdhY3ktZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gbWF0LWZvcm0tZmllbGQtbGVnYWN5LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBtYXQtcHJpdmF0ZS1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1mb3JtLWZpZWxkLWxlZ2FjeScpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1mb3JtLWZpZWxkLWxlZ2FjeS1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1mb3JtLWZpZWxkLWxlZ2FjeS1kZW5zaXR5KCRkZW5zaXR5KTtcbiAgICB9XG4gICAgQGlmICR0eXBvZ3JhcGh5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWZvcm0tZmllbGQtbGVnYWN5LXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5cblxuXG4vLyBUaGVtZSBzdHlsZXMgdGhhdCBvbmx5IGFwcGx5IHRvIHRoZSBvdXRsaW5lIGFwcGVhcmFuY2Ugb2YgdGhlIGZvcm0tZmllbGQuXG5cbkBtaXhpbiBtYXQtZm9ybS1maWVsZC1vdXRsaW5lLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRwcmltYXJ5OiBtYXAtZ2V0KCRjb25maWcsIHByaW1hcnkpO1xuICAkYWNjZW50OiBtYXAtZ2V0KCRjb25maWcsIGFjY2VudCk7XG4gICR3YXJuOiBtYXAtZ2V0KCRjb25maWcsIHdhcm4pO1xuICAkZm9yZWdyb3VuZDogbWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcbiAgJGlzLWRhcmstdGhlbWU6IG1hcC1nZXQoJGNvbmZpZywgaXMtZGFyayk7XG5cbiAgJGxhYmVsLWRpc2FibGVkLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGRpc2FibGVkLXRleHQpO1xuICAkb3V0bGluZS1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXZpZGVyLCBpZigkaXMtZGFyay10aGVtZSwgMC4zLCAwLjEyKSk7XG4gICRvdXRsaW5lLWNvbG9yLWhvdmVyOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGRpdmlkZXIsIGlmKCRpcy1kYXJrLXRoZW1lLCAxLCAwLjg3KSk7XG4gICRvdXRsaW5lLWNvbG9yLXByaW1hcnk6IG1hdC1jb2xvcigkcHJpbWFyeSk7XG4gICRvdXRsaW5lLWNvbG9yLWFjY2VudDogbWF0LWNvbG9yKCRhY2NlbnQpO1xuICAkb3V0bGluZS1jb2xvci13YXJuOiBtYXQtY29sb3IoJHdhcm4pO1xuICAkb3V0bGluZS1jb2xvci1kaXNhYmxlZDogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXZpZGVyLCBpZigkaXMtZGFyay10aGVtZSwgMC4xNSwgMC4wNikpO1xuXG4gIC5tYXQtZm9ybS1maWVsZC1hcHBlYXJhbmNlLW91dGxpbmUge1xuICAgIC5tYXQtZm9ybS1maWVsZC1vdXRsaW5lIHtcbiAgICAgIGNvbG9yOiAkb3V0bGluZS1jb2xvcjtcbiAgICB9XG5cbiAgICAubWF0LWZvcm0tZmllbGQtb3V0bGluZS10aGljayB7XG4gICAgICBjb2xvcjogJG91dGxpbmUtY29sb3ItaG92ZXI7XG4gICAgfVxuXG4gICAgJi5tYXQtZm9jdXNlZCB7XG4gICAgICAubWF0LWZvcm0tZmllbGQtb3V0bGluZS10aGljayB7XG4gICAgICAgIGNvbG9yOiAkb3V0bGluZS1jb2xvci1wcmltYXJ5O1xuICAgICAgfVxuXG4gICAgICAmLm1hdC1hY2NlbnQgLm1hdC1mb3JtLWZpZWxkLW91dGxpbmUtdGhpY2sge1xuICAgICAgICBjb2xvcjogJG91dGxpbmUtY29sb3ItYWNjZW50O1xuICAgICAgfVxuXG4gICAgICAmLm1hdC13YXJuIC5tYXQtZm9ybS1maWVsZC1vdXRsaW5lLXRoaWNrIHtcbiAgICAgICAgY29sb3I6ICRvdXRsaW5lLWNvbG9yLXdhcm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2xhc3MgcmVwZWF0ZWQgc28gdGhhdCBydWxlIGlzIHNwZWNpZmljIGVub3VnaCB0byBvdmVycmlkZSBmb2N1c2VkIGFjY2VudCBjb2xvciBjYXNlLlxuICAgICYubWF0LWZvcm0tZmllbGQtaW52YWxpZC5tYXQtZm9ybS1maWVsZC1pbnZhbGlkIHtcbiAgICAgIC5tYXQtZm9ybS1maWVsZC1vdXRsaW5lLXRoaWNrIHtcbiAgICAgICAgY29sb3I6ICRvdXRsaW5lLWNvbG9yLXdhcm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgJi5tYXQtZm9ybS1maWVsZC1kaXNhYmxlZCB7XG4gICAgICAubWF0LWZvcm0tZmllbGQtbGFiZWwge1xuICAgICAgICBjb2xvcjogJGxhYmVsLWRpc2FibGVkLWNvbG9yO1xuICAgICAgfVxuXG4gICAgICAubWF0LWZvcm0tZmllbGQtb3V0bGluZSB7XG4gICAgICAgIGNvbG9yOiAkb3V0bGluZS1jb2xvci1kaXNhYmxlZDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gVXNlZCB0byBtYWtlIGluc3RhbmNlcyBvZiB0aGUgX21hdC1mb3JtLWZpZWxkLWxhYmVsLWZsb2F0aW5nIG1peGluIG5lZ2xpZ2libHkgZGlmZmVyZW50LFxuLy8gYW5kIHByZXZlbnQgR29vZ2xlJ3MgQ1NTIE9wdGltaXplciBmcm9tIGNvbGxhcHNpbmcgdGhlIGRlY2xhcmF0aW9ucy4gVGhpcyBpcyBuZWVkZWQgYmVjYXVzZSBzb21lXG4vLyBvZiB0aGUgc2VsZWN0b3JzIGNvbnRhaW4gcHNldWRvLWNsYXNzZXMgbm90IHJlY29nbml6ZWQgaW4gYWxsIGJyb3dzZXJzLiBJZiBhIGJyb3dzZXIgZW5jb3VudGVyc1xuLy8gYW4gdW5rbm93biBwc2V1ZG8tY2xhc3MgaXQgd2lsbCBkaXNjYXJkIHRoZSBlbnRpcmUgcnVsZSBzZXQuXG4kbWF0LWZvcm0tZmllbGQtb3V0bGluZS1kZWR1cGU6IDA7XG5cbi8vIEFwcGxpZXMgYSBmbG9hdGluZyBsYWJlbCBhYm92ZSB0aGUgZm9ybSBmaWVsZCBjb250cm9sIGl0c2VsZi5cbkBtaXhpbiBfbWF0LWZvcm0tZmllbGQtb3V0bGluZS1sYWJlbC1mbG9hdGluZygkZm9udC1zY2FsZSwgJGluZml4LXBhZGRpbmcsICRpbmZpeC1tYXJnaW4tdG9wKSB7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtJGluZml4LW1hcmdpbi10b3AgLSAkaW5maXgtcGFkZGluZyArICRtYXQtZm9ybS1maWVsZC1vdXRsaW5lLWRlZHVwZSlcbiAgc2NhbGUoJGZvbnQtc2NhbGUpO1xuICB3aWR0aDogMTAwJSAvICRmb250LXNjYWxlICsgJG1hdC1mb3JtLWZpZWxkLW91dGxpbmUtZGVkdXBlO1xuXG4gICRtYXQtZm9ybS1maWVsZC1vdXRsaW5lLWRlZHVwZTogJG1hdC1mb3JtLWZpZWxkLW91dGxpbmUtZGVkdXBlICsgMC4wMDAwMSAhZ2xvYmFsO1xufVxuXG5AbWl4aW4gbWF0LWZvcm0tZmllbGQtb3V0bGluZS10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLy8gVGhlIHVuaXQtbGVzcyBsaW5lLWhlaWdodCBmcm9tIHRoZSBmb250IGNvbmZpZy5cbiAgJGxpbmUtaGVpZ2h0OiBtYXQtbGluZS1oZWlnaHQoJGNvbmZpZywgaW5wdXQpO1xuICAvLyBUaGUgYW1vdW50IHRvIHNjYWxlIHRoZSBmb250IGZvciB0aGUgZmxvYXRpbmcgbGFiZWwgYW5kIHN1YnNjcmlwdC5cbiAgJHN1YnNjcmlwdC1mb250LXNjYWxlOiAwLjc1O1xuICAvLyBUaGUgcGFkZGluZyBhYm92ZSBhbmQgYmVsb3cgdGhlIGluZml4LlxuICAkaW5maXgtcGFkZGluZzogMWVtO1xuICAvLyBUaGUgbWFyZ2luIGFwcGxpZWQgdG8gdGhlIGZvcm0tZmllbGQtaW5maXggdG8gcmVzZXJ2ZSBzcGFjZSBmb3IgdGhlIGZsb2F0aW5nIGxhYmVsLlxuICAkaW5maXgtbWFyZ2luLXRvcDogMWVtICogJGxpbmUtaGVpZ2h0ICogJHN1YnNjcmlwdC1mb250LXNjYWxlO1xuICAvLyBUaGUgc3BhY2UgYmV0d2VlbiB0aGUgYm90dG9tIG9mIHRoZSAubWF0LWZvcm0tZmllbGQtZmxleCBhcmVhIGFuZCB0aGUgc3Vic2NyaXB0IHdyYXBwZXIuXG4gIC8vIE1vY2tzIHNob3cgaGFsZiBvZiB0aGUgdGV4dCBzaXplLCBidXQgdGhpcyBtYXJnaW4gaXMgYXBwbGllZCB0byBhbiBlbGVtZW50IHdpdGggdGhlIHN1YnNjcmlwdFxuICAvLyB0ZXh0IGZvbnQgc2l6ZSwgc28gd2UgbmVlZCB0byBkaXZpZGUgYnkgdGhlIHNjYWxlIGZhY3RvciB0byBtYWtlIGl0IGhhbGYgb2YgdGhlIG9yaWdpbmFsIHRleHRcbiAgLy8gc2l6ZS5cbiAgJHN1YnNjcmlwdC1tYXJnaW4tdG9wOiAwLjVlbSAvICRzdWJzY3JpcHQtZm9udC1zY2FsZTtcbiAgLy8gVGhlIHBhZGRpbmcgYXBwbGllZCB0byB0aGUgZm9ybS1maWVsZC13cmFwcGVyIHRvIHJlc2VydmUgc3BhY2UgZm9yIHRoZSBzdWJzY3JpcHQsIHNpbmNlIGl0J3NcbiAgLy8gYWJzb2x1dGVseSBwb3NpdGlvbmVkLiBUaGlzIGlzIGEgY29tYmluYXRpb24gb2YgdGhlIHN1YnNjcmlwdCdzIG1hcmdpbiBhbmQgbGluZS1oZWlnaHQsIGJ1dCB3ZVxuICAvLyBuZWVkIHRvIG11bHRpcGx5IGJ5IHRoZSBzdWJzY3JpcHQgZm9udCBzY2FsZSBmYWN0b3Igc2luY2UgdGhlIHdyYXBwZXIgaGFzIGEgbGFyZ2VyIGZvbnQgc2l6ZS5cbiAgJHdyYXBwZXItcGFkZGluZy1ib3R0b206ICgkc3Vic2NyaXB0LW1hcmdpbi10b3AgKyAkbGluZS1oZWlnaHQpICogJHN1YnNjcmlwdC1mb250LXNjYWxlO1xuICAvLyBUaGUgYW1vdW50IHdlIG9mZnNldCB0aGUgbGFiZWwgZnJvbSB0aGUgaW5wdXQgdGV4dCBpbiB0aGUgb3V0bGluZSBhcHBlYXJhbmNlLlxuICAkb3V0bGluZS1hcHBlYXJhbmNlLWxhYmVsLW9mZnNldDogLTAuMjVlbTtcblxuICAubWF0LWZvcm0tZmllbGQtYXBwZWFyYW5jZS1vdXRsaW5lIHtcbiAgICAubWF0LWZvcm0tZmllbGQtaW5maXgge1xuICAgICAgcGFkZGluZzogJGluZml4LXBhZGRpbmcgMCAkaW5maXgtcGFkZGluZyAwO1xuICAgIH1cblxuICAgIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XG4gICAgICB0b3A6ICRpbmZpeC1tYXJnaW4tdG9wICsgJGluZml4LXBhZGRpbmc7XG4gICAgICBtYXJnaW4tdG9wOiAkb3V0bGluZS1hcHBlYXJhbmNlLWxhYmVsLW9mZnNldDtcbiAgICB9XG5cbiAgICAmLm1hdC1mb3JtLWZpZWxkLWNhbi1mbG9hdCB7XG4gICAgICAmLm1hdC1mb3JtLWZpZWxkLXNob3VsZC1mbG9hdCAubWF0LWZvcm0tZmllbGQtbGFiZWwsXG4gICAgICAubWF0LWlucHV0LXNlcnZlcjpmb2N1cyArIC5tYXQtZm9ybS1maWVsZC1sYWJlbC13cmFwcGVyIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XG4gICAgICAgIEBpbmNsdWRlIF9tYXQtZm9ybS1maWVsZC1vdXRsaW5lLWxhYmVsLWZsb2F0aW5nKFxuICAgICAgICAgICAgICAgICRzdWJzY3JpcHQtZm9udC1zY2FsZSwgJGluZml4LXBhZGRpbmcgKyAkb3V0bGluZS1hcHBlYXJhbmNlLWxhYmVsLW9mZnNldCxcbiAgICAgICAgICAgICAgICAkaW5maXgtbWFyZ2luLXRvcCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNlcnZlci1zaWRlIHJlbmRlcmVkIG1hdElucHV0IHdpdGggYSBsYWJlbCBhdHRyaWJ1dGUgYnV0IGxhYmVsIG5vdCBzaG93blxuICAgICAgLy8gKHVzZWQgYXMgYSBwdXJlIENTUyBzdGFuZC1pbiBmb3IgbWF0LWZvcm0tZmllbGQtc2hvdWxkLWZsb2F0KS5cbiAgICAgIC5tYXQtaW5wdXQtc2VydmVyW2xhYmVsXTpub3QoOmxhYmVsLXNob3duKSArIC5tYXQtZm9ybS1maWVsZC1sYWJlbC13cmFwcGVyXG4gICAgICAubWF0LWZvcm0tZmllbGQtbGFiZWwge1xuICAgICAgICBAaW5jbHVkZSBfbWF0LWZvcm0tZmllbGQtb3V0bGluZS1sYWJlbC1mbG9hdGluZyhcbiAgICAgICAgICAgICAgICAkc3Vic2NyaXB0LWZvbnQtc2NhbGUsICRpbmZpeC1wYWRkaW5nICsgJG91dGxpbmUtYXBwZWFyYW5jZS1sYWJlbC1vZmZzZXQsXG4gICAgICAgICAgICAgICAgJGluZml4LW1hcmdpbi10b3ApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LXByaXZhdGUtZm9ybS1maWVsZC1vdXRsaW5lLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1mb3JtLWZpZWxkLW91dGxpbmUtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IG1hdC1wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1wcml2YXRlLWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LWZvcm0tZmllbGQtb3V0bGluZScpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1mb3JtLWZpZWxkLW91dGxpbmUtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXByaXZhdGUtZm9ybS1maWVsZC1vdXRsaW5lLWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtZm9ybS1maWVsZC1vdXRsaW5lLXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5cblxuXG5cbi8vIFRoZW1lIHN0eWxlcyB0aGF0IG9ubHkgYXBwbHkgdG8gdGhlIHN0YW5kYXJkIGFwcGVhcmFuY2Ugb2YgdGhlIGZvcm0tZmllbGQuXG5cbkBtaXhpbiBtYXQtZm9ybS1maWVsZC1zdGFuZGFyZC1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkZm9yZWdyb3VuZDogbWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcbiAgJGlzLWRhcmstdGhlbWU6IG1hcC1nZXQoJGNvbmZpZywgaXMtZGFyayk7XG5cbiAgJHVuZGVybGluZS1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXZpZGVyLCBpZigkaXMtZGFyay10aGVtZSwgMC43LCAwLjQyKSk7XG5cbiAgLm1hdC1mb3JtLWZpZWxkLWFwcGVhcmFuY2Utc3RhbmRhcmQge1xuICAgIC5tYXQtZm9ybS1maWVsZC11bmRlcmxpbmUge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHVuZGVybGluZS1jb2xvcjtcbiAgICB9XG5cbiAgICAmLm1hdC1mb3JtLWZpZWxkLWRpc2FibGVkIC5tYXQtZm9ybS1maWVsZC11bmRlcmxpbmUge1xuICAgICAgQGluY2x1ZGUgbWF0LXByaXZhdGUtY29udHJvbC1kaXNhYmxlZC11bmRlcmxpbmUoJHVuZGVybGluZS1jb2xvcik7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBtYXQtZm9ybS1maWVsZC1zdGFuZGFyZC10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHt9XG5cbkBtaXhpbiBtYXQtcHJpdmF0ZS1mb3JtLWZpZWxkLXN0YW5kYXJkLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1mb3JtLWZpZWxkLXN0YW5kYXJkLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBtYXQtcHJpdmF0ZS1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1mb3JtLWZpZWxkLXN0YW5kYXJkJykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWZvcm0tZmllbGQtc3RhbmRhcmQtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXByaXZhdGUtZm9ybS1maWVsZC1zdGFuZGFyZC1kZW5zaXR5KCRkZW5zaXR5KTtcbiAgICB9XG4gICAgQGlmICR0eXBvZ3JhcGh5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWZvcm0tZmllbGQtc3RhbmRhcmQtdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuLy8gQ29sb3Igc3R5bGVzIHRoYXQgYXBwbHkgdG8gYWxsIGFwcGVhcmFuY2VzIG9mIHRoZSBmb3JtLWZpZWxkLlxuQG1peGluIG1hdC1mb3JtLWZpZWxkLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRwcmltYXJ5OiBtYXAtZ2V0KCRjb25maWcsIHByaW1hcnkpO1xuICAkYWNjZW50OiBtYXAtZ2V0KCRjb25maWcsIGFjY2VudCk7XG4gICR3YXJuOiBtYXAtZ2V0KCRjb25maWcsIHdhcm4pO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG4gICRpcy1kYXJrLXRoZW1lOiBtYXAtZ2V0KCRjb25maWcsIGlzLWRhcmspO1xuXG4gIC8vIExhYmVsIGNvbG9ycy4gUmVxdWlyZWQgaXMgdXNlZCBmb3IgdGhlIGAqYCBzdGFyIHNob3duIGluIHRoZSBsYWJlbC5cbiAgJGxhYmVsLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHNlY29uZGFyeS10ZXh0LCBpZigkaXMtZGFyay10aGVtZSwgMC43LCAwLjYpKTtcbiAgJGZvY3VzZWQtbGFiZWwtY29sb3I6IG1hdC1jb2xvcigkcHJpbWFyeSwgdGV4dCk7XG4gICRyZXF1aXJlZC1sYWJlbC1jb2xvcjogbWF0LWNvbG9yKCRhY2NlbnQsIHRleHQpO1xuXG4gIC8vIFVuZGVybGluZSBjb2xvcnMuXG4gICR1bmRlcmxpbmUtY29sb3ItYmFzZTogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXZpZGVyLCBpZigkaXMtZGFyay10aGVtZSwgMSwgMC44NykpO1xuICAkdW5kZXJsaW5lLWNvbG9yLWFjY2VudDogbWF0LWNvbG9yKCRhY2NlbnQsIHRleHQpO1xuICAkdW5kZXJsaW5lLWNvbG9yLXdhcm46IG1hdC1jb2xvcigkd2FybiwgdGV4dCk7XG4gICR1bmRlcmxpbmUtZm9jdXNlZC1jb2xvcjogbWF0LWNvbG9yKCRwcmltYXJ5LCB0ZXh0KTtcblxuICAubWF0LWZvcm0tZmllbGQtbGFiZWwge1xuICAgIGNvbG9yOiAkbGFiZWwtY29sb3I7XG4gIH1cblxuICAubWF0LWhpbnQge1xuICAgIGNvbG9yOiAkbGFiZWwtY29sb3I7XG4gIH1cblxuICAubWF0LWZvcm0tZmllbGQubWF0LWZvY3VzZWQgLm1hdC1mb3JtLWZpZWxkLWxhYmVsIHtcbiAgICBjb2xvcjogJGZvY3VzZWQtbGFiZWwtY29sb3I7XG5cbiAgICAmLm1hdC1hY2NlbnQge1xuICAgICAgY29sb3I6ICR1bmRlcmxpbmUtY29sb3ItYWNjZW50O1xuICAgIH1cblxuICAgICYubWF0LXdhcm4ge1xuICAgICAgY29sb3I6ICR1bmRlcmxpbmUtY29sb3Itd2FybjtcbiAgICB9XG4gIH1cblxuICAubWF0LWZvY3VzZWQgLm1hdC1mb3JtLWZpZWxkLXJlcXVpcmVkLW1hcmtlciB7XG4gICAgY29sb3I6ICRyZXF1aXJlZC1sYWJlbC1jb2xvcjtcbiAgfVxuXG4gIC5tYXQtZm9ybS1maWVsZC1yaXBwbGUge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICR1bmRlcmxpbmUtY29sb3ItYmFzZTtcbiAgfVxuXG4gIC5tYXQtZm9ybS1maWVsZC5tYXQtZm9jdXNlZCB7XG4gICAgLm1hdC1mb3JtLWZpZWxkLXJpcHBsZSB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkdW5kZXJsaW5lLWZvY3VzZWQtY29sb3I7XG5cbiAgICAgICYubWF0LWFjY2VudCB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR1bmRlcmxpbmUtY29sb3ItYWNjZW50O1xuICAgICAgfVxuXG4gICAgICAmLm1hdC13YXJuIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHVuZGVybGluZS1jb2xvci13YXJuO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC5tYXQtZm9ybS1maWVsZC10eXBlLW1hdC1uYXRpdmUtc2VsZWN0Lm1hdC1mb2N1c2VkOm5vdCgubWF0LWZvcm0tZmllbGQtaW52YWxpZCkge1xuICAgIC5tYXQtZm9ybS1maWVsZC1pbmZpeDo6YWZ0ZXIge1xuICAgICAgY29sb3I6ICR1bmRlcmxpbmUtZm9jdXNlZC1jb2xvcjtcbiAgICB9XG5cbiAgICAmLm1hdC1hY2NlbnQgLm1hdC1mb3JtLWZpZWxkLWluZml4OjphZnRlciB7XG4gICAgICBjb2xvcjogJHVuZGVybGluZS1jb2xvci1hY2NlbnQ7XG4gICAgfVxuXG4gICAgJi5tYXQtd2FybiAubWF0LWZvcm0tZmllbGQtaW5maXg6OmFmdGVyIHtcbiAgICAgIGNvbG9yOiAkdW5kZXJsaW5lLWNvbG9yLXdhcm47XG4gICAgfVxuICB9XG5cbiAgLy8gU3R5bGluZyBmb3IgdGhlIGVycm9yIHN0YXRlIG9mIHRoZSBmb3JtIGZpZWxkLiBOb3RlIHRoYXQgd2hpbGUgdGhlIHNhbWUgY2FuIGJlXG4gIC8vIGFjaGlldmVkIHdpdGggdGhlIG5nLSogY2xhc3Nlcywgd2UgdXNlIHRoaXMgYXBwcm9hY2ggaW4gb3JkZXIgdG8gZW5zdXJlIHRoYXQgdGhlIHNhbWVcbiAgLy8gbG9naWMgaXMgdXNlZCB0byBzdHlsZSB0aGUgZXJyb3Igc3RhdGUgYW5kIHRvIHNob3cgdGhlIGVycm9yIG1lc3NhZ2VzLlxuICAubWF0LWZvcm0tZmllbGQubWF0LWZvcm0tZmllbGQtaW52YWxpZCB7XG4gICAgLm1hdC1mb3JtLWZpZWxkLWxhYmVsIHtcbiAgICAgIGNvbG9yOiAkdW5kZXJsaW5lLWNvbG9yLXdhcm47XG5cbiAgICAgICYubWF0LWFjY2VudCxcbiAgICAgIC5tYXQtZm9ybS1maWVsZC1yZXF1aXJlZC1tYXJrZXIge1xuICAgICAgICBjb2xvcjogJHVuZGVybGluZS1jb2xvci13YXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC5tYXQtZm9ybS1maWVsZC1yaXBwbGUsXG4gICAgLm1hdC1mb3JtLWZpZWxkLXJpcHBsZS5tYXQtYWNjZW50IHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICR1bmRlcmxpbmUtY29sb3Itd2FybjtcbiAgICB9XG4gIH1cblxuICAubWF0LWVycm9yIHtcbiAgICBjb2xvcjogJHVuZGVybGluZS1jb2xvci13YXJuO1xuICB9XG5cbiAgQGluY2x1ZGUgbWF0LWZvcm0tZmllbGQtbGVnYWN5LWNvbG9yKCRjb25maWcpO1xuICBAaW5jbHVkZSBtYXQtZm9ybS1maWVsZC1zdGFuZGFyZC1jb2xvcigkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LWZvcm0tZmllbGQtZmlsbC1jb2xvcigkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LWZvcm0tZmllbGQtb3V0bGluZS1jb2xvcigkY29uZmlnKTtcbn1cblxuLy8gVXNlZCB0byBtYWtlIGluc3RhbmNlcyBvZiB0aGUgX21hdC1mb3JtLWZpZWxkLWxhYmVsLWZsb2F0aW5nIG1peGluIG5lZ2xpZ2libHkgZGlmZmVyZW50LFxuLy8gYW5kIHByZXZlbnQgR29vZ2xlJ3MgQ1NTIE9wdGltaXplciBmcm9tIGNvbGxhcHNpbmcgdGhlIGRlY2xhcmF0aW9ucy4gVGhpcyBpcyBuZWVkZWQgYmVjYXVzZSBzb21lXG4vLyBvZiB0aGUgc2VsZWN0b3JzIGNvbnRhaW4gcHNldWRvLWNsYXNzZXMgbm90IHJlY29nbml6ZWQgaW4gYWxsIGJyb3dzZXJzLiBJZiBhIGJyb3dzZXIgZW5jb3VudGVyc1xuLy8gYW4gdW5rbm93biBwc2V1ZG8tY2xhc3MgaXQgd2lsbCBkaXNjYXJkIHRoZSBlbnRpcmUgcnVsZSBzZXQuXG4kbWF0LWZvcm0tZmllbGQtZGVkdXBlOiAwO1xuXG4vLyBBcHBsaWVzIGEgZmxvYXRpbmcgbGFiZWwgYWJvdmUgdGhlIGZvcm0gZmllbGQgY29udHJvbCBpdHNlbGYuXG5AbWl4aW4gX21hdC1mb3JtLWZpZWxkLWxhYmVsLWZsb2F0aW5nKCRmb250LXNjYWxlLCAkaW5maXgtcGFkZGluZywgJGluZml4LW1hcmdpbi10b3ApIHtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0kaW5maXgtbWFyZ2luLXRvcCAtICRpbmZpeC1wYWRkaW5nICsgJG1hdC1mb3JtLWZpZWxkLWRlZHVwZSlcbiAgICAgICAgICAgICBzY2FsZSgkZm9udC1zY2FsZSk7XG4gIHdpZHRoOiAxMDAlIC8gJGZvbnQtc2NhbGUgKyAkbWF0LWZvcm0tZmllbGQtZGVkdXBlO1xuXG4gICRtYXQtZm9ybS1maWVsZC1kZWR1cGU6ICRtYXQtZm9ybS1maWVsZC1kZWR1cGUgKyAwLjAwMDAxICFnbG9iYWw7XG59XG5cbkBtaXhpbiBtYXQtZm9ybS1maWVsZC10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLy8gVGhlIHVuaXQtbGVzcyBsaW5lLWhlaWdodCBmcm9tIHRoZSBmb250IGNvbmZpZy5cbiAgJGxpbmUtaGVpZ2h0OiBtYXQtbGluZS1oZWlnaHQoJGNvbmZpZywgaW5wdXQpO1xuXG4gIC8vIFRoZSBhbW91bnQgdG8gc2NhbGUgdGhlIGZvbnQgZm9yIHRoZSBmbG9hdGluZyBsYWJlbCBhbmQgc3Vic2NyaXB0LlxuICAkc3Vic2NyaXB0LWZvbnQtc2NhbGU6IDAuNzU7XG4gIC8vIFRoZSBhbW91bnQgdG8gc2NhbGUgdGhlIGZvbnQgZm9yIHRoZSBwcmVmaXggYW5kIHN1ZmZpeCBpY29ucy5cbiAgJHByZWZpeC1zdWZmaXgtaWNvbi1mb250LXNjYWxlOiAxLjU7XG5cbiAgLy8gVGhlIHBhZGRpbmcgb24gdGhlIGluZml4LiBNb2NrcyBzaG93IGhhbGYgb2YgdGhlIHRleHQgc2l6ZS5cbiAgJGluZml4LXBhZGRpbmc6IDAuNWVtO1xuICAvLyBUaGUgbWFyZ2luIGFwcGxpZWQgdG8gdGhlIGZvcm0tZmllbGQtaW5maXggdG8gcmVzZXJ2ZSBzcGFjZSBmb3IgdGhlIGZsb2F0aW5nIGxhYmVsLlxuICAkaW5maXgtbWFyZ2luLXRvcDogMWVtICogJGxpbmUtaGVpZ2h0ICogJHN1YnNjcmlwdC1mb250LXNjYWxlO1xuICAvLyBGb250IHNpemUgdG8gdXNlIGZvciB0aGUgbGFiZWwgYW5kIHN1YnNjcmlwdCB0ZXh0LlxuICAkc3Vic2NyaXB0LWZvbnQtc2l6ZTogJHN1YnNjcmlwdC1mb250LXNjYWxlICogMTAwJTtcbiAgLy8gRm9udCBzaXplIHRvIHVzZSBmb3IgdGhlIGZvciB0aGUgcHJlZml4IGFuZCBzdWZmaXggaWNvbnMuXG4gICRwcmVmaXgtc3VmZml4LWljb24tZm9udC1zaXplOiAkcHJlZml4LXN1ZmZpeC1pY29uLWZvbnQtc2NhbGUgKiAxMDAlO1xuICAvLyBUaGUgc3BhY2UgYmV0d2VlbiB0aGUgYm90dG9tIG9mIHRoZSAubWF0LWZvcm0tZmllbGQtZmxleCBhcmVhIGFuZCB0aGUgc3Vic2NyaXB0IHdyYXBwZXIuXG4gIC8vIE1vY2tzIHNob3cgaGFsZiBvZiB0aGUgdGV4dCBzaXplLCBidXQgdGhpcyBtYXJnaW4gaXMgYXBwbGllZCB0byBhbiBlbGVtZW50IHdpdGggdGhlIHN1YnNjcmlwdFxuICAvLyB0ZXh0IGZvbnQgc2l6ZSwgc28gd2UgbmVlZCB0byBkaXZpZGUgYnkgdGhlIHNjYWxlIGZhY3RvciB0byBtYWtlIGl0IGhhbGYgb2YgdGhlIG9yaWdpbmFsIHRleHRcbiAgLy8gc2l6ZS5cbiAgJHN1YnNjcmlwdC1tYXJnaW4tdG9wOiAwLjVlbSAvICRzdWJzY3JpcHQtZm9udC1zY2FsZTtcbiAgLy8gVGhlIHBhZGRpbmcgYXBwbGllZCB0byB0aGUgZm9ybS1maWVsZC13cmFwcGVyIHRvIHJlc2VydmUgc3BhY2UgZm9yIHRoZSBzdWJzY3JpcHQsIHNpbmNlIGl0J3NcbiAgLy8gYWJzb2x1dGVseSBwb3NpdGlvbmVkLiBUaGlzIGlzIGEgY29tYmluYXRpb24gb2YgdGhlIHN1YnNjcmlwdCdzIG1hcmdpbiBhbmQgbGluZS1oZWlnaHQsIGJ1dCB3ZVxuICAvLyBuZWVkIHRvIG11bHRpcGx5IGJ5IHRoZSBzdWJzY3JpcHQgZm9udCBzY2FsZSBmYWN0b3Igc2luY2UgdGhlIHdyYXBwZXIgaGFzIGEgbGFyZ2VyIGZvbnQgc2l6ZS5cbiAgJHdyYXBwZXItcGFkZGluZy1ib3R0b206ICgkc3Vic2NyaXB0LW1hcmdpbi10b3AgKyAkbGluZS1oZWlnaHQpICogJHN1YnNjcmlwdC1mb250LXNjYWxlO1xuXG4gIC5tYXQtZm9ybS1maWVsZCB7XG4gICAgQGluY2x1ZGUgbWF0LXR5cG9ncmFwaHktbGV2ZWwtdG8tc3R5bGVzKCRjb25maWcsIGlucHV0KTtcbiAgfVxuXG4gIC5tYXQtZm9ybS1maWVsZC13cmFwcGVyIHtcbiAgICBwYWRkaW5nLWJvdHRvbTogJHdyYXBwZXItcGFkZGluZy1ib3R0b207XG4gIH1cblxuICAubWF0LWZvcm0tZmllbGQtcHJlZml4LFxuICAubWF0LWZvcm0tZmllbGQtc3VmZml4IHtcbiAgICAvLyBBbGxvdyBpY29ucyBpbiBhIHByZWZpeCBvciBzdWZmaXggdG8gYWRhcHQgdG8gdGhlIGNvcnJlY3Qgc2l6ZS5cbiAgICAubWF0LWljb24ge1xuICAgICAgZm9udC1zaXplOiAkcHJlZml4LXN1ZmZpeC1pY29uLWZvbnQtc2l6ZTtcbiAgICAgIGxpbmUtaGVpZ2h0OiAkbGluZS1oZWlnaHQ7XG4gICAgfVxuXG4gICAgLy8gQWxsb3cgaWNvbiBidXR0b25zIGluIGEgcHJlZml4IG9yIHN1ZmZpeCB0byBhZGFwdCB0byB0aGUgY29ycmVjdCBzaXplLlxuICAgIC5tYXQtaWNvbi1idXR0b24ge1xuICAgICAgaGVpZ2h0OiAkcHJlZml4LXN1ZmZpeC1pY29uLWZvbnQtc2NhbGUgKiAxZW07XG4gICAgICB3aWR0aDogJHByZWZpeC1zdWZmaXgtaWNvbi1mb250LXNjYWxlICogMWVtO1xuXG4gICAgICAubWF0LWljb24ge1xuICAgICAgICBoZWlnaHQ6ICRsaW5lLWhlaWdodCAqIDFlbTtcbiAgICAgICAgbGluZS1oZWlnaHQ6ICRsaW5lLWhlaWdodDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAubWF0LWZvcm0tZmllbGQtaW5maXgge1xuICAgIHBhZGRpbmc6ICRpbmZpeC1wYWRkaW5nIDA7XG4gICAgLy8gVGhyb3dzIG9mZiB0aGUgYmFzZWxpbmUgaWYgd2UgZG8gaXQgYXMgYSByZWFsIG1hcmdpbiwgc28gd2UgZG8gaXQgYXMgYSBib3JkZXIgaW5zdGVhZC5cbiAgICBib3JkZXItdG9wOiAkaW5maXgtbWFyZ2luLXRvcCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgfVxuXG4gIC5tYXQtZm9ybS1maWVsZC1jYW4tZmxvYXQge1xuICAgICYubWF0LWZvcm0tZmllbGQtc2hvdWxkLWZsb2F0IC5tYXQtZm9ybS1maWVsZC1sYWJlbCxcbiAgICAubWF0LWlucHV0LXNlcnZlcjpmb2N1cyArIC5tYXQtZm9ybS1maWVsZC1sYWJlbC13cmFwcGVyIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LWZvcm0tZmllbGQtbGFiZWwtZmxvYXRpbmcoXG4gICAgICAgICAgICAgICRzdWJzY3JpcHQtZm9udC1zY2FsZSwgJGluZml4LXBhZGRpbmcsICRpbmZpeC1tYXJnaW4tdG9wKTtcbiAgICB9XG5cbiAgICAvLyBTZXJ2ZXItc2lkZSByZW5kZXJlZCBtYXRJbnB1dCB3aXRoIGEgbGFiZWwgYXR0cmlidXRlIGJ1dCBsYWJlbCBub3Qgc2hvd25cbiAgICAvLyAodXNlZCBhcyBhIHB1cmUgQ1NTIHN0YW5kLWluIGZvciBtYXQtZm9ybS1maWVsZC1zaG91bGQtZmxvYXQpLlxuICAgIC5tYXQtaW5wdXQtc2VydmVyW2xhYmVsXTpub3QoOmxhYmVsLXNob3duKSArIC5tYXQtZm9ybS1maWVsZC1sYWJlbC13cmFwcGVyXG4gICAgICAgIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LWZvcm0tZmllbGQtbGFiZWwtZmxvYXRpbmcoXG4gICAgICAgICAgICAgICRzdWJzY3JpcHQtZm9udC1zY2FsZSwgJGluZml4LXBhZGRpbmcsICRpbmZpeC1tYXJnaW4tdG9wKTtcbiAgICB9XG4gIH1cblxuICAubWF0LWZvcm0tZmllbGQtbGFiZWwtd3JhcHBlciB7XG4gICAgdG9wOiAtJGluZml4LW1hcmdpbi10b3A7XG4gICAgcGFkZGluZy10b3A6ICRpbmZpeC1tYXJnaW4tdG9wO1xuICB9XG5cbiAgLm1hdC1mb3JtLWZpZWxkLWxhYmVsIHtcbiAgICB0b3A6ICRpbmZpeC1tYXJnaW4tdG9wICsgJGluZml4LXBhZGRpbmc7XG4gIH1cblxuICAubWF0LWZvcm0tZmllbGQtdW5kZXJsaW5lIHtcbiAgICAvLyBXZSB3YW50IHRoZSB1bmRlcmxpbmUgdG8gc3RhcnQgYXQgdGhlIGVuZCBvZiB0aGUgY29udGVudCBib3gsIG5vdCB0aGUgcGFkZGluZyBib3gsXG4gICAgLy8gc28gd2UgbW92ZSBpdCB1cCBieSB0aGUgcGFkZGluZyBhbW91bnQuXG4gICAgYm90dG9tOiAkd3JhcHBlci1wYWRkaW5nLWJvdHRvbTtcbiAgfVxuXG4gIC5tYXQtZm9ybS1maWVsZC1zdWJzY3JpcHQtd3JhcHBlciB7XG4gICAgZm9udC1zaXplOiAkc3Vic2NyaXB0LWZvbnQtc2l6ZTtcbiAgICBtYXJnaW4tdG9wOiAkc3Vic2NyaXB0LW1hcmdpbi10b3A7XG5cbiAgICAvLyBXZSB3YW50IHRoZSBzdWJzY3JpcHQgdG8gc3RhcnQgYXQgdGhlIGVuZCBvZiB0aGUgY29udGVudCBib3gsIG5vdCB0aGUgcGFkZGluZyBib3gsXG4gICAgLy8gc28gd2UgbW92ZSBpdCB1cCBieSB0aGUgcGFkZGluZyBhbW91bnQgKGFkanVzdGVkIGZvciB0aGUgc21hbGxlciBmb250IHNpemUpO1xuICAgIHRvcDogY2FsYygxMDAlIC0gI3skd3JhcHBlci1wYWRkaW5nLWJvdHRvbSAvICRzdWJzY3JpcHQtZm9udC1zY2FsZX0pO1xuICB9XG5cbiAgQGluY2x1ZGUgbWF0LWZvcm0tZmllbGQtbGVnYWN5LXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1mb3JtLWZpZWxkLXN0YW5kYXJkLXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1mb3JtLWZpZWxkLWZpbGwtdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LWZvcm0tZmllbGQtb3V0bGluZS10eXBvZ3JhcGh5KCRjb25maWcpO1xufVxuXG5AbWl4aW4gbWF0LWZvcm0tZmllbGQtZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRkZW5zaXR5LXNjYWxlOiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1mb3JtLWZpZWxkLWxlZ2FjeS1kZW5zaXR5KCRkZW5zaXR5LXNjYWxlKTtcbiAgQGluY2x1ZGUgbWF0LXByaXZhdGUtZm9ybS1maWVsZC1zdGFuZGFyZC1kZW5zaXR5KCRkZW5zaXR5LXNjYWxlKTtcbiAgQGluY2x1ZGUgbWF0LXByaXZhdGUtZm9ybS1maWVsZC1maWxsLWRlbnNpdHkoJGRlbnNpdHktc2NhbGUpO1xuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1mb3JtLWZpZWxkLW91dGxpbmUtZGVuc2l0eSgkZGVuc2l0eS1zY2FsZSk7XG59XG5cbkBtaXhpbiBtYXQtZm9ybS1maWVsZC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogbWF0LXByaXZhdGUtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXByaXZhdGUtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtZm9ybS1maWVsZCcpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1mb3JtLWZpZWxkLWNvbG9yKCRjb2xvcik7XG4gICAgfVxuICAgIEBpZiAkZGVuc2l0eSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1mb3JtLWZpZWxkLWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtZm9ybS1maWVsZC10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG4kbWF0LXRyZWUtbm9kZS1oZWlnaHQ6IDQ4cHggIWRlZmF1bHQ7XG4vLyBNaW5pbXVtIGhlaWdodCBmb3IgdHJlZSBub2RlcyBpbiBoaWdoZXN0IGRlbnNpdHkgaXMgZGlmZmljdWx0IHRvIGRldGVybWluZSBhc1xuLy8gZGV2ZWxvcGVycyBjYW4gZGlzcGxheSBhcmJpdHJhcnkgY29udGVudC4gV2UgdXNlIGEgbWluaW11bSBoZWlnaHQgd2hpY2ggZW5zdXJlc1xuLy8gdGhhdCBjb21tb24gY29udGVudCBwbGFjZWQgaW4gdHJlZSBub2RlcyBkb2VzIG5vdCBleGNlZWQgKGUuZy4gaWNvbnMsIGNoZWNrYm94ZXMpLlxuJG1hdC10cmVlLW5vZGUtbWluaW11bS1oZWlnaHQ6IDI0cHggIWRlZmF1bHQ7XG4kbWF0LXRyZWUtbm9kZS1tYXhpbXVtLWhlaWdodDogJG1hdC10cmVlLW5vZGUtaGVpZ2h0ICFkZWZhdWx0O1xuXG4kbWF0LXRyZWUtZGVuc2l0eS1jb25maWc6IChcbiAgaGVpZ2h0OiAoXG4gICAgZGVmYXVsdDogJG1hdC10cmVlLW5vZGUtaGVpZ2h0LFxuICAgIG1heGltdW06ICRtYXQtdHJlZS1ub2RlLW1heGltdW0taGVpZ2h0LFxuICAgIG1pbmltdW06ICRtYXQtdHJlZS1ub2RlLW1pbmltdW0taGVpZ2h0LFxuICApXG4pICFkZWZhdWx0O1xuXG5cbkBtaXhpbiBtYXQtdHJlZS1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cbiAgLm1hdC10cmVlIHtcbiAgICBiYWNrZ3JvdW5kOiBtYXQtY29sb3IoJGJhY2tncm91bmQsICdjYXJkJyk7XG4gIH1cblxuICAubWF0LXRyZWUtbm9kZSxcbiAgLm1hdC1uZXN0ZWQtdHJlZS1ub2RlIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCB0ZXh0KTtcbiAgfVxufVxuXG5AbWl4aW4gbWF0LXRyZWUtdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC5tYXQtdHJlZSB7XG4gICAgZm9udC1mYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnKTtcbiAgfVxuXG4gIC5tYXQtdHJlZS1ub2RlLFxuICAubWF0LW5lc3RlZC10cmVlLW5vZGUge1xuICAgIGZvbnQtd2VpZ2h0OiBtYXQtZm9udC13ZWlnaHQoJGNvbmZpZywgYm9keS0xKTtcbiAgICBmb250LXNpemU6IG1hdC1mb250LXNpemUoJGNvbmZpZywgYm9keS0xKTtcbiAgfVxufVxuXG5AbWl4aW4gbWF0LXRyZWUtZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRkZW5zaXR5LXNjYWxlOiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkaGVpZ2h0OiBtYXQtcHJpdmF0ZS1kZW5zaXR5LXByb3AtdmFsdWUoJG1hdC10cmVlLWRlbnNpdHktY29uZmlnLCAkZGVuc2l0eS1zY2FsZSwgaGVpZ2h0KTtcblxuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1kZW5zaXR5LWxlZ2FjeS1jb21wYXRpYmlsaXR5KCkge1xuICAgIC5tYXQtdHJlZS1ub2RlIHtcbiAgICAgIG1pbi1oZWlnaHQ6ICRoZWlnaHQ7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBtYXQtdHJlZS10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogbWF0LXByaXZhdGUtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXByaXZhdGUtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtdHJlZScpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC10cmVlLWNvbG9yKCRjb2xvcik7XG4gICAgfVxuICAgIEBpZiAkZGVuc2l0eSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC10cmVlLWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtdHJlZS10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuLy8gSW5jbHVkZXMgYWxsIG9mIHRoZSB0eXBvZ3JhcGhpYyBzdHlsZXMuXG5AbWl4aW4gYW5ndWxhci1tYXRlcmlhbC10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWU6IG51bGwpIHtcbiAgJGNvbmZpZzogaWYobWF0LXByaXZhdGUtaXMtdGhlbWUtb2JqZWN0KCRjb25maWctb3ItdGhlbWUpLFxuICAgICAgbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKSwgJGNvbmZpZy1vci10aGVtZSk7XG5cbiAgLy8gSWYgbm8gYWN0dWFsIGNvbG9yIGNvbmZpZ3VyYXRpb24gaGFzIGJlZW4gc3BlY2lmaWVkLCBjcmVhdGUgYSBkZWZhdWx0IG9uZS5cbiAgQGlmIG5vdCAkY29uZmlnIHtcbiAgICAkY29uZmlnOiBtYXQtdHlwb2dyYXBoeS1jb25maWcoKTtcbiAgfVxuXG4gIC8vIFRPRE86IENPTVAtMzA5OiBEbyBub3QgdXNlIGluZGl2aWR1YWwgbWl4aW5zLiBJbnN0ZWFkLCB1c2UgdGhlIGFsbC10aGVtZSBtaXhpbiBhbmQgb25seVxuICAvLyBzcGVjaWZ5IGEgYHR5cG9ncmFwaHlgIGNvbmZpZyB3aGlsZSBzZXR0aW5nIGBjb2xvcmAgYW5kIGBkZW5zaXR5YCB0byBgbnVsbGAuIFRoaXMgaXMgY3VycmVudGx5XG4gIC8vIG5vdCBwb3NzaWJsZSBhcyBpdCB3b3VsZCBpbnRyb2R1Y2UgYSBjaXJjdWxhciBkZXBlbmRlbmN5IGZvciB0eXBvZ3JhcGh5IGJlY2F1c2UgdGhlIGBtYXQtY29yZWBcbiAgLy8gbWl4aW4gdGhhdCBpcyB0cmFuc2l0aXZlbHkgbG9hZGVkIGJ5IHRoZSBgYWxsLXRoZW1lYCBmaWxlLCBpbXBvcnRzIGBhbGwtdHlwb2dyYXBoeWAgd2hpY2hcbiAgLy8gd291bGQgdGhlbiBsb2FkIGBhbGwtdGhlbWVgIGFnYWluLiBUaGlzIHVsdGltYXRlbHkgcmVzdWx0cyBhIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG5cbiAgQGluY2x1ZGUgbWF0LWJhZGdlLXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1iYXNlLXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1hdXRvY29tcGxldGUtdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LWJvdHRvbS1zaGVldC10eXBvZ3JhcGh5KCRjb25maWcpO1xuICBAaW5jbHVkZSBtYXQtYnV0dG9uLXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1idXR0b24tdG9nZ2xlLXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1jYXJkLXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1jaGVja2JveC10eXBvZ3JhcGh5KCRjb25maWcpO1xuICBAaW5jbHVkZSBtYXQtY2hpcHMtdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LWRpdmlkZXItdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXRhYmxlLXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1kYXRlcGlja2VyLXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1kaWFsb2ctdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LWV4cGFuc2lvbi1wYW5lbC10eXBvZ3JhcGh5KCRjb25maWcpO1xuICBAaW5jbHVkZSBtYXQtZm9ybS1maWVsZC10eXBvZ3JhcGh5KCRjb25maWcpO1xuICBAaW5jbHVkZSBtYXQtZ3JpZC1saXN0LXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1pY29uLXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1pbnB1dC10eXBvZ3JhcGh5KCRjb25maWcpO1xuICBAaW5jbHVkZSBtYXQtbWVudS10eXBvZ3JhcGh5KCRjb25maWcpO1xuICBAaW5jbHVkZSBtYXQtcGFnaW5hdG9yLXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1wcm9ncmVzcy1iYXItdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXByb2dyZXNzLXNwaW5uZXItdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXJhZGlvLXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1zZWxlY3QtdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXNpZGVuYXYtdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXNsaWRlLXRvZ2dsZS10eXBvZ3JhcGh5KCRjb25maWcpO1xuICBAaW5jbHVkZSBtYXQtc2xpZGVyLXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1zdGVwcGVyLXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1zb3J0LXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC10YWJzLXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC10b29sYmFyLXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC10b29sdGlwLXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1saXN0LXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1vcHRpb24tdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LW9wdGdyb3VwLXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1zbmFjay1iYXItdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXRyZWUtdHlwb2dyYXBoeSgkY29uZmlnKTtcbn1cblxuXG4vLyBNaXhpbiB0aGF0IHJlbmRlcnMgYWxsIG9mIHRoZSBjb3JlIHN0eWxlcyB0aGF0IGFyZSBub3QgdGhlbWUtZGVwZW5kZW50LlxuQG1peGluIG1hdC1jb3JlKCR0eXBvZ3JhcGh5LWNvbmZpZzogbnVsbCkge1xuICBAaW5jbHVkZSBhbmd1bGFyLW1hdGVyaWFsLXR5cG9ncmFwaHkoJHR5cG9ncmFwaHktY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXJpcHBsZSgpO1xuICBAaW5jbHVkZSBjZGstYTExeSgpO1xuICBAaW5jbHVkZSBjZGstb3ZlcmxheSgpO1xuICBAaW5jbHVkZSBjZGstdGV4dC1maWVsZCgpO1xuXG4gIEBpbmNsdWRlIG1hdC1wcml2YXRlLXN0cm9uZy1mb2N1cy1pbmRpY2F0b3JzLXBvc2l0aW9uaW5nKCk7XG4gIEBpbmNsdWRlIF9tYXQtbWRjLWNvcmUoKTtcbn1cblxuQG1peGluIG1hdC1jb3JlLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC8vIFdyYXBwZXIgZWxlbWVudCB0aGF0IHByb3ZpZGVzIHRoZSB0aGVtZSBiYWNrZ3JvdW5kIHdoZW4gdGhlIHVzZXIncyBjb250ZW50IGlzbid0XG4gIC8vIGluc2lkZSBvZiBhIGBtYXQtc2lkZW5hdi1jb250YWluZXJgLiBOb3RlIHRoYXQgd2UgbmVlZCB0byBleGNsdWRlIHRoZSBhbXBlcnNhbmRcbiAgLy8gc2VsZWN0b3IgaW4gY2FzZSB0aGUgbWl4aW4gaXMgaW5jbHVkZWQgYXQgdGhlIHRvcCBsZXZlbC5cbiAgLm1hdC1hcHAtYmFja2dyb3VuZCN7aWYoJiwgJywgJi5tYXQtYXBwLWJhY2tncm91bmQnLCAnJyl9IHtcbiAgICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgICAkZm9yZWdyb3VuZDogbWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcblxuICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgYmFja2dyb3VuZCk7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG4gIH1cblxuICAvLyBQcm92aWRlcyBleHRlcm5hbCBDU1MgY2xhc3NlcyBmb3IgZWFjaCBlbGV2YXRpb24gdmFsdWUuIEVhY2ggQ1NTIGNsYXNzIGlzIGZvcm1hdHRlZCBhc1xuICAvLyBgbWF0LWVsZXZhdGlvbi16JHpWYWx1ZWAgd2hlcmUgYCR6VmFsdWVgIGNvcnJlc3BvbmRzIHRvIHRoZSB6LXNwYWNlIHRvIHdoaWNoIHRoZSBlbGVtZW50IGlzXG4gIC8vIGVsZXZhdGVkLlxuICBAZm9yICR6VmFsdWUgZnJvbSAwIHRocm91Z2ggMjQge1xuICAgIC4jeyRtYXQtZWxldmF0aW9uLXByZWZpeH0jeyR6VmFsdWV9IHtcbiAgICAgIEBpbmNsdWRlIG1hdC1wcml2YXRlLXRoZW1lLWVsZXZhdGlvbigkelZhbHVlLCAkY29uZmlnKTtcbiAgICB9XG4gIH1cblxuICAvLyBNYXJrZXIgdGhhdCBpcyB1c2VkIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZSB1c2VyIGhhcyBhZGRlZCBhIHRoZW1lIHRvIHRoZWlyIHBhZ2UuXG4gIEBhdC1yb290IHtcbiAgICAubWF0LXRoZW1lLWxvYWRlZC1tYXJrZXIge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gIH1cbn1cblxuLy8gTWl4aW4gdGhhdCByZW5kZXJzIGFsbCBvZiB0aGUgY29yZSBzdHlsZXMgdGhhdCBkZXBlbmQgb24gdGhlIHRoZW1lLlxuQG1peGluIG1hdC1jb3JlLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBtYXQtcHJpdmF0ZS1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAvLyBXcmFwIHRoZSBzdWItdGhlbWUgaW5jbHVkZXMgaW4gdGhlIGR1cGxpY2F0ZSB0aGVtZSBzdHlsZXMgbWl4aW4uIFRoaXMgZW5zdXJlcyB0aGF0XG4gIC8vIHRoZXJlIHdvbid0IGJlIG11bHRpcGxlIHdhcm5pbmdzLiBlLmcuIGlmIGBtYXQtY29yZS10aGVtZWAgcmVwb3J0cyBhIHdhcm5pbmcsIHRoZW5cbiAgLy8gdGhlIGltcG9ydGVkIHRoZW1lcyAoc3VjaCBhcyBgbWF0LXJpcHBsZS10aGVtZWApIHNob3VsZCBub3QgcmVwb3J0IGFnYWluLlxuICBAaW5jbHVkZSBtYXQtcHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1jb3JlJykge1xuICAgIEBpbmNsdWRlIG1hdC1yaXBwbGUtdGhlbWUoJHRoZW1lKTtcbiAgICBAaW5jbHVkZSBtYXQtb3B0aW9uLXRoZW1lKCR0aGVtZSk7XG4gICAgQGluY2x1ZGUgbWF0LW9wdGdyb3VwLXRoZW1lKCR0aGVtZSk7XG4gICAgQGluY2x1ZGUgbWF0LXBzZXVkby1jaGVja2JveC10aGVtZSgkdGhlbWUpO1xuXG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtY29yZS1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgfVxufVxuXG4vLyBNaXhpbiB0aGF0IHJlbmRlcnMgYWxsIG9mIHRoZSBjb3JlIE1EQyBzdHlsZXMuIFByaXZhdGUgbWl4aW4gaW5jbHVkZWQgd2l0aCBgbWF0LWNvcmVgLlxuQG1peGluIF9tYXQtbWRjLWNvcmUoKSB7XG4gIEBpbmNsdWRlIF9tYXQtbWRjLXN0cm9uZy1mb2N1cy1pbmRpY2F0b3JzLXBvc2l0aW9uaW5nKCk7XG59XG5cbi8vIE1peGluIHRoYXQgZW5zdXJlcyBmb2N1cyBpbmRpY2F0b3IgaG9zdCBlbGVtZW50cyBhcmUgcG9zaXRpb25lZCBzbyB0aGF0IHRoZSBmb2N1cyBpbmRpY2F0b3Jcbi8vIHBzZXVkbyBlbGVtZW50IHdpdGhpbiBpcyBwb3NpdGlvbmVkIHJlbGF0aXZlIHRvIHRoZSBob3N0LiBQcml2YXRlIG1peGluIGluY2x1ZGVkIHdpdGhpblxuLy8gYF9tYXQtbWRjLWNvcmVgLlxuQG1peGluIF9tYXQtbWRjLXN0cm9uZy1mb2N1cy1pbmRpY2F0b3JzLXBvc2l0aW9uaW5nKCkge1xuICAubWF0LW1kYy1mb2N1cy1pbmRpY2F0b3Ige1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxufVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vLyBDcmVhdGUgYSB0aGVtZS5cbkBtaXhpbiBhbmd1bGFyLW1hdGVyaWFsLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJGRlZHVwZS1rZXk6ICdhbmd1bGFyLW1hdGVyaWFsLXRoZW1lJztcbiAgQGluY2x1ZGUgbWF0LXByaXZhdGUtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUtb3ItY29sb3ItY29uZmlnLCAkZGVkdXBlLWtleSkge1xuICAgIEBpbmNsdWRlIG1hdC1jb3JlLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC1hdXRvY29tcGxldGUtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gICAgQGluY2x1ZGUgbWF0LWJhZGdlLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC1ib3R0b20tc2hlZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gICAgQGluY2x1ZGUgbWF0LWJ1dHRvbi10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtYnV0dG9uLXRvZ2dsZS10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtY2FyZC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtY2hlY2tib3gtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gICAgQGluY2x1ZGUgbWF0LWNoaXBzLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC10YWJsZS10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtZGF0ZXBpY2tlci10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtZGlhbG9nLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC1kaXZpZGVyLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC1leHBhbnNpb24tcGFuZWwtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gICAgQGluY2x1ZGUgbWF0LWZvcm0tZmllbGQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gICAgQGluY2x1ZGUgbWF0LWdyaWQtbGlzdC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtaWNvbi10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtaW5wdXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gICAgQGluY2x1ZGUgbWF0LWxpc3QtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gICAgQGluY2x1ZGUgbWF0LW1lbnUtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gICAgQGluY2x1ZGUgbWF0LXBhZ2luYXRvci10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtcHJvZ3Jlc3MtYmFyLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC1wcm9ncmVzcy1zcGlubmVyLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC1yYWRpby10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtc2VsZWN0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC1zaWRlbmF2LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC1zbGlkZS10b2dnbGUtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gICAgQGluY2x1ZGUgbWF0LXNsaWRlci10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtc3RlcHBlci10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtc29ydC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtdGFicy10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtdG9vbGJhci10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtdG9vbHRpcC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtdHJlZS10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtc25hY2stYmFyLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICB9XG59XG5cblxuXG4vLyBJbmNsdWRlcyBhbGwgb2YgdGhlIGNvbG9yIHN0eWxlcy5cbkBtaXhpbiBhbmd1bGFyLW1hdGVyaWFsLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgLy8gSW4gY2FzZSBhIHRoZW1lIG9iamVjdCBoYXMgYmVlbiBwYXNzZWQgaW5zdGVhZCBvZiBhIGNvbmZpZ3VyYXRpb24gZm9yXG4gIC8vIHRoZSBjb2xvciBzeXN0ZW0sIGV4dHJhY3QgdGhlIGNvbG9yIGNvbmZpZyBmcm9tIHRoZSB0aGVtZSBvYmplY3QuXG4gICRjb25maWc6IGlmKG1hdC1wcml2YXRlLWlzLXRoZW1lLW9iamVjdCgkY29uZmlnLW9yLXRoZW1lKSxcbiAgICAgIG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpLCAkY29uZmlnLW9yLXRoZW1lKTtcblxuICBAaWYgJGNvbmZpZyA9PSBudWxsIHtcbiAgICBAZXJyb3IgJ05vIGNvbG9yIGNvbmZpZ3VyYXRpb24gc3BlY2lmaWVkLic7XG4gIH1cblxuICBAaW5jbHVkZSBhbmd1bGFyLW1hdGVyaWFsLXRoZW1lKChcbiAgICBjb2xvcjogJGNvbmZpZyxcbiAgICB0eXBvZ3JhcGh5OiBudWxsLFxuICAgIGRlbnNpdHk6IG51bGwsXG4gICkpO1xufVxuXG5cblxuXG5cblxuXG5cblxuXG4vLyBJbmNsdWRlcyBhbGwgb2YgdGhlIGRlbnNpdHkgc3R5bGVzLlxuQG1peGluIGFuZ3VsYXItbWF0ZXJpYWwtZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gIC8vIEluIGNhc2UgYSB0aGVtZSBvYmplY3QgaGFzIGJlZW4gcGFzc2VkIGluc3RlYWQgb2YgYSBjb25maWd1cmF0aW9uIGZvclxuICAvLyB0aGUgZGVuc2l0eSBzeXN0ZW0sIGV4dHJhY3QgdGhlIGRlbnNpdHkgY29uZmlnIGZyb20gdGhlIHRoZW1lIG9iamVjdC5cbiAgJGNvbmZpZzogaWYobWF0LXByaXZhdGUtaXMtdGhlbWUtb2JqZWN0KCRjb25maWctb3ItdGhlbWUpLFxuICAgICAgbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKSwgJGNvbmZpZy1vci10aGVtZSk7XG5cbiAgQGlmICRjb25maWcgPT0gbnVsbCB7XG4gICAgQGVycm9yICdObyBkZW5zaXR5IGNvbmZpZ3VyYXRpb24gc3BlY2lmaWVkLic7XG4gIH1cblxuICAvLyBUT0RPOiBDT01QLTMwOTogRG8gbm90IHVzZSBpbmRpdmlkdWFsIG1peGlucy4gSW5zdGVhZCwgdXNlIHRoZSBhbGwtdGhlbWUgbWl4aW4gYW5kIG9ubHlcbiAgLy8gc3BlY2lmeSBhIGBkZW5zaXR5YCBjb25maWcgd2hpbGUgc2V0dGluZyBgY29sb3JgIGFuZCBgdHlwb2dyYXBoeWAgdG8gYG51bGxgLiBUaGlzIGlzIGN1cnJlbnRseVxuICAvLyBub3QgcG9zc2libGUgYXMgaXQgd291bGQgaW50cm9kdWNlIGEgY2lyY3VsYXIgZGVwZW5kZW5jeSBmb3IgZGVuc2l0eSBiZWNhdXNlIHRoZSBgbWF0LWNvcmVgXG4gIC8vIG1peGluIHRoYXQgaXMgdHJhbnNpdGl2ZWx5IGxvYWRlZCBieSB0aGUgYGFsbC10aGVtZWAgZmlsZSwgaW1wb3J0cyBgYWxsLWRlbnNpdHlgIHdoaWNoXG4gIC8vIHdvdWxkIHRoZW4gbG9hZCBgYWxsLXRoZW1lYCBhZ2Fpbi4gVGhpcyB1bHRpbWF0ZWx5IHJlc3VsdHMgYSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuXG4gIEBpbmNsdWRlIG1hdC1leHBhbnNpb24tcGFuZWwtZGVuc2l0eSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXN0ZXBwZXItZGVuc2l0eSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXRvb2xiYXItZGVuc2l0eSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXRyZWUtZGVuc2l0eSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXBhZ2luYXRvci1kZW5zaXR5KCRjb25maWcpO1xuICBAaW5jbHVkZSBtYXQtZm9ybS1maWVsZC1kZW5zaXR5KCRjb25maWcpO1xuICBAaW5jbHVkZSBtYXQtYnV0dG9uLXRvZ2dsZS1kZW5zaXR5KCRjb25maWcpO1xufVxuXG5cblxuIiwiQGltcG9ydCBcInZhcmlhYmxlcy5zY3NzXCI7XG5cbkBtaXhpbiBjaXJjbGUoJHNpemUsICRiZ2M6IHdoaXRlKSB7XG4gIHdpZHRoOiAkc2l6ZTtcbiAgaGVpZ2h0OiAkc2l6ZTtcbiAgYm9yZGVyLXJhZGl1czogJHNpemUvMjtcbiAgYmFja2dyb3VuZC1jb2xvcjogJGJnYztcbn1cblxuQGZ1bmN0aW9uIHVuaXRzKCRtdWx0aXBsaWVyOiAxKSB7XG4gICR1bml0czogJHVuaXQgKiAkbXVsdGlwbGllcjtcbiAgQHJldHVybiAkdW5pdHM7XG59XG5cbkBtaXhpbiB6bS12aWV3ZXItZGlhbG9nKCR3aWR0aCkge1xuICBwYWRkaW5nOiAwO1xuICB3aWR0aDogJHdpZHRoO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLSN7JHdpZHRoLzJ9KTtcblxuICAubWF0LWRpYWxvZy1jb250YWluZXIge1xuICAgIHBhZGRpbmc6IDA7XG4gICAgbWFyZ2luOiAwO1xuICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDA7XG4gICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDA7XG4gIH1cbn1cblxuQG1peGluIGNlbnRlci1jb250ZW50cyB7XG5cdGRpc3BsYXk6IGlubGluZS1mbGV4O1xuXHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcblx0YWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cbiJdfQ== */"], encapsulation: 2, changeDetection: 0 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](EditorComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'zebra-viewer-editor',
                templateUrl: './editor.component.html',
                styleUrls: ['./editor.component.scss'],
                providers: [_shared_services_config_service__WEBPACK_IMPORTED_MODULE_8__["ConfigService"]],
                /* eslint-disable-next-line */
                encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
            }]
    }], function () { return [{ type: _services_viewport_metadata_service__WEBPACK_IMPORTED_MODULE_9__["ViewportMetadataService"] }, { type: _shared_services_hotkeys_service__WEBPACK_IMPORTED_MODULE_10__["HotkeysService"] }, { type: _services_tag_service__WEBPACK_IMPORTED_MODULE_11__["TagService"] }, { type: _shared_services_config_service__WEBPACK_IMPORTED_MODULE_8__["ConfigService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, { config: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], layout: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], data: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], tags: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], activeViewportId: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], activeTool: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], activeTag: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], currentSlice: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], viewportsWithPendingTags: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], relevantViewportsPolicy: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], tagAction: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], activeViewportChange: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], tagUpdate: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], tagDelete: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], tagClick: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], change: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "0eZ/":
/*!*******************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules/core/models/show-hide-annotation.command.ts ***!
  \*******************************************************************************************/
/*! exports provided: ShowHideAnnotationCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShowHideAnnotationCommand", function() { return ShowHideAnnotationCommand; });
/* harmony import */ var _shared_interfaces_base_command_interface__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared/interfaces/base-command.interface */ "obi/");

class ShowHideAnnotationCommand extends _shared_interfaces_base_command_interface__WEBPACK_IMPORTED_MODULE_0__["IBaseCommand"] {
    constructor(options) {
        super(options);
    }
}


/***/ }),

/***/ "0nvA":
/*!********************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/cornerstone/custom-tools/length.tool.ts ***!
  \********************************************************************************************/
/*! exports provided: ZMLengthTool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ZMLengthTool", function() { return ZMLengthTool; });
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cornerstone-tools */ "b09o");
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__);

const LengthTool = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.LengthTool;
class ZMLengthTool extends LengthTool {
    constructor(props) {
        super(props);
        this.imageViewerSegmentation = props.imageViewerSegmentationService;
        this.handleSelectedCallback = this.handleSelectedCallback.bind(this);
    }
    handleSelectedCallback(evt, toolData, handle) {
        this.element.addEventListener('cornerstonetoolsmouseup', this.imageViewerSegmentation.mouseUpOnAreaMeasurement.bind(this.imageViewerSegmentation, this.name, toolData._id), {
            capture: true,
            once: true,
        });
        if (toolData) {
            super.handleSelectedCallback(evt, toolData, handle);
        }
    }
}


/***/ }),

/***/ 1:
/*!********************!*\
  !*** fs (ignored) ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "1bVQ":
/*!***************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/editor.module.ts ***!
  \***************************************************************/
/*! exports provided: EditorModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditorModule", function() { return EditorModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shared/shared.module */ "msKL");
/* harmony import */ var _zm_material_zm_material_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../zm-material/zm-material.module */ "Dz2t");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "s7LF");
/* harmony import */ var ngx_clipboard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ngx-clipboard */ "IbkX");
/* harmony import */ var _editor_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./editor.component */ "007k");
/* harmony import */ var _toolbar_toolbar_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./toolbar/toolbar.component */ "knDV");
/* harmony import */ var _config_tools_handlers_window_window_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../config/tools-handlers/window/window.component */ "BPHB");
/* harmony import */ var _config_tools_handlers_zoom_zoom_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../config/tools-handlers/zoom/zoom.component */ "rwBH");
/* harmony import */ var _config_tools_handlers_cine_cine_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../config/tools-handlers/cine/cine.component */ "1dXZ");
/* harmony import */ var _config_tools_handlers_keyboard_shortcuts_keyboard_shortcuts_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../config/tools-handlers/keyboard-shortcuts/keyboard-shortcuts.component */ "7KSW");
/* harmony import */ var _toolbar_dynamic_dialog_dynamic_dialog_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./toolbar/dynamic-dialog/dynamic-dialog.component */ "9CRj");
/* harmony import */ var _toolbar_tool_tool_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./toolbar/tool/tool.component */ "F9an");
/* harmony import */ var _viewports_manager_viewports_manager_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./viewports-manager/viewports-manager.component */ "N6Ii");
/* harmony import */ var _viewports_manager_viewport_container_viewport_container_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./viewports-manager/viewport-container/viewport-container.component */ "hUKN");
/* harmony import */ var _image_viewer_image_viewer_module__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../image-viewer/image-viewer.module */ "8oEz");
/* harmony import */ var _text_viewer_text_viewer_module__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../text-viewer/text-viewer.module */ "7Ada");
/* harmony import */ var _viewports_manager_viewport_container_tagsbar_tagsbar_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./viewports-manager/viewport-container/tagsbar/tagsbar.component */ "SqQm");
/* harmony import */ var _viewports_manager_viewport_container_tagsbar_tag_tag_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./viewports-manager/viewport-container/tagsbar/tag/tag.component */ "otqz");
/* harmony import */ var _viewports_manager_viewport_container_active_tag_bar_active_tag_bar_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./viewports-manager/viewport-container/active-tag-bar/active-tag-bar.component */ "DtpI");
/* harmony import */ var _shared_window__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../shared/window */ "5Cu/");
/* harmony import */ var _config_tools_handlers_grid_grid_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../config/tools-handlers/grid/grid.component */ "D/Lq");
/* harmony import */ var _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/cdk/drag-drop */ "ltgo");
/* harmony import */ var _config_tools_handlers_dicom_tags_dicom_tags_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../config/tools-handlers/dicom-tags/dicom-tags.component */ "KF7n");
/* harmony import */ var _viewports_manager_viewport_container_scrollbar_scrollbar_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./viewports-manager/viewport-container/scrollbar/scrollbar.component */ "v1KR");
/* harmony import */ var _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @angular/cdk/scrolling */ "7KAL");
/* harmony import */ var _report_viewer_report_viewer_module__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../report-viewer/report-viewer.module */ "98fi");
/* harmony import */ var _material_extended_mde__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @material-extended/mde */ "Xs+b");
/* harmony import */ var _config_icons_config__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../config/icons.config */ "KIfn");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @angular/material/icon */ "Tj54");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @angular/platform-browser */ "cUpR");






// General

// Tools







// Viewer




// Tags















class EditorModule {
    constructor(matIconRegistry, domSanitizer) {
        this.matIconRegistry = matIconRegistry;
        this.domSanitizer = domSanitizer;
        this.loadIcons(_config_icons_config__WEBPACK_IMPORTED_MODULE_29__["iconSvgSet"], this.matIconRegistry, this.domSanitizer);
    }
    loadIcons(iconSet, matIconRegistry, domSanitizer) {
        matIconRegistry.addSvgIconSetLiteral(domSanitizer.bypassSecurityTrustHtml(iconSet));
    }
}
EditorModule.ɵfac = function EditorModule_Factory(t) { return new (t || EditorModule)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_material_icon__WEBPACK_IMPORTED_MODULE_30__["MatIconRegistry"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_31__["DomSanitizer"])); };
EditorModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: EditorModule });
EditorModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ providers: [{ provide: _shared_window__WEBPACK_IMPORTED_MODULE_21__["WindowToken"], useFactory: _shared_window__WEBPACK_IMPORTED_MODULE_21__["windowProvider"] }], imports: [[
            _zm_material_zm_material_module__WEBPACK_IMPORTED_MODULE_3__["ZmMaterialModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__["SharedModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormsModule"],
            _image_viewer_image_viewer_module__WEBPACK_IMPORTED_MODULE_16__["ImageViewerModule"],
            _text_viewer_text_viewer_module__WEBPACK_IMPORTED_MODULE_17__["TextViewerModule"],
            _report_viewer_report_viewer_module__WEBPACK_IMPORTED_MODULE_27__["ReportViewerModule"],
            _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_23__["DragDropModule"],
            ngx_clipboard__WEBPACK_IMPORTED_MODULE_5__["ClipboardModule"],
            _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_26__["ScrollingModule"],
            _material_extended_mde__WEBPACK_IMPORTED_MODULE_28__["MdePopoverModule"],
        ], _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__["SharedModule"]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](EditorModule, { declarations: [_toolbar_toolbar_component__WEBPACK_IMPORTED_MODULE_7__["ToolbarComponent"],
        _config_tools_handlers_window_window_component__WEBPACK_IMPORTED_MODULE_8__["WindowComponent"],
        _config_tools_handlers_zoom_zoom_component__WEBPACK_IMPORTED_MODULE_9__["ZoomComponent"],
        _config_tools_handlers_cine_cine_component__WEBPACK_IMPORTED_MODULE_10__["CineComponent"],
        _config_tools_handlers_keyboard_shortcuts_keyboard_shortcuts_component__WEBPACK_IMPORTED_MODULE_11__["KeyboardShortcutsComponent"],
        _toolbar_dynamic_dialog_dynamic_dialog_component__WEBPACK_IMPORTED_MODULE_12__["DynamicDialogComponent"],
        _editor_component__WEBPACK_IMPORTED_MODULE_6__["EditorComponent"],
        _viewports_manager_viewports_manager_component__WEBPACK_IMPORTED_MODULE_14__["ViewportsManagerComponent"],
        _viewports_manager_viewport_container_viewport_container_component__WEBPACK_IMPORTED_MODULE_15__["ViewportContainerComponent"],
        _viewports_manager_viewport_container_tagsbar_tagsbar_component__WEBPACK_IMPORTED_MODULE_18__["TagsbarComponent"],
        _viewports_manager_viewport_container_tagsbar_tag_tag_component__WEBPACK_IMPORTED_MODULE_19__["TagComponent"],
        _toolbar_tool_tool_component__WEBPACK_IMPORTED_MODULE_13__["ToolComponent"],
        _viewports_manager_viewport_container_active_tag_bar_active_tag_bar_component__WEBPACK_IMPORTED_MODULE_20__["ActiveTagBarComponent"],
        _config_tools_handlers_grid_grid_component__WEBPACK_IMPORTED_MODULE_22__["GridComponent"],
        _config_tools_handlers_dicom_tags_dicom_tags_component__WEBPACK_IMPORTED_MODULE_24__["DicomTagsComponent"],
        _viewports_manager_viewport_container_scrollbar_scrollbar_component__WEBPACK_IMPORTED_MODULE_25__["ScrollbarComponent"]], imports: [_zm_material_zm_material_module__WEBPACK_IMPORTED_MODULE_3__["ZmMaterialModule"],
        _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__["SharedModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormsModule"],
        _image_viewer_image_viewer_module__WEBPACK_IMPORTED_MODULE_16__["ImageViewerModule"],
        _text_viewer_text_viewer_module__WEBPACK_IMPORTED_MODULE_17__["TextViewerModule"],
        _report_viewer_report_viewer_module__WEBPACK_IMPORTED_MODULE_27__["ReportViewerModule"],
        _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_23__["DragDropModule"],
        ngx_clipboard__WEBPACK_IMPORTED_MODULE_5__["ClipboardModule"],
        _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_26__["ScrollingModule"],
        _material_extended_mde__WEBPACK_IMPORTED_MODULE_28__["MdePopoverModule"]], exports: [_editor_component__WEBPACK_IMPORTED_MODULE_6__["EditorComponent"], _toolbar_toolbar_component__WEBPACK_IMPORTED_MODULE_7__["ToolbarComponent"], _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__["SharedModule"], _toolbar_tool_tool_component__WEBPACK_IMPORTED_MODULE_13__["ToolComponent"]] }); })();
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](EditorModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                declarations: [
                    _toolbar_toolbar_component__WEBPACK_IMPORTED_MODULE_7__["ToolbarComponent"],
                    _config_tools_handlers_window_window_component__WEBPACK_IMPORTED_MODULE_8__["WindowComponent"],
                    _config_tools_handlers_zoom_zoom_component__WEBPACK_IMPORTED_MODULE_9__["ZoomComponent"],
                    _config_tools_handlers_cine_cine_component__WEBPACK_IMPORTED_MODULE_10__["CineComponent"],
                    _config_tools_handlers_keyboard_shortcuts_keyboard_shortcuts_component__WEBPACK_IMPORTED_MODULE_11__["KeyboardShortcutsComponent"],
                    _toolbar_dynamic_dialog_dynamic_dialog_component__WEBPACK_IMPORTED_MODULE_12__["DynamicDialogComponent"],
                    _editor_component__WEBPACK_IMPORTED_MODULE_6__["EditorComponent"],
                    _viewports_manager_viewports_manager_component__WEBPACK_IMPORTED_MODULE_14__["ViewportsManagerComponent"],
                    _viewports_manager_viewport_container_viewport_container_component__WEBPACK_IMPORTED_MODULE_15__["ViewportContainerComponent"],
                    _viewports_manager_viewport_container_tagsbar_tagsbar_component__WEBPACK_IMPORTED_MODULE_18__["TagsbarComponent"],
                    _viewports_manager_viewport_container_tagsbar_tag_tag_component__WEBPACK_IMPORTED_MODULE_19__["TagComponent"],
                    _toolbar_tool_tool_component__WEBPACK_IMPORTED_MODULE_13__["ToolComponent"],
                    _viewports_manager_viewport_container_active_tag_bar_active_tag_bar_component__WEBPACK_IMPORTED_MODULE_20__["ActiveTagBarComponent"],
                    _config_tools_handlers_grid_grid_component__WEBPACK_IMPORTED_MODULE_22__["GridComponent"],
                    _config_tools_handlers_dicom_tags_dicom_tags_component__WEBPACK_IMPORTED_MODULE_24__["DicomTagsComponent"],
                    _viewports_manager_viewport_container_scrollbar_scrollbar_component__WEBPACK_IMPORTED_MODULE_25__["ScrollbarComponent"],
                ],
                imports: [
                    _zm_material_zm_material_module__WEBPACK_IMPORTED_MODULE_3__["ZmMaterialModule"],
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__["SharedModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormsModule"],
                    _image_viewer_image_viewer_module__WEBPACK_IMPORTED_MODULE_16__["ImageViewerModule"],
                    _text_viewer_text_viewer_module__WEBPACK_IMPORTED_MODULE_17__["TextViewerModule"],
                    _report_viewer_report_viewer_module__WEBPACK_IMPORTED_MODULE_27__["ReportViewerModule"],
                    _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_23__["DragDropModule"],
                    ngx_clipboard__WEBPACK_IMPORTED_MODULE_5__["ClipboardModule"],
                    _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_26__["ScrollingModule"],
                    _material_extended_mde__WEBPACK_IMPORTED_MODULE_28__["MdePopoverModule"],
                ],
                exports: [_editor_component__WEBPACK_IMPORTED_MODULE_6__["EditorComponent"], _toolbar_toolbar_component__WEBPACK_IMPORTED_MODULE_7__["ToolbarComponent"], _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__["SharedModule"], _toolbar_tool_tool_component__WEBPACK_IMPORTED_MODULE_13__["ToolComponent"]],
                entryComponents: [
                    _config_tools_handlers_window_window_component__WEBPACK_IMPORTED_MODULE_8__["WindowComponent"],
                    _config_tools_handlers_zoom_zoom_component__WEBPACK_IMPORTED_MODULE_9__["ZoomComponent"],
                    _config_tools_handlers_keyboard_shortcuts_keyboard_shortcuts_component__WEBPACK_IMPORTED_MODULE_11__["KeyboardShortcutsComponent"],
                    _config_tools_handlers_cine_cine_component__WEBPACK_IMPORTED_MODULE_10__["CineComponent"],
                    _config_tools_handlers_grid_grid_component__WEBPACK_IMPORTED_MODULE_22__["GridComponent"],
                    _toolbar_dynamic_dialog_dynamic_dialog_component__WEBPACK_IMPORTED_MODULE_12__["DynamicDialogComponent"],
                    _config_tools_handlers_dicom_tags_dicom_tags_component__WEBPACK_IMPORTED_MODULE_24__["DicomTagsComponent"],
                ],
                providers: [{ provide: _shared_window__WEBPACK_IMPORTED_MODULE_21__["WindowToken"], useFactory: _shared_window__WEBPACK_IMPORTED_MODULE_21__["windowProvider"] }],
            }]
    }], function () { return [{ type: _angular_material_icon__WEBPACK_IMPORTED_MODULE_30__["MatIconRegistry"] }, { type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_31__["DomSanitizer"] }]; }, null); })();


/***/ }),

/***/ "1dXZ":
/*!********************************************************************************!*\
  !*** ./projects/zebra-viewer/src/config/tools-handlers/cine/cine.component.ts ***!
  \********************************************************************************/
/*! exports provided: CineComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CineComponent", function() { return CineComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _lib_editor_shared_models_tool_action_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/editor/shared/models/tool-action.model */ "vvF0");
/* harmony import */ var _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/editor/shared/models/command.model */ "lxft");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _lib_editor_shared_models_command_tool_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/editor/shared/models/command-tool.model */ "+1r3");
/* harmony import */ var _lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/editor/shared/enums/tools.enum */ "IjAf");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/button */ "Dxy4");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/icon */ "Tj54");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _angular_material_slider__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/slider */ "mPVK");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/form-field */ "Q2Ze");












const _c0 = function (a0) { return { display: a0 }; };
class CineComponent {
    constructor(cdRef) {
        this.cdRef = cdRef;
        this.isPlaying = false;
        this.done = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.actionChange$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["ReplaySubject"](1);
        this.fps = 23.976;
        this.playClipAction = new _lib_editor_shared_models_tool_action_model__WEBPACK_IMPORTED_MODULE_1__["ToolAction"](new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_2__["Command"]('playClip'), new _lib_editor_shared_models_command_tool_model__WEBPACK_IMPORTED_MODULE_4__["CommandTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_5__["ToolsEnum"].CINE_PLAY));
        this.pauseClipAction = new _lib_editor_shared_models_tool_action_model__WEBPACK_IMPORTED_MODULE_1__["ToolAction"](new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_2__["Command"]('stopClip'), new _lib_editor_shared_models_command_tool_model__WEBPACK_IMPORTED_MODULE_4__["CommandTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_5__["ToolsEnum"].CINE_STOP));
        this.scrollByAction = new _lib_editor_shared_models_tool_action_model__WEBPACK_IMPORTED_MODULE_1__["ToolAction"](new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_2__["Command"]('scrollBy'), new _lib_editor_shared_models_command_tool_model__WEBPACK_IMPORTED_MODULE_4__["CommandTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_5__["ToolsEnum"].SCROLL_BY));
    }
    ngOnChanges() {
        this.cdRef.markForCheck();
    }
    ngOnDestroy() {
        this.actionChange$.complete();
    }
    setFps(fps) {
        this.fps = fps;
        if (this.isPlaying) {
            this.playClip(fps);
        }
    }
    playClip(fps) {
        this.playClipAction.command.options = { fps };
        this.actionChange$.next(this.playClipAction);
        this.isPlaying = true;
    }
    pauseClip() {
        this.actionChange$.next(this.pauseClipAction);
        this.isPlaying = false;
    }
    scrollBy(framesCount) {
        this.scrollByAction.command.options = { value: framesCount };
        this.actionChange$.next(this.scrollByAction);
    }
}
CineComponent.ɵfac = function CineComponent_Factory(t) { return new (t || CineComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
CineComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CineComponent, selectors: [["zebra-viewer-cine"]], inputs: { isPlaying: "isPlaying" }, outputs: { done: "done" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 20, vars: 8, consts: [[1, "cine-buttons"], ["mat-icon-button", "", "color", "primary", 1, "scroll-backward-button", 3, "click"], [1, "material-icons"], ["mat-icon-button", "", "color", "primary", 1, "play-button", 3, "ngStyle", "click"], ["mat-icon-button", "", "color", "primary", 1, "pause-button", 3, "ngStyle", "click"], ["mat-icon-button", "", "color", "primary", 1, "scroll-forward-button", 3, "click"], [1, "flexr", "align-center"], ["thumbLabel", "true", "min", "1", "max", "60", "step", "0.1", "color", "primary", 3, "value", "change"], ["fpsSlider", ""]], template: function CineComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "button", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CineComponent_Template_button_click_1_listener() { return ctx.scrollBy(-1); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "mat-icon", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, "fast_rewind");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CineComponent_Template_button_click_4_listener() { return ctx.playClip(ctx.fps); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "mat-icon", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6, "play_circle_outline");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "button", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CineComponent_Template_button_click_7_listener() { return ctx.pauseClip(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "mat-icon", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9, "pause_circle_outline");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "button", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CineComponent_Template_button_click_10_listener() { return ctx.scrollBy(1); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "mat-icon", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](12, "fast_forward");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](14, "Frames Per Second");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "mat-slider", 7, 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function CineComponent_Template_mat_slider_change_16_listener($event) { return ctx.setFps($event.value); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](18, "mat-label");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](19);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](4, _c0, ctx.isPlaying ? "none" : "inline-block"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](6, _c0, !ctx.isPlaying ? "none" : "inline-block"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", ctx.fps);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx.fps, " ");
    } }, directives: [_angular_material_button__WEBPACK_IMPORTED_MODULE_6__["MatButton"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_7__["MatIcon"], _angular_common__WEBPACK_IMPORTED_MODULE_8__["NgStyle"], _angular_material_slider__WEBPACK_IMPORTED_MODULE_9__["MatSlider"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__["MatLabel"]], styles: ["[_nghost-%COMP%] {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n}\n\n.cine-buttons[_ngcontent-%COMP%] {\n  align-self: center;\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 1.5em;\n}\n\n.cine-buttons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  font-size: 2em;\n}\n\nmat-slider[_ngcontent-%COMP%] {\n  width: 80%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2NpbmUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQyxXQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0Esb0JBQUE7QUFDRDs7QUFFQTtFQUNDLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0Esb0JBQUE7QUFDRDs7QUFDQztFQUNDLGNBQUE7QUFDRjs7QUFHQTtFQUNDLFVBQUE7QUFBRCIsImZpbGUiOiJjaW5lLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuXHR3aWR0aDogMTAwJTtcblx0ZGlzcGxheTogZmxleDtcblx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcblx0YWxpZ24taXRlbXM6IHN0cmV0Y2g7XG59XG5cbi5jaW5lLWJ1dHRvbnMge1xuXHRhbGlnbi1zZWxmOiBjZW50ZXI7XG5cdGRpc3BsYXk6IGZsZXg7XG5cdGZsZXgtZGlyZWN0aW9uOiByb3c7XG5cdG1hcmdpbi1ib3R0b206IDEuNWVtO1xuXG5cdG1hdC1pY29uIHtcblx0XHRmb250LXNpemU6IDJlbTtcblx0fVxufVxuXG5tYXQtc2xpZGVyIHtcblx0d2lkdGg6IDgwJTtcbn1cbiJdfQ== */"], changeDetection: 0 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CineComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'zebra-viewer-cine',
                templateUrl: './cine.component.html',
                styleUrls: ['./cine.component.scss'],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, { isPlaying: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], done: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ 2:
/*!**********************!*\
  !*** path (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "2SrO":
/*!**********************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/shared/dicom-tag-code.enum.ts ***!
  \**********************************************************************************/
/*! exports provided: DicomTagCodeEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DicomTagCodeEnum", function() { return DicomTagCodeEnum; });
/* eslint-disable @typescript-eslint/naming-convention */
var DicomTagCodeEnum;
(function (DicomTagCodeEnum) {
    DicomTagCodeEnum["x00080050"] = "Accession Number";
    DicomTagCodeEnum["x00400556"] = "Acquisition Context Description";
    DicomTagCodeEnum["x00400555"] = "Acquisition Context Sequence";
    DicomTagCodeEnum["x00080022"] = "Acquisition Date";
    DicomTagCodeEnum["x0008002a"] = "Acquisition Datetime";
    DicomTagCodeEnum["x00181401"] = "Acquisition Device Processing Code";
    DicomTagCodeEnum["x00181400"] = "Acquisition Device Processing Description";
    DicomTagCodeEnum["x00181310"] = "Acquisition Matrix";
    DicomTagCodeEnum["x00200012"] = "Acquisition Number";
    DicomTagCodeEnum["x00180073"] = "Acquisition Start Condition";
    DicomTagCodeEnum["x00180074"] = "Acquisition Start Condition Data";
    DicomTagCodeEnum["x00180071"] = "Acquisition Termination Condition";
    DicomTagCodeEnum["x00180075"] = "Acquisition Termination Condition Data";
    DicomTagCodeEnum["x00080032"] = "Acquisition Time";
    DicomTagCodeEnum["x00181800"] = "Acquisition Time Synchronized";
    DicomTagCodeEnum["x00201004"] = "Acquisitions in Study";
    DicomTagCodeEnum["x300a0218"] = "Active Source Diameter";
    DicomTagCodeEnum["x300a021a"] = "Active Source Length";
    DicomTagCodeEnum["x00181242"] = "Actual Frame Duration";
    DicomTagCodeEnum["x00404035"] = "Actual Human Performers Sequence";
    DicomTagCodeEnum["x0018002a"] = "Additional Drug Sequence";
    DicomTagCodeEnum["x001021b0"] = "Additional Patient History";
    DicomTagCodeEnum["x00540302"] = "Administration Route Code Sequence";
    DicomTagCodeEnum["x00380010"] = "Admission ID";
    DicomTagCodeEnum["x00380020"] = "Admitting Date";
    DicomTagCodeEnum["x00081084"] = "Admitting Diagnoses Code Sequence";
    DicomTagCodeEnum["x00081080"] = "Admitting Diagnoses Description";
    DicomTagCodeEnum["x00380021"] = "Admitting Time";
    DicomTagCodeEnum["x300a022c"] = "Air Kerma Rate Reference Date";
    DicomTagCodeEnum["x300a022e"] = "Air Kerma Rate Reference Time";
    DicomTagCodeEnum["x00082220"] = "Anatomic Region Modifier Sequence";
    DicomTagCodeEnum["x00082218"] = "Anatomic Region Sequence";
    DicomTagCodeEnum["x00082229"] = "Anatomic Structure, Space or Region Sequence";
    DicomTagCodeEnum["x00700014"] = "Anchor Point";
    DicomTagCodeEnum["x00700004"] = "Anchor Point Annotation Units";
    DicomTagCodeEnum["x00700015"] = "Anchor Point Visibility";
    DicomTagCodeEnum["x00180025"] = "Angio Flag";
    DicomTagCodeEnum["x00181141"] = "Angular Position";
    DicomTagCodeEnum["x00181144"] = "Angular Step";
    DicomTagCodeEnum["x00540090"] = "Angular View Vector";
    DicomTagCodeEnum["x21300050"] = "Annotation Content Sequence";
    DicomTagCodeEnum["x20100030"] = "Annotation Display Format ID";
    DicomTagCodeEnum["x20000065"] = "Annotation Flag";
    DicomTagCodeEnum["x0040a180"] = "Annotation Group Number";
    DicomTagCodeEnum["x20300010"] = "Annotation Position";
    DicomTagCodeEnum["x0040b020"] = "Annotation Sequence";
    DicomTagCodeEnum["x00181191"] = "Anode Target Material";
    DicomTagCodeEnum["x00286102"] = "Applicable Frame Range";
    DicomTagCodeEnum["x30080116"] = "Application Setup Check";
    DicomTagCodeEnum["x300a0238"] = "Application Setup Manufacturer";
    DicomTagCodeEnum["x300a0236"] = "Application Setup Name";
    DicomTagCodeEnum["x300a0234"] = "Application Setup Number";
    DicomTagCodeEnum["x300a0230"] = "Application Setup Sequence";
    DicomTagCodeEnum["x300a0232"] = "Application Setup Type";
    DicomTagCodeEnum["x300a010a"] = "Applicator Description";
    DicomTagCodeEnum["x300a0108"] = "Applicator ID";
    DicomTagCodeEnum["x300a0107"] = "Applicator Sequence";
    DicomTagCodeEnum["x300a0109"] = "Applicator Type";
    DicomTagCodeEnum["x300e0002"] = "Approval Status";
    DicomTagCodeEnum["x30060049"] = "Attached Contours";
    DicomTagCodeEnum["x00541101"] = "Attenuation Correction Method";
    DicomTagCodeEnum["x50xx200e"] = "Audio Comments";
    DicomTagCodeEnum["x50xx200c"] = "Audio Sample Data";
    DicomTagCodeEnum["x50xx2002"] = "Audio Sample Format";
    DicomTagCodeEnum["x50xx2000"] = "Audio Type";
    DicomTagCodeEnum["x01000426"] = "Authorization Equipment Certification Number";
    DicomTagCodeEnum["x00181154"] = "Average Pulse Width";
    DicomTagCodeEnum["x00541200"] = "Axial Acceptance";
    DicomTagCodeEnum["x00541201"] = "Axial Mash";
    DicomTagCodeEnum["x50xx0040"] = "Axis Labels";
    DicomTagCodeEnum["x50xx0030"] = "Axis Units";
    DicomTagCodeEnum["x20200111"] = "Basic Color Image Sequence";
    DicomTagCodeEnum["x20200110"] = "Basic Grayscale Image Sequence";
    DicomTagCodeEnum["x300a00c3"] = "Beam Description";
    DicomTagCodeEnum["x300a0084"] = "Beam Dose";
    DicomTagCodeEnum["x300a0082"] = "Beam Dose Specification Point";
    DicomTagCodeEnum["x300a0120"] = "Beam Limiting Device Angle";
    DicomTagCodeEnum["x300a0046"] = "Beam Limiting Device Angle Tolerance";
    DicomTagCodeEnum["x300800a0"] = "Beam Limiting Device Leaf Pairs Sequence";
    DicomTagCodeEnum["x300a011a"] = "Beam Limiting Device Position Sequence";
    DicomTagCodeEnum["x300a004a"] = "Beam Limiting Device Position Tolerance";
    DicomTagCodeEnum["x300a0121"] = "Beam Limiting Device Rotation Direction";
    DicomTagCodeEnum["x300a00b6"] = "Beam Limiting Device Sequence";
    DicomTagCodeEnum["x300a0048"] = "Beam Limiting Device Tolerance Sequence";
    DicomTagCodeEnum["x300a0086"] = "Beam Meterset";
    DicomTagCodeEnum["x300a00c2"] = "Beam Name";
    DicomTagCodeEnum["x300a00c0"] = "Beam Number";
    DicomTagCodeEnum["x300a00b0"] = "Beam Sequence";
    DicomTagCodeEnum["x30080230"] = "Beam Stopper Position";
    DicomTagCodeEnum["x300a00c4"] = "Beam Type";
    DicomTagCodeEnum["x00181080"] = "Beat Rejection Flag";
    DicomTagCodeEnum["x00400296"] = "Billing Item Sequence";
    DicomTagCodeEnum["x00400320"] = "Billing Procedure Step Sequence";
    DicomTagCodeEnum["x00400324"] = "Billing Supplies and Devices Sequence";
    DicomTagCodeEnum["x00285000"] = "Bi-Plane Acquisition Sequence";
    DicomTagCodeEnum["x00280100"] = "Bits Allocated";
    DicomTagCodeEnum["x00280101"] = "Bits Stored";
    DicomTagCodeEnum["x300a0106"] = "Block Data";
    DicomTagCodeEnum["x300a00fa"] = "Block Divergence";
    DicomTagCodeEnum["x300a00fe"] = "Block Name";
    DicomTagCodeEnum["x300a00fc"] = "Block Number";
    DicomTagCodeEnum["x300a0104"] = "Block Number of Points";
    DicomTagCodeEnum["x300a00f4"] = "Block Sequence";
    DicomTagCodeEnum["x300a0100"] = "Block Thickness";
    DicomTagCodeEnum["x300a0102"] = "Block Transmission";
    DicomTagCodeEnum["x300a00f5"] = "Block Tray ID";
    DicomTagCodeEnum["x300a00f8"] = "Block Type";
    DicomTagCodeEnum["x00281203"] = "Blue Palette Color Lookup Table Data";
    DicomTagCodeEnum["x00281103"] = "Blue Palette Color Lookup Table Descriptor";
    DicomTagCodeEnum["x00180015"] = "Body Part Examined";
    DicomTagCodeEnum["x001811a0"] = "Body Part Thickness";
    DicomTagCodeEnum["x20100100"] = "Border Density";
    DicomTagCodeEnum["x00700003"] = "Bounding Box Annotation Units";
    DicomTagCodeEnum["x00700011"] = "Bounding Box Bottom Right Hand Corner";
    DicomTagCodeEnum["x00700012"] = "Bounding Box Text Horizontal Justification";
    DicomTagCodeEnum["x00700010"] = "Bounding Box Top Left Hand Corner";
    DicomTagCodeEnum["x300a0263"] = "Brachy Accessory Device ID";
    DicomTagCodeEnum["x300a0266"] = "Brachy Accessory Device Name";
    DicomTagCodeEnum["x300a026a"] = "Brachy Accessory Device Nominal Thickness";
    DicomTagCodeEnum["x300a026c"] = "Brachy Accessory Device Nominal Transmission";
    DicomTagCodeEnum["x300a0262"] = "Brachy Accessory Device Number";
    DicomTagCodeEnum["x300a0260"] = "Brachy Accessory Device Sequence";
    DicomTagCodeEnum["x300a0264"] = "Brachy Accessory Device Type";
    DicomTagCodeEnum["x300a00a4"] = "Brachy Application Setup Dose";
    DicomTagCodeEnum["x300a00a2"] = "Brachy Application Setup Dose Specification Point";
    DicomTagCodeEnum["x30080160"] = "Brachy Control Point Delivered Sequence";
    DicomTagCodeEnum["x300a02d0"] = "Brachy Control Point Sequence";
    DicomTagCodeEnum["x300c0055"] = "Brachy Referenced Dose Reference Sequence";
    DicomTagCodeEnum["x300a0200"] = "Brachy Treatment Technique";
    DicomTagCodeEnum["x300a0202"] = "Brachy Treatment Type";
    DicomTagCodeEnum["x00101081"] = "Branch of Service";
    DicomTagCodeEnum["x00280301"] = "Burned In Annotation";
    DicomTagCodeEnum["x30080074"] = "Calculated Dose Reference Description";
    DicomTagCodeEnum["x30080076"] = "Calculated Dose Reference Dose Value";
    DicomTagCodeEnum["x30080072"] = "Calculated Dose Reference Number";
    DicomTagCodeEnum["x30080070"] = "Calculated Dose Reference Sequence";
    DicomTagCodeEnum["x00540306"] = "Calibration Data Sequence";
    DicomTagCodeEnum["x00500004"] = "Calibration Image";
    DicomTagCodeEnum["x00181090"] = "Cardiac Number of Images";
    DicomTagCodeEnum["x00181402"] = "Cassette Orientation";
    DicomTagCodeEnum["x00181403"] = "Cassette Size";
    DicomTagCodeEnum["x00181710"] = "Center of Circular Collimator";
    DicomTagCodeEnum["x00181610"] = "Center of Circular Shutter";
    DicomTagCodeEnum["x00181145"] = "Center of Rotation Offset";
    DicomTagCodeEnum["x04000115"] = "Certificate of Signer";
    DicomTagCodeEnum["x04000110"] = "Certificate Type";
    DicomTagCodeEnum["x04000310"] = "Certified Timestamp";
    DicomTagCodeEnum["x04000305"] = "Certified Timestamp Type";
    DicomTagCodeEnum["x003a0213"] = "Channel Baseline";
    DicomTagCodeEnum["x003a0200"] = "Channel Definition Sequence";
    DicomTagCodeEnum["x003a020c"] = "Channel Derivation Description";
    DicomTagCodeEnum["x003a0203"] = "Channel Label";
    DicomTagCodeEnum["x300a0284"] = "Channel Length";
    DicomTagCodeEnum["x54000112"] = "Channel Maximum Value";
    DicomTagCodeEnum["x54000110"] = "Channel Minimum Value";
    DicomTagCodeEnum["x300a0282"] = "Channel Number";
    DicomTagCodeEnum["x003a0218"] = "Channel Offset";
    DicomTagCodeEnum["x003a0215"] = "Channel Sample Skew";
    DicomTagCodeEnum["x003a0210"] = "Channel Sensitivity";
    DicomTagCodeEnum["x003a0212"] = "Channel Sensitivity Correction Factor";
    DicomTagCodeEnum["x003a0211"] = "Channel Sensitivity Units Sequence";
    DicomTagCodeEnum["x300a0280"] = "Channel Sequence";
    DicomTagCodeEnum["x300a02b3"] = "Channel Shield ID";
    DicomTagCodeEnum["x300a02b4"] = "Channel Shield Name";
    DicomTagCodeEnum["x300a02b8"] = "Channel Shield Nominal Thickness";
    DicomTagCodeEnum["x300a02ba"] = "Channel Shield Nominal Transmission";
    DicomTagCodeEnum["x300a02b2"] = "Channel Shield Number";
    DicomTagCodeEnum["x300a02b0"] = "Channel Shield Sequence";
    DicomTagCodeEnum["x003a0209"] = "Channel Source Modifiers Sequence";
    DicomTagCodeEnum["x003a0208"] = "Channel Source Sequence";
    DicomTagCodeEnum["x003a0205"] = "Channel Status";
    DicomTagCodeEnum["x003a0214"] = "Channel Time Skew";
    DicomTagCodeEnum["x300a0286"] = "Channel Total Time";
    DicomTagCodeEnum["x00180040"] = "Cine Rate";
    DicomTagCodeEnum["x00080104"] = "Code Meaning";
    DicomTagCodeEnum["x0008010d"] = "Code Set Extension Creator UID";
    DicomTagCodeEnum["x0008010b"] = "Code Set Extension Flag";
    DicomTagCodeEnum["x00080100"] = "Code Value";
    DicomTagCodeEnum["x00080102"] = "Coding Scheme Designator";
    DicomTagCodeEnum["x00080103"] = "Coding Scheme Version";
    DicomTagCodeEnum["x00541210"] = "Coincidence Window Width";
    DicomTagCodeEnum["x20000063"] = "Collation Flag";
    DicomTagCodeEnum["x00181702"] = "Collimator Left Vertical Edge";
    DicomTagCodeEnum["x00181708"] = "Collimator Lower Horizontal Edge";
    DicomTagCodeEnum["x00181704"] = "Collimator Right Vertical Edge";
    DicomTagCodeEnum["x00181700"] = "Collimator Shape";
    DicomTagCodeEnum["x00181181"] = "Collimator Type";
    DicomTagCodeEnum["x00181706"] = "Collimator Upper Horizontal Edge";
    DicomTagCodeEnum["x00181180"] = "Collimator/grid Name";
    DicomTagCodeEnum["x20000062"] = "Color Image Printing Flag";
    DicomTagCodeEnum["x00181450"] = "Column Angulation";
    DicomTagCodeEnum["x00280011"] = "Columns";
    DicomTagCodeEnum["x00400310"] = "Comments on Radiation Dose";
    DicomTagCodeEnum["x00400280"] = "Comments on the Performed Procedure Step";
    DicomTagCodeEnum["x00400400"] = "Comments on the Scheduled Procedure Step";
    DicomTagCodeEnum["x300a00e8"] = "Compensator Columns";
    DicomTagCodeEnum["x300a00e5"] = "Compensator ID";
    DicomTagCodeEnum["x300a00e4"] = "Compensator Number";
    DicomTagCodeEnum["x300a00e9"] = "Compensator Pixel Spacing";
    DicomTagCodeEnum["x300a00ea"] = "Compensator Position";
    DicomTagCodeEnum["x300a00e7"] = "Compensator Rows";
    DicomTagCodeEnum["x300a00e3"] = "Compensator Sequence";
    DicomTagCodeEnum["x300a00ec"] = "Compensator Thickness Data";
    DicomTagCodeEnum["x300a00eb"] = "Compensator Transmission Data";
    DicomTagCodeEnum["x300a00ee"] = "Compensator Type";
    DicomTagCodeEnum["x0040a491"] = "Completion Flag";
    DicomTagCodeEnum["x0040a492"] = "Completion Flag Description";
    DicomTagCodeEnum["x001811a2"] = "Compression Force";
    DicomTagCodeEnum["x0040a168"] = "Concept Code Sequence";
    DicomTagCodeEnum["x0040a043"] = "Conceptame Code Sequence";
    DicomTagCodeEnum["x00401008"] = "Confidentiality Code";
    DicomTagCodeEnum["x00403001"] = "Confidentiality Constraint on Patient Data Description";
    DicomTagCodeEnum["x20100150"] = "Configuration Information";
    DicomTagCodeEnum["x20100152"] = "Configuration Information Description";
    DicomTagCodeEnum["x300a0021"] = "Constraint Weight";
    DicomTagCodeEnum["x00080023"] = "Content Date";
    DicomTagCodeEnum["x0040a730"] = "Content Sequence";
    DicomTagCodeEnum["x0040a504"] = "Content Template Sequence";
    DicomTagCodeEnum["x00080033"] = "Content Time";
    DicomTagCodeEnum["x00080107"] = "Context Group Local Version";
    DicomTagCodeEnum["x00080106"] = "Context Group Version";
    DicomTagCodeEnum["x0008010f"] = "Context Identifier";
    DicomTagCodeEnum["x0040a050"] = "Continuity Of Content";
    DicomTagCodeEnum["x30060050"] = "Contour Data";
    DicomTagCodeEnum["x30060042"] = "Contour Geometric Type";
    DicomTagCodeEnum["x30060016"] = "Contour Image Sequence";
    DicomTagCodeEnum["x30060048"] = "Contour Number";
    DicomTagCodeEnum["x30060045"] = "Contour Offset Vector";
    DicomTagCodeEnum["x30060040"] = "Contour Sequence";
    DicomTagCodeEnum["x30060044"] = "Contour Slab Thickness";
    DicomTagCodeEnum["x00102110"] = "Contrast Allergies";
    DicomTagCodeEnum["x00181047"] = "Contrast Flow Duration(s)";
    DicomTagCodeEnum["x00181046"] = "Contrast Flow Rate(s)";
    DicomTagCodeEnum["x00286112"] = "Contrast Frame Averaging";
    DicomTagCodeEnum["x00180014"] = "Contrast/Bolus Administration Route Sequence";
    DicomTagCodeEnum["x00180010"] = "Contrast/Bolus Agent";
    DicomTagCodeEnum["x00180012"] = "Contrast/Bolus Agent Sequence";
    DicomTagCodeEnum["x00181048"] = "Contrast/Bolus Ingredient";
    DicomTagCodeEnum["x00181049"] = "Contrast/Bolus Ingredient Concentration";
    DicomTagCodeEnum["x00181040"] = "Contrast/Bolus Route";
    DicomTagCodeEnum["x00181042"] = "Contrast/Bolus Start Time";
    DicomTagCodeEnum["x00181043"] = "Contrast/Bolus Stop Time";
    DicomTagCodeEnum["x00181044"] = "Contrast/Bolus Total Dose";
    DicomTagCodeEnum["x00181041"] = "Contrast/Bolus Volume";
    DicomTagCodeEnum["x300a02d4"] = "Control Point 3D Position";
    DicomTagCodeEnum["x30080040"] = "Control Point Delivery Sequence";
    DicomTagCodeEnum["x300a0112"] = "Control Point Index";
    DicomTagCodeEnum["x300a02d2"] = "Control Point Relative Position";
    DicomTagCodeEnum["x300a0111"] = "Control Point Sequence";
    DicomTagCodeEnum["x00080064"] = "Conversion Type";
    DicomTagCodeEnum["x00181210"] = "Convolution Kernel";
    DicomTagCodeEnum["x50xx0112"] = "Coordinate Start Value";
    DicomTagCodeEnum["x50xx0114"] = "Coordinate Step Value";
    DicomTagCodeEnum["x004008da"] = "Coordinate System Axis Code Sequence";
    DicomTagCodeEnum["x00280051"] = "Corrected Image";
    DicomTagCodeEnum["x00181243"] = "Count Rate";
    DicomTagCodeEnum["x00102150"] = "Country of Residence";
    DicomTagCodeEnum["x00180070"] = "Counts Accumulated";
    DicomTagCodeEnum["x00541400"] = "Counts Included";
    DicomTagCodeEnum["x00541002"] = "Counts Source";
    DicomTagCodeEnum["x00185026"] = "Cranial Thermal Index";
    DicomTagCodeEnum["x21000040"] = "Creation Date";
    DicomTagCodeEnum["x21000050"] = "Creation Time";
    DicomTagCodeEnum["x300a010c"] = "Cumulative Dose Reference Coefficient";
    DicomTagCodeEnum["x30080052"] = "Cumulative Dose to Dose Reference";
    DicomTagCodeEnum["x300a0134"] = "Cumulative Meterset Weight";
    DicomTagCodeEnum["x300a02d6"] = "Cumulative Time Weight";
    DicomTagCodeEnum["x30080022"] = "Current Fraction Number";
    DicomTagCodeEnum["x00380300"] = "Current Patient Location";
    DicomTagCodeEnum["x0040a375"] = "Current Requested Procedure Evidence Sequence";
    DicomTagCodeEnum["x30080200"] = "Current Treatment Status";
    DicomTagCodeEnum["x50xx1001"] = "Curve Activation Layer";
    DicomTagCodeEnum["x50xx3000"] = "Curve Data";
    DicomTagCodeEnum["x50xx0110"] = "Curve Data Descriptor";
    DicomTagCodeEnum["x00080025"] = "Curve Date";
    DicomTagCodeEnum["x50xx0022"] = "Curve Description";
    DicomTagCodeEnum["x50xx0005"] = "Curve Dimensions";
    DicomTagCodeEnum["x50xx2500"] = "Curve Label";
    DicomTagCodeEnum["x00200024"] = "Curve Number";
    DicomTagCodeEnum["x50xx0106"] = "Curve Range";
    DicomTagCodeEnum["x00080035"] = "Curve Time";
    DicomTagCodeEnum["x00180090"] = "Data Collection Diameter";
    DicomTagCodeEnum["x04000020"] = "Data Elements Signed";
    DicomTagCodeEnum["x00540063"] = "Data Information Sequence";
    DicomTagCodeEnum["xfffcfffc"] = "Data Set Trailing Padding";
    DicomTagCodeEnum["x50xx0103"] = "Data Value Representation";
    DicomTagCodeEnum["x0040a121"] = "Date";
    DicomTagCodeEnum["x00181200"] = "Date of Last Calibration";
    DicomTagCodeEnum["x0018700c"] = "Date of Last Detector Calibration";
    DicomTagCodeEnum["x00181012"] = "Date of Secondary Capture";
    DicomTagCodeEnum["x0040a120"] = "DateTime";
    DicomTagCodeEnum["x00181318"] = "dB/dt";
    DicomTagCodeEnum["x00541401"] = "Dead Time Correction Flag";
    DicomTagCodeEnum["x00541324"] = "Dead Time Factor";
    DicomTagCodeEnum["x00541102"] = "Decay Correction";
    DicomTagCodeEnum["x00541321"] = "Decay Factor";
    DicomTagCodeEnum["x202000a2"] = "Decimate/Crop Result";
    DicomTagCodeEnum["x201000a6"] = "Default Magnification Type";
    DicomTagCodeEnum["x20100054"] = "Default Printer Resolution ID";
    DicomTagCodeEnum["x201000a8"] = "Default Smoothing Type";
    DicomTagCodeEnum["x30080134"] = "Delivered Channel Total Time";
    DicomTagCodeEnum["x30080044"] = "Delivered Meterset";
    DicomTagCodeEnum["x30080138"] = "Delivered Number of Pulses";
    DicomTagCodeEnum["x30080036"] = "Delivered Primary Meterset";
    DicomTagCodeEnum["x3008013c"] = "Delivered Pulse Repetition Interval";
    DicomTagCodeEnum["x30080037"] = "Delivered Secondary Meterset";
    DicomTagCodeEnum["x3008003b"] = "Delivered Treatment Time";
    DicomTagCodeEnum["x300a0023"] = "Delivery Maximum Dose";
    DicomTagCodeEnum["x300a0022"] = "Delivery Warning Dose";
    DicomTagCodeEnum["x00185050"] = "Depth of Scan Field";
    DicomTagCodeEnum["x00082111"] = "Derivation Description";
    DicomTagCodeEnum["x21000140"] = "Destination AE";
    DicomTagCodeEnum["x00187016"] = "Detector Activation Offset From Exposure";
    DicomTagCodeEnum["x00187026"] = "Detector Active Dimension(s)";
    DicomTagCodeEnum["x00187028"] = "Detector Active Origin";
    DicomTagCodeEnum["x00187024"] = "Detector Active Shape";
    DicomTagCodeEnum["x00187014"] = "Detector Active Time";
    DicomTagCodeEnum["x0018701a"] = "Detector Binning";
    DicomTagCodeEnum["x00187000"] = "Detector Conditions Nominal Flag";
    DicomTagCodeEnum["x00187005"] = "Detector Configuration";
    DicomTagCodeEnum["x00187006"] = "Detector Description";
    DicomTagCodeEnum["x00187020"] = "Detector Element Physical Size";
    DicomTagCodeEnum["x00541203"] = "Detector Element Size";
    DicomTagCodeEnum["x00187022"] = "Detector Element Spacing";
    DicomTagCodeEnum["x0018700a"] = "Detector ID";
    DicomTagCodeEnum["x00540022"] = "Detector Information Sequence";
    DicomTagCodeEnum["x00541104"] = "Detector Lines of Response Used";
    DicomTagCodeEnum["x00187008"] = "Detector Mode";
    DicomTagCodeEnum["x00181530"] = "Detector Primary Angle";
    DicomTagCodeEnum["x00181531"] = "Detector Secondary Angle";
    DicomTagCodeEnum["x00187001"] = "Detector Temperature";
    DicomTagCodeEnum["x00187012"] = "Detector Time Since Last Exposure";
    DicomTagCodeEnum["x00187004"] = "Detector Type";
    DicomTagCodeEnum["x00540020"] = "Detector Vector";
    DicomTagCodeEnum["x00500020"] = "Device Description";
    DicomTagCodeEnum["x00500016"] = "Device Diameter";
    DicomTagCodeEnum["x00500017"] = "Device Diameter Units";
    DicomTagCodeEnum["x00500014"] = "Device Length";
    DicomTagCodeEnum["x00500010"] = "Device Sequence";
    DicomTagCodeEnum["x00181000"] = "Device Serial Number";
    DicomTagCodeEnum["x00500018"] = "Device Volume";
    DicomTagCodeEnum["x30020034"] = "Diaphragm Position";
    DicomTagCodeEnum["x00181023"] = "Digital Image Format Acquired";
    DicomTagCodeEnum["x04000105"] = "Digital Signature DateTime";
    DicomTagCodeEnum["x04000100"] = "Digital Signature UID";
    DicomTagCodeEnum["xfffafffa"] = "Digital Signatures Sequence";
    DicomTagCodeEnum["x00182020"] = "Digitizing Device Transport Direction";
    DicomTagCodeEnum["x00041220"] = "Directory Record Sequence";
    DicomTagCodeEnum["x00041430"] = "Directory Record Type";
    DicomTagCodeEnum["x00380030"] = "Discharge Date";
    DicomTagCodeEnum["x00380044"] = "Discharge Diagnosis Code Sequence";
    DicomTagCodeEnum["x00380040"] = "Discharge Diagnosis Description";
    DicomTagCodeEnum["x00380032"] = "Discharge Time";
    DicomTagCodeEnum["x00182006"] = "Display Window Label Vector";
    DicomTagCodeEnum["x00700053"] = "Displayed Area Bottom Right Hand Corner";
    DicomTagCodeEnum["x0070005a"] = "Displayed Area Selection Sequence";
    DicomTagCodeEnum["x00700052"] = "Displayed Area Top Left Hand Corner";
    DicomTagCodeEnum["x00181110"] = "Distance Source to Detector";
    DicomTagCodeEnum["x00400306"] = "Distance Source to Entrance";
    DicomTagCodeEnum["x00181111"] = "Distance Source to Patient";
    DicomTagCodeEnum["x00400307"] = "Distance Source to Support";
    DicomTagCodeEnum["x4008011a"] = "Distribution Address";
    DicomTagCodeEnum["x40080119"] = "Distribution Name";
    DicomTagCodeEnum["x00186034"] = "Doppler Correction Angle";
    DicomTagCodeEnum["x00186038"] = "Doppler Sample Volume X Position";
    DicomTagCodeEnum["x0018603a"] = "Doppler Sample Volume Y Position";
    DicomTagCodeEnum["x00541322"] = "Dose Calibration Factor";
    DicomTagCodeEnum["x30040006"] = "Dose Comment";
    DicomTagCodeEnum["x3004000e"] = "Dose Grid Scaling";
    DicomTagCodeEnum["x30080048"] = "Dose Rate Delivered";
    DicomTagCodeEnum["x300a0115"] = "Dose Rate Set";
    DicomTagCodeEnum["x300a0016"] = "Dose Reference Description";
    DicomTagCodeEnum["x300a0012"] = "Dose Reference Number";
    DicomTagCodeEnum["x300a0018"] = "Dose Reference Point Coordinates";
    DicomTagCodeEnum["x300a0010"] = "Dose Reference Sequence";
    DicomTagCodeEnum["x300a0014"] = "Dose Reference Structure Type";
    DicomTagCodeEnum["x300a0020"] = "Dose Reference Type";
    DicomTagCodeEnum["x3004000a"] = "Dose Summation Type";
    DicomTagCodeEnum["x30040004"] = "Dose Type";
    DicomTagCodeEnum["x30040002"] = "Dose Units";
    DicomTagCodeEnum["x30040012"] = "Dose Value";
    DicomTagCodeEnum["x30040058"] = "DVH Data";
    DicomTagCodeEnum["x30040052"] = "DVH Dose Scaling";
    DicomTagCodeEnum["x30040072"] = "DVH Maximum Dose";
    DicomTagCodeEnum["x30040074"] = "DVH Mean Dose";
    DicomTagCodeEnum["x30040070"] = "DVH Minimum Dose";
    DicomTagCodeEnum["x30040042"] = "DVH Normalization Dose Value";
    DicomTagCodeEnum["x30040040"] = "DVH Normalization Point";
    DicomTagCodeEnum["x30040056"] = "DVH Number of Bins";
    DicomTagCodeEnum["x30040060"] = "DVH Referenced ROI Sequence";
    DicomTagCodeEnum["x30040062"] = "DVH ROI Contribution Type";
    DicomTagCodeEnum["x30040050"] = "DVH Sequence";
    DicomTagCodeEnum["x30040001"] = "DVH Type";
    DicomTagCodeEnum["x30040054"] = "DVH Volume Units";
    DicomTagCodeEnum["x00180086"] = "Echo Number(s)";
    DicomTagCodeEnum["x00180081"] = "Echo Time";
    DicomTagCodeEnum["x00180091"] = "Echo Train Length";
    DicomTagCodeEnum["x00180072"] = "Effective Series Duration";
    DicomTagCodeEnum["x20100110"] = "Empty Image Density";
    DicomTagCodeEnum["x300c0009"] = "End Cumulative Meterset Weight";
    DicomTagCodeEnum["x3008007a"] = "End Meterset";
    DicomTagCodeEnum["x00540012"] = "Energy Window Information Sequence";
    DicomTagCodeEnum["x00540014"] = "Energy Window Lower Limit";
    DicomTagCodeEnum["x00540018"] = "Energy Window Name";
    DicomTagCodeEnum["x00540308"] = "Energy Window Number";
    DicomTagCodeEnum["x00540013"] = "Energy Window Range Sequence";
    DicomTagCodeEnum["x00540015"] = "Energy Window Upper Limit";
    DicomTagCodeEnum["x00540010"] = "Energy Window Vector";
    DicomTagCodeEnum["x00400302"] = "Entrance Dose";
    DicomTagCodeEnum["x00408302"] = "Entrance Dose in mGy";
    DicomTagCodeEnum["x00181114"] = "Estimated Radiographic Magnification Factor";
    DicomTagCodeEnum["x00102160"] = "Ethnic Group";
    DicomTagCodeEnum["x00082130"] = "Event Elapsed Time(s)";
    DicomTagCodeEnum["x00082132"] = "Event Timer Name(s)";
    DicomTagCodeEnum["x21000020"] = "Execution Status";
    DicomTagCodeEnum["x21000030"] = "Execution Status Info";
    DicomTagCodeEnum["x00404011"] = "Expected Completion Date and Time";
    DicomTagCodeEnum["x00400303"] = "Exposed Area";
    DicomTagCodeEnum["x00181152"] = "Exposure";
    DicomTagCodeEnum["x00187060"] = "Exposure Control Mode";
    DicomTagCodeEnum["x00187062"] = "Exposure Control Mode Description";
    DicomTagCodeEnum["x0040030e"] = "Exposure Dose Sequence";
    DicomTagCodeEnum["x00181153"] = "Exposure in uAs";
    DicomTagCodeEnum["x30020030"] = "Exposure Sequence";
    DicomTagCodeEnum["x00187064"] = "Exposure Status";
    DicomTagCodeEnum["x00181150"] = "Exposure Time";
    DicomTagCodeEnum["x00188150"] = "Exposure Time in <span style=\"font-family= Symbol\">m</span>S";
    DicomTagCodeEnum["x00187010"] = "Exposures on Detector Since Last Calibration";
    DicomTagCodeEnum["x00187011"] = "Exposures on Detector Since Manufactured";
    DicomTagCodeEnum["x00181404"] = "Exposures on Plate";
    DicomTagCodeEnum["x00080058"] = "Failed SOP Instance UID List";
    DicomTagCodeEnum["x00081198"] = "Failed SOP Sequence";
    DicomTagCodeEnum["x00081197"] = "Failure Reason";
    DicomTagCodeEnum["x00181149"] = "Field of View Dimension(s)";
    DicomTagCodeEnum["x00187034"] = "Field of View Horizontal Flip";
    DicomTagCodeEnum["x00187030"] = "Field of View Origin";
    DicomTagCodeEnum["x00187032"] = "Field of View Rotation";
    DicomTagCodeEnum["x00181147"] = "Field of View Shape";
    DicomTagCodeEnum["x00020001"] = "File Meta Information Version";
    DicomTagCodeEnum["x00041212"] = "File-set Consistency Flag";
    DicomTagCodeEnum["x00041141"] = "File-set Descriptor File ID";
    DicomTagCodeEnum["x00041130"] = "File-set ID";
    DicomTagCodeEnum["x00402017"] = "Filler Order Number / Imaging Service Request";
    DicomTagCodeEnum["x21300030"] = "Film Box Content Sequence";
    DicomTagCodeEnum["x00400321"] = "Film Consumption Sequence";
    DicomTagCodeEnum["x20000040"] = "Film Destination";
    DicomTagCodeEnum["x20100040"] = "Film Orientation";
    DicomTagCodeEnum["x20000050"] = "Film Session Label";
    DicomTagCodeEnum["x20100050"] = "Film Size ID";
    DicomTagCodeEnum["x003a0221"] = "Filter High Frequency";
    DicomTagCodeEnum["x003a0220"] = "Filter Low Frequency";
    DicomTagCodeEnum["x00187050"] = "Filter Material";
    DicomTagCodeEnum["x00187054"] = "Filter Thickness Maximum";
    DicomTagCodeEnum["x00187052"] = "Filter Thickness Minimum";
    DicomTagCodeEnum["x00181160"] = "Filter Type";
    DicomTagCodeEnum["x300a010e"] = "Final Cumulative Meterset Weight";
    DicomTagCodeEnum["x300a02c8"] = "Final Cumulative Time Weight";
    DicomTagCodeEnum["x30080054"] = "First Treatment Date";
    DicomTagCodeEnum["x300a0196"] = "Fixation Device Description";
    DicomTagCodeEnum["x300a0194"] = "Fixation Device Label";
    DicomTagCodeEnum["x300a0198"] = "Fixation Device Position";
    DicomTagCodeEnum["x300a0190"] = "Fixation Device Sequence";
    DicomTagCodeEnum["x300a0192"] = "Fixation Device Type";
    DicomTagCodeEnum["x00181314"] = "Flip Angle";
    DicomTagCodeEnum["x00181182"] = "Focal Distance";
    DicomTagCodeEnum["x00181190"] = "Focal Spot(s)";
    DicomTagCodeEnum["x00185012"] = "Focus Depth";
    DicomTagCodeEnum["x300a0071"] = "Fraction Group Number";
    DicomTagCodeEnum["x300a0070"] = "Fraction Group Sequence";
    DicomTagCodeEnum["x30080220"] = "Fraction Group Summary Sequence";
    DicomTagCodeEnum["x30080224"] = "Fraction Group Type";
    DicomTagCodeEnum["x30020029"] = "Fraction Number";
    DicomTagCodeEnum["x300a007b"] = "Fraction Pattern";
    DicomTagCodeEnum["x30080240"] = "Fraction Status Summary Sequence";
    DicomTagCodeEnum["x00181066"] = "Frame Delay";
    DicomTagCodeEnum["x00280009"] = "Frame Increment Pointer";
    DicomTagCodeEnum["x00182002"] = "Frame Label Vector";
    DicomTagCodeEnum["x00286020"] = "Frame Numbers of Interest(FOI)";
    DicomTagCodeEnum["x300600c0"] = "Frame of Reference Relationship Sequence";
    DicomTagCodeEnum["x300600c8"] = "Frame of Reference Transformation Comment";
    DicomTagCodeEnum["x300600c6"] = "Frame of Reference Transformation Matrix";
    DicomTagCodeEnum["x300600c4"] = "Frame of Reference Transformation Type";
    DicomTagCodeEnum["x00200052"] = "Frame of Reference UID";
    DicomTagCodeEnum["x00182003"] = "Frame Primary Angle Vector";
    DicomTagCodeEnum["x00541300"] = "Frame Reference Time";
    DicomTagCodeEnum["x00182004"] = "Frame Secondary Angle Vector";
    DicomTagCodeEnum["x00181063"] = "Frame Time";
    DicomTagCodeEnum["x00181065"] = "Frame Time Vector";
    DicomTagCodeEnum["x00286022"] = "Frame(s) of Interest Description";
    DicomTagCodeEnum["x00181064"] = "Framing Type";
    DicomTagCodeEnum["x300a011e"] = "Gantry Angle";
    DicomTagCodeEnum["x300a0044"] = "Gantry Angle Tolerance";
    DicomTagCodeEnum["x300a011f"] = "Gantry Rotation Direction";
    DicomTagCodeEnum["x00181121"] = "Gantry/Detector Slew";
    DicomTagCodeEnum["x00181120"] = "Gantry/Detector Tilt";
    DicomTagCodeEnum["x00540062"] = "Gated Information Sequence";
    DicomTagCodeEnum["x00404002"] = "General Purpose Performed Procedure Step Status";
    DicomTagCodeEnum["x00404003"] = "General Purpose Scheduled Procedure Step Priority";
    DicomTagCodeEnum["x00404001"] = "General Purpose Scheduled Procedure Step Status";
    DicomTagCodeEnum["x00181170"] = "Generator Power";
    DicomTagCodeEnum["x00700001"] = "Graphic Annotation Sequence";
    DicomTagCodeEnum["x00700005"] = "Graphic Annotation Units";
    DicomTagCodeEnum["x00700022"] = "Graphic Data";
    DicomTagCodeEnum["x00700020"] = "Graphic Dimensions";
    DicomTagCodeEnum["x00700024"] = "Graphic Filled";
    DicomTagCodeEnum["x00700002"] = "Graphic Layer";
    DicomTagCodeEnum["x00700068"] = "Graphic Layer Description";
    DicomTagCodeEnum["x00700062"] = "Graphic Layer Order";
    DicomTagCodeEnum["x00700066"] = "Graphic Layer Recommended Display Grayscale Value";
    DicomTagCodeEnum["x00700067"] = "Graphic Layer Recommended Display RGB Value";
    DicomTagCodeEnum["x00700060"] = "Graphic Layer Sequence";
    DicomTagCodeEnum["x00700009"] = "Graphic Object Sequence";
    DicomTagCodeEnum["x00700023"] = "Graphic Type";
    DicomTagCodeEnum["x00281202"] = "Green Palette Color Lookup Table Data";
    DicomTagCodeEnum["x00281102"] = "Green Palette Color Lookup Table Descriptor";
    DicomTagCodeEnum["x00181166"] = "Grid";
    DicomTagCodeEnum["x00187040"] = "Grid Absorbing Material";
    DicomTagCodeEnum["x00187046"] = "Grid Aspect Ratio";
    DicomTagCodeEnum["x0018704c"] = "Grid Focal Distance";
    DicomTagCodeEnum["x3004000c"] = "Grid Frame Offset Vector";
    DicomTagCodeEnum["x00187048"] = "Grid Period";
    DicomTagCodeEnum["x00187044"] = "Grid Pitch";
    DicomTagCodeEnum["x00187041"] = "Grid Spacing Material";
    DicomTagCodeEnum["x00187042"] = "Grid Thickness";
    DicomTagCodeEnum["x00020000"] = "Group Length";
    DicomTagCodeEnum["x00040000"] = "Group Length";
    DicomTagCodeEnum["x00400314"] = "Half Value Layer";
    DicomTagCodeEnum["x00181011"] = "Hardcopy Creation Device ID";
    DicomTagCodeEnum["x0018101b"] = "Hardcopy Device Manufacturer's Model Name";
    DicomTagCodeEnum["x00181017"] = "Hardcopy Device Manufacturer";
    DicomTagCodeEnum["x0018101a"] = "Hardcopy Device Software Version";
    DicomTagCodeEnum["x00181088"] = "Heart Rate";
    DicomTagCodeEnum["x00280102"] = "High Bit";
    DicomTagCodeEnum["x00181082"] = "High R-R Value";
    DicomTagCodeEnum["x300a00c7"] = "High-Dose Technique Type";
    DicomTagCodeEnum["x00603008"] = "Histogram Bin Width";
    DicomTagCodeEnum["x00603020"] = "Histogram Data";
    DicomTagCodeEnum["x00603010"] = "Histogram Explanation";
    DicomTagCodeEnum["x00603004"] = "Histogram First Bin Value";
    DicomTagCodeEnum["x00603006"] = "Histogram Last Bin Value";
    DicomTagCodeEnum["x00603002"] = "Histogram Number of Bins";
    DicomTagCodeEnum["x00603000"] = "Histogram Sequence";
    DicomTagCodeEnum["x00404009"] = "Human Performer Code Sequence";
    DicomTagCodeEnum["x00404037"] = "Human Performer's Name";
    DicomTagCodeEnum["x00404036"] = "Human Performer's Organization";
    DicomTagCodeEnum["x00880200"] = "Icon Image Sequence";
    DicomTagCodeEnum["x0040a525"] = "Identical Documents Sequence";
    DicomTagCodeEnum["x2010015e"] = "Illumination";
    DicomTagCodeEnum["x0018115e"] = "Image Area Dose Product";
    DicomTagCodeEnum["x21300040"] = "Image Box Content Sequence";
    DicomTagCodeEnum["x2000006a"] = "Image Box Presentation LUT Flag";
    DicomTagCodeEnum["x0040071a"] = "Image Center Point Coordinates Sequence";
    DicomTagCodeEnum["x00204000"] = "Image Comments";
    DicomTagCodeEnum["x20100010"] = "Image Display Format";
    DicomTagCodeEnum["x60xx0051"] = "Image Frame Origin";
    DicomTagCodeEnum["x00700041"] = "Image Horizontal Flip";
    DicomTagCodeEnum["x00540400"] = "Image ID";
    DicomTagCodeEnum["x00541330"] = "Image Index";
    DicomTagCodeEnum["x00200062"] = "Image Laterality";
    DicomTagCodeEnum["x00200037"] = "Image Orientation (Patient)";
    DicomTagCodeEnum["x21300060"] = "Image Overlay Box Content Sequence";
    DicomTagCodeEnum["x20000067"] = "Image Overlay Flag";
    DicomTagCodeEnum["x30020011"] = "Image Plane Pixel Spacing";
    DicomTagCodeEnum["x20200010"] = "Image Position";
    DicomTagCodeEnum["x00200032"] = "Image Position (Patient)";
    DicomTagCodeEnum["x00700042"] = "Image Rotation";
    DicomTagCodeEnum["x00185210"] = "Image Transformation Matrix";
    DicomTagCodeEnum["x00185212"] = "Image Translation Vector";
    DicomTagCodeEnum["x00181067"] = "Image Trigger Delay";
    DicomTagCodeEnum["x00080008"] = "Image Type";
    DicomTagCodeEnum["x00180085"] = "Imaged Nucleus";
    DicomTagCodeEnum["x00181164"] = "Imager Pixel Spacing";
    DicomTagCodeEnum["x00201002"] = "Images in Acquisition";
    DicomTagCodeEnum["x300a00cc"] = "Imaging Device-Specific Acquisition Parameters";
    DicomTagCodeEnum["x00180084"] = "Imaging Frequency";
    DicomTagCodeEnum["x00402400"] = "Imaging Service Request Comments";
    DicomTagCodeEnum["x00281300"] = "Implant Present";
    DicomTagCodeEnum["x00020012"] = "Implementation Class UID";
    DicomTagCodeEnum["x00020013"] = "Implementation Version Name";
    DicomTagCodeEnum["x40080300"] = "Impressions";
    DicomTagCodeEnum["x00404020"] = "Input Availability Flag";
    DicomTagCodeEnum["x00404021"] = "Input Information Sequence";
    DicomTagCodeEnum["x00080056"] = "Instance Availability";
    DicomTagCodeEnum["x00080012"] = "Instance Creation Date";
    DicomTagCodeEnum["x00080013"] = "Instance Creation Time";
    DicomTagCodeEnum["x00080014"] = "Instance Creator UID";
    DicomTagCodeEnum["x00200013"] = "Instance Number";
    DicomTagCodeEnum["x00080081"] = "Institution Address";
    DicomTagCodeEnum["x00080082"] = "Institution Code Sequence";
    DicomTagCodeEnum["x00080080"] = "Institution Name";
    DicomTagCodeEnum["x00081040"] = "Institutional Department Name";
    DicomTagCodeEnum["x00181162"] = "Intensifier Size";
    DicomTagCodeEnum["x00500019"] = "Inter-marker Distance";
    DicomTagCodeEnum["x40080112"] = "Interpretation Approval Date";
    DicomTagCodeEnum["x40080113"] = "Interpretation Approval Time";
    DicomTagCodeEnum["x40080111"] = "Interpretation Approver Sequence";
    DicomTagCodeEnum["x4008010c"] = "Interpretation Author";
    DicomTagCodeEnum["x40080117"] = "Interpretation Diagnosis Code Sequence";
    DicomTagCodeEnum["x40080115"] = "Interpretation Diagnosis Description";
    DicomTagCodeEnum["x40080200"] = "Interpretation ID";
    DicomTagCodeEnum["x40080202"] = "Interpretation ID Issuer";
    DicomTagCodeEnum["x40080100"] = "Interpretation Recorded Date";
    DicomTagCodeEnum["x40080101"] = "Interpretation Recorded Time";
    DicomTagCodeEnum["x40080102"] = "Interpretation Recorder";
    DicomTagCodeEnum["x40080212"] = "Interpretation Status ID";
    DicomTagCodeEnum["x4008010b"] = "Interpretation Text";
    DicomTagCodeEnum["x4008010a"] = "Interpretation Transcriber";
    DicomTagCodeEnum["x40080108"] = "Interpretation Transcription Date";
    DicomTagCodeEnum["x40080109"] = "Interpretation Transcription Time";
    DicomTagCodeEnum["x40080210"] = "Interpretation Type ID";
    DicomTagCodeEnum["x00181083"] = "Intervals Acquired";
    DicomTagCodeEnum["x00181084"] = "Intervals Rejected";
    DicomTagCodeEnum["x00180029"] = "Intervention Drug Code Sequence";
    DicomTagCodeEnum["x00180028"] = "Intervention Drug Dose";
    DicomTagCodeEnum["x00180026"] = "Intervention Drug Information Sequence";
    DicomTagCodeEnum["x00180034"] = "Intervention Drug Name";
    DicomTagCodeEnum["x00180035"] = "Intervention Drug Start Time";
    DicomTagCodeEnum["x00180027"] = "Intervention Drug Stop Time";
    DicomTagCodeEnum["x00180038"] = "Interventional Status";
    DicomTagCodeEnum["x00180036"] = "Interventional Therapy Sequence";
    DicomTagCodeEnum["x00180082"] = "Inversion Time";
    DicomTagCodeEnum["x300a012c"] = "Isocenter Position";
    DicomTagCodeEnum["x00402004"] = "Issue Date of Imaging Service Request";
    DicomTagCodeEnum["x00402005"] = "Issue Time of Imaging Service Request";
    DicomTagCodeEnum["x00380011"] = "Issuer of Admission ID";
    DicomTagCodeEnum["x00100021"] = "Issuer of Patient ID";
    DicomTagCodeEnum["xfffee000"] = "Item";
    DicomTagCodeEnum["xfffee00d"] = "Item Delimitation Item";
    DicomTagCodeEnum["x00200019"] = "Item Number";
    DicomTagCodeEnum["x00183100"] = "IVUS Acquisition";
    DicomTagCodeEnum["x00183102"] = "IVUS Gated Rate";
    DicomTagCodeEnum["x00183101"] = "IVUS Pullback Rate";
    DicomTagCodeEnum["x00183103"] = "IVUS Pullback Start Frame Number";
    DicomTagCodeEnum["x00183104"] = "IVUS Pullback Stop Frame Number";
    DicomTagCodeEnum["x00180060"] = "KVP";
    DicomTagCodeEnum["x00280107"] = "Largest Image Pixel Value";
    DicomTagCodeEnum["x00280111"] = "Largest Image Pixel Value in Plane";
    DicomTagCodeEnum["x00280109"] = "Largest Pixel Value in Series";
    DicomTagCodeEnum["x001021d0"] = "Last Menstrual Date";
    DicomTagCodeEnum["x00200060"] = "Laterality";
    DicomTagCodeEnum["x300a00be"] = "Leaf Position Boundaries";
    DicomTagCodeEnum["x300a011c"] = "Leaf/Jaw Positions";
    DicomTagCodeEnum["x00183105"] = "Lesion Number";
    DicomTagCodeEnum["x00200026"] = "Lookup Table (LUT) Number";
    DicomTagCodeEnum["x00282110"] = "Lossy Image Compression";
    DicomTagCodeEnum["x00282112"] = "Lossy Image Compression Ratio";
    DicomTagCodeEnum["x00181081"] = "Low R-R Value";
    DicomTagCodeEnum["x00283006"] = "LUT Data";
    DicomTagCodeEnum["x00283002"] = "LUT Descriptor";
    DicomTagCodeEnum["x00283003"] = "LUT Explanation";
    DicomTagCodeEnum["x04000015"] = "MAC Algorithm";
    DicomTagCodeEnum["x04000010"] = "MAC Calculation Transfer Syntax UID";
    DicomTagCodeEnum["x04000005"] = "MAC ID number";
    DicomTagCodeEnum["x4ffe0001"] = "MAC Parameters Sequence";
    DicomTagCodeEnum["x00180087"] = "Magnetic Field Strength";
    DicomTagCodeEnum["x20100060"] = "Magnification Type";
    DicomTagCodeEnum["x20400074"] = "Magnify to Number of Columns";
    DicomTagCodeEnum["x00080070"] = "Manufacturer";
    DicomTagCodeEnum["x00081090"] = "Manufacturer's Model Name";
    DicomTagCodeEnum["x00080105"] = "Mapping Resource";
    DicomTagCodeEnum["x00286110"] = "Mask Frame Numbers";
    DicomTagCodeEnum["x00286101"] = "Mask Operation";
    DicomTagCodeEnum["x00286190"] = "Mask Operation Explanation";
    DicomTagCodeEnum["x00286030"] = "Mask Pointer(s)";
    DicomTagCodeEnum["x00286114"] = "Mask Sub-pixel Shift";
    DicomTagCodeEnum["x00286100"] = "Mask Subtraction Sequence";
    DicomTagCodeEnum["x300a00e1"] = "Material ID";
    DicomTagCodeEnum["x20100130"] = "Max Density";
    DicomTagCodeEnum["x20100154"] = "Maximum Collated Films";
    DicomTagCodeEnum["x50xx0105"] = "Maximum Coordinate Value";
    DicomTagCodeEnum["x20000061"] = "Maximum Memory Allocation";
    DicomTagCodeEnum["x30080012"] = "Measured Dose Description";
    DicomTagCodeEnum["x30080064"] = "Measured Dose Reference Number";
    DicomTagCodeEnum["x30080010"] = "Measured Dose Reference Sequence";
    DicomTagCodeEnum["x30080014"] = "Measured Dose Type";
    DicomTagCodeEnum["x30080016"] = "Measured Dose Value";
    DicomTagCodeEnum["x0040a300"] = "Measured Value Sequence";
    DicomTagCodeEnum["x004008ea"] = "Measurement Units Code Sequence";
    DicomTagCodeEnum["x00400295"] = "Measuring Units Sequence";
    DicomTagCodeEnum["x00185022"] = "Mechanical Index";
    DicomTagCodeEnum["x200000a2"] = "Media Installed Sequence";
    DicomTagCodeEnum["x00020002"] = "Media Storage SOP Class UID";
    DicomTagCodeEnum["x00020003"] = "Media Storage SOP Instance UID";
    DicomTagCodeEnum["x00102000"] = "Medical Alerts";
    DicomTagCodeEnum["x00101090"] = "Medical Record Locator";
    DicomTagCodeEnum["x20000030"] = "Medium Type";
    DicomTagCodeEnum["x20000060"] = "Memory Allocation";
    DicomTagCodeEnum["x200000a0"] = "Memory Bit Depth";
    DicomTagCodeEnum["x30020032"] = "Meterset Exposure";
    DicomTagCodeEnum["x00101080"] = "Military Rank";
    DicomTagCodeEnum["x20100120"] = "Min Density";
    DicomTagCodeEnum["x50xx0104"] = "Minimum Coordinate Value";
    DicomTagCodeEnum["x00080061"] = "Modalities in Study";
    DicomTagCodeEnum["x00080060"] = "Modality";
    DicomTagCodeEnum["x00283000"] = "Modality LUT Sequence";
    DicomTagCodeEnum["x00283004"] = "Modality LUT Type";
    DicomTagCodeEnum["x0040a195"] = "Modifier Code Sequence";
    DicomTagCodeEnum["x30080056"] = "Most Recent Treatment Date";
    DicomTagCodeEnum["x00180023"] = "MR Acquisition Type";
    DicomTagCodeEnum["x00041504"] = "MRDR Directory Record Offset";
    DicomTagCodeEnum["x00404006"] = "Multiple Copies Flag";
    DicomTagCodeEnum["x003a0020"] = "Multiplex Group Label";
    DicomTagCodeEnum["x00181068"] = "Multiplex Group Time Offset";
    DicomTagCodeEnum["x00081060"] = "Name of Physician(s) Reading Study";
    DicomTagCodeEnum["x00401010"] = "Names of Intended Recipients of Results";
    DicomTagCodeEnum["x300a0114"] = "Nominal Beam Energy";
    DicomTagCodeEnum["x300a0015"] = "Nominal Beam Energy Unit";
    DicomTagCodeEnum["x00181062"] = "Nominal Interval";
    DicomTagCodeEnum["x300a001a"] = "Nominal Prior Dose";
    DicomTagCodeEnum["x00182010"] = "Nominal Scanned Pixel Spacing";
    DicomTagCodeEnum["x00404032"] = "Non-DICOM Output Code Sequence";
    DicomTagCodeEnum["x30040008"] = "Normalization Point";
    DicomTagCodeEnum["x003a0223"] = "Notch Filter Bandwidth";
    DicomTagCodeEnum["x003a0222"] = "Notch Filter Frequency";
    DicomTagCodeEnum["x00180083"] = "Number of Averages";
    DicomTagCodeEnum["x300a0080"] = "Number of Beams";
    DicomTagCodeEnum["x300a00f0"] = "Number of Blocks";
    DicomTagCodeEnum["x300a00ed"] = "Number of Boli";
    DicomTagCodeEnum["x300a00a0"] = "Number of Brachy Application Setups";
    DicomTagCodeEnum["x50xx2004"] = "Number of Channels";
    DicomTagCodeEnum["x300a00e0"] = "Number of Compensators";
    DicomTagCodeEnum["x30060046"] = "Number of Contour Points";
    DicomTagCodeEnum["x300a0110"] = "Number of Control Points";
    DicomTagCodeEnum["x20000010"] = "Number of Copies";
    DicomTagCodeEnum["x00540021"] = "Number of Detectors";
    DicomTagCodeEnum["x00540011"] = "Number of Energy Windows";
    DicomTagCodeEnum["x00082129"] = "Number of Event Timers";
    DicomTagCodeEnum["x21000170"] = "Number of Films";
    DicomTagCodeEnum["x300a0079"] = "Number of Fraction Pattern Digits Per Day";
    DicomTagCodeEnum["x3008005a"] = "Number of Fractions Delivered";
    DicomTagCodeEnum["x300a0078"] = "Number of Fractions Planned";
    DicomTagCodeEnum["x00280008"] = "Number of Frames";
    DicomTagCodeEnum["x60xx0015"] = "Number of Frames in Overlay";
    DicomTagCodeEnum["x00540033"] = "Number of Frames in Phase";
    DicomTagCodeEnum["x00540053"] = "Number of Frames in Rotation";
    DicomTagCodeEnum["x00700021"] = "Number of Graphic Points";
    DicomTagCodeEnum["x300a00bc"] = "Number of Leaf/Jaw Pairs";
    DicomTagCodeEnum["x00201204"] = "Number of Patient Related Instances";
    DicomTagCodeEnum["x00201202"] = "Number of Patient Related Series";
    DicomTagCodeEnum["x00201200"] = "Number of Patient Related Studies";
    DicomTagCodeEnum["x00180089"] = "Number of Phase Encoding Steps";
    DicomTagCodeEnum["x00540031"] = "Number of Phases";
    DicomTagCodeEnum["x50xx0010"] = "Number of Points";
    DicomTagCodeEnum["x300a028a"] = "Number of Pulses";
    DicomTagCodeEnum["x00041600"] = "Number of References";
    DicomTagCodeEnum["x00540051"] = "Number of Rotations";
    DicomTagCodeEnum["x00540061"] = "Number of R-R Intervals";
    DicomTagCodeEnum["x50xx2006"] = "Number of Samples";
    DicomTagCodeEnum["x00201209"] = "Number of Series Related Instances";
    DicomTagCodeEnum["x00540081"] = "Number of Slices";
    DicomTagCodeEnum["x00082124"] = "Number of Stages";
    DicomTagCodeEnum["x00201208"] = "Number of Study Related Instances";
    DicomTagCodeEnum["x00201206"] = "Number of Study Related Series";
    DicomTagCodeEnum["x00186050"] = "Number of Table Break Points";
    DicomTagCodeEnum["x00186056"] = "Number of Table Entries";
    DicomTagCodeEnum["x00200105"] = "Number of Temporal Positions";
    DicomTagCodeEnum["x00540101"] = "Number of Time Slices";
    DicomTagCodeEnum["x00540071"] = "Number of Time Slots";
    DicomTagCodeEnum["x00181495"] = "Number of Tomosynthesis Source Images";
    DicomTagCodeEnum["x00540211"] = "Number of Triggers in Phase";
    DicomTagCodeEnum["x0008212a"] = "Number of Views in Stage";
    DicomTagCodeEnum["x003a0005"] = "Number of Waveform Channels";
    DicomTagCodeEnum["x003a0010"] = "Number of Waveform Samples";
    DicomTagCodeEnum["x300a00d0"] = "Number of Wedges";
    DicomTagCodeEnum["x0040a30a"] = "Numeric Value";
    DicomTagCodeEnum["x0040a032"] = "Observation DateTime";
    DicomTagCodeEnum["x30060082"] = "Observation Number";
    DicomTagCodeEnum["x00102180"] = "Occupation";
    DicomTagCodeEnum["x00041420"] = "Offset of Referenced Lower-Level Directory Entity";
    DicomTagCodeEnum["x00041200"] = "Offset of the First Directory Record of the Root Directory Entity";
    DicomTagCodeEnum["x00041202"] = "Offset of the Last Directory Record of the Root Directory Entity";
    DicomTagCodeEnum["x00041400"] = "Offset of the Next Directory Record";
    DicomTagCodeEnum["x00081070"] = "Operators' Name";
    DicomTagCodeEnum["x00402010"] = "Order Callback Phone Number";
    DicomTagCodeEnum["x00402008"] = "Order Entered By";
    DicomTagCodeEnum["x00402009"] = "Order Enterer's Location";
    DicomTagCodeEnum["x300a002a"] = "Organ at Risk Full-volume Dose";
    DicomTagCodeEnum["x300a002b"] = "Organ at Risk Limit Dose";
    DicomTagCodeEnum["x300a002c"] = "Organ at Risk Maximum Dose";
    DicomTagCodeEnum["x300a002d"] = "Organ at Risk Overdose Volume Fraction";
    DicomTagCodeEnum["x00400316"] = "Organ Dose";
    DicomTagCodeEnum["x00400318"] = "Organ Exposed";
    DicomTagCodeEnum["x213000c0"] = "Original Image Sequence";
    DicomTagCodeEnum["x21000070"] = "Originator";
    DicomTagCodeEnum["x201000a7"] = "Other Magnification Types Available";
    DicomTagCodeEnum["x200000a4"] = "Other Media Available Sequence";
    DicomTagCodeEnum["x00101000"] = "Other Patient IDs";
    DicomTagCodeEnum["x00101001"] = "Other Patient Names";
    DicomTagCodeEnum["x201000a9"] = "Other Smoothing Types Available";
    DicomTagCodeEnum["x00201070"] = "Other Study Numbers";
    DicomTagCodeEnum["x00404033"] = "Output Information Sequence";
    DicomTagCodeEnum["x00185000"] = "Output Power";
    DicomTagCodeEnum["x60xx1001"] = "Overlay Activation Layer";
    DicomTagCodeEnum["x20400082"] = "Overlay Background Density";
    DicomTagCodeEnum["x60xx0102"] = "Overlay Bit Position";
    DicomTagCodeEnum["x60xx0100"] = "Overlay Bits Allocated";
    DicomTagCodeEnum["x60xx0011"] = "Overlay Columns";
    DicomTagCodeEnum["x60xx3000"] = "Overlay Data";
    DicomTagCodeEnum["x00080024"] = "Overlay Date";
    DicomTagCodeEnum["x60xx0022"] = "Overlay Description";
    DicomTagCodeEnum["x20400080"] = "Overlay Foreground Density";
    DicomTagCodeEnum["x60xx1500"] = "Overlay Label";
    DicomTagCodeEnum["x20400060"] = "Overlay Magnification Type";
    DicomTagCodeEnum["x00200022"] = "Overlay Number";
    DicomTagCodeEnum["x20400072"] = "Overlay or Image Magnification";
    DicomTagCodeEnum["x60xx0050"] = "Overlay Origin";
    DicomTagCodeEnum["x20400020"] = "Overlay Pixel Data Sequence";
    DicomTagCodeEnum["x60xx0052"] = "Overlay Plane Origin";
    DicomTagCodeEnum["x60xx0012"] = "Overlay Planes";
    DicomTagCodeEnum["x60xx0010"] = "Overlay Rows";
    DicomTagCodeEnum["x20400070"] = "Overlay Smoothing Type";
    DicomTagCodeEnum["x60xx0045"] = "Overlay Subtype";
    DicomTagCodeEnum["x00080034"] = "Overlay Time";
    DicomTagCodeEnum["x60xx0040"] = "Overlay Type";
    DicomTagCodeEnum["x30080062"] = "Override Parameter Pointer";
    DicomTagCodeEnum["x30080066"] = "Override Reason";
    DicomTagCodeEnum["x30080060"] = "Override Sequence";
    DicomTagCodeEnum["x21000160"] = "Owner ID";
    DicomTagCodeEnum["x00182001"] = "Page Number Vector";
    DicomTagCodeEnum["x00281199"] = "Palette Color Lookup Table UID";
    DicomTagCodeEnum["x00281350"] = "Partial View";
    DicomTagCodeEnum["x00281351"] = "Partial View Description";
    DicomTagCodeEnum["x300a0184"] = "Patient Additional Position";
    DicomTagCodeEnum["x00104000"] = "Patient Comments";
    DicomTagCodeEnum["x00540414"] = "Patient Gantry Relationship Code Sequence";
    DicomTagCodeEnum["x00100020"] = "Patient ID";
    DicomTagCodeEnum["x00200020"] = "Patient Orientation";
    DicomTagCodeEnum["x00540410"] = "Patient Orientation Code Sequence";
    DicomTagCodeEnum["x00540412"] = "Patient Orientation Modifier Code Sequence";
    DicomTagCodeEnum["x00185100"] = "Patient Position";
    DicomTagCodeEnum["x300a0182"] = "Patient Setup Number";
    DicomTagCodeEnum["x300a0180"] = "Patient Setup Sequence";
    DicomTagCodeEnum["x00380500"] = "Patient State";
    DicomTagCodeEnum["x300a0122"] = "Patient Support Angle";
    DicomTagCodeEnum["x300a004c"] = "Patient Support Angle Tolerance";
    DicomTagCodeEnum["x300a0123"] = "Patient Support Rotation Direction";
    DicomTagCodeEnum["x00401004"] = "Patient Transport Arrangements";
    DicomTagCodeEnum["x00100010"] = "Patient's Name";
    DicomTagCodeEnum["x00100102"] = "Patient's Primary Language Code Modifier Sequence";
    DicomTagCodeEnum["x00100101"] = "Patient's Primary Language Code Sequence";
    DicomTagCodeEnum["x00102154"] = "Patient's Telephone Numbers";
    DicomTagCodeEnum["x00101040"] = "Patient's Address";
    DicomTagCodeEnum["x00101010"] = "Patient's Age";
    DicomTagCodeEnum["x00100030"] = "Patient's Birth Date";
    DicomTagCodeEnum["x00101005"] = "Patient's Birth Name";
    DicomTagCodeEnum["x00100032"] = "Patient's Birth Time";
    DicomTagCodeEnum["x00380400"] = "Patient's Institution Residence";
    DicomTagCodeEnum["x00100050"] = "Patient's Insurance Plan Code Sequence";
    DicomTagCodeEnum["x00101060"] = "Patient's Mother's Birth Name";
    DicomTagCodeEnum["x001021f0"] = "Patient's Religious Preference";
    DicomTagCodeEnum["x00100040"] = "Patient's Sex";
    DicomTagCodeEnum["x00101020"] = "Patient's Size";
    DicomTagCodeEnum["x00101030"] = "Patient's Weight";
    DicomTagCodeEnum["x00540038"] = "Pause Between Frames";
    DicomTagCodeEnum["x00180094"] = "Percent Phase Field of View";
    DicomTagCodeEnum["x00180093"] = "Percent Sampling";
    DicomTagCodeEnum["x00400243"] = "Performed Location";
    DicomTagCodeEnum["x0040a372"] = "Performed Procedure Code Sequence";
    DicomTagCodeEnum["x00400254"] = "Performed Procedure Step Description";
    DicomTagCodeEnum["x00400250"] = "Performed Procedure Step End Date";
    DicomTagCodeEnum["x00400251"] = "Performed Procedure Step End Time";
    DicomTagCodeEnum["x00400253"] = "Performed Procedure Step ID";
    DicomTagCodeEnum["x00400244"] = "Performed Procedure Step Start Date";
    DicomTagCodeEnum["x00400245"] = "Performed Procedure Step Start Time";
    DicomTagCodeEnum["x00400252"] = "Performed Procedure Step Status";
    DicomTagCodeEnum["x00400255"] = "Performed Procedure Type Description";
    DicomTagCodeEnum["x00404007"] = "Performed Processing Applications Code Sequence";
    DicomTagCodeEnum["x00400260"] = "Performed Protocol Code Sequence";
    DicomTagCodeEnum["x00400340"] = "Performed Series Sequence";
    DicomTagCodeEnum["x00400241"] = "Performed Station AE Title";
    DicomTagCodeEnum["x00404029"] = "Performed Station Class Code Sequence";
    DicomTagCodeEnum["x00404030"] = "Performed Station Geographic Location Code Sequence";
    DicomTagCodeEnum["x00400242"] = "Performed Station Name";
    DicomTagCodeEnum["x00404028"] = "Performed Station Name Code Sequence";
    DicomTagCodeEnum["x00404019"] = "Performed Workitem Code Sequence";
    DicomTagCodeEnum["x00081050"] = "Performing Physician's Name";
    DicomTagCodeEnum["x0040a123"] = "Person Name";
    DicomTagCodeEnum["x0040a385"] = "Pertinent Other Evidence Sequence";
    DicomTagCodeEnum["x00540036"] = "Phase Delay";
    DicomTagCodeEnum["x00181312"] = "Phase Encoding Direction";
    DicomTagCodeEnum["x00540032"] = "Phase Information Sequence";
    DicomTagCodeEnum["x00540030"] = "Phase Vector";
    DicomTagCodeEnum["x00181261"] = "Phosphor Type";
    DicomTagCodeEnum["x00280004"] = "Photometric Interpretation";
    DicomTagCodeEnum["x00187065"] = "Phototimer Setting";
    DicomTagCodeEnum["x0018602c"] = "Physical Delta X";
    DicomTagCodeEnum["x0018602e"] = "Physical Delta Y";
    DicomTagCodeEnum["x00186024"] = "Physical Units X Direction";
    DicomTagCodeEnum["x00186026"] = "Physical Units Y Direction";
    DicomTagCodeEnum["x40080114"] = "Physician Approving Interpretation";
    DicomTagCodeEnum["x00081048"] = "Physician(s) of Record";
    DicomTagCodeEnum["x00280034"] = "Pixel Aspect Ratio";
    DicomTagCodeEnum["x00180095"] = "Pixel Bandwidth";
    DicomTagCodeEnum["x0018604e"] = "Pixel Component Data Type";
    DicomTagCodeEnum["x00186046"] = "Pixel Component Mask";
    DicomTagCodeEnum["x00186044"] = "Pixel Component Organization";
    DicomTagCodeEnum["x0018604c"] = "Pixel Component Physical Units";
    DicomTagCodeEnum["x00186048"] = "Pixel Component Range Start";
    DicomTagCodeEnum["x0018604a"] = "Pixel Component Range Stop";
    DicomTagCodeEnum["x7fe00010"] = "Pixel Data";
    DicomTagCodeEnum["x00281040"] = "Pixel Intensity Relationship";
    DicomTagCodeEnum["x00281041"] = "Pixel Intensity Relationship Sign";
    DicomTagCodeEnum["x00280120"] = "Pixel Padding Value";
    DicomTagCodeEnum["x00280103"] = "Pixel Representation";
    DicomTagCodeEnum["x00280030"] = "Pixel Spacing";
    DicomTagCodeEnum["x004008d8"] = "Pixel Spacing Sequence";
    DicomTagCodeEnum["x00402016"] = "Placer Order Number / Imaging Service Request";
    DicomTagCodeEnum["x00280006"] = "Planar Configuration";
    DicomTagCodeEnum["x00280012"] = "Planes";
    DicomTagCodeEnum["x300a00ca"] = "Planned Verification Image Sequence";
    DicomTagCodeEnum["x00181004"] = "Plate ID";
    DicomTagCodeEnum["x00181260"] = "Plate Type";
    DicomTagCodeEnum["x20200020"] = "Polarity";
    DicomTagCodeEnum["x00201040"] = "Position Reference Indicator";
    DicomTagCodeEnum["x00181500"] = "Positioner Motion";
    DicomTagCodeEnum["x00181510"] = "Positioner Primary Angle";
    DicomTagCodeEnum["x00181520"] = "Positioner Primary Angle Increment";
    DicomTagCodeEnum["x00181511"] = "Positioner Secondary Angle";
    DicomTagCodeEnum["x00181521"] = "Positioner Secondary Angle Increment";
    DicomTagCodeEnum["x00181508"] = "Positioner Type";
    DicomTagCodeEnum["x00185021"] = "Postprocessing Function";
    DicomTagCodeEnum["x0040a360"] = "Predecessor Documents Sequence";
    DicomTagCodeEnum["x00181244"] = "Preferred Playback Sequencing";
    DicomTagCodeEnum["x001021c0"] = "Pregnancy Status";
    DicomTagCodeEnum["x00400012"] = "Pre-Medication";
    DicomTagCodeEnum["x300a000e"] = "Prescription Description";
    DicomTagCodeEnum["x00700082"] = "Presentation Creation Date";
    DicomTagCodeEnum["x00700083"] = "Presentation Creation Time";
    DicomTagCodeEnum["x00700084"] = "Presentation Creator's Name";
    DicomTagCodeEnum["x00700081"] = "Presentation Description";
    DicomTagCodeEnum["x00080068"] = "Presentation Intent Type";
    DicomTagCodeEnum["x00700080"] = "Presentation Label";
    DicomTagCodeEnum["x21300080"] = "Presentation LUT Content Sequence";
    DicomTagCodeEnum["x20000069"] = "Presentation LUT Flag";
    DicomTagCodeEnum["x20500010"] = "Presentation LUT Sequence";
    DicomTagCodeEnum["x20500020"] = "Presentation LUT Shape";
    DicomTagCodeEnum["x00700102"] = "Presentation Pixel Aspect Ratio";
    DicomTagCodeEnum["x00700103"] = "Presentation Pixel Magnification Ratio";
    DicomTagCodeEnum["x00700101"] = "Presentation Pixel Spacing";
    DicomTagCodeEnum["x00700100"] = "Presentation Size Mode";
    DicomTagCodeEnum["x00082230"] = "Primary Anatomic Structure Modifier Sequence";
    DicomTagCodeEnum["x00082228"] = "Primary Anatomic Structure Sequence";
    DicomTagCodeEnum["x300a00b3"] = "Primary Dosimeter Unit";
    DicomTagCodeEnum["x00541310"] = "Primary(Prompts) Counts Accumulated";
    DicomTagCodeEnum["x21200050"] = "Print Job Description Sequence";
    DicomTagCodeEnum["x21000010"] = "Print Job ID";
    DicomTagCodeEnum["x21300010"] = "Print Management Capabilities Sequence";
    DicomTagCodeEnum["x20000020"] = "Print Priority";
    DicomTagCodeEnum["x21100099"] = "Print Queue ID";
    DicomTagCodeEnum["x21300015"] = "Printer Characteristics Sequence";
    DicomTagCodeEnum["x2000001e"] = "Printer Configuration Sequence";
    DicomTagCodeEnum["x21100030"] = "Printer Name";
    DicomTagCodeEnum["x20100376"] = "Printer Pixel Spacing";
    DicomTagCodeEnum["x20100052"] = "Printer Resolution ID";
    DicomTagCodeEnum["x21100010"] = "Printer Status";
    DicomTagCodeEnum["x21100020"] = "Printer Status Info";
    DicomTagCodeEnum["x200000a1"] = "Printing Bit Depth";
    DicomTagCodeEnum["x0008010c"] = "Private Coding Scheme Creator UID";
    DicomTagCodeEnum["x00020102"] = "Private Information";
    DicomTagCodeEnum["x00020100"] = "Private Information Creator UID";
    DicomTagCodeEnum["x00041432"] = "Private Record UID";
    DicomTagCodeEnum["x00081032"] = "Procedure Code Sequence";
    DicomTagCodeEnum["x00185020"] = "Processing Function";
    DicomTagCodeEnum["x00185104"] = "Projection Eponymous Name Code Sequence";
    DicomTagCodeEnum["x213000a0"] = "Proposed Study Sequence";
    DicomTagCodeEnum["x00181030"] = "Protocol Name";
    DicomTagCodeEnum["x00186032"] = "Pulse Repetition Frequency";
    DicomTagCodeEnum["x300a028c"] = "Pulse Repetition Interval";
    DicomTagCodeEnum["x0040a170"] = "Purpose of Reference Code Sequence";
    DicomTagCodeEnum["x00181085"] = "PVC Rejection";
    DicomTagCodeEnum["x00280300"] = "Quality Control Image";
    DicomTagCodeEnum["x00400294"] = "Quantity";
    DicomTagCodeEnum["x00400293"] = "Quantity Sequence";
    DicomTagCodeEnum["x00080052"] = "Query/Retrieve Level";
    DicomTagCodeEnum["x21200010"] = "Queue Status";
    DicomTagCodeEnum["x00286040"] = "R Wave Pointer";
    DicomTagCodeEnum["x00181142"] = "Radial Position";
    DicomTagCodeEnum["x30020020"] = "Radiation Machine Name";
    DicomTagCodeEnum["x30020022"] = "Radiation Machine SAD";
    DicomTagCodeEnum["x30020024"] = "Radiation Machine SSD";
    DicomTagCodeEnum["x0018115a"] = "Radiation Mode";
    DicomTagCodeEnum["x00181155"] = "Radiation Setting";
    DicomTagCodeEnum["x300a00c6"] = "Radiation Type";
    DicomTagCodeEnum["x00540300"] = "Radionuclide Code Sequence";
    DicomTagCodeEnum["x00181075"] = "Radionuclide Half Life";
    DicomTagCodeEnum["x00181076"] = "Radionuclide Positron Fraction";
    DicomTagCodeEnum["x00181074"] = "Radionuclide Total Dose";
    DicomTagCodeEnum["x00180031"] = "Radiopharmaceutical";
    DicomTagCodeEnum["x00540304"] = "Radiopharmaceutical Code Sequence";
    DicomTagCodeEnum["x00540016"] = "Radiopharmaceutical Information Sequence";
    DicomTagCodeEnum["x00181070"] = "Radiopharmaceutical Route";
    DicomTagCodeEnum["x00181077"] = "Radiopharmaceutical Specific Activity";
    DicomTagCodeEnum["x00181072"] = "Radiopharmaceutical Start Time";
    DicomTagCodeEnum["x00181073"] = "Radiopharmaceutical Stop Time";
    DicomTagCodeEnum["x00181071"] = "Radiopharmaceutical Volume";
    DicomTagCodeEnum["x00181712"] = "Radius of Circular Collimator";
    DicomTagCodeEnum["x00181612"] = "Radius of Circular Shutter";
    DicomTagCodeEnum["x00541100"] = "Randoms Correction Method";
    DicomTagCodeEnum["x00321030"] = "Reason for Study";
    DicomTagCodeEnum["x00402001"] = "Reason for the Imaging Service Request";
    DicomTagCodeEnum["x00401002"] = "Reason for the Requested Procedure";
    DicomTagCodeEnum["x00181250"] = "Receiving Coil";
    DicomTagCodeEnum["x00082144"] = "Recommended Display Frame Rate";
    DicomTagCodeEnum["x00281090"] = "Recommended Viewing Mode";
    DicomTagCodeEnum["x00181100"] = "Reconstruction Diameter";
    DicomTagCodeEnum["x00541103"] = "Reconstruction Method";
    DicomTagCodeEnum["x00041410"] = "Record In-use Flag";
    DicomTagCodeEnum["x300800d0"] = "Recorded Block Sequence";
    DicomTagCodeEnum["x30080120"] = "Recorded Brachy Accessory Device Sequence";
    DicomTagCodeEnum["x30080130"] = "Recorded Channel Sequence";
    DicomTagCodeEnum["x30080150"] = "Recorded Channel Shield Sequence";
    DicomTagCodeEnum["x300800c0"] = "Recorded Compensator Sequence";
    DicomTagCodeEnum["x30080140"] = "Recorded Source Applicator Sequence";
    DicomTagCodeEnum["x30080100"] = "Recorded Source Sequence";
    DicomTagCodeEnum["x300800b0"] = "Recorded Wedge Sequence";
    DicomTagCodeEnum["x00181156"] = "Rectification Type";
    DicomTagCodeEnum["x00281201"] = "Red Palette Color Lookup Table Data";
    DicomTagCodeEnum["x00281101"] = "Red Palette Color Lookup Table Descriptor";
    DicomTagCodeEnum["x300a022a"] = "Reference Air Kerma Rate";
    DicomTagCodeEnum["x300a00c8"] = "Reference Image Number";
    DicomTagCodeEnum["x00186028"] = "Reference Pixel Physical Value X";
    DicomTagCodeEnum["x0018602a"] = "Reference Pixel Physical Value Y";
    DicomTagCodeEnum["x00186020"] = "Reference Pixel X0";
    DicomTagCodeEnum["x00186022"] = "Reference Pixel Y0";
    DicomTagCodeEnum["x40080103"] = "Reference to Recorded Sound";
    DicomTagCodeEnum["x20100520"] = "Referenced Basic Annotation Box Sequence";
    DicomTagCodeEnum["x300c0006"] = "Referenced Beam Number";
    DicomTagCodeEnum["x300c0004"] = "Referenced Beam Sequence";
    DicomTagCodeEnum["x300c00e0"] = "Referenced Block Number";
    DicomTagCodeEnum["x300c00b0"] = "Referenced Bolus Sequence";
    DicomTagCodeEnum["x30080122"] = "Referenced Brachy Accessory Device Number";
    DicomTagCodeEnum["x300c000c"] = "Referenced Brachy Application Setup Number";
    DicomTagCodeEnum["x300c000a"] = "Referenced Brachy Application Setup Sequence";
    DicomTagCodeEnum["x30080092"] = "Referenced Calculated Dose Reference Number";
    DicomTagCodeEnum["x30080090"] = "Referenced Calculated Dose Reference Sequence";
    DicomTagCodeEnum["x30080152"] = "Referenced Channel Shield Number";
    DicomTagCodeEnum["x300c00d0"] = "Referenced Compensator Number";
    DicomTagCodeEnum["x0040db73"] = "Referenced Content Item Identifier";
    DicomTagCodeEnum["x300c00f0"] = "Referenced Control Point Index";
    DicomTagCodeEnum["x00081145"] = "Referenced Curve Sequence";
    DicomTagCodeEnum["x0040a13a"] = "Referenced Datetime";
    DicomTagCodeEnum["x300c0051"] = "Referenced Dose Reference Number";
    DicomTagCodeEnum["x300c0050"] = "Referenced Dose Reference Sequence";
    DicomTagCodeEnum["x300c0080"] = "Referenced Dose Sequence";
    DicomTagCodeEnum["x00041500"] = "Referenced File ID";
    DicomTagCodeEnum["x20000500"] = "Referenced Film Box Sequence";
    DicomTagCodeEnum["x20100500"] = "Referenced Film Session Sequence";
    DicomTagCodeEnum["x300c0022"] = "Referenced Fraction Group Number";
    DicomTagCodeEnum["x300c0020"] = "Referenced Fraction Group Sequence";
    DicomTagCodeEnum["x30080223"] = "Referenced Fraction Number";
    DicomTagCodeEnum["x00081160"] = "Referenced Frame Number";
    DicomTagCodeEnum["x0040a136"] = "Referenced Frame Numbers";
    DicomTagCodeEnum["x30060010"] = "Referenced Frame of Reference Sequence";
    DicomTagCodeEnum["x30060024"] = "Referenced Frame of Reference UID";
    DicomTagCodeEnum["x00404016"] = "Referenced General Purpose Scheduled Procedure Step Sequence";
    DicomTagCodeEnum["x00404023"] = "Referenced General Purpose Scheduled Procedure Step Transaction UID";
    DicomTagCodeEnum["x20100510"] = "Referenced Image Box Sequence";
    DicomTagCodeEnum["x00081140"] = "Referenced Image Sequence";
    DicomTagCodeEnum["x0008114a"] = "Referenced Instance Sequence";
    DicomTagCodeEnum["x40080050"] = "Referenced Interpretation Sequence";
    DicomTagCodeEnum["x30080082"] = "Referenced Measured Dose Reference Number";
    DicomTagCodeEnum["x30080080"] = "Referenced Measured Dose Reference Sequence";
    DicomTagCodeEnum["x00400220"] = "Referenced Non-Image Composite SOP Instance Sequence";
    DicomTagCodeEnum["x50xx2610"] = "Referenced Overlay Group";
    DicomTagCodeEnum["x20400011"] = "Referenced Overlay Plane Groups";
    DicomTagCodeEnum["x20400010"] = "Referenced Overlay Plane Sequence";
    DicomTagCodeEnum["x00081130"] = "Referenced Overlay Sequence";
    DicomTagCodeEnum["x50xx2600"] = "Referenced Overlay Sequence";
    DicomTagCodeEnum["x00380004"] = "Referenced Patient Alias Sequence";
    DicomTagCodeEnum["x00081120"] = "Referenced Patient Sequence";
    DicomTagCodeEnum["x300c006a"] = "Referenced Patient Setup Number";
    DicomTagCodeEnum["x20500500"] = "Referenced Presentation LUT Sequence";
    DicomTagCodeEnum["x21000500"] = "Referenced Print Job Sequence";
    DicomTagCodeEnum["x21200070"] = "Referenced Print Job Sequence";
    DicomTagCodeEnum["x00400330"] = "Referenced Procedure Step Sequence";
    DicomTagCodeEnum["x300c0007"] = "Referenced Reference Image Number";
    DicomTagCodeEnum["x300c0042"] = "Referenced Reference Image Sequence";
    DicomTagCodeEnum["x0040a370"] = "Referenced Request Sequence";
    DicomTagCodeEnum["x00081100"] = "Referenced Results Sequence";
    DicomTagCodeEnum["x30060084"] = "Referenced ROI Number";
    DicomTagCodeEnum["x300c0002"] = "Referenced RT Plan Sequence";
    DicomTagCodeEnum["x0040a132"] = "Referenced Sample Positions";
    DicomTagCodeEnum["x00081115"] = "Referenced Series Sequence";
    DicomTagCodeEnum["x00081150"] = "Referenced SOP Class UID";
    DicomTagCodeEnum["x00041510"] = "Referenced SOP Class UID in File";
    DicomTagCodeEnum["x00081155"] = "Referenced SOP Instance UID";
    DicomTagCodeEnum["x00041511"] = "Referenced SOP Instance UID in File";
    DicomTagCodeEnum["x00081199"] = "Referenced SOP Sequence";
    DicomTagCodeEnum["x30080142"] = "Referenced Source Applicator Number";
    DicomTagCodeEnum["x300c000e"] = "Referenced Source Number";
    DicomTagCodeEnum["x20000510"] = "Referenced Stored Print Sequence";
    DicomTagCodeEnum["x300c0060"] = "Referenced Structure Set Sequence";
    DicomTagCodeEnum["x00081111"] = "Referenced Study Component Sequence";
    DicomTagCodeEnum["x00081110"] = "Referenced Study Sequence";
    DicomTagCodeEnum["x0040a138"] = "Referenced Time Offsets";
    DicomTagCodeEnum["x300c00a0"] = "Referenced Tolerance Table Number";
    DicomTagCodeEnum["x00041512"] = "Referenced Transfer Syntax UID in File";
    DicomTagCodeEnum["x30080030"] = "Referenced Treatment Record Sequence";
    DicomTagCodeEnum["x300c0040"] = "Referenced Verification Image Sequence";
    DicomTagCodeEnum["x00081125"] = "Referenced Visit Sequence";
    DicomTagCodeEnum["x0040a0b0"] = "Referenced Waveform Channels";
    DicomTagCodeEnum["x0008113a"] = "Referenced Waveform Sequence";
    DicomTagCodeEnum["x300c00c0"] = "Referenced Wedge Number";
    DicomTagCodeEnum["x00080090"] = "Referring Physician's Name";
    DicomTagCodeEnum["x00080094"] = "Referring Physician's Telephone Numbers";
    DicomTagCodeEnum["x00080092"] = "Referring Physician's Address";
    DicomTagCodeEnum["x20100160"] = "Reflected Ambient Light";
    DicomTagCodeEnum["x00186014"] = "Region Data Type";
    DicomTagCodeEnum["x00186016"] = "Region Flags";
    DicomTagCodeEnum["x0018601c"] = "Region Location Max X1";
    DicomTagCodeEnum["x0018601e"] = "Region Location Max Y1";
    DicomTagCodeEnum["x00186018"] = "Region Location Min X0";
    DicomTagCodeEnum["x0018601a"] = "Region Location Min Y0";
    DicomTagCodeEnum["x00102152"] = "Region of Residence";
    DicomTagCodeEnum["x00186012"] = "Region Spatial Format";
    DicomTagCodeEnum["x300600c2"] = "Related Frame of Reference UID";
    DicomTagCodeEnum["x300600a0"] = "Related RT ROI Observations Sequence";
    DicomTagCodeEnum["x0040a010"] = "Relationship Type";
    DicomTagCodeEnum["x00181405"] = "Relative X-ray Exposure";
    DicomTagCodeEnum["x00404022"] = "Relevant Information Sequence";
    DicomTagCodeEnum["x300a007a"] = "Repeat Fraction Cycle Length";
    DicomTagCodeEnum["x00180080"] = "Repetition Time";
    DicomTagCodeEnum["x3002000a"] = "Reported Values Origin";
    DicomTagCodeEnum["x00401009"] = "Reporting Priority";
    DicomTagCodeEnum["x00286010"] = "Representative Frame Number";
    DicomTagCodeEnum["x00541004"] = "Reprojection Method";
    DicomTagCodeEnum["x00400275"] = "Request Attributes Sequence";
    DicomTagCodeEnum["x00321070"] = "Requested Contrast Agent";
    DicomTagCodeEnum["x20200040"] = "Requested Decimate/Crop Behavior";
    DicomTagCodeEnum["x20200030"] = "Requested Image Size";
    DicomTagCodeEnum["x202000a0"] = "Requested Image Size Flag";
    DicomTagCodeEnum["x00321064"] = "Requested Procedure Code Sequence";
    DicomTagCodeEnum["x00401400"] = "Requested Procedure Comments";
    DicomTagCodeEnum["x00321060"] = "Requested Procedure Description";
    DicomTagCodeEnum["x00401001"] = "Requested Procedure ID";
    DicomTagCodeEnum["x00401005"] = "Requested Procedure Location";
    DicomTagCodeEnum["x00401003"] = "Requested Procedure Priority";
    DicomTagCodeEnum["x20200050"] = "Requested Resolution ID";
    DicomTagCodeEnum["x00404031"] = "Requested Subsequent Workitem Code Sequence";
    DicomTagCodeEnum["x00321032"] = "Requesting Physician";
    DicomTagCodeEnum["x00321033"] = "Requesting Service";
    DicomTagCodeEnum["x00281052"] = "Rescale Intercept";
    DicomTagCodeEnum["x00281053"] = "Rescale Slope";
    DicomTagCodeEnum["x00281054"] = "Rescale Type";
    DicomTagCodeEnum["x00540017"] = "Residual Syringe Counts";
    DicomTagCodeEnum["x00404015"] = "Resulting General Purpose Performed Procedure Steps Sequence";
    DicomTagCodeEnum["x40084000"] = "Results Comments";
    DicomTagCodeEnum["x40080118"] = "Results Distribution List Sequence";
    DicomTagCodeEnum["x40080040"] = "Results ID";
    DicomTagCodeEnum["x40080042"] = "Results ID Issuer";
    DicomTagCodeEnum["x00080054"] = "Retrieve AE Title";
    DicomTagCodeEnum["x300e0004"] = "Review Date";
    DicomTagCodeEnum["x300e0005"] = "Review Time";
    DicomTagCodeEnum["x300e0008"] = "Reviewer Name";
    DicomTagCodeEnum["x60xx1301"] = "ROI Area";
    DicomTagCodeEnum["x30060039"] = "ROI Contour Sequence";
    DicomTagCodeEnum["x30060028"] = "ROI Description";
    DicomTagCodeEnum["x3006002a"] = "ROI Display Color";
    DicomTagCodeEnum["x30060036"] = "ROI Generation Algorithm";
    DicomTagCodeEnum["x30060038"] = "ROI Generation Description";
    DicomTagCodeEnum["x300600a6"] = "ROI Interpreter";
    DicomTagCodeEnum["x60xx1302"] = "ROI Mean";
    DicomTagCodeEnum["x30060026"] = "ROI Name";
    DicomTagCodeEnum["x30060022"] = "ROI Number";
    DicomTagCodeEnum["x30060088"] = "ROI Observation Description";
    DicomTagCodeEnum["x30060085"] = "ROI Observation Label";
    DicomTagCodeEnum["x300600b0"] = "ROI Physical Properties Sequence";
    DicomTagCodeEnum["x300600b2"] = "ROI Physical Property";
    DicomTagCodeEnum["x300600b4"] = "ROI Physical Property Value";
    DicomTagCodeEnum["x60xx1303"] = "ROI Standard Deviation";
    DicomTagCodeEnum["x3006002c"] = "ROI Volume";
    DicomTagCodeEnum["x00181140"] = "Rotation Direction";
    DicomTagCodeEnum["x00540052"] = "Rotation Information Sequence";
    DicomTagCodeEnum["x00182030"] = "Rotation of Scanned Film";
    DicomTagCodeEnum["x00540050"] = "Rotation Vector";
    DicomTagCodeEnum["x00380016"] = "Route of Admissions";
    DicomTagCodeEnum["x00280010"] = "Rows";
    DicomTagCodeEnum["x00540060"] = "R-R Interval Vector";
    DicomTagCodeEnum["x300a00b8"] = "RT Beam Limiting Device Type";
    DicomTagCodeEnum["x30040010"] = "RT Dose ROI Sequence";
    DicomTagCodeEnum["x30020004"] = "RT Image Description";
    DicomTagCodeEnum["x30020002"] = "RT Image Label";
    DicomTagCodeEnum["x30020003"] = "RT Image Name";
    DicomTagCodeEnum["x30020010"] = "RT Image Orientation";
    DicomTagCodeEnum["x3002000c"] = "RT Image Plane";
    DicomTagCodeEnum["x30020012"] = "RT Image Position";
    DicomTagCodeEnum["x30020026"] = "RT Image SID";
    DicomTagCodeEnum["x300a0006"] = "RT Plan Date";
    DicomTagCodeEnum["x300a0004"] = "RT Plan Description";
    DicomTagCodeEnum["x300a000c"] = "RT Plan Geometry";
    DicomTagCodeEnum["x300a0002"] = "RT Plan Label";
    DicomTagCodeEnum["x300a0003"] = "RT Plan Name";
    DicomTagCodeEnum["x300a0055"] = "RT Plan Relationship";
    DicomTagCodeEnum["x300a0007"] = "RT Plan Time";
    DicomTagCodeEnum["x30060014"] = "RT Referenced Series Sequence";
    DicomTagCodeEnum["x30060012"] = "RT Referenced Study Sequence";
    DicomTagCodeEnum["x30060030"] = "RT Related ROI Sequence";
    DicomTagCodeEnum["x30060086"] = "RT ROI Identification Code Sequence";
    DicomTagCodeEnum["x300600a4"] = "RT ROI Interpreted Type";
    DicomTagCodeEnum["x30060080"] = "RT ROI Observations Sequence";
    DicomTagCodeEnum["x30060033"] = "RT ROI Relationship";
    DicomTagCodeEnum["x30080162"] = "Safe Position Exit Date";
    DicomTagCodeEnum["x30080164"] = "Safe Position Exit Time";
    DicomTagCodeEnum["x30080166"] = "Safe Position Return Date";
    DicomTagCodeEnum["x30080168"] = "Safe Position Return Time";
    DicomTagCodeEnum["x50xx2008"] = "Sample Rate";
    DicomTagCodeEnum["x00280002"] = "Samples per Pixel";
    DicomTagCodeEnum["x003a001a"] = "Sampling Frequency";
    DicomTagCodeEnum["x00181316"] = "SAR";
    DicomTagCodeEnum["x00181143"] = "Scan Arc";
    DicomTagCodeEnum["x00181302"] = "Scan Length";
    DicomTagCodeEnum["x00180022"] = "Scan Options";
    DicomTagCodeEnum["x00181300"] = "Scan Velocity";
    DicomTagCodeEnum["x00180020"] = "Scanning Sequence";
    DicomTagCodeEnum["x00541105"] = "Scatter Correction Method";
    DicomTagCodeEnum["x00541323"] = "Scatter Fraction Factor";
    DicomTagCodeEnum["x0038001a"] = "Scheduled Admission Date";
    DicomTagCodeEnum["x0038001b"] = "Scheduled Admission Time";
    DicomTagCodeEnum["x0038001c"] = "Scheduled Discharge Date";
    DicomTagCodeEnum["x0038001d"] = "Scheduled Discharge Time";
    DicomTagCodeEnum["x00404034"] = "Scheduled Human Performers Sequence";
    DicomTagCodeEnum["x0038001e"] = "Scheduled Patient Institution Residence";
    DicomTagCodeEnum["x00400006"] = "Scheduled Performing Physician's Name";
    DicomTagCodeEnum["x00400007"] = "Scheduled Procedure Step Description";
    DicomTagCodeEnum["x00400004"] = "Scheduled Procedure Step End Date";
    DicomTagCodeEnum["x00400005"] = "Scheduled Procedure Step End Time";
    DicomTagCodeEnum["x00400009"] = "Scheduled Procedure Step ID";
    DicomTagCodeEnum["x00400011"] = "Scheduled Procedure Step Location";
    DicomTagCodeEnum["x00400100"] = "Scheduled Procedure Step Sequence";
    DicomTagCodeEnum["x00400002"] = "Scheduled Procedure Step Start Date";
    DicomTagCodeEnum["x00404005"] = "Scheduled Procedure Step Start Date and Time";
    DicomTagCodeEnum["x00400003"] = "Scheduled Procedure Step Start Time";
    DicomTagCodeEnum["x00400020"] = "Scheduled Procedure Step Status";
    DicomTagCodeEnum["x00404004"] = "Scheduled Processing Applications Code Sequence";
    DicomTagCodeEnum["x00400008"] = "Scheduled Protocol Code Sequence";
    DicomTagCodeEnum["x00400001"] = "Scheduled Station AE Title";
    DicomTagCodeEnum["x00404026"] = "Scheduled Station Class Code Sequence";
    DicomTagCodeEnum["x00404027"] = "Scheduled Station Geographic Location Code Sequence";
    DicomTagCodeEnum["x00400010"] = "Scheduled Station Name";
    DicomTagCodeEnum["x00404025"] = "Scheduled Station Name Code Sequence";
    DicomTagCodeEnum["x00400270"] = "Scheduled Step Attributes Sequence";
    DicomTagCodeEnum["x00321020"] = "Scheduled Study Location";
    DicomTagCodeEnum["x00321021"] = "Scheduled Study Location AE Title(s)";
    DicomTagCodeEnum["x00321000"] = "Scheduled Study Start Date";
    DicomTagCodeEnum["x00321001"] = "Scheduled Study Start Time";
    DicomTagCodeEnum["x00321010"] = "Scheduled Study Stop Date";
    DicomTagCodeEnum["x00321011"] = "Scheduled Study Stop Time";
    DicomTagCodeEnum["x00404018"] = "Scheduled Workitem Code Sequence";
    DicomTagCodeEnum["x00181010"] = "Secondary Capture Device ID";
    DicomTagCodeEnum["x00181016"] = "Secondary Capture Device Manufacturer";
    DicomTagCodeEnum["x00181018"] = "Secondary Capture Device Manufacturer's Model Name";
    DicomTagCodeEnum["x00181019"] = "Secondary Capture Device Software Version(s)";
    DicomTagCodeEnum["x00541311"] = "Secondary Counts Accumulated";
    DicomTagCodeEnum["x00541220"] = "Secondary Counts Type";
    DicomTagCodeEnum["x00281223"] = "Segmented Blue Palette Color Lookup Table Data";
    DicomTagCodeEnum["x00281222"] = "Segmented Green Palette Color Lookup Table Data";
    DicomTagCodeEnum["x00281221"] = "Segmented Red Palette Color Lookup Table Data";
    DicomTagCodeEnum["x00186000"] = "Sensitivity";
    DicomTagCodeEnum["xfffee0dd"] = "Sequence Delimitation Item";
    DicomTagCodeEnum["x00180024"] = "Sequence Name";
    DicomTagCodeEnum["x00186011"] = "Sequence of Ultrasound Regions";
    DicomTagCodeEnum["x00180021"] = "Sequence Variant";
    DicomTagCodeEnum["x00080021"] = "Series Date";
    DicomTagCodeEnum["x0008103e"] = "Series Description";
    DicomTagCodeEnum["x00201000"] = "Series in Study";
    DicomTagCodeEnum["x0020000e"] = "Series Instance UID";
    DicomTagCodeEnum["x00200011"] = "Series Number";
    DicomTagCodeEnum["x00080031"] = "Series Time";
    DicomTagCodeEnum["x00541000"] = "Series Type";
    DicomTagCodeEnum["x300a01ba"] = "Setup Device Description";
    DicomTagCodeEnum["x300a01b8"] = "Setup Device Label";
    DicomTagCodeEnum["x300a01bc"] = "Setup Device Parameter";
    DicomTagCodeEnum["x300a01b4"] = "Setup Device Sequence";
    DicomTagCodeEnum["x300a01b6"] = "Setup Device Type";
    DicomTagCodeEnum["x300a01d0"] = "Setup Reference Description";
    DicomTagCodeEnum["x300a01b0"] = "Setup Technique";
    DicomTagCodeEnum["x300a01b2"] = "Setup Technique Description";
    DicomTagCodeEnum["x300a01a6"] = "Shielding Device Description";
    DicomTagCodeEnum["x300a01a4"] = "Shielding Device Label";
    DicomTagCodeEnum["x300a01a8"] = "Shielding Device Position";
    DicomTagCodeEnum["x300a01a0"] = "Shielding Device Sequence";
    DicomTagCodeEnum["x300a01a2"] = "Shielding Device Type";
    DicomTagCodeEnum["x00181602"] = "Shutter Left Vertical Edge";
    DicomTagCodeEnum["x00181608"] = "Shutter Lower Horizontal Edge";
    DicomTagCodeEnum["x00181623"] = "Shutter Overlay Group";
    DicomTagCodeEnum["x00181622"] = "Shutter Presentation Value";
    DicomTagCodeEnum["x00181604"] = "Shutter Right Vertical Edge";
    DicomTagCodeEnum["x00181600"] = "Shutter Shape";
    DicomTagCodeEnum["x00181606"] = "Shutter Upper Horizontal Edge";
    DicomTagCodeEnum["x04000120"] = "Signature";
    DicomTagCodeEnum["x00181086"] = "Skip Beats";
    DicomTagCodeEnum["x00201041"] = "Slice Location";
    DicomTagCodeEnum["x00182005"] = "Slice Location Vector";
    DicomTagCodeEnum["x00541320"] = "Slice Sensitivity Factor";
    DicomTagCodeEnum["x00180050"] = "Slice Thickness";
    DicomTagCodeEnum["x00540080"] = "Slice Vector";
    DicomTagCodeEnum["x004006fa"] = "Slide Identifier";
    DicomTagCodeEnum["x00280106"] = "Smallest Image Pixel Value";
    DicomTagCodeEnum["x00280110"] = "Smallest Image Pixel Value in Plane";
    DicomTagCodeEnum["x00280108"] = "Smallest Pixel Value in Series";
    DicomTagCodeEnum["x001021a0"] = "Smoking Status";
    DicomTagCodeEnum["x20100080"] = "Smoothing Type";
    DicomTagCodeEnum["x00185027"] = "Soft Tissue Thermal Index";
    DicomTagCodeEnum["x00185028"] = "Soft Tissue-focus Thermal Index";
    DicomTagCodeEnum["x00185029"] = "Soft Tissue-surface Thermal Index";
    DicomTagCodeEnum["x00283110"] = "Softcopy VOI LUT Sequence";
    DicomTagCodeEnum["x00181020"] = "Software Version(s)";
    DicomTagCodeEnum["x01000424"] = "SOP Authorization Comment";
    DicomTagCodeEnum["x01000420"] = "SOP Authorization Date and Time";
    DicomTagCodeEnum["x00080016"] = "SOP Class UID";
    DicomTagCodeEnum["x0008115a"] = "SOP Classes Supported";
    DicomTagCodeEnum["x01000410"] = "SOP Instance Status";
    DicomTagCodeEnum["x00080018"] = "SOP Instance UID";
    DicomTagCodeEnum["x00020016"] = "Source Application Entity Title";
    DicomTagCodeEnum["x300a0291"] = "Source Applicator ID";
    DicomTagCodeEnum["x300a0296"] = "Source Applicator Length";
    DicomTagCodeEnum["x300a0298"] = "Source Applicator Manufacturer";
    DicomTagCodeEnum["x300a0294"] = "Source Applicator Name";
    DicomTagCodeEnum["x300a0290"] = "Source Applicator Number";
    DicomTagCodeEnum["x300a02a0"] = "Source Applicator Step Size";
    DicomTagCodeEnum["x300a0292"] = "Source Applicator Type";
    DicomTagCodeEnum["x300a029c"] = "Source Applicator Wall Nominal Thickness";
    DicomTagCodeEnum["x300a029e"] = "Source Applicator Wall Nominal Transmission";
    DicomTagCodeEnum["x300a0222"] = "Source Encapsulation Nominal Thickness";
    DicomTagCodeEnum["x300a0224"] = "Source Encapsulation Nominal Transmission";
    DicomTagCodeEnum["x00082112"] = "Source Image Sequence";
    DicomTagCodeEnum["x300a0228"] = "Source Isotope Half Life";
    DicomTagCodeEnum["x300a0226"] = "Source Isotope Name";
    DicomTagCodeEnum["x300a0216"] = "Source Manufacturer";
    DicomTagCodeEnum["x300a0288"] = "Source Movement Type";
    DicomTagCodeEnum["x300a0212"] = "Source Number";
    DicomTagCodeEnum["x300a0210"] = "Source Sequence";
    DicomTagCodeEnum["x30080105"] = "Source Serial Number";
    DicomTagCodeEnum["x300a00ba"] = "Source to Beam Limiting Device Distance";
    DicomTagCodeEnum["x300a00f6"] = "Source to Block Tray Distance";
    DicomTagCodeEnum["x300a00e6"] = "Source to Compensator Tray Distance";
    DicomTagCodeEnum["x30020028"] = "Source to Reference Object Distance";
    DicomTagCodeEnum["x300a0130"] = "Source to Surface Distance";
    DicomTagCodeEnum["x300a00da"] = "Source to Wedge Tray Distance";
    DicomTagCodeEnum["x300a0214"] = "Source Type";
    DicomTagCodeEnum["x003a020a"] = "Source Waveform Sequence";
    DicomTagCodeEnum["x300a00b4"] = "Source-Axis Distance";
    DicomTagCodeEnum["x00180088"] = "Spacing Between Slices";
    DicomTagCodeEnum["x00181050"] = "Spatial Resolution";
    DicomTagCodeEnum["x00380050"] = "Special Needs";
    DicomTagCodeEnum["x00080005"] = "Specific Character Set";
    DicomTagCodeEnum["x00041142"] = "Specific Character Set of File-set Descriptor File";
    DicomTagCodeEnum["x30080132"] = "Specified Channel Total Time";
    DicomTagCodeEnum["x30080042"] = "Specified Meterset";
    DicomTagCodeEnum["x30080136"] = "Specified Number of Pulses";
    DicomTagCodeEnum["x30080032"] = "Specified Primary Meterset";
    DicomTagCodeEnum["x3008013a"] = "Specified Pulse Repetition Interval";
    DicomTagCodeEnum["x30080033"] = "Specified Secondary Meterset";
    DicomTagCodeEnum["x3008003a"] = "Specified Treatment Time";
    DicomTagCodeEnum["x0040050a"] = "Specimen Accession Number";
    DicomTagCodeEnum["x00400551"] = "Specimen Identifier";
    DicomTagCodeEnum["x00400550"] = "Specimen Sequence";
    DicomTagCodeEnum["x0040059a"] = "Specimen Type Code Sequence";
    DicomTagCodeEnum["x0040000a"] = "Stage Code Sequence";
    DicomTagCodeEnum["x00082120"] = "Stage Name";
    DicomTagCodeEnum["x00082122"] = "Stage Number";
    DicomTagCodeEnum["x00540200"] = "Start Angle";
    DicomTagCodeEnum["x300c0008"] = "Start Cumulative Meterset Weight";
    DicomTagCodeEnum["x30080078"] = "Start Meterset";
    DicomTagCodeEnum["x00082142"] = "Start Trim";
    DicomTagCodeEnum["x00081010"] = "Station Name";
    DicomTagCodeEnum["x00186036"] = "Steering Angle";
    DicomTagCodeEnum["x00082143"] = "Stop Trim";
    DicomTagCodeEnum["x00880130"] = "Storage Media File-set ID";
    DicomTagCodeEnum["x00880140"] = "Storage Media File-set UID";
    DicomTagCodeEnum["x30060008"] = "Structure Set Date";
    DicomTagCodeEnum["x30060006"] = "Structure Set Description";
    DicomTagCodeEnum["x30060002"] = "Structure Set Label";
    DicomTagCodeEnum["x30060004"] = "Structure Set Name";
    DicomTagCodeEnum["x30060020"] = "Structure Set ROI Sequence";
    DicomTagCodeEnum["x30060009"] = "Structure Set Time";
    DicomTagCodeEnum["x00321040"] = "Study Arrival Date";
    DicomTagCodeEnum["x00321041"] = "Study Arrival Time";
    DicomTagCodeEnum["x00324000"] = "Study Comments";
    DicomTagCodeEnum["x00321050"] = "Study Completion Date";
    DicomTagCodeEnum["x00321051"] = "Study Completion Time";
    DicomTagCodeEnum["x00321055"] = "Study Component Status ID";
    DicomTagCodeEnum["x00080020"] = "Study Date";
    DicomTagCodeEnum["x00081030"] = "Study Description";
    DicomTagCodeEnum["x00200010"] = "Study ID";
    DicomTagCodeEnum["x00320012"] = "Study ID Issuer";
    DicomTagCodeEnum["x0020000d"] = "Study Instance UID";
    DicomTagCodeEnum["x0032000c"] = "Study Priority ID";
    DicomTagCodeEnum["x00320034"] = "Study Read Date";
    DicomTagCodeEnum["x00320035"] = "Study Read Time";
    DicomTagCodeEnum["x0032000a"] = "Study Status ID";
    DicomTagCodeEnum["x00080030"] = "Study Time";
    DicomTagCodeEnum["x00320032"] = "Study Verified Date";
    DicomTagCodeEnum["x00320033"] = "Study Verified Time";
    DicomTagCodeEnum["x200000a8"] = "Supported Image Display Formats Sequence";
    DicomTagCodeEnum["x300a012e"] = "Surface Entry Point";
    DicomTagCodeEnum["x0018106c"] = "Synchronization Channel";
    DicomTagCodeEnum["x00200200"] = "Synchronization Frame of Reference UID";
    DicomTagCodeEnum["x0018106a"] = "Synchronization Trigger";
    DicomTagCodeEnum["x00181045"] = "Syringe Counts";
    DicomTagCodeEnum["x00181138"] = "Table Angle";
    DicomTagCodeEnum["x00181130"] = "Table Height";
    DicomTagCodeEnum["x00181136"] = "Table Lateral Increment";
    DicomTagCodeEnum["x00181137"] = "Table Longitudinal Increment";
    DicomTagCodeEnum["x00181134"] = "Table Motion";
    DicomTagCodeEnum["x0018605a"] = "Table of Parameter Values";
    DicomTagCodeEnum["x00186058"] = "Table of Pixel Values";
    DicomTagCodeEnum["x00186052"] = "Table of X Break Points";
    DicomTagCodeEnum["x00186054"] = "Table of Y Break Points";
    DicomTagCodeEnum["x300a0125"] = "Table Top Eccentric Angle";
    DicomTagCodeEnum["x300a004e"] = "Table Top Eccentric Angle Tolerance";
    DicomTagCodeEnum["x300a0124"] = "Table Top Eccentric Axis Distance";
    DicomTagCodeEnum["x300a0126"] = "Table Top Eccentric Rotation Direction";
    DicomTagCodeEnum["x300a012a"] = "Table Top Lateral Position";
    DicomTagCodeEnum["x300a0053"] = "Table Top Lateral Position Tolerance";
    DicomTagCodeEnum["x300a01d6"] = "Table Top Lateral Setup Displacement";
    DicomTagCodeEnum["x300a0129"] = "Table Top Longitudinal Position";
    DicomTagCodeEnum["x300a0052"] = "Table Top Longitudinal Position Tolerance";
    DicomTagCodeEnum["x300a01d4"] = "Table Top Longitudinal Setup Displacement";
    DicomTagCodeEnum["x300a0128"] = "Table Top Vertical Position";
    DicomTagCodeEnum["x300a0051"] = "Table Top Vertical Position Tolerance";
    DicomTagCodeEnum["x300a01d2"] = "Table Top Vertical Setup Displacement";
    DicomTagCodeEnum["x00181131"] = "Table Traverse";
    DicomTagCodeEnum["x0018113a"] = "Table Type";
    DicomTagCodeEnum["x00181135"] = "Table Vertical Increment";
    DicomTagCodeEnum["x300a0027"] = "Target Maximum Dose";
    DicomTagCodeEnum["x300a0025"] = "Target Minimum Dose";
    DicomTagCodeEnum["x300a0026"] = "Target Prescription Dose";
    DicomTagCodeEnum["x300a0028"] = "Target Underdose Volume Fraction";
    DicomTagCodeEnum["x0040db0d"] = "Template Extension Creator UID";
    DicomTagCodeEnum["x0040db0b"] = "Template Extension Flag";
    DicomTagCodeEnum["x0040db0c"] = "Template Extension Organization UID";
    DicomTagCodeEnum["x0040db00"] = "Template Identifier";
    DicomTagCodeEnum["x0040db07"] = "Template Local Version";
    DicomTagCodeEnum["x300a0244"] = "Template Name";
    DicomTagCodeEnum["x300a0240"] = "Template Number";
    DicomTagCodeEnum["x300a0242"] = "Template Type";
    DicomTagCodeEnum["x0040db06"] = "Template Version";
    DicomTagCodeEnum["x00200100"] = "Temporal Position Identifier";
    DicomTagCodeEnum["x0040a130"] = "Temporal Range Type";
    DicomTagCodeEnum["x00200110"] = "Temporal Resolution";
    DicomTagCodeEnum["x00700008"] = "Text Object Sequence";
    DicomTagCodeEnum["x20300020"] = "Text String";
    DicomTagCodeEnum["x0040a160"] = "Text Value";
    DicomTagCodeEnum["x00180039"] = "Therapy Description";
    DicomTagCodeEnum["x00180037"] = "Therapy Type";
    DicomTagCodeEnum["x00185024"] = "Thermal Index";
    DicomTagCodeEnum["x00286120"] = "TID Offset";
    DicomTagCodeEnum["x0040a122"] = "Time";
    DicomTagCodeEnum["x00181802"] = "Time Distribution Protocol";
    DicomTagCodeEnum["x00181201"] = "Time of Last Calibration";
    DicomTagCodeEnum["x0018700e"] = "Time of Last Detector Calibration";
    DicomTagCodeEnum["x00181014"] = "Time of Secondary Capture";
    DicomTagCodeEnum["x00540100"] = "Time Slice Vector";
    DicomTagCodeEnum["x00540072"] = "Time Slot Information Sequence";
    DicomTagCodeEnum["x00540073"] = "Time Slot Time";
    DicomTagCodeEnum["x00540070"] = "Time Slot Vector";
    DicomTagCodeEnum["x00181801"] = "Time Source";
    DicomTagCodeEnum["x00080201"] = "Timezone Offset From UTC";
    DicomTagCodeEnum["x0018603c"] = "TM-Line Position X0";
    DicomTagCodeEnum["x00186040"] = "TM-Line Position X1";
    DicomTagCodeEnum["x0018603e"] = "TM-Line Position Y0";
    DicomTagCodeEnum["x00186042"] = "TM-Line Position Y1";
    DicomTagCodeEnum["x300a0043"] = "Tolerance Table Label";
    DicomTagCodeEnum["x300a0042"] = "Tolerance Table Number";
    DicomTagCodeEnum["x300a0040"] = "Tolerance Table Sequence";
    DicomTagCodeEnum["x00181470"] = "Tomo Angle";
    DicomTagCodeEnum["x00181491"] = "Tomo Class";
    DicomTagCodeEnum["x00181460"] = "Tomo Layer Height";
    DicomTagCodeEnum["x00181480"] = "Tomo Time";
    DicomTagCodeEnum["x00181490"] = "Tomo Type";
    DicomTagCodeEnum["x00880910"] = "Topic Author";
    DicomTagCodeEnum["x00880912"] = "Topic Key Words";
    DicomTagCodeEnum["x00880906"] = "Topic Subject";
    DicomTagCodeEnum["x00880904"] = "Topic Title";
    DicomTagCodeEnum["x300a00f2"] = "Total Block Tray Factor";
    DicomTagCodeEnum["x300a00e2"] = "Total Compensator Tray Factor";
    DicomTagCodeEnum["x00400301"] = "Total Number of Exposures";
    DicomTagCodeEnum["x300a0250"] = "Total Reference Air Kerma";
    DicomTagCodeEnum["x50xx200a"] = "Total Time";
    DicomTagCodeEnum["x00400300"] = "Total Time of Fluoroscopy";
    DicomTagCodeEnum["x00081195"] = "Transaction UID";
    DicomTagCodeEnum["x00185010"] = "Transducer Data";
    DicomTagCodeEnum["x00186030"] = "Transducer Frequency";
    DicomTagCodeEnum["x00082246"] = "Transducer Orientation Modifier Sequence";
    DicomTagCodeEnum["x00082244"] = "Transducer Orientation Sequence";
    DicomTagCodeEnum["x00082242"] = "Transducer Position Modifier Sequence";
    DicomTagCodeEnum["x00082240"] = "Transducer Position Sequence";
    DicomTagCodeEnum["x00186031"] = "Transducer Type";
    DicomTagCodeEnum["x00020010"] = "Transfer Syntax UID";
    DicomTagCodeEnum["x300a02a4"] = "Transfer Tube Length";
    DicomTagCodeEnum["x300a02a2"] = "Transfer Tube Number";
    DicomTagCodeEnum["x00181251"] = "Transmitting Coil";
    DicomTagCodeEnum["x00541202"] = "Transverse Mash";
    DicomTagCodeEnum["x30080024"] = "Treatment Control Point Date";
    DicomTagCodeEnum["x30080025"] = "Treatment Control Point Time";
    DicomTagCodeEnum["x30080250"] = "Treatment Date";
    DicomTagCodeEnum["x300a00ce"] = "Treatment Delivery Type";
    DicomTagCodeEnum["x300a000a"] = "Treatment Intent";
    DicomTagCodeEnum["x300a00b2"] = "Treatment Machine Name";
    DicomTagCodeEnum["x300a0206"] = "Treatment Machine Sequence";
    DicomTagCodeEnum["x300a0009"] = "Treatment Protocols";
    DicomTagCodeEnum["x30080110"] = "Treatment Session Application Setup Sequence";
    DicomTagCodeEnum["x30080020"] = "Treatment Session Beam Sequence";
    DicomTagCodeEnum["x300a000b"] = "Treatment Sites";
    DicomTagCodeEnum["x30080202"] = "Treatment Status Comment";
    DicomTagCodeEnum["x30080050"] = "Treatment Summary Calculated Dose Reference Sequence";
    DicomTagCodeEnum["x300800e0"] = "Treatment Summary Measured Dose Reference Sequence";
    DicomTagCodeEnum["x3008002b"] = "Treatment Termination Code";
    DicomTagCodeEnum["x3008002a"] = "Treatment Termination Status";
    DicomTagCodeEnum["x30080251"] = "Treatment Time";
    DicomTagCodeEnum["x3008002c"] = "Treatment Verification Status";
    DicomTagCodeEnum["x0018106e"] = "Trigger Sample Position";
    DicomTagCodeEnum["x00181061"] = "Trigger Source or Type";
    DicomTagCodeEnum["x00181060"] = "Trigger Time";
    DicomTagCodeEnum["x00181069"] = "Trigger Time Offset";
    DicomTagCodeEnum["x00540210"] = "Trigger Vector";
    DicomTagCodeEnum["x00181094"] = "Trigger Window";
    DicomTagCodeEnum["x20100140"] = "Trim";
    DicomTagCodeEnum["x50xx0020"] = "Type of Data";
    DicomTagCodeEnum["x00540202"] = "Type of Detector Motion";
    DicomTagCodeEnum["x00181161"] = "Type of Filters";
    DicomTagCodeEnum["x0040a124"] = "UID";
    DicomTagCodeEnum["x00280014"] = "Ultrasound Color Data Present";
    DicomTagCodeEnum["x00700006"] = "Unformatted Text Value";
    DicomTagCodeEnum["x00541001"] = "Units";
    DicomTagCodeEnum["x0040a040"] = "Value Type";
    DicomTagCodeEnum["x00181315"] = "Variable Flip Angle Flag";
    DicomTagCodeEnum["x0040a030"] = "Verification DateTime";
    DicomTagCodeEnum["x0040a493"] = "Verification Flag";
    DicomTagCodeEnum["x0040a088"] = "Verifying Observer Identification Code Sequence";
    DicomTagCodeEnum["x0040a075"] = "Verifying Observer Name";
    DicomTagCodeEnum["x0040a073"] = "Verifying Observer Sequence";
    DicomTagCodeEnum["x0040a027"] = "Verifying Organization";
    DicomTagCodeEnum["x00181720"] = "Vertices of the Polygonal Collimator";
    DicomTagCodeEnum["x00181620"] = "Vertices of the Polygonal Shutter";
    DicomTagCodeEnum["x00181022"] = "Video Image Format Acquired";
    DicomTagCodeEnum["x00540220"] = "View Code Sequence";
    DicomTagCodeEnum["x00540222"] = "View Modifier Code Sequence";
    DicomTagCodeEnum["x00082127"] = "View Name";
    DicomTagCodeEnum["x00082128"] = "View Number";
    DicomTagCodeEnum["x00185101"] = "View Position";
    DicomTagCodeEnum["x00384000"] = "Visit Comments";
    DicomTagCodeEnum["x00380008"] = "Visit Status ID";
    DicomTagCodeEnum["x00283010"] = "VOI LUT Sequence";
    DicomTagCodeEnum["x54001004"] = "Waveform Bits Allocated";
    DicomTagCodeEnum["x003a021a"] = "Waveform Bits Stored";
    DicomTagCodeEnum["x003a0202"] = "Waveform Channel Number";
    DicomTagCodeEnum["x54001010"] = "Waveform Data";
    DicomTagCodeEnum["x003a0004"] = "Waveform Originality";
    DicomTagCodeEnum["x5400100a"] = "Waveform Padding Value";
    DicomTagCodeEnum["x54001006"] = "Waveform Sample Interpretation";
    DicomTagCodeEnum["x54000100"] = "Waveform Sequence";
    DicomTagCodeEnum["x300a00d5"] = "Wedge Angle";
    DicomTagCodeEnum["x300a00d6"] = "Wedge Factor";
    DicomTagCodeEnum["x300a00d4"] = "Wedge ID";
    DicomTagCodeEnum["x300a00d2"] = "Wedge Number";
    DicomTagCodeEnum["x300a00d8"] = "Wedge Orientation";
    DicomTagCodeEnum["x300a0118"] = "Wedge Position";
    DicomTagCodeEnum["x300a0116"] = "Wedge Position Sequence";
    DicomTagCodeEnum["x300a00d1"] = "Wedge Sequence";
    DicomTagCodeEnum["x300a00d3"] = "Wedge Type";
    DicomTagCodeEnum["x00181301"] = "Whole Body Technique";
    DicomTagCodeEnum["x00281050"] = "Window Center";
    DicomTagCodeEnum["x00281055"] = "Window Center &amp; Width Explanation";
    DicomTagCodeEnum["x00281051"] = "Window Width";
    DicomTagCodeEnum["x00181183"] = "X Focus Center";
    DicomTagCodeEnum["x0040072a"] = "X offset in Slide Coordinate System";
    DicomTagCodeEnum["x3002000e"] = "X-Ray Image Receptor Angle";
    DicomTagCodeEnum["x3002000d"] = "X-Ray Image Receptor Translation";
    DicomTagCodeEnum["x00400312"] = "X-Ray Output";
    DicomTagCodeEnum["x00181151"] = "X-ray Tube Current";
    DicomTagCodeEnum["x00188151"] = "X-Ray Tube Current in mA";
    DicomTagCodeEnum["x00181184"] = "Y Focus Center";
    DicomTagCodeEnum["x0040073a"] = "Y offset in Slide Coordinate System";
    DicomTagCodeEnum["x0040074a"] = "Z offset in Slide Coordinate System";
    DicomTagCodeEnum["x00280032"] = "Zoom Center";
    DicomTagCodeEnum["x00280031"] = "Zoom Factor";
})(DicomTagCodeEnum || (DicomTagCodeEnum = {}));


/***/ }),

/***/ "2bEH":
/*!******************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/shared/pipes/range.pipe.ts ***!
  \******************************************************************/
/*! exports provided: RangePipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RangePipe", function() { return RangePipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");


class RangePipe {
    transform(size = 0, start = 1, step = 1) {
        const range = [];
        for (let length = 0; length < size; ++length) {
            range.push(start);
            start += step;
        }
        return range;
    }
}
RangePipe.ɵfac = function RangePipe_Factory(t) { return new (t || RangePipe)(); };
RangePipe.ɵpipe = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefinePipe"]({ name: "range", type: RangePipe, pure: true });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RangePipe, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"],
        args: [{ name: 'range' }]
    }], null, null); })();


/***/ }),

/***/ 3:
/*!********************!*\
  !*** fs (ignored) ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "3zF0":
/*!****************************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/cornerstone/custom-tools/agatston-score.tool.ts ***!
  \****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return AgatstonScoreTool; });
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cornerstone-tools */ "b09o");
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cornerstone-core */ "MNym");
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cornerstone_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var d3_contour__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! d3-contour */ "rQYU");
/* harmony import */ var _turf_intersect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @turf/intersect */ "WUFV");
/* harmony import */ var _editor_services_translators_freehand_roi_translator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../editor/services/translators/freehand-roi.translator */ "4ZRW");
/* harmony import */ var _freehand_roi_tool__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./freehand-roi.tool */ "LONq");
/* eslint-disable prefer-arrow/prefer-arrow-functions */
/* eslint-disable @typescript-eslint/prefer-for-of */






const FreehandRoiTool = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.FreehandRoiTool;
const { toolStyle, toolColors, getToolState } = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a;
const toolStateManager = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.globalImageIdSpecificToolStateManager;
// Utils
const isPointInPolygon = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/isPointInPolygon');
const getPixelSpacing = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/getPixelSpacing');
const numbersWithCommas = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/numbersWithCommas');
const deepmerge = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/deepmerge');
const { getBoundingBoxAroundPolygon } = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/segmentationUtils');
// Drawing
const getNewContext = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/getNewContext');
const draw = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/draw');
const drawLinkedTextBox = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/drawLinkedTextBox');
const drawHandles = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/drawHandles');
const drawJoinedLines = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/drawJoinedLines');
const globalConfiguration = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.getModule('globalConfiguration');
// Constants
const DEFAULT_GROUP_ID = 'all';
const NORMAL_SLICE_SPACING_MM = 3;
const HU_THRESHOLD = 130;
const DENSITY_SCORE = [
    {
        min: 130,
        max: 199,
        score: 1,
    },
    {
        min: 200,
        max: 299,
        score: 2,
    },
    {
        min: 300,
        max: 399,
        score: 3,
    },
    {
        min: 400,
        max: Infinity,
        score: 4,
    },
];
class AgatstonScoreTool extends _freehand_roi_tool__WEBPACK_IMPORTED_MODULE_5__["default"] {
    constructor(props = {}) {
        const defaultProps = {
            name: 'AgatstonScore',
            configuration: {
                calciumColor: '#0000ff',
            },
        };
        props = deepmerge(defaultProps, props);
        super(props);
        this.name = props.name;
        this.handleMeasurementCompletedBind = this.handleMeasurementCompleted.bind(this);
        this.handleMeasurementRemovedBind = this.handleMeasurementRemoved.bind(this);
    }
    getAllSeriesToolData(seriesInstanceUID, groupId) {
        const toolState = toolStateManager.saveToolState();
        const seriesToolData = [];
        Object.keys(toolState).forEach((imageId) => {
            const imageToolState = toolState[imageId][this.name];
            if (imageToolState &&
                imageToolState.data.length > 0 &&
                cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.metaData.get('generalSeriesModule', imageId).seriesInstanceUID === seriesInstanceUID) {
                imageToolState.data.forEach((toolData) => {
                    if (toolData.groupId === groupId) {
                        seriesToolData.push(toolData);
                    }
                });
            }
        });
        return seriesToolData;
    }
    calcSeriesAgatstonScore(seriesToolData) {
        const agatstonScoreArr = seriesToolData.map((dataItem) => dataItem.roiAgatstonScore);
        return agatstonScoreArr.reduce((a, b) => a + b, 0);
    }
    getPolygonPoints(image, element, polygon, polyBoundingBox) {
        const pixels = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getStoredPixels(element, polyBoundingBox.left, polyBoundingBox.top, polyBoundingBox.width, polyBoundingBox.height);
        const points = [];
        let index = 0;
        const outsidePoints = polygon.outside.map((point) => [point.x, point.y]);
        const ringsPoints = polygon.rings.map((ring) => ring.map((point) => [Math.ceil(point.x), Math.ceil(point.y)]));
        for (let y = polyBoundingBox.top; y < polyBoundingBox.top + polyBoundingBox.height; y++) {
            for (let x = polyBoundingBox.left; x < polyBoundingBox.left + polyBoundingBox.width; x++) {
                if (
                // In outer line
                isPointInPolygon([x, y], outsidePoints) &&
                    // And not in any ring
                    !ringsPoints.some((ringCoords) => isPointInPolygon([x, y], ringCoords))) {
                    const point = {
                        x,
                        y,
                        value: pixels[index],
                        hu: this.calcHU(pixels[index], image.slope, image.intercept),
                    };
                    points.push(point);
                }
                index++;
            }
        }
        return points;
    }
    getRankFactor(pixelHu) {
        const scoreRow = DENSITY_SCORE.find((row) => row.min <= pixelHu && pixelHu <= row.max);
        if (scoreRow) {
            return scoreRow.score;
        }
        return 0;
    }
    calcHU(pixelVal, slope, intercept) {
        return pixelVal * slope + intercept;
    }
    createCalciumPoints(pixelsScoreDict) {
        return Object.values(pixelsScoreDict)
            .map((scoreGroup) => scoreGroup.points)
            .flat();
    }
    addOffsetToMultiPolygon(lesionsMultiPolygon, left, top) {
        const updatedMultiPolygon = Object.assign({}, lesionsMultiPolygon);
        updatedMultiPolygon.coordinates = lesionsMultiPolygon.coordinates.map((polygonCoords) => polygonCoords.map((ringCoords) => ringCoords.map((point) => [point[0] + left, point[1] + top])));
        return updatedMultiPolygon;
    }
    getLesionsCoordinates(roiHandlesPoints, pixels, polyBoundingBox, huThreshold) {
        const contours = d3_contour__WEBPACK_IMPORTED_MODULE_2__["contours"]().size([polyBoundingBox.width, polyBoundingBox.height]).smooth(false);
        let lesionsMultiPolygon = contours.contour(pixels, huThreshold);
        lesionsMultiPolygon = this.addOffsetToMultiPolygon(lesionsMultiPolygon, polyBoundingBox.left, polyBoundingBox.top);
        // Lesions boundaries
        const freehandRoi = _editor_services_translators_freehand_roi_translator__WEBPACK_IMPORTED_MODULE_4__["default"].csPointsToGeometry(roiHandlesPoints);
        const feature = Object(_turf_intersect__WEBPACK_IMPORTED_MODULE_3__["default"])(lesionsMultiPolygon, freehandRoi);
        let polygons = [];
        if (feature) {
            if (feature.geometry.type === 'Polygon') {
                polygons = [feature.geometry.coordinates];
            }
            else {
                polygons = feature.geometry.coordinates;
            }
        }
        return polygons
            .filter((polygon) => polygon.some((ringCoords) => ringCoords.length > 0))
            .map((polygon) => ({
            outside: polygon[0].map(this.convertPointArrToObj),
            rings: polygon.slice(1).map((ringCoords) => ringCoords.map(this.convertPointArrToObj)),
        }));
    }
    convertPointArrToObj(point) {
        return { x: Math.floor(point[0]), y: Math.floor(point[1]) };
    }
    getPixelsInLesion(image, element, lesionPolygon) {
        const bbox = this.getPolygonBoundingBox(lesionPolygon.outside, image);
        return this.getPolygonPoints(image, element, lesionPolygon, bbox);
    }
    calcPixelsArea(image, pixels, huThreshold) {
        const { colPixelSpacing, rowPixelSpacing } = getPixelSpacing(image);
        const scaling = colPixelSpacing * rowPixelSpacing;
        return pixels.filter((pixel) => pixel.hu >= huThreshold).length * scaling;
    }
    getLesions(image, element, data, sliceSpacing) {
        const polyBoundingBox = this.getPolygonBoundingBox(data.handles.points, image);
        const pixelsHU = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a
            .getStoredPixels(element, polyBoundingBox.left, polyBoundingBox.top, polyBoundingBox.width, polyBoundingBox.height)
            .map((pixel) => this.calcHU(pixel, image.slope, image.intercept));
        const lesionsPolygons = this.getLesionsCoordinates(data.handles.points, pixelsHU, polyBoundingBox, data.huThreshold);
        const lesions = lesionsPolygons
            .map((lesionPolygon) => {
            const lesionPixels = this.getPixelsInLesion(image, element, lesionPolygon);
            const maxHu = this.getMaxPixelHU(lesionPixels);
            const rankFactor = this.getRankFactor(maxHu);
            const areaMM = this.calcPixelsArea(image, lesionPixels, data.huThreshold);
            return {
                areaMM,
                pixels: lesionPixels,
                polygon: lesionPolygon,
                maxHu,
                agatstonUnit: (rankFactor * areaMM * sliceSpacing) / NORMAL_SLICE_SPACING_MM,
            };
        })
            .filter((lesion) => lesion.pixels.length > 0);
        return lesions;
    }
    getPixelsAboveHuThreshold(polygonPoints, threshold) {
        return polygonPoints.filter((point) => point.hu >= threshold);
    }
    getMaxPixelHU(pixels) {
        return Math.max(...pixels.map((pixel) => pixel.hu));
    }
    toPointsArray(points) {
        return points.map((point) => [point.x, point.y]);
    }
    getPolygonBoundingBox(handlesPoints, image) {
        const [topLeft, bottomRight] = getBoundingBoxAroundPolygon(this.toPointsArray(handlesPoints), image);
        return {
            left: topLeft[0],
            top: topLeft[1],
            width: Math.abs(bottomRight[0] - topLeft[0]),
            height: Math.abs(bottomRight[1] - topLeft[1]),
        };
    }
    drawLesions(element, context, lesions) {
        if (lesions && lesions.length > 0) {
            lesions.forEach((lesion) => {
                const region = new Path2D();
                // Draw outside
                this.drawPath(element, region, lesion.polygon.outside);
                region.closePath();
                // Draw rings
                lesion.polygon.rings.forEach((ring) => {
                    const ringRegion = new Path2D();
                    this.drawPath(element, ringRegion, ring);
                    ringRegion.closePath();
                    region.addPath(ringRegion);
                });
                context.fillStyle = this.configuration.calciumColor;
                context.fill(region, 'evenodd');
            });
        }
    }
    drawPath(element, context, points) {
        // Draw outside
        if (points.length > 0) {
            const { x, y } = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.pixelToCanvas(element, points[0]);
            context.moveTo(x, y);
        }
        points.slice(1).forEach((point) => {
            const { x, y } = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.pixelToCanvas(element, point);
            context.lineTo(x, y);
        });
    }
    syncSeriesData(seriesInstanceUID, groupId) {
        const seriesToolData = this.getAllSeriesToolData(seriesInstanceUID, groupId);
        const seriesAgatstonScore = this.calcSeriesAgatstonScore(seriesToolData);
        // Update all relevant ROIs
        seriesToolData.forEach((toolData) => (toolData.seriesAgatstonScore = seriesAgatstonScore));
    }
    handleMeasurementRemoved(event) {
        const { element, measurementData: data } = event.detail;
        const image = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getImage(element);
        const { seriesInstanceUID } = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.metaData.get('generalSeriesModule', image.imageId);
        this.syncSeriesData(seriesInstanceUID, data.groupId);
        // TODO: remove the listener somewhere else
        element.removeEventListener(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.EVENTS.MEASUREMENT_REMOVED, this.handleMeasurementRemovedBind);
    }
    handleMeasurementCompleted(event) {
        const { element, measurementData: data } = event.detail;
        if (!data.handles.points.length) {
            return;
        }
        if (data.groupId === undefined) {
            data.groupId = this.options.groupId || DEFAULT_GROUP_ID;
        }
        if (data.huThreshold === undefined) {
            data.huThreshold = this.options.huThreshold || HU_THRESHOLD;
        }
        const image = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getImage(element);
        const { seriesInstanceUID } = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.metaData.get('generalSeriesModule', image.imageId);
        const sliceSpacing = Math.abs((cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.metaData.get('canvasOverlay', image.imageId) || {}).sliceIncrement || NORMAL_SLICE_SPACING_MM);
        // Update data
        data.lesions = this.getLesions(image, element, data, sliceSpacing);
        data.roiAgatstonScore = data.lesions.map((lesion) => lesion.agatstonUnit).reduce((au1, au2) => au1 + au2, 0);
        data.lesionsCount = data.lesions.length;
        this.syncSeriesData(seriesInstanceUID, data.groupId);
        // TODO: remove the listener somewhere else
        element.removeEventListener(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.EVENTS.MEASUREMENT_COMPLETED, this.handleMeasurementCompletedBind);
    }
    // ************ Cornerstone FreehandRoiTool Overrides ************ //
    _activateDraw(element, interactionType = 'Mouse') {
        super._activateDraw(element, interactionType);
        element.addEventListener(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.EVENTS.MEASUREMENT_COMPLETED, this.handleMeasurementCompletedBind, {
            passive: true,
        });
        element.addEventListener(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.EVENTS.MEASUREMENT_REMOVED, this.handleMeasurementRemovedBind, { passive: true });
    }
    _activateModify(element) {
        super._activateModify(element);
        element.addEventListener(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.EVENTS.MEASUREMENT_COMPLETED, this.handleMeasurementCompletedBind, {
            passive: true,
        });
        element.addEventListener(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.EVENTS.MEASUREMENT_REMOVED, this.handleMeasurementRemovedBind, { passive: true });
    }
    updateCachedStats(image, element, data) {
        if (data.seriesAgatstonScore === undefined) {
            const { seriesInstanceUID } = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.metaData.get('generalSeriesModule', image.imageId);
            this.syncSeriesData(seriesInstanceUID, data.groupId);
        }
        super.updateCachedStats(image, element, data);
    }
    renderToolData(evt) {
        if (globalConfiguration.configuration.isAnnotationsVisible === false) {
            return;
        }
        const eventData = evt.detail;
        // If we have no toolState for this element, return immediately as there is nothing to do
        const toolState = getToolState(evt.currentTarget, this.name);
        if (!toolState) {
            return;
        }
        const { image, element } = eventData;
        const config = this.configuration;
        const seriesModule = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.metaData.get('generalSeriesModule', image.imageId);
        const modality = seriesModule ? seriesModule.modality : null;
        // We have tool data for this element - iterate over each one and draw it
        const canvasContext = getNewContext(eventData.canvasContext.canvas);
        const lineWidth = toolStyle.getToolWidth();
        for (let i = 0; i < toolState.data.length; i++) {
            const data = toolState.data[i];
            if (data.visible === false) {
                continue;
            }
            draw(canvasContext, (context) => {
                let color = toolColors.getColorIfActive(data);
                let fillColor;
                if (data.active) {
                    if (data.handles.invalidHandlePlacement) {
                        color = config.invalidColor;
                        fillColor = config.invalidColor;
                    }
                    else {
                        color = toolColors.getColorIfActive(data);
                        fillColor = toolColors.getFillColor();
                    }
                }
                else {
                    fillColor = toolColors.getToolColor();
                }
                if (data.handles.points.length) {
                    for (let j = 0; j < data.handles.points.length; j++) {
                        const lines = [...data.handles.points[j].lines];
                        const points = data.handles.points;
                        if (j === points.length - 1 && !data.polyBoundingBox) {
                            // If it's still being actively drawn, keep the last line to
                            // The mouse location
                            lines.push(config.mouseLocation.handles.start);
                        }
                        drawJoinedLines(context, element, data.handles.points[j], lines, {
                            color,
                        });
                    }
                }
                // Draw handles
                const options = {
                    color,
                    fill: fillColor,
                };
                // Added by Zebra - option for annotation fill
                if (data.polyBoundingBox && data.current && data.handles.points.length > 0) {
                    drawJoinedLines(context, element, data.handles.points[0], data.handles.points, {
                        color: 'transparent',
                        fillStyle: `${color}${this.configuration.opacityHex}`,
                    });
                }
                if (config.alwaysShowHandles || (data.active && data.polyBoundingBox)) {
                    // Render all handles
                    options.handleRadius = config.activeHandleRadius;
                    if (this.configuration.drawHandles) {
                        drawHandles(context, eventData, data.handles.points, options);
                    }
                }
                if (data.canComplete) {
                    // Draw large handle at the origin if can complete drawing
                    options.handleRadius = config.completeHandleRadius;
                    const handle = data.handles.points[0];
                    if (this.configuration.drawHandles) {
                        drawHandles(context, eventData, [handle], options);
                    }
                }
                if (data.active && !data.polyBoundingBox) {
                    // Draw handle at origin and at mouse if actively drawing
                    options.handleRadius = config.activeHandleRadius;
                    if (this.configuration.drawHandles) {
                        drawHandles(context, eventData, config.mouseLocation.handles, options);
                    }
                    const firstHandle = data.handles.points[0];
                    if (this.configuration.drawHandles) {
                        drawHandles(context, eventData, [firstHandle], options);
                    }
                }
                // Update textbox stats
                if (data.invalidated === true && !data.active) {
                    this.updateCachedStats(image, element, data);
                }
                // Draw
                this.drawLesions(element, context, data.lesions);
                // Only render text if polygon ROI has been completed and freehand 'shiftKey' mode was not used:
                if (data.polyBoundingBox && !data.handles.textBox.freehand) {
                    // If the textbox has not been moved by the user, it should be displayed on the right-most
                    // Side of the tool.
                    if (!data.handles.textBox.hasMoved) {
                        // Find the rightmost side of the polyBoundingBox at its vertical center, and place the textbox here
                        // Note that this calculates it in image coordinates
                        data.handles.textBox.x = data.polyBoundingBox.left + data.polyBoundingBox.width;
                        data.handles.textBox.y = data.polyBoundingBox.top + data.polyBoundingBox.height / 2;
                    }
                    if (globalConfiguration.configuration.isTextboxVisible) {
                        const text = textBoxText.call(this, data, image, modality);
                        drawLinkedTextBox(context, element, data.handles.textBox, text, data.handles.points, textBoxAnchorPoints, color, lineWidth, 0, true);
                    }
                }
            });
        }
        function textBoxText(data) {
            const { seriesAgatstonScore, lesionsCount } = data;
            let textLines = [];
            if (data.lesions) {
                textLines = data.lesions.map((lesion, index) => `Lesion ${index + 1}: ${numbersWithCommas(lesion.agatstonUnit.toFixed(2))}`);
                textLines.push(`LESIONS: ${lesionsCount}`, `SERIES AU: ${numbersWithCommas(seriesAgatstonScore.toFixed(2))}`);
            }
            return textLines;
        }
        function textBoxAnchorPoints(handles) {
            return handles;
        }
    }
}


/***/ }),

/***/ 4:
/*!**********************!*\
  !*** path (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "4/xD":
/*!***********************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules/core/core-commands-entry.service.ts ***!
  \***********************************************************************************/
/*! exports provided: CoreCommandsEntryService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CoreCommandsEntryService", function() { return CoreCommandsEntryService; });
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cornerstone-tools */ "b09o");
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _models_add_annotation_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./models/add-annotation.command */ "x9FJ");
/* harmony import */ var _models_remove_annotation_command__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./models/remove-annotation.command */ "+gUD");
/* harmony import */ var _models_show_hide_annotation_command__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./models/show-hide-annotation.command */ "0eZ/");
/* harmony import */ var _modules_manager_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../modules-manager/common */ "Bsmm");
/* harmony import */ var _exported_commands_enum__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../exported-commands.enum */ "WyWm");
/* harmony import */ var _core_commands_events_enum__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./core-commands-events.enum */ "H6th");
/* harmony import */ var _models_viewer_to_geojson_command__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./models/viewer-to-geojson.command */ "7QCc");
/* harmony import */ var _events_manager_events_manager_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../events-manager/events-manager.service */ "Hl9B");
/* harmony import */ var _image_viewer_services_image_viewer_segmentation_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../image-viewer/services/image-viewer-segmentation.service */ "k2Bx");
/* harmony import */ var _image_utilities__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./image-utilities */ "JaTW");
/* harmony import */ var _editor_services_geo_translation_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../editor/services/geo-translation.service */ "vW8T");














class CoreCommandsEntryService {
    constructor(eventsManagerService, imageViewerSegmentationService, imageUtilities, geoTranslationService) {
        this.eventsManagerService = eventsManagerService;
        this.imageViewerSegmentationService = imageViewerSegmentationService;
        this.imageUtilities = imageUtilities;
        this.geoTranslationService = geoTranslationService;
    }
    getModuleRegistrationObject() {
        return {
            name: 'coreModule',
            validators: createCoreCommandsValidators(this),
            handlers: createCoreCommandsHandlerMap(this),
        };
    }
    // Validators ###################
    validateCommand(command) {
        let asserted = true;
        switch (command.type) {
            case _models_add_annotation_command__WEBPACK_IMPORTED_MODULE_2__["AddAnnotationCommand"]:
                asserted = asserted && !!command.data && Array.isArray(command.data);
                for (const data of command.data) {
                    asserted = asserted && data.payload;
                    if (data.payloadType === _exported_commands_enum__WEBPACK_IMPORTED_MODULE_6__["GeometryTypeEnum"].GEOJSON) {
                        asserted = asserted && this.geoTranslationService.isSupportedGeoJson(data.payload);
                    }
                }
                break;
            case _models_remove_annotation_command__WEBPACK_IMPORTED_MODULE_3__["RemoveAnnotationCommand"]:
            case _models_viewer_to_geojson_command__WEBPACK_IMPORTED_MODULE_8__["ViewerToGeojsonCommand"]:
                asserted = asserted && !!command.data && Array.isArray(command.data);
                break;
            case _models_show_hide_annotation_command__WEBPACK_IMPORTED_MODULE_4__["ShowHideAnnotationCommand"]:
                asserted = asserted && !!command.data && command.data.show != null;
                break;
        }
        if (!asserted) {
            const err = Error(`Invalid ${command.type.name} argument`);
            err.type = _core_commands_events_enum__WEBPACK_IMPORTED_MODULE_7__["CoreCommandsEventsEnum"].INVALID_CORE_COMMAND_ARGUMENTS_EVENT;
            throw err;
        }
    }
    // Handlers ###################
    addAnnotationCommandHandler(command) {
        var _a;
        try {
            const imageViewerSegmentationService = this.imageViewerSegmentationService;
            const imageUtilities = this.imageUtilities;
            for (const singleData of command.data) {
                if (singleData.id && !((_a = singleData.payload) === null || _a === void 0 ? void 0 : _a.id)) {
                    singleData.payload.id = singleData.id;
                }
                const data = imageUtilities.translateData(singleData, _exported_commands_enum__WEBPACK_IMPORTED_MODULE_6__["GeometryTypeEnum"].CORNERSTONE);
                Object.assign(data, singleData.payloadMetadata);
                imageViewerSegmentationService.addMeasurementToState(data, singleData.dataIdentifiers.imageId);
            }
            this.eventsManagerService.sendEvent(this.eventsManagerService.buildEvent(_core_commands_events_enum__WEBPACK_IMPORTED_MODULE_7__["CoreCommandsEventsEnum"].ADD_ANNOTATION_SUCCESS_EVENT, `Add annotation command success`, command, {
                ids: command.data.map((d) => d.id),
            }));
        }
        catch (e) {
            this.eventsManagerService.sendEvent(this.eventsManagerService.buildEvent(_core_commands_events_enum__WEBPACK_IMPORTED_MODULE_7__["CoreCommandsEventsEnum"].ADD_ANNOTATION_FAILED_EVENT, `Add annotation command fail`, command));
        }
    }
    removeAnnotationCommandHandler(command) {
        const imageViewerSegmentationService = this.imageViewerSegmentationService;
        if (!command.data || command.data.length === 0) {
            imageViewerSegmentationService.reset();
        }
        else {
            imageViewerSegmentationService.removeMeasurementsByIds(command.data);
        }
        const eventMeta = command.data
            ? [_core_commands_events_enum__WEBPACK_IMPORTED_MODULE_7__["CoreCommandsEventsEnum"].ANNOTATION_REMOVED_SUCCESS_EVENT, 'Remove annotation command success']
            : [_core_commands_events_enum__WEBPACK_IMPORTED_MODULE_7__["CoreCommandsEventsEnum"].ANNOTATION_CLEAR_ALL_SUCCESS_EVENT, 'Remove all annotation command success'];
        this.eventsManagerService.buildAndSendEvent(eventMeta[0], eventMeta[1], command);
    }
    showHideAnnotationCommandHandler(command) {
        const imageViewerSegmentationService = this.imageViewerSegmentationService;
        if (command.data.id) {
            imageViewerSegmentationService.toggleMeasurements([{ _id: command.data.id }], command.data.show);
            this.eventsManagerService.buildAndSendEvent(command.data.show
                ? _core_commands_events_enum__WEBPACK_IMPORTED_MODULE_7__["CoreCommandsEventsEnum"].ANNOTATION_SHOW_SUCCESS_EVENT
                : _core_commands_events_enum__WEBPACK_IMPORTED_MODULE_7__["CoreCommandsEventsEnum"].ANNOTATION_HIDE_SUCCESS_EVENT, `Show/Hide annotation id: ${command.data.id} command success`, command);
        }
        else {
            // Show hide all
            imageViewerSegmentationService.toggleAllMeasurements(command.data.show);
            this.eventsManagerService.buildAndSendEvent(command.data.show
                ? _core_commands_events_enum__WEBPACK_IMPORTED_MODULE_7__["CoreCommandsEventsEnum"].ANNOTATION_SHOW_SUCCESS_EVENT
                : _core_commands_events_enum__WEBPACK_IMPORTED_MODULE_7__["CoreCommandsEventsEnum"].ANNOTATION_HIDE_SUCCESS_EVENT, `Show/Hide all annotation command success`, command);
        }
    }
    viewer2geoJsonDataTransformerHandler(command) {
        const toolStateManager = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.globalImageIdSpecificToolStateManager;
        const toolState = toolStateManager.saveToolState();
        const annotationsByIds = new Map();
        for (const imageId of Object.keys(toolState)) {
            for (const toolName of Object.keys(toolState[imageId])) {
                const tool = toolState[imageId][toolName];
                if (!!tool && tool.data && Array.isArray(tool.data)) {
                    for (const element of tool.data) {
                        annotationsByIds.set(element._id, element);
                    }
                }
            }
        }
        const geoJsons = [];
        for (const annotationId of command.data) {
            const geojson = this.geoTranslationService.getAsGeoJson(annotationsByIds.get(annotationId));
            if (geojson) {
                geojson.id = annotationId;
                geoJsons.push(geojson);
            }
        }
        this.eventsManagerService.buildAndSendEvent(_core_commands_events_enum__WEBPACK_IMPORTED_MODULE_7__["CoreCommandsEventsEnum"].VIEWER_TO_GEOJSON_DATA_TRANSFORM_EVENT, 'Translation to GEOJSON complete', command, geoJsons);
    }
}
CoreCommandsEntryService.commandList = [
    _models_add_annotation_command__WEBPACK_IMPORTED_MODULE_2__["AddAnnotationCommand"],
    _models_remove_annotation_command__WEBPACK_IMPORTED_MODULE_3__["RemoveAnnotationCommand"],
    _models_show_hide_annotation_command__WEBPACK_IMPORTED_MODULE_4__["ShowHideAnnotationCommand"],
    _models_viewer_to_geojson_command__WEBPACK_IMPORTED_MODULE_8__["ViewerToGeojsonCommand"],
];
CoreCommandsEntryService.ɵfac = function CoreCommandsEntryService_Factory(t) { return new (t || CoreCommandsEntryService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_events_manager_events_manager_service__WEBPACK_IMPORTED_MODULE_9__["EventsManagerService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_image_viewer_services_image_viewer_segmentation_service__WEBPACK_IMPORTED_MODULE_10__["ImageViewerSegmentationService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_image_utilities__WEBPACK_IMPORTED_MODULE_11__["ImageUtilities"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_editor_services_geo_translation_service__WEBPACK_IMPORTED_MODULE_12__["GeoTranslationService"])); };
CoreCommandsEntryService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: CoreCommandsEntryService, factory: CoreCommandsEntryService.ɵfac, providedIn: 'root' });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CoreCommandsEntryService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _events_manager_events_manager_service__WEBPACK_IMPORTED_MODULE_9__["EventsManagerService"] }, { type: _image_viewer_services_image_viewer_segmentation_service__WEBPACK_IMPORTED_MODULE_10__["ImageViewerSegmentationService"] }, { type: _image_utilities__WEBPACK_IMPORTED_MODULE_11__["ImageUtilities"] }, { type: _editor_services_geo_translation_service__WEBPACK_IMPORTED_MODULE_12__["GeoTranslationService"] }]; }, null); })();
// Register commands validators
const createCoreCommandsValidators = (binder) => {
    const commandValidatorMap = new Map();
    for (const commandType of CoreCommandsEntryService.commandList) {
        commandValidatorMap.set(commandType, binder.validateCommand.bind(binder));
    }
    commandValidatorMap.set(undefined, _modules_manager_common__WEBPACK_IMPORTED_MODULE_5__["baseCommandValidator"].bind(binder));
    return commandValidatorMap;
};
// Register commands handlers
const createCoreCommandsHandlerMap = (binder) => {
    const handlerCommandMap = new Map();
    handlerCommandMap.set(_models_add_annotation_command__WEBPACK_IMPORTED_MODULE_2__["AddAnnotationCommand"], binder.addAnnotationCommandHandler.bind(binder));
    handlerCommandMap.set(_models_remove_annotation_command__WEBPACK_IMPORTED_MODULE_3__["RemoveAnnotationCommand"], binder.removeAnnotationCommandHandler.bind(binder));
    handlerCommandMap.set(_models_show_hide_annotation_command__WEBPACK_IMPORTED_MODULE_4__["ShowHideAnnotationCommand"], binder.showHideAnnotationCommandHandler.bind(binder));
    handlerCommandMap.set(_models_viewer_to_geojson_command__WEBPACK_IMPORTED_MODULE_8__["ViewerToGeojsonCommand"], binder.viewer2geoJsonDataTransformerHandler.bind(binder));
    return handlerCommandMap;
};


/***/ }),

/***/ "4ZRW":
/*!**********************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/services/translators/freehand-roi.translator.ts ***!
  \**********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return FreehandRoiTranslator; });
/* harmony import */ var _turf_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @turf/helpers */ "hPoO");

class FreehandRoiTranslator {
    static getAsCornerstone(collection) {
        const feature = collection.features[0];
        let firstRingCoords;
        if (feature.geometry.type === 'MultiPolygon') {
            const geometry = feature.geometry;
            console.warn('The viewer does not support MultiPolygon at the moment. Using only the first polygon.');
            firstRingCoords =
                geometry.coordinates.length > 0 && geometry.coordinates[0].length > 0 ? geometry.coordinates[0][0] : [];
        }
        else {
            const geometry = feature.geometry;
            firstRingCoords = geometry.coordinates.length > 0 ? geometry.coordinates[0] : [];
        }
        let prevX;
        let prevY;
        let currentX;
        let currentY;
        const points = [];
        for (let i = 1; i < firstRingCoords.length; i++) {
            prevX = firstRingCoords[i - 1][0];
            prevY = firstRingCoords[i - 1][1];
            currentX = firstRingCoords[i][0];
            currentY = firstRingCoords[i][1];
            const point = {
                highlight: true,
                active: true,
                x: prevX,
                y: prevY,
                lines: [{ x: currentX, y: currentY }],
            };
            points.push(point);
        }
        if (points.length > 0) {
            points[points.length - 1].lines = [points[0]];
        }
        let data = {
            visible: true,
            active: false,
            handles: {
                points,
                textBox: {
                    active: false,
                    hasMoved: false,
                    movesIndependently: false,
                    drawnIndependently: true,
                    allowedOutsideImage: true,
                    hasBoundingBox: true,
                },
            },
            polyBoundingBox: {},
            highlight: false,
            invalidated: true,
        };
        if (feature.properties) {
            data = Object.assign(Object.assign({}, data), feature.properties);
            data.metadata = Object.assign({}, feature.properties);
            if (data.metadata) {
                delete data.metadata.toolName;
            }
        }
        if (!data.toolName) {
            data.toolName = 'FreehandRoi';
        }
        return data;
    }
    static getAsGeoJson(annotation) {
        // decorate annotation with UUID/label text/color
        // check if polygon was drawn - if its active attribute is true, it means that polygon is not completed
        return Object(_turf_helpers__WEBPACK_IMPORTED_MODULE_0__["featureCollection"])([
            {
                type: 'Feature',
                geometry: FreehandRoiTranslator.csPointsToGeometry(annotation.handles.points),
                properties: Object.assign(Object.assign(Object.assign({}, (annotation.metadata || {})), (annotation.cachedStats || {})), { toolName: annotation.toolName }),
            },
        ]);
    }
    static csPointsToGeometry(points) {
        points = JSON.parse(JSON.stringify(points));
        let isFreeHandPolygon;
        const geometry = { type: 'Polygon', coordinates: [] };
        let coordinates;
        if (points && Array.isArray(points)) {
            isFreeHandPolygon =
                points.length === 1 && points[0].lines && Array.isArray(points[0].lines) && points[0].lines.length > 1;
            let relevantPoints;
            if (isFreeHandPolygon) {
                relevantPoints = points[0].lines;
            }
            else {
                if (points.length > 1) {
                    const firstPoint = points[0];
                    const lastPointDuplicated = points[0];
                    lastPointDuplicated.x = firstPoint.x;
                    lastPointDuplicated.y = firstPoint.y;
                    lastPointDuplicated.lines = [];
                    points.push(lastPointDuplicated);
                    const beforeLastPoint = points[points.length - 2];
                    beforeLastPoint.lines = [{ x: lastPointDuplicated.x, y: lastPointDuplicated.y }];
                }
                relevantPoints = points;
            }
            // convert coordinates to match geojson type
            coordinates = relevantPoints
                .filter((handle) => handle && handle.x !== undefined && handle.y !== undefined)
                .map((handle) => [handle.x, handle.y]);
            if (isFreeHandPolygon && coordinates.length > 0) {
                coordinates.push(coordinates[0]);
            }
        }
        geometry.coordinates = [coordinates];
        return geometry;
    }
}


/***/ }),

/***/ 5:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "5/kO":
/*!****************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/text-viewer/text-viewer.component.ts ***!
  \****************************************************************************/
/*! exports provided: TextViewerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextViewerComponent", function() { return TextViewerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _shared_pipes_safe_html_pipe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shared/pipes/safe-html.pipe */ "gDIn");



class TextViewerComponent {
    constructor() { }
    ngOnChanges(changes) {
        if (changes.textItems && this.textItems && this.textItems.length > 0) {
            this.currentText = this.textItems[0];
        }
    }
    ngOnInit() { }
}
TextViewerComponent.ɵfac = function TextViewerComponent_Factory(t) { return new (t || TextViewerComponent)(); };
TextViewerComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: TextViewerComponent, selectors: [["zebra-viewer-text-viewer"]], inputs: { textItems: "textItems" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 3, consts: [[1, "content", 3, "innerHTML"]], template: function TextViewerComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "safeHtml");
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, ctx.currentText), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
    } }, pipes: [_shared_pipes_safe_html_pipe__WEBPACK_IMPORTED_MODULE_1__["SafeHtmlPipe"]], styles: ["*[_ngcontent-%COMP%] {\n  color: #fff;\n  font-size: 11px;\n}\n\n.content[_ngcontent-%COMP%] {\n  padding: 10px;\n  height: 100%;\n  overflow-y: auto;\n}\n\n[_ngcontent-%COMP%]::-webkit-scrollbar {\n  width: 10px;\n}\n\n\n\n[_ngcontent-%COMP%]::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n\n\n\n[_ngcontent-%COMP%]::-webkit-scrollbar-thumb {\n  background: #888;\n}\n\n\n\n[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover {\n  background: #555;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3RleHQtdmlld2VyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0MsV0FBQTtFQUNBLGVBQUE7QUFDRDs7QUFFQTtFQUNDLGFBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUFDRDs7QUFFQTtFQUNDLFdBQUE7QUFDRDs7QUFFQSxVQUFBOztBQUNBO0VBQ0MsbUJBQUE7QUFDRDs7QUFFQSxXQUFBOztBQUNBO0VBQ0MsZ0JBQUE7QUFDRDs7QUFFQSxvQkFBQTs7QUFDQTtFQUNDLGdCQUFBO0FBQ0QiLCJmaWxlIjoidGV4dC12aWV3ZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIqIHtcblx0Y29sb3I6ICNmZmY7XG5cdGZvbnQtc2l6ZTogMTFweDtcbn1cblxuLmNvbnRlbnQge1xuXHRwYWRkaW5nOiAxMHB4O1xuXHRoZWlnaHQ6IDEwMCU7XG5cdG92ZXJmbG93LXk6IGF1dG87XG59XG5cbjo6LXdlYmtpdC1zY3JvbGxiYXIge1xuXHR3aWR0aDogMTBweDtcbn1cblxuLyogVHJhY2sgKi9cbjo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xuXHRiYWNrZ3JvdW5kOiAjZjFmMWYxO1xufVxuXG4vKiBIYW5kbGUgKi9cbjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuXHRiYWNrZ3JvdW5kOiAjODg4O1xufVxuXG4vKiBIYW5kbGUgb24gaG92ZXIgKi9cbjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIge1xuXHRiYWNrZ3JvdW5kOiAjNTU1O1xufVxuIl19 */"] });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TextViewerComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'zebra-viewer-text-viewer',
                templateUrl: './text-viewer.component.html',
                styleUrls: ['./text-viewer.component.scss'],
            }]
    }], function () { return []; }, { textItems: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "53Ib":
/*!********************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules/dynamic-component/component-position.enum.ts ***!
  \********************************************************************************************/
/*! exports provided: ComponentPositionEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentPositionEnum", function() { return ComponentPositionEnum; });
var ComponentPositionEnum;
(function (ComponentPositionEnum) {
    ComponentPositionEnum["TOP"] = "TOP";
    ComponentPositionEnum["BOTTOM"] = "BOTTOM";
    ComponentPositionEnum["LEFT"] = "LEFT";
    ComponentPositionEnum["RIGHT"] = "RIGHT";
    ComponentPositionEnum["FLOAT"] = "FLOAT";
})(ComponentPositionEnum || (ComponentPositionEnum = {}));


/***/ }),

/***/ "5C84":
/*!*************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules/static-modules.service.ts ***!
  \*************************************************************************/
/*! exports provided: StaticModulesService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StaticModulesService", function() { return StaticModulesService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _core_core_commands_entry_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core/core-commands-entry.service */ "4/xD");
/* harmony import */ var _dynamic_component_dynamic_components_commands_entry_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dynamic-component/dynamic-components-commands-entry.service */ "Gdaj");




class StaticModulesService {
    constructor(coreCommandsEntryService, dynamicComponentsCommandsEntryService) {
        this.coreCommandsEntryService = coreCommandsEntryService;
        this.dynamicComponentsCommandsEntryService = dynamicComponentsCommandsEntryService;
    }
    getModules() {
        return [
            this.coreCommandsEntryService.getModuleRegistrationObject(),
            this.dynamicComponentsCommandsEntryService.getModuleRegistrationObject(),
        ];
    }
}
StaticModulesService.ɵfac = function StaticModulesService_Factory(t) { return new (t || StaticModulesService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_core_core_commands_entry_service__WEBPACK_IMPORTED_MODULE_1__["CoreCommandsEntryService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_dynamic_component_dynamic_components_commands_entry_service__WEBPACK_IMPORTED_MODULE_2__["DynamicComponentsCommandsEntryService"])); };
StaticModulesService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: StaticModulesService, factory: StaticModulesService.ɵfac, providedIn: 'root' });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](StaticModulesService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _core_core_commands_entry_service__WEBPACK_IMPORTED_MODULE_1__["CoreCommandsEntryService"] }, { type: _dynamic_component_dynamic_components_commands_entry_service__WEBPACK_IMPORTED_MODULE_2__["DynamicComponentsCommandsEntryService"] }]; }, null); })();


/***/ }),

/***/ "5Cu/":
/*!********************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/shared/window.ts ***!
  \********************************************************/
/*! exports provided: WindowToken, windowProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WindowToken", function() { return WindowToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "windowProvider", function() { return windowProvider; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");

const WindowToken = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('Window', {
    providedIn: 'root',
    factory: () => {
        return window;
    },
});
const windowProvider = () => {
    return window;
};


/***/ }),

/***/ 6:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "6YTa":
/*!******************************************************************************************************************!*\
  !*** ./projects/zebra-viewer-standalone/src/app/viewer-dynamic-modules/test-module/models/test-image.command.ts ***!
  \******************************************************************************************************************/
/*! exports provided: TestImageCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TestImageCommand", function() { return TestImageCommand; });
/* harmony import */ var _zebra_viewer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zebra/viewer */ "VgmR");

class TestImageCommand extends _zebra_viewer__WEBPACK_IMPORTED_MODULE_0__["IBaseCommand"] {
    constructor(options) {
        super(options);
    }
}


/***/ }),

/***/ "7Ada":
/*!*************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/text-viewer/text-viewer.module.ts ***!
  \*************************************************************************/
/*! exports provided: TextViewerModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextViewerModule", function() { return TextViewerModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _text_viewer_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./text-viewer.component */ "5/kO");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../shared/shared.module */ "msKL");





class TextViewerModule {
}
TextViewerModule.ɵfac = function TextViewerModule_Factory(t) { return new (t || TextViewerModule)(); };
TextViewerModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: TextViewerModule });
TextViewerModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ imports: [[_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _shared_shared_module__WEBPACK_IMPORTED_MODULE_3__["SharedModule"]]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](TextViewerModule, { declarations: [_text_viewer_component__WEBPACK_IMPORTED_MODULE_2__["TextViewerComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _shared_shared_module__WEBPACK_IMPORTED_MODULE_3__["SharedModule"]], exports: [_text_viewer_component__WEBPACK_IMPORTED_MODULE_2__["TextViewerComponent"]] }); })();
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TextViewerModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                declarations: [_text_viewer_component__WEBPACK_IMPORTED_MODULE_2__["TextViewerComponent"]],
                imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _shared_shared_module__WEBPACK_IMPORTED_MODULE_3__["SharedModule"]],
                exports: [_text_viewer_component__WEBPACK_IMPORTED_MODULE_2__["TextViewerComponent"]],
            }]
    }], null, null); })();


/***/ }),

/***/ "7KSW":
/*!************************************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/config/tools-handlers/keyboard-shortcuts/keyboard-shortcuts.component.ts ***!
  \************************************************************************************************************/
/*! exports provided: KeyboardShortcutsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KeyboardShortcutsComponent", function() { return KeyboardShortcutsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "SVse");



function KeyboardShortcutsComponent_tr_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const shortcut_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](shortcut_r1.title);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](shortcut_r1.description);
} }
class KeyboardShortcutsComponent {
    constructor() {
        this.done = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    ngOnInit() { }
    ngOnDestroy() {
        this.done.complete();
    }
}
KeyboardShortcutsComponent.ɵfac = function KeyboardShortcutsComponent_Factory(t) { return new (t || KeyboardShortcutsComponent)(); };
KeyboardShortcutsComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: KeyboardShortcutsComponent, selectors: [["zebra-viewer-keyboard-shortcuts"]], inputs: { shortcuts: "shortcuts" }, outputs: { done: "done" }, decls: 3, vars: 1, consts: [[1, "table"], [4, "ngFor", "ngForOf"]], template: function KeyboardShortcutsComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "tbody");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, KeyboardShortcutsComponent_tr_2_Template, 5, 2, "tr", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.shortcuts);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgForOf"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJrZXlib2FyZC1zaG9ydGN1dHMuY29tcG9uZW50LnNjc3MifQ== */"], changeDetection: 0 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](KeyboardShortcutsComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'zebra-viewer-keyboard-shortcuts',
                templateUrl: './keyboard-shortcuts.component.html',
                styleUrls: ['./keyboard-shortcuts.component.scss'],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
            }]
    }], null, { shortcuts: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], done: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "7QCc":
/*!****************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules/core/models/viewer-to-geojson.command.ts ***!
  \****************************************************************************************/
/*! exports provided: ViewerToGeojsonCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerToGeojsonCommand", function() { return ViewerToGeojsonCommand; });
/* harmony import */ var _shared_interfaces_base_command_interface__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared/interfaces/base-command.interface */ "obi/");

/**
 * Command to request translation of viewer's annotations to geojson.
 * The data in the command is a list of annotation ids to translate
 */
class ViewerToGeojsonCommand extends _shared_interfaces_base_command_interface__WEBPACK_IMPORTED_MODULE_0__["IBaseCommand"] {
    constructor(options) {
        super(options);
    }
}


/***/ }),

/***/ "7sFx":
/*!************************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/cornerstone/custom-tools/circle-roi.tool.ts ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ZMCircleRoiTool; });
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cornerstone-tools */ "b09o");
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cornerstone-core */ "MNym");
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cornerstone_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cornerstone_math__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cornerstone-math */ "qCIW");
/* harmony import */ var cornerstone_math__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cornerstone_math__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers */ "QaT7");
/* eslint-disable prefer-arrow/prefer-arrow-functions */
/* eslint-disable @typescript-eslint/prefer-for-of */




const CircleRoiTool = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.CircleRoiTool;
const { toolStyle, toolColors, getToolState } = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a;
// Utils
const numbersWithCommas = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/numbersWithCommas');
const throttle = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/throttle');
const calculateSUV = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/calculateSUV');
const { calculateEllipseStatistics } = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/ellipseUtils');
const getROITextBoxCoords = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/getROITextBoxCoords');
const getPixelSpacing = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/getPixelSpacing');
const { pointInFreehand } = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/freehandUtils');
// Drawing
const getNewContext = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/getNewContext');
const draw = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/draw');
const drawLinkedTextBox = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/drawLinkedTextBox');
const drawHandles = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/drawHandles');
const setShadow = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/setShadow');
const drawCircle = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/drawCircle');
const _throttledUpdateCachedStats = throttle(_updateCachedStats, 110);
const globalConfiguration = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.getModule('globalConfiguration');
class ZMCircleRoiTool extends CircleRoiTool {
    constructor(props = {}) {
        super(props);
        this.imageViewerSegmentation = props.imageViewerSegmentationService;
        this.configuration.opacityHex = this.configuration.opacityHex || '66';
        this.handleSelectedCallback = this.handleSelectedCallback.bind(this);
    }
    handleSelectedCallback(evt, toolData, handle) {
        this.element.addEventListener('cornerstonetoolsmouseup', this.imageViewerSegmentation.mouseUpOnAreaMeasurement.bind(this.imageViewerSegmentation, this.name, toolData._id), {
            capture: true,
            once: true,
        });
        if (toolData && toolData.lineDash.length === 0) {
            super.handleSelectedCallback(evt, toolData, handle);
        }
    }
    isHovered(element, data, coords) {
        const center = data.handles.start;
        const radius = cornerstone_math__WEBPACK_IMPORTED_MODULE_2___default.a.point.distance(center, data.handles.end);
        const distance = Math.sqrt(Math.pow(coords.x - center.x, 2) + Math.pow(coords.y - center.y, 2));
        const isInside = distance < radius;
        return {
            isNearHandle: isInside,
            isInside,
        };
    }
    renderToolData(evt) {
        if (globalConfiguration.configuration.isAnnotationsVisible === false) {
            return;
        }
        const toolData = getToolState(evt.currentTarget, this.name);
        if (!toolData) {
            return;
        }
        const getDistance = cornerstone_math__WEBPACK_IMPORTED_MODULE_2___default.a.point.distance;
        const eventData = evt.detail;
        const { image, element, canvasContext } = eventData;
        const lineWidth = toolStyle.getToolWidth();
        const { handleRadius, drawHandlesOnHover, hideHandlesIfMoving, renderDashed } = this.configuration;
        const newContext = getNewContext(canvasContext.canvas);
        const { rowPixelSpacing, colPixelSpacing } = getPixelSpacing(image);
        const lineDash = globalConfiguration.configuration.lineDash;
        // Meta
        const seriesModule = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.metaData.get('generalSeriesModule', image.imageId) || {};
        // Pixel Spacing
        const modality = seriesModule.modality;
        const hasPixelSpacing = rowPixelSpacing && colPixelSpacing;
        draw(newContext, (context) => {
            // If we have tool data for this element, iterate over each set and draw it
            for (let i = 0; i < toolData.data.length; i++) {
                const data = toolData.data[i];
                if (data.visible === false) {
                    continue;
                }
                // Dashed lines are either deleted or old annotations that we don't allow editing
                if (data.lineDash && data.lineDash.length > 0) {
                    data.active = false;
                }
                else {
                    data.active = true;
                }
                // Configure
                const color = toolColors.getColorIfActive(data);
                const handleOptions = {
                    color,
                    handleRadius,
                    drawHandlesIfActive: drawHandlesOnHover,
                    hideHandlesIfMoving,
                };
                setShadow(context, this.configuration);
                const startCanvas = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.pixelToCanvas(element, data.handles.start);
                const endCanvas = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.pixelToCanvas(element, data.handles.end);
                // Calculating the radius where startCanvas is the center of the circle to be drawn
                const radius = getDistance(startCanvas, endCanvas);
                const circleOptions = { color };
                if (renderDashed) {
                    circleOptions.lineDash = lineDash;
                }
                if (data.current) {
                    circleOptions.fillStyle = `${color}${this.configuration.opacityHex}`;
                }
                // Draw Circle
                drawCircle(context, element, data.handles.start, radius, circleOptions, 'pixel');
                drawHandles(context, eventData, data.handles, handleOptions);
                // Update textbox stats
                if (data.invalidated === true) {
                    if (data.cachedStats) {
                        _throttledUpdateCachedStats(image, element, data);
                    }
                    else {
                        _updateCachedStats(image, element, data);
                    }
                }
                // Default to textbox on right side of ROI
                if (!data.handles.textBox.hasMoved) {
                    const defaultCoords = getROITextBoxCoords(eventData.viewport, data.handles);
                    Object.assign(data.handles.textBox, defaultCoords);
                }
                const textBoxAnchorPoints = (handles) => _findTextBoxAnchorPoints(handles.start, handles.end);
                if (globalConfiguration.configuration.isTextboxVisible) {
                    const textBoxContent = _createTextBoxContent(context, image.color, data.cachedStats, modality, hasPixelSpacing, this.configuration);
                    data.unit = _getUnit(modality, this.configuration.showHounsfieldUnits);
                    drawLinkedTextBox(context, element, data.handles.textBox, textBoxContent, data.handles, textBoxAnchorPoints, color, lineWidth, 10, true);
                }
            }
        });
    }
}
function _updateCachedStats(image, element, data) {
    const seriesModule = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.metaData.get('generalSeriesModule', image.imageId) || {};
    const modality = seriesModule.modality;
    const pixelSpacing = getPixelSpacing(image);
    const stats = _calculateStats(image, element, data.handles, modality, pixelSpacing);
    data.cachedStats = stats;
    data.invalidated = false;
}
function _findTextBoxAnchorPoints(startHandle, endHandle) {
    const { left, top, width, height } = Object(_helpers__WEBPACK_IMPORTED_MODULE_3__["getCircleCoords"])(startHandle, endHandle);
    return [
        {
            // Top middle point of ellipse
            x: left + width / 2,
            y: top,
        },
        {
            // Left middle point of ellipse
            x: left,
            y: top + height / 2,
        },
        {
            // Bottom middle point of ellipse
            x: left + width / 2,
            y: top + height,
        },
        {
            // Right middle point of ellipse
            x: left + width,
            y: top + height / 2,
        },
    ];
}
function _calculateStats(image, element, handles, modality, pixelSpacing) {
    // Retrieve the bounds of the ellipse in image coordinates
    const circleCoordinates = Object(_helpers__WEBPACK_IMPORTED_MODULE_3__["getCircleCoords"])(handles.start, handles.end);
    // Retrieve the array of pixels that the ellipse bounds cover
    const pixels = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getPixels(element, circleCoordinates.left, circleCoordinates.top, circleCoordinates.width, circleCoordinates.height);
    // Calculate the mean & standard deviation from the pixels and the ellipse details.
    const ellipseMeanStdDev = calculateEllipseStatistics(pixels, circleCoordinates);
    let meanStdDevSUV;
    if (modality === 'PT') {
        meanStdDevSUV = {
            mean: calculateSUV(image, ellipseMeanStdDev.mean, true) || 0,
            stdDev: calculateSUV(image, ellipseMeanStdDev.stdDev, true) || 0,
        };
    }
    const area = Math.PI *
        ((circleCoordinates.width * (pixelSpacing.colPixelSpacing || 1)) / 2) *
        ((circleCoordinates.height * (pixelSpacing.rowPixelSpacing || 1)) / 2);
    return {
        area,
        count: ellipseMeanStdDev.count,
        mean: ellipseMeanStdDev.mean,
        variance: ellipseMeanStdDev.variance,
        stdDev: ellipseMeanStdDev.stdDev,
        min: ellipseMeanStdDev.min,
        max: ellipseMeanStdDev.max,
        meanStdDevSUV,
        // Determine the area suffix based on the pixel spacing in the image.
        // If pixel spacing is present, use millimeters. Otherwise, use pixels.
        unit: image.columnPixelSpacing && image.rowPixelSpacing ? 'mm' : 'px',
    };
}
function _createTextBoxContent(context, isColorImage, { area, mean, stdDev, min, max, meanStdDevSUV } = {}, modality, hasPixelSpacing, options = {}) {
    const showMinMax = (options.showMinMax && min && max) || false;
    const showHounsfieldUnits = options.showHounsfieldUnits !== false;
    const textLines = [];
    // Don't display mean/standardDev for color images
    const otherLines = [];
    if (!isColorImage) {
        const hasStandardUptakeValues = meanStdDevSUV && typeof meanStdDevSUV.mean !== 'number';
        const suffix = modality === 'CT' && showHounsfieldUnits ? ' HU' : '';
        let meanString = typeof mean === 'number' ? `Mean: ${numbersWithCommas(mean.toFixed(2))}${suffix}` : '';
        const stdDevString = typeof stdDev === 'number' ? `Std Dev: ${numbersWithCommas(stdDev.toFixed(2))}${suffix}` : '';
        // If this image has SUV values to display, concatenate them to the text line
        if (hasStandardUptakeValues) {
            const SUVtext = ' SUV: ';
            const meanSuvString = typeof meanStdDevSUV.mean === 'number' ? `${SUVtext}${numbersWithCommas(meanStdDevSUV.mean.toFixed(2))}` : '';
            const stdDevSuvString = typeof meanStdDevSUV.stdDev === 'number'
                ? `${SUVtext}${numbersWithCommas(meanStdDevSUV.stdDev.toFixed(2))}`
                : '';
            const targetStringLength = Math.floor(context.measureText(`${stdDevString}     `).width);
            while (context.measureText(meanString).width < targetStringLength) {
                meanString += ' ';
            }
            otherLines.push(`${meanString}${meanSuvString}`);
            otherLines.push(`${stdDevString}     ${stdDevSuvString}`);
        }
        else {
            otherLines.push(`${meanString}     ${stdDevString}`);
        }
        if (showMinMax) {
            let minString = `Min: ${min}${suffix}`;
            const maxString = `Max: ${max}${suffix}`;
            const targetStringLength = hasStandardUptakeValues
                ? Math.floor(context.measureText(`${stdDevString}     `).width)
                : Math.floor(context.measureText(`${meanString}     `).width);
            while (context.measureText(minString).width < targetStringLength) {
                minString += ' ';
            }
            otherLines.push(`${minString}${maxString}`);
        }
    }
    if (area) {
        textLines.push(Object(_helpers__WEBPACK_IMPORTED_MODULE_3__["_formatArea"])(area, hasPixelSpacing));
    }
    otherLines.forEach((x) => textLines.push(x));
    return textLines;
}
function _getUnit(modality, showHounsfieldUnits) {
    return modality === 'CT' && showHounsfieldUnits !== false ? 'HU' : '';
}


/***/ }),

/***/ "8kJi":
/*!*******************************************************************!*\
  !*** ./projects/zebra-viewer-standalone/src/app/app.component.ts ***!
  \*******************************************************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zebra/viewer */ "VgmR");
/* harmony import */ var _mocks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mocks */ "gl7r");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! uuid */ "EcEN");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _viewer_config__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./viewer.config */ "vCa2");
/* harmony import */ var _viewer_dynamic_modules_test_module_models_test_annotation_command__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./viewer-dynamic-modules/test-module/models/test-annotation.command */ "hy9T");
/* harmony import */ var _viewer_dynamic_modules_test_module_models_test_event_command__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./viewer-dynamic-modules/test-module/models/test-event.command */ "OTee");
/* harmony import */ var _viewer_dynamic_modules_test_module_test_command_events_enum__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./viewer-dynamic-modules/test-module/test-command-events.enum */ "t20d");
/* harmony import */ var _zebra_viewer_src_lib_modules_core_core_commands_events_enum__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../zebra-viewer/src/lib/modules/core/core-commands-events.enum */ "H6th");
/* harmony import */ var _zebra_viewer_src_lib_modules_dynamic_component_models_add_dynamic_component_command__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../zebra-viewer/src/lib/modules/dynamic-component/models/add-dynamic-component.command */ "wYho");
/* harmony import */ var _ala_dynamic_component_ala_dynamic_component_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ala-dynamic-component/ala-dynamic-component.component */ "n6gk");
/* harmony import */ var _zebra_viewer_src_lib_modules_dynamic_component_component_position_enum__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../zebra-viewer/src/lib/modules/dynamic-component/component-position.enum */ "53Ib");
/* harmony import */ var yassi__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! yassi */ "SCOe");
/* harmony import */ var _zebra_viewer_src_lib_modules_core_models_show_hide_annotation_command__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../zebra-viewer/src/lib/modules/core/models/show-hide-annotation.command */ "0eZ/");
/* harmony import */ var _zebra_viewer_src_lib_modules_core_models_remove_annotation_command__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../zebra-viewer/src/lib/modules/core/models/remove-annotation.command */ "+gUD");
/* harmony import */ var _zebra_viewer_src_lib_modules_dynamic_component_models_remove_dynamic_component_command__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../zebra-viewer/src/lib/modules/dynamic-component/models/remove-dynamic-component.command */ "pOXs");
/* harmony import */ var _viewer_dynamic_modules_test_module_models_test_handlers_error_command__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./viewer-dynamic-modules/test-module/models/test-handlers-error.command */ "rSS/");
/* harmony import */ var _zebra_viewer_src_lib_modules_dynamic_component_dynamic_component_events_enum__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../zebra-viewer/src/lib/modules/dynamic-component/dynamic-component-events.enum */ "jVBt");
/* harmony import */ var _zebra_viewer_src_lib_modules_core_models_viewer_to_geojson_command__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../zebra-viewer/src/lib/modules/core/models/viewer-to-geojson.command */ "7QCc");
/* harmony import */ var _viewer_dynamic_modules_test_module_models_test_image_command__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./viewer-dynamic-modules/test-module/models/test-image.command */ "6YTa");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _zebra_viewer_src_lib_editor_editor_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../zebra-viewer/src/lib/editor/editor.component */ "007k");
/* harmony import */ var _zebra_viewer_src_lib_editor_toolbar_tool_tool_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../zebra-viewer/src/lib/editor/toolbar/tool/tool.component */ "F9an");




























const _c0 = ["targetImage"];
function AppComponent_zebra_viewer_tool_1_Template(rf, ctx) { if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "zebra-viewer-tool", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("toolChange", function AppComponent_zebra_viewer_tool_1_Template_zebra_viewer_tool_toolChange_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r10); const i_r8 = ctx.index; const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r9.onToolChange($event, ctx_r9.colors[i_r8], ctx_r9.groups[i_r8]); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tool_r7 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("tool", tool_r7);
} }
function AppComponent_span_13_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "Register to annotation events");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} }
function AppComponent_span_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "Unregister from annotation events");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} }
function AppComponent_span_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "Add");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} }
function AppComponent_span_17_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "Remove");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} }
function AppComponent_button_30_Template(rf, ctx) { if (rf & 1) {
    const _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "button", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function AppComponent_button_30_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r12); const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r11.runRemoveCommandDynamicUIComponents(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, " Remove Dynamic UI components Command ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} }
class AppComponent {
    constructor(geoTranslationService, utilitiesService, viewerApiService, componentFactoryResolver, eventManager) {
        this.geoTranslationService = geoTranslationService;
        this.utilitiesService = utilitiesService;
        this.viewerApiService = viewerApiService;
        this.componentFactoryResolver = componentFactoryResolver;
        this.eventManager = eventManager;
        this.RelevantViewportsPolicyEnum = _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["RelevantViewportsPolicyEnum"];
        this.colors = ['#0000ff', '#ff0000', '#ffa500', '#ffa500', '#ff0000'];
        this.groups = [undefined, undefined, undefined, '1', '2'];
        this.config = _viewer_config__WEBPACK_IMPORTED_MODULE_7__["ViewerConfig"];
        this.config2 = _viewer_config__WEBPACK_IMPORTED_MODULE_7__["ViewerConfig2"];
        this.isAnnotationCommandAdded = false;
        this.showAnnotations = true;
        this.viewerChange$ = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        this.currentTool$ = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
    }
    ngOnInit() {
        this.loadMockData();
        const toolsList = [
            _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["ToolsEnum"].POLYGON,
            _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["ToolsEnum"].ELLIPTICAL_ROI,
            _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["ToolsEnum"].CIRCLE_ROI,
            _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["ToolsEnum"].PROBE,
            _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["ToolsEnum"].ANGLE,
            _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["ToolsEnum"].RECTANGLE_ROI,
            _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["ToolsEnum"].AGATSTON_SCORE,
            _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["ToolsEnum"].AGATSTON_SCORE,
        ];
        this.tools = toolsList.map((toolId) => _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["Tools"][toolId]);
    }
    changeTags() {
        const newTag = new _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["Tag"]().deserialize(Object.assign(Object.assign({}, this.tags[0]), { name: `new tag ${this.tags.length + 1}`, id: `id${this.tags.length + 1}` }));
        this.tags.push(newTag);
        this.tags = this.tags.map((tag) => tag);
    }
    onTagDelete(tag) {
        this.tags = this.tags.filter((curTag) => curTag.id !== tag.id);
    }
    onTagUpdate(tag) {
        const tagIndex = this.tags.findIndex((curTag) => curTag.id === tag.id);
        if (tagIndex !== -1) {
            this.tags = [...this.tags.slice(0, tagIndex), new _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["Tag"]().deserialize(tag), ...this.tags.slice(tagIndex + 1)];
        }
        else {
            this.tags = [...this.tags, tag];
        }
    }
    onToolChange(toolAction, toolColor, groupId) {
        const customId = uuid__WEBPACK_IMPORTED_MODULE_6___default.a.v4();
        this.currentTool$.next(toolAction);
        this.activeTool = {
            id: toolAction.tool.id,
            options: { toolColor, customId, groupId },
            isActive: toolAction.isActive,
        };
        this.viewerChange$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["takeUntil"])(this.currentTool$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["filter"])(this.filterMeasurement.bind(this, 'viewport1', customId)))
            .subscribe((event) => {
            this.tags = [...this.tags, this.createTagFromEvent(event)];
        });
    }
    changeData() {
        this.data = {
            viewport1: ['https://data-cdn.zebra-med.com/dataSource/clalit/study/4578078/series/11356089'],
        };
    }
    onChange(event) {
        this.viewerChange$.next(event);
    }
    onActiveViewportChange(event) { }
    printTags() {
        this.tags.forEach((tag) => {
            console.dir(this.geoTranslationService.getAsGeoJson(tag.value));
        });
    }
    jumpToSlice(sliceIndex) {
        this.currentSlice = { viewportId: 'viewport1', sliceIndex };
    }
    burnImage() {
        const tags = [
            new _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["Tag"]().deserialize({
                id: '6c95cc64-1389-4ea3-8ed4-c1cbf62e9d19',
                name: 'Label Name',
                scope: 'IMAGE',
                baseDataUrl: 'http://data.zebra-med.com',
                relativeDataUrl: '/dataSource/clalit/study/1119011/series/2839396/dcm/46324142.dcm.gz',
                dataIdentifiers: {
                    studyInstanceUID: '214.2208397129.36141.20491.40452.75336663493210',
                    seriesInstanceUID: '214.76243350.28600.22345.42199.16569374934689',
                    sopInstanceUID: '214.1599497913.38588.22776.40713.193572198247974',
                },
                createdAt: new Date(),
                createdBy: 'Mor Butbul',
                color: '#ff0000',
                type: _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["TagTypeEnum"].OVERLAY,
                value: {
                    type: 'Overlay',
                    alpha: 0.2,
                    colormap: 'hot',
                    mapUrl: 'https://insight-ima-staging.zebra-med.com:5443/organization/Test/study/214.480603444.35368.21444.46162.280927400506449/series/214.1696479016.14710.20497.41502.23276111063443/dcm/214.1818912164.13319.22724.33369.6279062380920/overlay/1',
                    transparentValue: 0.001,
                    zValue: 0,
                },
            }),
        ];
        this.obs$ = this.utilitiesService.exportImageWithTags('https://insight-ima-staging.zebra-med.com:5443/organization/Test/study/214.480603444.35368.21444.46162.280927400506449/series/214.1696479016.14710.20497.41502.23276111063443/dcm/214.1818912164.13319.22724.33369.6279062380920.dcm?format=jpg', tags, 256, 256, 0.5);
        // .subscribe((base64) => {
        // 	this.targetImage.nativeElement.src = base64;
        // });
    }
    trackAnnotationEvents(done, consoleOnly = false) {
        const eventsToTrack = Object.keys(_zebra_viewer_src_lib_modules_core_core_commands_events_enum__WEBPACK_IMPORTED_MODULE_11__["CoreCommandsEventsEnum"]);
        for (const eventType of eventsToTrack) {
            this.viewerApiService
                .trackEventsByType(eventType)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["takeUntil"])(done))
                .subscribe((event) => {
                const eventView = Object.assign({}, event);
                if (eventView.payload && eventView.payload.detail && eventView.payload.detail.element) {
                    eventView.payload = Object.assign({}, event.payload);
                    eventView.payload.detail = Object.assign({}, event.payload.detail);
                    eventView.payload.detail.element = null;
                    eventView.payload.detail.enabledElement = null;
                }
                if (event.command) {
                    eventView.command = Object.assign({}, eventView.command);
                    delete eventView.command.commandTracker$;
                }
                if (!consoleOnly) {
                    window.alert(JSON.stringify(eventView));
                }
                console.log(JSON.stringify(eventView));
            }, (err) => window.alert(JSON.stringify(err)), () => console.log(`Complete annotation success event listeners for eventType ${eventType}`));
        }
    }
    toggleAnnotationEventRegistration() {
        if (this.isToggleAnnotationEventRegistration$) {
            this.isToggleAnnotationEventRegistration$.next();
            this.isToggleAnnotationEventRegistration$.complete();
            this.isToggleAnnotationEventRegistration$ = null;
        }
        else {
            window.alert('Check the console to see the events');
            this.isToggleAnnotationEventRegistration$ = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
            this.trackAnnotationEvents(this.isToggleAnnotationEventRegistration$, true);
        }
    }
    removeAnnotationCommand() {
        try {
            // Build the command and update it's data. The command returned must be a derivative of IBaseCommand
            const command = new _zebra_viewer_src_lib_modules_core_models_remove_annotation_command__WEBPACK_IMPORTED_MODULE_17__["RemoveAnnotationCommand"]();
            command.data = [this.annotationAfterCommandId];
            // Execute command. This will trigger validation -> handler which starts the process depends on the command and the module
            // 	that implement it
            this.viewerApiService
                .executeCommand(command)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["tap"])((event) => {
                if (event.type === _zebra_viewer_src_lib_modules_core_core_commands_events_enum__WEBPACK_IMPORTED_MODULE_11__["CoreCommandsEventsEnum"].ANNOTATION_REMOVED_SUCCESS_EVENT) {
                    this.isAnnotationCommandAdded = false;
                    this.annotationAfterCommandId = null;
                }
            }))
                // Track events correspond to that specific command. This step is optional but recommended
                .subscribe(...this.trackCommandEvents(this, command));
        }
        catch (e) {
            console.error('unknown error', e);
        }
    }
    /**
     * This function shows how to use the command mechanism of the viewer library to execute a command such as add annotation including the
     * 	option to listen to the events coming following this command
     */
    runAnnotationCommand() {
        if (this.isAnnotationCommandAdded) {
            return this.removeAnnotationCommand();
        }
        const completeTracking$ = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        this.trackAnnotationEvents(completeTracking$);
        let command;
        try {
            command = new _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["AddAnnotationCommand"]();
            // Example how to use the tracker observable as the return from the execute command
            this.viewerApiService.executeCommand(command).subscribe((event) => console.log(`Event on tracker: cycleId-${event.cycleId}, message-${event.message}, type-${event.type}`), (err) => console.error(`Error on tracker: ${err}`), () => console.log(`Complete on tracker`));
        }
        catch (e) {
            // Missing command properties such as proper data
            console.error(e);
        }
        try {
            command = new _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["AddAnnotationCommand"]({
                data: [
                    {
                        id: uuid__WEBPACK_IMPORTED_MODULE_6___default.a.v4(),
                        payloadType: _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["GeometryTypeEnum"].GEOJSON,
                        payload: {
                            message: 'not geojson',
                        },
                        dataIdentifiers: {
                            studyInstanceUID: '3c1acaf2c660cc1752226f8e1128b5f05d050ed9e5190f91b211bbaf18787e57_53bd4ae6-de42-4b6e-87c5-f9a9dad6b405',
                            seriesInstanceUID: '90c0725392334ca755aa0e39f288f8dfdc9749571aeb4be4c14c5e5dea45ce09',
                            sopInstanceUID: '63bf973ab11e8490fbccb0e0764a0b14cd1219405a35c8b538dc2fa1272eabaa',
                            imageId: 'wadouri:https://ai-coded.zebra-med.com/dataSource/HenryFord/study/3c1acaf2c660cc1752226f8e1128b5f05d050ed9e5190f91b211bbaf18787e57_53bd4ae6-de42-4b6e-87c5-f9a9dad6b405/series/90c0725392334ca755aa0e39f288f8dfdc9749571aeb4be4c14c5e5dea45ce09.tar.gz/dcm/63bf973ab11e8490fbccb0e0764a0b14cd1219405a35c8b538dc2fa1272eabaa',
                        },
                    },
                ],
            });
            this.viewerApiService.executeCommand(command).subscribe(...this.trackCommandEvents(this, command));
        }
        catch (e) {
            // data.payload is not valid
            console.error(e);
        }
        try {
            // Build the command and update it's data. The command must be a derivative of IBaseCommand
            command = new _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["AddAnnotationCommand"]({
                data: [
                    {
                        id: uuid__WEBPACK_IMPORTED_MODULE_6___default.a.v4(),
                        payloadType: _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["GeometryTypeEnum"].GEOJSON,
                        payload: {
                            type: 'Feature',
                            geometry: {
                                type: 'Point',
                                coordinates: [125.6, 10.1],
                            },
                            properties: {
                                name: 'Dinagat Islands',
                                toolName: 'Probe',
                            },
                        },
                        dataIdentifiers: {
                            studyInstanceUID: '3c1acaf2c660cc1752226f8e1128b5f05d050ed9e5190f91b211bbaf18787e57_53bd4ae6-de42-4b6e-87c5-f9a9dad6b405',
                            seriesInstanceUID: '90c0725392334ca755aa0e39f288f8dfdc9749571aeb4be4c14c5e5dea45ce09',
                            sopInstanceUID: '63bf973ab11e8490fbccb0e0764a0b14cd1219405a35c8b538dc2fa1272eabaa',
                            imageId: 'wadouri:https://ai-coded.zebra-med.com/dataSource/HenryFord/study/3c1acaf2c660cc1752226f8e1128b5f05d050ed9e5190f91b211bbaf18787e57_53bd4ae6-de42-4b6e-87c5-f9a9dad6b405/series/90c0725392334ca755aa0e39f288f8dfdc9749571aeb4be4c14c5e5dea45ce09.tar.gz/dcm/63bf973ab11e8490fbccb0e0764a0b14cd1219405a35c8b538dc2fa1272eabaa',
                        },
                    },
                ],
            });
            // Execute command. This will trigger validation -> handler which starts the process depends on the command and the module
            // 	that implement it
            this.viewerApiService
                .executeCommand(command)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["tap"])((event) => {
                if (event.type === _zebra_viewer_src_lib_modules_core_core_commands_events_enum__WEBPACK_IMPORTED_MODULE_11__["CoreCommandsEventsEnum"].ADD_ANNOTATION_SUCCESS_EVENT) {
                    this.isAnnotationCommandAdded = true;
                    this.annotationAfterCommandId = event.payload ? event.payload.id : null;
                }
            }))
                // Track events correspond to that specific command. This step is optional but recommended
                .subscribe(...this.trackCommandEvents(this, command));
        }
        catch (e) {
            console.error('unknown error', e);
        }
        completeTracking$.next();
        completeTracking$.complete();
    }
    removeAllAnnotations() {
        try {
            // Build the command and update it's data. The command returned must be a derivative of IBaseCommand
            const command = new _zebra_viewer_src_lib_modules_core_models_remove_annotation_command__WEBPACK_IMPORTED_MODULE_17__["RemoveAnnotationCommand"]();
            command.data = [];
            // Execute command. This will trigger validation -> handler which starts the process depends on the command and the module
            // 	that implement it
            this.viewerApiService
                .executeCommand(command)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["tap"])((event) => {
                if (event.type === _zebra_viewer_src_lib_modules_core_core_commands_events_enum__WEBPACK_IMPORTED_MODULE_11__["CoreCommandsEventsEnum"].ANNOTATION_REMOVED_SUCCESS_EVENT) {
                    this.isAnnotationCommandAdded = false;
                    this.annotationAfterCommandId = null;
                }
            }))
                // Track events correspond to that specific command. This step is optional but recommended
                .subscribe(...this.trackCommandEvents(this, command));
        }
        catch (e) {
            console.error('unknown error', e);
        }
    }
    runTestModuleImageCommand() {
        try {
            const command = new _viewer_dynamic_modules_test_module_models_test_image_command__WEBPACK_IMPORTED_MODULE_22__["TestImageCommand"]({
                data: 'https://mpng.subpng.com/20180325/vie/kisspng-madagascar-escape-2-africa-marty-alex-melman-zebra-5ab86690efca83.7611616815220343209822.jpg',
            });
            this.viewerApiService.executeCommand(command).subscribe(...this.trackCommandEvents(this, command));
        }
        catch (e) {
            console.error('unknown error', e);
        }
    }
    /**
     * Similar to the above annotation command but rather to implement it via the core module we created a dynamic test module to add
     * 	annotation and demonstrate the ability of dynamic modules to do the same
     */
    runTestModuleAnnotationCommand() {
        let command;
        try {
            command = new _viewer_dynamic_modules_test_module_models_test_annotation_command__WEBPACK_IMPORTED_MODULE_8__["TestAnnotateCommand"]();
            this.viewerApiService.executeCommand(command).subscribe(...this.trackCommandEvents(this, command));
        }
        catch (e) {
            // Missing command properties such as proper data
            console.error(e);
        }
        try {
            command = new _viewer_dynamic_modules_test_module_models_test_annotation_command__WEBPACK_IMPORTED_MODULE_8__["TestAnnotateCommand"]({
                data: {
                    id: uuid__WEBPACK_IMPORTED_MODULE_6___default.a.v4(),
                    payloadType: _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["GeometryTypeEnum"].GEOJSON,
                    payload: {
                        message: 'not geojson',
                    },
                    dataIdentifiers: {
                        studyInstanceUID: '3c1acaf2c660cc1752226f8e1128b5f05d050ed9e5190f91b211bbaf18787e57_53bd4ae6-de42-4b6e-87c5-f9a9dad6b405',
                        seriesInstanceUID: '90c0725392334ca755aa0e39f288f8dfdc9749571aeb4be4c14c5e5dea45ce09',
                        sopInstanceUID: '63bf973ab11e8490fbccb0e0764a0b14cd1219405a35c8b538dc2fa1272eabaa',
                        imageId: 'wadouri:https://ai-coded.zebra-med.com/dataSource/HenryFord/study/3c1acaf2c660cc1752226f8e1128b5f05d050ed9e5190f91b211bbaf18787e57_53bd4ae6-de42-4b6e-87c5-f9a9dad6b405/series/90c0725392334ca755aa0e39f288f8dfdc9749571aeb4be4c14c5e5dea45ce09.tar.gz/dcm/63bf973ab11e8490fbccb0e0764a0b14cd1219405a35c8b538dc2fa1272eabaa',
                    },
                },
            });
            this.viewerApiService.executeCommand(command).subscribe(...this.trackCommandEvents(this, command));
        }
        catch (e) {
            // data.payload is not valid
            console.error(e);
        }
        try {
            command = new _viewer_dynamic_modules_test_module_models_test_annotation_command__WEBPACK_IMPORTED_MODULE_8__["TestAnnotateCommand"]();
            command.data = {
                id: uuid__WEBPACK_IMPORTED_MODULE_6___default.a.v4(),
                payloadType: _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["GeometryTypeEnum"].GEOJSON,
                payload: {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [140, 30],
                    },
                    properties: {
                        name: 'Dynamic module annotation',
                        toolName: 'Probe',
                    },
                },
                dataIdentifiers: {
                    studyInstanceUID: '3c1acaf2c660cc1752226f8e1128b5f05d050ed9e5190f91b211bbaf18787e57_53bd4ae6-de42-4b6e-87c5-f9a9dad6b405',
                    seriesInstanceUID: '90c0725392334ca755aa0e39f288f8dfdc9749571aeb4be4c14c5e5dea45ce09',
                    sopInstanceUID: '63bf973ab11e8490fbccb0e0764a0b14cd1219405a35c8b538dc2fa1272eabaa',
                    imageId: 'wadouri:https://ai-coded.zebra-med.com/dataSource/HenryFord/study/3c1acaf2c660cc1752226f8e1128b5f05d050ed9e5190f91b211bbaf18787e57_53bd4ae6-de42-4b6e-87c5-f9a9dad6b405/series/90c0725392334ca755aa0e39f288f8dfdc9749571aeb4be4c14c5e5dea45ce09.tar.gz/dcm/63bf973ab11e8490fbccb0e0764a0b14cd1219405a35c8b538dc2fa1272eabaa',
                },
            };
            this.viewerApiService.executeCommand(command).subscribe(...this.trackCommandEvents(this, command));
        }
        catch (e) {
            console.error('unknown error', e);
        }
    }
    runEventWithNoCommand() {
        let command;
        try {
            this.viewerApiService.trackEventsByType(_viewer_dynamic_modules_test_module_test_command_events_enum__WEBPACK_IMPORTED_MODULE_10__["TestCommandEventsEnum"].NO_COMMAND_NO_CYCLE_ID_EVENT).subscribe((event) => {
                alert(JSON.stringify(event));
            });
            command = new _viewer_dynamic_modules_test_module_models_test_event_command__WEBPACK_IMPORTED_MODULE_9__["TestEventCommand"]();
            this.viewerApiService.executeCommand(command).subscribe(...this.trackCommandEvents(this, command));
        }
        catch (e) {
            // Missing command properties such as proper data
            console.error(e);
        }
    }
    runRemoveCommandDynamicUIComponents() {
        let command;
        try {
            command = new _zebra_viewer_src_lib_modules_dynamic_component_models_remove_dynamic_component_command__WEBPACK_IMPORTED_MODULE_18__["RemoveDynamicComponentCommand"]({
                data: {
                    componentInstanceId: this.componentUIInstanceId,
                    componentResolver: this.componentFactoryResolver.resolveComponentFactory(_ala_dynamic_component_ala_dynamic_component_component__WEBPACK_IMPORTED_MODULE_13__["AlaDynamicComponentComponent"]),
                    position: _zebra_viewer_src_lib_modules_dynamic_component_component_position_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentPositionEnum"].BOTTOM,
                    viewportId: null,
                    dataIdentifiers: null,
                },
            });
            this.viewerApiService.executeCommand(command).subscribe(...this.trackCommandEvents(this, command));
        }
        catch (e) {
            // Missing command properties such as proper data
            console.error(e);
        }
    }
    runCommandDynamicUIComponents() {
        let command;
        try {
            command = new _zebra_viewer_src_lib_modules_dynamic_component_models_add_dynamic_component_command__WEBPACK_IMPORTED_MODULE_12__["AddDynamicComponentCommand"]({
                data: {
                    componentResolver: this.componentFactoryResolver.resolveComponentFactory(_ala_dynamic_component_ala_dynamic_component_component__WEBPACK_IMPORTED_MODULE_13__["AlaDynamicComponentComponent"]),
                    position: _zebra_viewer_src_lib_modules_dynamic_component_component_position_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentPositionEnum"].BOTTOM,
                    viewportId: 'viewport1',
                    dataIdentifiers: null,
                },
            });
            this.componentUIInstanceId = command.data.componentInstanceId;
            // Register to events on the specific component instance
            this.eventManager
                .trackEventsByMultipleTypes([
                _zebra_viewer_src_lib_modules_dynamic_component_dynamic_component_events_enum__WEBPACK_IMPORTED_MODULE_20__["DynamicComponentEventsEnum"].DYNAMIC_COMPONENT_CREATED_EVENT,
                _zebra_viewer_src_lib_modules_dynamic_component_dynamic_component_events_enum__WEBPACK_IMPORTED_MODULE_20__["DynamicComponentEventsEnum"].DYNAMIC_COMPONENT_DESTROYED_EVENT,
            ])
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["filter"])((event) => event.payload.componentInstanceId === this.componentUIInstanceId), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["takeWhile"])((event) => event.type !== _zebra_viewer_src_lib_modules_dynamic_component_dynamic_component_events_enum__WEBPACK_IMPORTED_MODULE_20__["DynamicComponentEventsEnum"].DYNAMIC_COMPONENT_DESTROYED_EVENT))
                .subscribe((event) => {
                const compInstance = event.payload.instance;
                if (compInstance.instNum % 2 === 0) {
                    compInstance.shouldShowAddBtn = true;
                }
            }, (err) => console.error(err), () => console.log('Completed'));
            this.viewerApiService.executeCommand(command).subscribe(...this.trackCommandEvents(this, command));
        }
        catch (e) {
            // Missing command properties such as proper data
            console.error(e);
        }
    }
    toggleAnnotations() {
        this.showAnnotations = !this.showAnnotations;
        try {
            const command = new _zebra_viewer_src_lib_modules_core_models_show_hide_annotation_command__WEBPACK_IMPORTED_MODULE_16__["ShowHideAnnotationCommand"]({
                data: {
                    show: this.showAnnotations,
                },
            });
            this.viewerApiService.executeCommand(command).subscribe(...this.trackCommandEvents(this, command));
        }
        catch (e) {
            // Missing command properties such as proper data
            console.error(e);
        }
    }
    errorFromHandlers() {
        // Run two commands with handlers that throw errors via observable and not and see that their cycle is complete
        try {
            const command = new _viewer_dynamic_modules_test_module_models_test_handlers_error_command__WEBPACK_IMPORTED_MODULE_19__["TestHandlersErrorCommand"]({
                data: {
                    shouldReturnObservable: true,
                },
            });
            this.viewerApiService.executeCommand(command).subscribe(...this.trackCommandEvents(this, command));
        }
        catch (e) {
            // Missing command properties such as proper data
            console.error(e);
        }
        try {
            const command = new _viewer_dynamic_modules_test_module_models_test_handlers_error_command__WEBPACK_IMPORTED_MODULE_19__["TestHandlersErrorCommand"]({
                data: {
                    shouldReturnObservable: false,
                },
            });
            this.viewerApiService.executeCommand(command).subscribe(...this.trackCommandEvents(this, command));
        }
        catch (e) {
            // Missing command properties such as proper data
            console.error(e);
        }
    }
    translateViewerToGeoJSON() {
        try {
            let annotationIds = [];
            const commandTrackers = this.addFewAnnotationsFromGeoJSON();
            this.eventManager
                .trackEventsByType(_zebra_viewer_src_lib_modules_core_core_commands_events_enum__WEBPACK_IMPORTED_MODULE_11__["CoreCommandsEventsEnum"].VIEWER_TO_GEOJSON_DATA_TRANSFORM_EVENT)
                .subscribe((geojsonsEvent) => {
                console.log(geojsonsEvent);
            });
            commandTrackers.subscribe((event) => {
                console.log(event);
                annotationIds = event.payload.ids;
            }, (error) => {
                console.error(error);
            }, () => {
                console.log('few annotations from geojson complete.');
                const command = new _zebra_viewer_src_lib_modules_core_models_viewer_to_geojson_command__WEBPACK_IMPORTED_MODULE_21__["ViewerToGeojsonCommand"]({
                    data: annotationIds,
                });
                this.viewerApiService.executeCommand(command).subscribe((res) => {
                    console.log(res);
                });
            });
        }
        catch (e) {
            console.error(e);
        }
    }
    trackCommandEvents(binder, command) {
        const fnSuccess = (event) => {
            console.log(`Event on tracker: cycleId-${event.cycleId}, message-${event.message}, type-${event.type}`);
        };
        const fnError = (err) => console.error(`Error on command, ${command.cycleId}: ${err.message}, ${JSON.stringify(err)}`);
        const fnComplete = () => console.log(`complete command ${command.cycleId}`);
        return [fnSuccess.bind(binder), fnError.bind(binder), fnComplete.bind(binder)];
    }
    loadMockData() {
        this.layout = _mocks__WEBPACK_IMPORTED_MODULE_3__["mocks"].layout;
        this.tags = _mocks__WEBPACK_IMPORTED_MODULE_3__["mocks"].tags;
        this.data = _mocks__WEBPACK_IMPORTED_MODULE_3__["mocks"].data;
    }
    filterMeasurement(viewportId, customId, event) {
        return (event.viewportId === viewportId &&
            event.type === "MEASUREMENT_COMPLETED" /* MEASUREMENT_COMPLETED */ &&
            event.detail.measurementData &&
            event.detail.measurementData.customId === customId);
    }
    createTagFromEvent(event) {
        const label = this.getLabel();
        const user = this.getUser();
        const measurementData = event.detail.measurementData;
        return new _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["Tag"]().deserialize({
            id: uuid__WEBPACK_IMPORTED_MODULE_6___default.a.v4(),
            name: label.name,
            scope: "IMAGE" /* IMAGE */,
            dataIdentifiers: {
                studyInstanceUID: event.stack.studyInstanceUID,
                seriesInstanceUID: event.stack.seriesInstanceUID,
                sopInstanceUID: event.stack.sopInstanceUID,
            },
            createdAt: new Date(),
            createdBy: user.name,
            color: measurementData.color,
            type: _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["TagTypeEnum"].GEOMETRY,
            value: measurementData,
            properties: [
                {
                    key: 'labelType',
                    value: label.type,
                },
                {
                    key: 'actorId',
                    value: '43ca95c1-a65e-4ff9-b2b7-794fe6af2654',
                },
            ],
        });
    }
    getLabel() {
        return {
            name: 'Label Name',
            scope: 'IMAGE',
            type: 'Classification',
        };
    }
    getUser() {
        return {
            name: 'Mor Butbul',
        };
    }
    addFewAnnotationsFromGeoJSON() {
        const geoJsons = [
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [125.6, 10.1],
                },
                properties: {
                    name: 'Dinagat Islands',
                    toolName: 'Probe',
                },
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'LineString',
                    coordinates: [
                        [145, 20],
                        [165, 30],
                    ],
                },
                properties: {
                    name: 'Dinagat Islands',
                    toolName: 'Length',
                },
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Polygon',
                    coordinates: [
                        [
                            [185, 10],
                            [185, 30],
                            [199, 35],
                            [189, 55],
                            [185, 10],
                        ],
                    ],
                },
                properties: {
                    name: 'Dinagat Islands',
                    toolName: 'FreehandRoi',
                },
            },
        ];
        const ids = [];
        const annotationsCommandData = [];
        for (const geo of geoJsons) {
            const id = uuid__WEBPACK_IMPORTED_MODULE_6___default.a.v4();
            ids.push({ id, geo });
            annotationsCommandData.push({
                id,
                payloadType: _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["GeometryTypeEnum"].GEOJSON,
                payload: geo,
                dataIdentifiers: {
                    studyInstanceUID: '3c1acaf2c660cc1752226f8e1128b5f05d050ed9e5190f91b211bbaf18787e57_53bd4ae6-de42-4b6e-87c5-f9a9dad6b405',
                    seriesInstanceUID: '90c0725392334ca755aa0e39f288f8dfdc9749571aeb4be4c14c5e5dea45ce09',
                    sopInstanceUID: '63bf973ab11e8490fbccb0e0764a0b14cd1219405a35c8b538dc2fa1272eabaa',
                    imageId: 'wadouri:https://ai-coded.zebra-med.com/dataSource/HenryFord/study/3c1acaf2c660cc1752226f8e1128b5f05d050ed9e5190f91b211bbaf18787e57_53bd4ae6-de42-4b6e-87c5-f9a9dad6b405/series/90c0725392334ca755aa0e39f288f8dfdc9749571aeb4be4c14c5e5dea45ce09.tar.gz/dcm/63bf973ab11e8490fbccb0e0764a0b14cd1219405a35c8b538dc2fa1272eabaa',
                },
            });
        }
        const command = new _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["AddAnnotationCommand"]({
            data: annotationsCommandData,
        });
        // Execute command. This will trigger validation -> handler which starts the process depends on the command and the module
        // 	that implement it
        return this.viewerApiService.executeCommand(command).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["tap"])((event) => {
            if (event.type !== _zebra_viewer_src_lib_modules_core_core_commands_events_enum__WEBPACK_IMPORTED_MODULE_11__["CoreCommandsEventsEnum"].ADD_ANNOTATION_SUCCESS_EVENT) {
                throw new Error('Failed to test viewer to geojson');
            }
        }));
    }
}
AppComponent.ɵfac = function AppComponent_Factory(t) { return new (t || AppComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["GeoTranslationService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["UtilitiesService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["ViewerApiService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ComponentFactoryResolver"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["EventsManagerService"])); };
AppComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: AppComponent, selectors: [["zebra-viewer-standalone-root"]], viewQuery: function AppComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c0, 1);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.targetImage = _t.first);
    } }, decls: 44, vars: 19, consts: [[1, "sidePanel"], [3, "tool", "toolChange", 4, "ngFor", "ngForOf"], [3, "click"], [4, "ngIf"], [3, "click", 4, "ngIf"], ["width", "138", "height", "138", 2, "border", "1px solid #ff0000", 3, "src"], ["targetImage", ""], [3, "config", "layout", "data", "tags", "activeViewportId", "activeTool", "currentSlice", "relevantViewportsPolicy", "tagDelete", "tagUpdate", "change", "activeViewportChange"], [2, "display", "none"], ["id", "source", "src", "https://mpng.subpng.com/20180325/vie/kisspng-madagascar-escape-2-africa-marty-alex-melman-zebra-5ab86690efca83.7611616815220343209822.jpg", "width", "300", "height", "227"], [3, "tool", "toolChange"]], template: function AppComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, AppComponent_zebra_viewer_tool_1_Template, 1, 1, "zebra-viewer-tool", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function AppComponent_Template_button_click_2_listener() { return ctx.changeData(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3, "Change Data");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function AppComponent_Template_button_click_4_listener() { return ctx.printTags(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5, "Print Tags");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function AppComponent_Template_button_click_6_listener() { return ctx.jumpToSlice(20); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](7, "Jump to slice 20");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function AppComponent_Template_button_click_8_listener() { return ctx.jumpToSlice(40); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](9, "Jump to slice 40");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function AppComponent_Template_button_click_10_listener() { return ctx.burnImage(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](11, "Burn Image");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](12, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function AppComponent_Template_button_click_12_listener() { return ctx.toggleAnnotationEventRegistration(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](13, AppComponent_span_13_Template, 2, 0, "span", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](14, AppComponent_span_14_Template, 2, 0, "span", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](15, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function AppComponent_Template_button_click_15_listener() { return ctx.runAnnotationCommand(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](16, AppComponent_span_16_Template, 2, 0, "span", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](17, AppComponent_span_17_Template, 2, 0, "span", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](18, "span");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](19, " annotation command");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](20, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function AppComponent_Template_button_click_20_listener() { return ctx.removeAllAnnotations(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](21, "Remove all annotations");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](22, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function AppComponent_Template_button_click_22_listener() { return ctx.runTestModuleAnnotationCommand(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](23, "Annotate via dynamic module");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](24, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function AppComponent_Template_button_click_24_listener() { return ctx.runTestModuleImageCommand(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](25, "Annotate image via dynamic module");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](26, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function AppComponent_Template_button_click_26_listener() { return ctx.runEventWithNoCommand(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](27, "Event without command or cycle");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](28, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function AppComponent_Template_button_click_28_listener() { return ctx.runCommandDynamicUIComponents(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](29, "Dynamic UI components Command");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](30, AppComponent_button_30_Template, 2, 0, "button", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](31, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](32, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function AppComponent_Template_button_click_32_listener() { return ctx.toggleAnnotations(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](33, "Toggle annotations");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](34, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function AppComponent_Template_button_click_34_listener() { return ctx.errorFromHandlers(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](35, "Handle error from handlers");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](36, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function AppComponent_Template_button_click_36_listener() { return ctx.translateViewerToGeoJSON(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](37, "Translate Viewer Annotations to GeoJSON");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](38, "img", 5, 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](40, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](41, "zebra-viewer-editor", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("tagDelete", function AppComponent_Template_zebra_viewer_editor_tagDelete_41_listener($event) { return ctx.onTagDelete($event); })("tagUpdate", function AppComponent_Template_zebra_viewer_editor_tagUpdate_41_listener($event) { return ctx.onTagUpdate($event); })("change", function AppComponent_Template_zebra_viewer_editor_change_41_listener($event) { return ctx.onChange($event); })("activeViewportChange", function AppComponent_Template_zebra_viewer_editor_activeViewportChange_41_listener($event) { return ctx.onActiveViewportChange($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](42, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](43, "img", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx.tools);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](12);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.isToggleAnnotationEventRegistration$ == null);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.isToggleAnnotationEventRegistration$ != null);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx.isAnnotationCommandAdded);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.isAnnotationCommandAdded);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](13);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](31, 15, ctx.dynamicComponents).length > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("src", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](40, 17, ctx.obs$), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsanitizeUrl"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("config", ctx.config)("layout", ctx.layout)("data", ctx.data)("tags", ctx.tags)("activeViewportId", ctx.activeViewportId)("activeTool", ctx.activeTool)("currentSlice", ctx.currentSlice)("relevantViewportsPolicy", ctx.RelevantViewportsPolicyEnum.ACTIVE);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_23__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_23__["NgIf"], _zebra_viewer_src_lib_editor_editor_component__WEBPACK_IMPORTED_MODULE_24__["EditorComponent"], _zebra_viewer_src_lib_editor_toolbar_tool_tool_component__WEBPACK_IMPORTED_MODULE_25__["ToolComponent"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_23__["AsyncPipe"]], styles: ["[_nghost-%COMP%] {\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  font-family: inherit;\n  overflow: hidden;\n}\n\n.sidePanel[_ngcontent-%COMP%] {\n  width: 20vw;\n  height: 100%;\n  background: #000;\n  border-right: 1px solid #fff;\n}\n\n.sidePanel[_ngcontent-%COMP%]   *[_ngcontent-%COMP%] {\n  color: #fff;\n}\n\n.sidePanel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n  display: block;\n}\n\nzebra-viewer-editor[_ngcontent-%COMP%] {\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n.mat-progress-bar[_ngcontent-%COMP%] {\n  position: absolute;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2FwcC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNDLGFBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLG9CQUFBO0VBQ0EsZ0JBQUE7QUFDRDs7QUFDQTtFQUNDLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSw0QkFBQTtBQUVEOztBQURDO0VBQ0MsV0FBQTtBQUdGOztBQUFDO0VBQ0MsY0FBQTtBQUVGOztBQUdBO0VBQ0MsWUFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtBQUFEOztBQVFBO0VBQ0Msa0JBQUE7QUFMRCIsImZpbGUiOiJhcHAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG5cdGhlaWdodDogMTAwdmg7XG5cdHdpZHRoOiAxMDB2dztcblx0ZGlzcGxheTogZmxleDtcblx0Zm9udC1mYW1pbHk6IGluaGVyaXQ7XG5cdG92ZXJmbG93OiBoaWRkZW47XG59XG4uc2lkZVBhbmVsIHtcblx0d2lkdGg6IDIwdnc7XG5cdGhlaWdodDogMTAwJTtcblx0YmFja2dyb3VuZDogIzAwMDtcblx0Ym9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2ZmZjtcblx0KiB7XG5cdFx0Y29sb3I6ICNmZmY7XG5cdH1cblxuXHRidXR0b24ge1xuXHRcdGRpc3BsYXk6IGJsb2NrO1xuXHR9XG59XG5cbi8vIFRoZSB2aWV3cG9ydHMgbGF5b3V0IG92ZXJyaWRlLCBuZWVkcyB0byBiZSBkb25lIHZpYSBuZ1N0eWxlXG56ZWJyYS12aWV3ZXItZWRpdG9yIHtcblx0aGVpZ2h0OiAxMDAlO1xuXHR3aWR0aDogMTAwJTtcblx0b3ZlcmZsb3c6IGhpZGRlbjtcblxuXHQvLyA6Om5nLWRlZXAgemVicmEtdmlld2VyLXZpZXdwb3J0cy1tYW5hZ2VyIHtcblx0Ly8gXHQtLXZpZXdlcnMtbGF5b3V0OiAndjEgdjInOyAvLyAyIGNvbHNcblx0Ly8gXHQvLyAtLXZpZXdlcnMtbGF5b3V0OiBcInYxXCIgXCJ2MlwiOyAvLyAyIHJvd3Ncblx0Ly8gfVxufVxuXG4ubWF0LXByb2dyZXNzLWJhciB7XG5cdHBvc2l0aW9uOiBhYnNvbHV0ZTtcbn1cbiJdfQ== */"], changeDetection: 0 });
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(yassi__WEBPACK_IMPORTED_MODULE_15__["observe"])('dynamicComponents')
], AppComponent.prototype, "dynamicComponents", void 0);
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AppComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"],
        args: [{
                selector: 'zebra-viewer-standalone-root',
                templateUrl: './app.component.html',
                styleUrls: ['./app.component.scss'],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectionStrategy"].OnPush,
            }]
    }], function () { return [{ type: _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["GeoTranslationService"] }, { type: _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["UtilitiesService"] }, { type: _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["ViewerApiService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ComponentFactoryResolver"] }, { type: _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["EventsManagerService"] }]; }, { targetImage: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"],
            args: ['targetImage']
        }], dynamicComponents: [] }); })();


/***/ }),

/***/ "8oEz":
/*!***************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/image-viewer.module.ts ***!
  \***************************************************************************/
/*! exports provided: ImageViewerModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageViewerModule", function() { return ImageViewerModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _image_viewer_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./image-viewer.component */ "tI3d");
/* harmony import */ var _metadata_overlay_metadata_overlay_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./metadata-overlay/metadata-overlay.component */ "XT7i");
/* harmony import */ var _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/progress-bar */ "BTe0");
/* harmony import */ var _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/progress-spinner */ "pu8Q");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common/http */ "IheW");
/* harmony import */ var angular_resize_event__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! angular-resize-event */ "3KIO");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/icon */ "Tj54");
/* harmony import */ var _tool_context_menu_tool_context_menu_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./tool-context-menu/tool-context-menu.component */ "oITi");
/* harmony import */ var _angular_material_menu__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/menu */ "rJgo");












class ImageViewerModule {
}
ImageViewerModule.ɵfac = function ImageViewerModule_Factory(t) { return new (t || ImageViewerModule)(); };
ImageViewerModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: ImageViewerModule });
ImageViewerModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_4__["MatProgressBarModule"],
            _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_5__["MatProgressSpinnerModule"],
            _angular_material_icon__WEBPACK_IMPORTED_MODULE_8__["MatIconModule"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_6__["HttpClientModule"],
            angular_resize_event__WEBPACK_IMPORTED_MODULE_7__["AngularResizedEventModule"],
            _angular_material_menu__WEBPACK_IMPORTED_MODULE_10__["MatMenuModule"],
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](ImageViewerModule, { declarations: [_image_viewer_component__WEBPACK_IMPORTED_MODULE_2__["ImageViewerComponent"], _metadata_overlay_metadata_overlay_component__WEBPACK_IMPORTED_MODULE_3__["MetadataOverlayComponent"], _tool_context_menu_tool_context_menu_component__WEBPACK_IMPORTED_MODULE_9__["ToolContextMenuComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_4__["MatProgressBarModule"],
        _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_5__["MatProgressSpinnerModule"],
        _angular_material_icon__WEBPACK_IMPORTED_MODULE_8__["MatIconModule"],
        _angular_common_http__WEBPACK_IMPORTED_MODULE_6__["HttpClientModule"],
        angular_resize_event__WEBPACK_IMPORTED_MODULE_7__["AngularResizedEventModule"],
        _angular_material_menu__WEBPACK_IMPORTED_MODULE_10__["MatMenuModule"]], exports: [_image_viewer_component__WEBPACK_IMPORTED_MODULE_2__["ImageViewerComponent"]] }); })();
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ImageViewerModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                declarations: [_image_viewer_component__WEBPACK_IMPORTED_MODULE_2__["ImageViewerComponent"], _metadata_overlay_metadata_overlay_component__WEBPACK_IMPORTED_MODULE_3__["MetadataOverlayComponent"], _tool_context_menu_tool_context_menu_component__WEBPACK_IMPORTED_MODULE_9__["ToolContextMenuComponent"]],
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_4__["MatProgressBarModule"],
                    _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_5__["MatProgressSpinnerModule"],
                    _angular_material_icon__WEBPACK_IMPORTED_MODULE_8__["MatIconModule"],
                    _angular_common_http__WEBPACK_IMPORTED_MODULE_6__["HttpClientModule"],
                    angular_resize_event__WEBPACK_IMPORTED_MODULE_7__["AngularResizedEventModule"],
                    _angular_material_menu__WEBPACK_IMPORTED_MODULE_10__["MatMenuModule"],
                ],
                exports: [_image_viewer_component__WEBPACK_IMPORTED_MODULE_2__["ImageViewerComponent"]],
            }]
    }], null, null); })();


/***/ }),

/***/ "8sK+":
/*!*******************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/services/translators/angle-roi.translator.ts ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return AngleRoiTranslator; });
/* harmony import */ var _turf_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @turf/helpers */ "hPoO");

class AngleRoiTranslator {
    static getAsCornerstone(collection) {
        const feature = collection.features[0];
        const geometry = feature.geometry;
        const handles = {
            start: {
                active: false,
                highlight: true,
                x: geometry.coordinates[0][0],
                y: geometry.coordinates[0][1],
            },
            middle: {
                active: false,
                highlight: true,
                x: geometry.coordinates[1][0],
                y: geometry.coordinates[1][1],
            },
            end: {
                active: false,
                highlight: true,
                x: geometry.coordinates[2][0],
                y: geometry.coordinates[2][1],
            },
            textBox: {
                active: false,
                hasMoved: false,
                movesIndependently: false,
                drawnIndependently: true,
                allowedOutsideImage: true,
                hasBoundingBox: false,
            },
        };
        let data = {
            visible: true,
            active: false,
            handles,
            highlight: false,
            invalidated: true,
        };
        if (feature.properties) {
            data = Object.assign(Object.assign({}, data), feature.properties);
        }
        if (!data.toolName) {
            data.toolName = 'Angle';
        }
        return data;
    }
    static getAsGeoJson(annotation) {
        const coordinates = [];
        if (annotation.handles) {
            const { x: startX, y: startY } = annotation.handles.start;
            const { x: middleX, y: middleY } = annotation.handles.middle;
            const { x: endX, y: endY } = annotation.handles.end;
            coordinates.push([startX, startY], [middleX, middleY], [endX, endY]);
        }
        if (coordinates && coordinates.length) {
            return Object(_turf_helpers__WEBPACK_IMPORTED_MODULE_0__["featureCollection"])([
                {
                    type: 'Feature',
                    geometry: { type: 'LineString', coordinates },
                    properties: {
                        toolName: annotation.toolName,
                        rAngle: annotation.rAngle,
                    },
                },
            ]);
        }
        return;
    }
}


/***/ }),

/***/ "98fi":
/*!*****************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/report-viewer/report-viewer.module.ts ***!
  \*****************************************************************************/
/*! exports provided: ReportViewerModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportViewerModule", function() { return ReportViewerModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/progress-spinner */ "pu8Q");
/* harmony import */ var _report_viewer_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./report-viewer.component */ "xNOp");
/* harmony import */ var _text_viewer_text_viewer_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../text-viewer/text-viewer.module */ "7Ada");






class ReportViewerModule {
}
ReportViewerModule.ɵfac = function ReportViewerModule_Factory(t) { return new (t || ReportViewerModule)(); };
ReportViewerModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: ReportViewerModule });
ReportViewerModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ imports: [[_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_2__["MatProgressSpinnerModule"], _text_viewer_text_viewer_module__WEBPACK_IMPORTED_MODULE_4__["TextViewerModule"]]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](ReportViewerModule, { declarations: [_report_viewer_component__WEBPACK_IMPORTED_MODULE_3__["ReportViewerComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_2__["MatProgressSpinnerModule"], _text_viewer_text_viewer_module__WEBPACK_IMPORTED_MODULE_4__["TextViewerModule"]], exports: [_report_viewer_component__WEBPACK_IMPORTED_MODULE_3__["ReportViewerComponent"]] }); })();
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ReportViewerModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                declarations: [_report_viewer_component__WEBPACK_IMPORTED_MODULE_3__["ReportViewerComponent"]],
                exports: [_report_viewer_component__WEBPACK_IMPORTED_MODULE_3__["ReportViewerComponent"]],
                imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_2__["MatProgressSpinnerModule"], _text_viewer_text_viewer_module__WEBPACK_IMPORTED_MODULE_4__["TextViewerModule"]],
            }]
    }], null, null); })();


/***/ }),

/***/ "9CRj":
/*!*************************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/toolbar/dynamic-dialog/dynamic-dialog.component.ts ***!
  \*************************************************************************************************/
/*! exports provided: DynamicDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DynamicDialogComponent", function() { return DynamicDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/dialog */ "iELJ");
/* harmony import */ var _shared_window__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/window */ "5Cu/");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/button */ "Dxy4");






const _c0 = ["target"];
class DynamicDialogComponent {
    constructor(resolver, dialogRef, data, window) {
        this.resolver = resolver;
        this.dialogRef = dialogRef;
        this.data = data;
        this.window = window;
        this.dialogChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.elementRect = data.elementRect;
        this.title = data.title;
        this.componentData = data.componentData;
    }
    ngOnInit() {
        const factory = this.resolver.resolveComponentFactory(this.data.component);
        this.componentRef = this.vcRef.createComponent(factory);
        this.setComponentData(this.componentData);
        this.setDialogPosition();
    }
    ngOnDestroy() {
        if (this.componentRef) {
            this.componentRef.destroy();
        }
    }
    onNoClick() {
        this.dialogRef.close();
    }
    setComponentData(data) {
        const changes = {};
        for (const [inputName, value] of Object.entries(data)) {
            changes[inputName] = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["SimpleChange"](this.componentRef.instance[inputName], value, false);
            this.componentRef.instance[inputName] = value;
        }
        if (this.componentRef.instance.ngOnChanges) {
            this.componentRef.instance.ngOnChanges(changes);
        }
    }
    setDialogPosition() {
        const rect = this.elementRect;
        const dialogWidth = 240;
        let positionLeft = rect.left + rect.width / 2;
        positionLeft = Math.max(positionLeft, 0);
        if (positionLeft + dialogWidth > this.window.innerWidth) {
            positionLeft = this.window.innerWidth - dialogWidth;
        }
        const positionTop = rect.bottom;
        this.dialogRef.updatePosition({
            left: `${positionLeft}px`,
            top: `${positionTop}px`,
        });
    }
}
DynamicDialogComponent.ɵfac = function DynamicDialogComponent_Factory(t) { return new (t || DynamicDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_shared_window__WEBPACK_IMPORTED_MODULE_2__["WindowToken"])); };
DynamicDialogComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: DynamicDialogComponent, selectors: [["zebra-viewer-dynamic-dialog"]], viewQuery: function DynamicDialogComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, 3, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"]);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.vcRef = _t.first);
    } }, outputs: { dialogChange: "dialogChange" }, decls: 9, vars: 1, consts: [[1, "zm-tool-setup"], ["mat-icon-button", "", 1, "dialog-close", 3, "click"], [1, "material-icons"], ["mat-dialog-title", ""], ["mat-dialog-content", ""], ["target", ""]], template: function DynamicDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "button", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function DynamicDialogComponent_Template_button_click_1_listener() { return ctx.onNoClick(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "i", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, "close");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "h1", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](7, null, 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.title);
    } }, directives: [_angular_material_button__WEBPACK_IMPORTED_MODULE_3__["MatButton"], _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogTitle"], _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogContent"]], styles: [".zm-tool-setup[_ngcontent-%COMP%] {\n  position: relative;\n  border-radius: 4px;\n  color: #c7c7c7;\n}\n\n[mat-dialog-title][_ngcontent-%COMP%] {\n  color: inherit;\n  font-size: 12px;\n  padding: 0;\n  margin: 0;\n  text-align: center;\n  line-height: 40px;\n}\n\n.dialog-close[_ngcontent-%COMP%] {\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n\n.dialog-close[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%] {\n  font-size: 18px;\n}\n\n.mat-slider[_ngcontent-%COMP%] {\n  flex-grow: 1;\n}\n\n.mat-dialog-content[_ngcontent-%COMP%] {\n  padding: 0 24px 8px;\n  margin: 0;\n}\n\n.mat-button[_ngcontent-%COMP%] {\n  color: pink;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2R5bmFtaWMtZGlhbG9nLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBO0VBQ0Msa0JBQUE7RUFDQSxrQkFBQTtFQUVBLGNBQUE7QUFIRDs7QUFNQTtFQUNDLGNBQUE7RUFDQSxlQUFBO0VBQ0EsVUFBQTtFQUNBLFNBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0FBSEQ7O0FBS0E7RUFDQyxrQkFBQTtFQUNBLE1BQUE7RUFDQSxRQUFBO0FBRkQ7O0FBSUM7RUFDQyxlQUFBO0FBRkY7O0FBTUE7RUFDQyxZQUFBO0FBSEQ7O0FBTUE7RUFDQyxtQkFBQTtFQUNBLFNBQUE7QUFIRDs7QUFNQTtFQUNDLFdBQUE7QUFIRCIsImZpbGUiOiJkeW5hbWljLWRpYWxvZy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgJ3Byb2plY3RzL3plYnJhLXZpZXdlci9zcmMvc2Nzcy92YXJpYWJsZXMnO1xuQGltcG9ydCAncHJvamVjdHMvemVicmEtdmlld2VyL3NyYy9zY3NzL21peGlucyc7XG5cbi56bS10b29sLXNldHVwIHtcblx0cG9zaXRpb246IHJlbGF0aXZlO1xuXHRib3JkZXItcmFkaXVzOiAkdW5pdC8yO1xuXHQvL2NvbG9yOiAjNjg4ZGEzOyAvLyBtZCBhY2NlbnQgY29sb3IgNDAwXG5cdGNvbG9yOiAjYzdjN2M3O1xufVxuXG5bbWF0LWRpYWxvZy10aXRsZV0ge1xuXHRjb2xvcjogaW5oZXJpdDtcblx0Zm9udC1zaXplOiAxMnB4O1xuXHRwYWRkaW5nOiAwO1xuXHRtYXJnaW46IDA7XG5cdHRleHQtYWxpZ246IGNlbnRlcjtcblx0bGluZS1oZWlnaHQ6IDQwcHg7IC8vIFNhbWUgYXMgYnV0dG9uXG59XG4uZGlhbG9nLWNsb3NlIHtcblx0cG9zaXRpb246IGFic29sdXRlO1xuXHR0b3A6IDA7XG5cdHJpZ2h0OiAwO1xuXG5cdC5tYXRlcmlhbC1pY29ucyB7XG5cdFx0Zm9udC1zaXplOiAxOHB4O1xuXHR9XG59XG5cbi5tYXQtc2xpZGVyIHtcblx0ZmxleC1ncm93OiAxO1xufVxuXG4ubWF0LWRpYWxvZy1jb250ZW50IHtcblx0cGFkZGluZzogMCAyNHB4IDhweDtcblx0bWFyZ2luOiAwO1xufVxuXG4ubWF0LWJ1dHRvbiB7XG5cdGNvbG9yOiBwaW5rO1xufVxuIl19 */"], changeDetection: 0 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DynamicDialogComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'zebra-viewer-dynamic-dialog',
                templateUrl: './dynamic-dialog.component.html',
                styleUrls: ['./dynamic-dialog.component.scss'],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"] }, { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"] }, { type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"]]
            }] }, { type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_shared_window__WEBPACK_IMPORTED_MODULE_2__["WindowToken"]]
            }] }]; }, { dialogChange: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], vcRef: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['target', { read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"], static: true }]
        }] }); })();


/***/ }),

/***/ "9K+k":
/*!****************************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/cornerstone/custom-tools/elliptical-roi.tool.ts ***!
  \****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ZMEllipticalRoiTool; });
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cornerstone-tools */ "b09o");
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cornerstone-core */ "MNym");
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cornerstone_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers */ "QaT7");
/* eslint-disable prefer-arrow/prefer-arrow-functions */
/* eslint-disable @typescript-eslint/prefer-for-of */



const EllipticalRoiTool = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.EllipticalRoiTool;
const { toolStyle, toolColors, getToolState } = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a;
// Utils
const numbersWithCommas = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/numbersWithCommas');
const throttle = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/throttle');
const calculateSUV = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/calculateSUV');
const { calculateEllipseStatistics, pointInEllipse } = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/ellipseUtils');
// Drawing
const getNewContext = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/getNewContext');
const draw = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/draw');
const drawLinkedTextBox = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/drawLinkedTextBox');
const drawHandles = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/drawHandles');
const setShadow = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/setShadow');
const drawEllipse = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/drawEllipse');
const _throttledUpdateCachedStats = throttle(_updateCachedStats, 110);
const globalConfiguration = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.getModule('globalConfiguration');
class ZMEllipticalRoiTool extends EllipticalRoiTool {
    constructor(props = {}) {
        super(props);
        this.imageViewerSegmentation = props.imageViewerSegmentationService;
        this.configuration.opacityHex = this.configuration.opacityHex || '66';
        this.handleSelectedCallback = this.handleSelectedCallback.bind(this);
    }
    isHovered(element, data, coords) {
        const { handles } = data;
        const ellipseCoordinates = Object(_helpers__WEBPACK_IMPORTED_MODULE_2__["_getEllipseImageCoordinates"])(handles.start, handles.end);
        const isInside = pointInEllipse(ellipseCoordinates, coords);
        return {
            isNearHandle: isInside,
            isInside: pointInEllipse(ellipseCoordinates, coords),
        };
    }
    handleSelectedCallback(evt, toolData, handle) {
        this.element.addEventListener('cornerstonetoolsmouseup', this.imageViewerSegmentation.mouseUpOnAreaMeasurement.bind(this.imageViewerSegmentation, this.name, toolData._id), {
            capture: true,
            once: true,
        });
        if (toolData && toolData.lineDash.length === 0) {
            super.handleSelectedCallback(evt, toolData, handle);
        }
    }
    renderToolData(evt) {
        if (globalConfiguration.configuration.isAnnotationsVisible === false) {
            return;
        }
        const toolData = getToolState(evt.currentTarget, this.name);
        if (!toolData) {
            return;
        }
        const eventData = evt.detail;
        const { image, element } = eventData;
        const lineWidth = toolStyle.getToolWidth();
        const { handleRadius, drawHandlesOnHover } = this.configuration;
        const canvasContext = getNewContext(eventData.canvasContext.canvas);
        // Meta
        const seriesModule = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.metaData.get('generalSeriesModule', image.imageId) || {};
        let imagePlane = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.metaData.get('imagePlaneModule', image.imageId);
        // Pixel Spacing
        const modality = seriesModule.modality;
        const hasPixelSpacing = imagePlane && imagePlane.rowPixelSpacing && imagePlane.columnPixelSpacing;
        imagePlane = imagePlane || {};
        const pixelSpacing = {
            rowPixelSpacing: imagePlane.rowPixelSpacing || 1,
            columnPixelSpacing: imagePlane.columnPixelSpacing || 1,
        };
        draw(canvasContext, (context) => {
            // If we have tool data for this element - iterate over each set and draw it
            for (let i = 0; i < toolData.data.length; i++) {
                const data = toolData.data[i];
                if (data.visible === false) {
                    continue;
                }
                // Dashed lines are either deleted or old annotations that we don't allow editing
                if (data.lineDash && data.lineDash.length > 0) {
                    data.active = false;
                }
                else {
                    data.active = true;
                }
                // Configure
                const color = toolColors.getColorIfActive(data);
                const handleOptions = {
                    color,
                    handleRadius,
                    drawHandlesIfActive: drawHandlesOnHover,
                };
                setShadow(context, this.configuration);
                // Draw
                let fillStyle;
                if (data.current) {
                    fillStyle = `${color}${this.configuration.opacityHex}`;
                }
                drawEllipse(context, element, data.handles.start, data.handles.end, {
                    color,
                    fillStyle,
                    lineDash: data.lineDash || [],
                }, 'pixel', data.handles.initialRotation);
                drawHandles(context, eventData, data.handles, handleOptions);
                // Update textbox stats
                if (data.invalidated === true) {
                    if (data.cachedStats) {
                        _throttledUpdateCachedStats(image, element, data, modality, pixelSpacing);
                    }
                    else {
                        _updateCachedStats(image, element, data, modality, pixelSpacing);
                    }
                }
                // Default to textbox on right side of ROI
                if (!data.handles.textBox.hasMoved) {
                    data.handles.textBox.x = Math.max(data.handles.start.x, data.handles.end.x);
                    data.handles.textBox.y = (data.handles.start.y + data.handles.end.y) / 2;
                }
                const textBoxAnchorPoints = (handles) => _findTextBoxAnchorPoints(handles.start, handles.end);
                if (globalConfiguration.configuration.isTextboxVisible) {
                    const textBoxContent = _createTextBoxContent(context, image.color, data.cachedStats, modality, hasPixelSpacing, this.configuration);
                    drawLinkedTextBox(context, element, data.handles.textBox, textBoxContent, data.handles, textBoxAnchorPoints, color, lineWidth, 0, true);
                }
            }
        });
    }
}
function _updateCachedStats(image, element, data, modality, pixelSpacing) {
    const stats = _calculateStats(image, element, data.handles, modality, pixelSpacing);
    data.cachedStats = stats;
    data.invalidated = false;
}
function _findTextBoxAnchorPoints(startHandle, endHandle) {
    const { left, top, width, height } = Object(_helpers__WEBPACK_IMPORTED_MODULE_2__["_getEllipseImageCoordinates"])(startHandle, endHandle);
    return [
        {
            // Top middle point of ellipse
            x: left + width / 2,
            y: top,
        },
        {
            // Left middle point of ellipse
            x: left,
            y: top + height / 2,
        },
        {
            // Bottom middle point of ellipse
            x: left + width / 2,
            y: top + height,
        },
        {
            // Right middle point of ellipse
            x: left + width,
            y: top + height / 2,
        },
    ];
}
function _calculateStats(image, element, handles, modality, pixelSpacing) {
    // Retrieve the bounds of the ellipse in image coordinates
    const ellipseCoordinates = Object(_helpers__WEBPACK_IMPORTED_MODULE_2__["_getEllipseImageCoordinates"])(handles.start, handles.end);
    // Retrieve the array of pixels that the ellipse bounds cover
    const pixels = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getPixels(element, ellipseCoordinates.left, ellipseCoordinates.top, ellipseCoordinates.width, ellipseCoordinates.height);
    // Calculate the mean & standard deviation from the pixels and the ellipse details.
    const ellipseMeanStdDev = calculateEllipseStatistics(pixels, ellipseCoordinates);
    let meanStdDevSUV;
    if (modality === 'PT') {
        meanStdDevSUV = {
            mean: calculateSUV(image, ellipseMeanStdDev.mean, true) || 0,
            stdDev: calculateSUV(image, ellipseMeanStdDev.stdDev, true) || 0,
        };
    }
    // Calculate the image area from the ellipse dimensions and pixel spacing
    const area = Math.PI *
        ((ellipseCoordinates.width * (pixelSpacing.columnPixelSpacing || 1)) / 2) *
        ((ellipseCoordinates.height * (pixelSpacing.rowPixelSpacing || 1)) / 2);
    const stats = {
        area,
        count: ellipseMeanStdDev.count,
        mean: ellipseMeanStdDev.mean,
        variance: ellipseMeanStdDev.variance,
        stdDev: ellipseMeanStdDev.stdDev,
        min: ellipseMeanStdDev.min,
        max: ellipseMeanStdDev.max,
        meanStdDevSUV,
        // Determine the area suffix based on the pixel spacing in the image.
        // If pixel spacing is present, use millimeters. Otherwise, use pixels.
        unit: image.columnPixelSpacing && image.rowPixelSpacing ? 'mm' : 'px',
    };
    return stats;
}
function _createTextBoxContent(context, isColorImage, { area, mean, stdDev, min, max, meanStdDevSUV } = {}, modality, hasPixelSpacing, options = {}) {
    const showMinMax = (options.showMinMax && min && max) || false;
    const showHounsfieldUnits = options.showHounsfieldUnits !== false;
    const textLines = [];
    // Don't display mean/standardDev for color images
    const otherLines = [];
    if (!isColorImage) {
        const hasStandardUptakeValues = meanStdDevSUV && typeof meanStdDevSUV.mean === 'number';
        const suffix = modality === 'CT' && showHounsfieldUnits ? ' HU' : '';
        let meanString = typeof mean === 'number' ? `Mean: ${numbersWithCommas(mean.toFixed(2))}${suffix}` : '';
        const stdDevString = typeof stdDev === 'number' ? `Std Dev: ${numbersWithCommas(stdDev.toFixed(2))}${suffix}` : '';
        // If this image has SUV values to display, concatenate them to the text line
        if (hasStandardUptakeValues) {
            const SUVtext = ' SUV: ';
            const meanSuvString = typeof meanStdDevSUV.mean === 'number' ? `${SUVtext}${numbersWithCommas(meanStdDevSUV.mean.toFixed(2))}` : '';
            const stdDevSuvString = typeof meanStdDevSUV.stdDev === 'number'
                ? `${SUVtext}${numbersWithCommas(meanStdDevSUV.stdDev.toFixed(2))}`
                : '';
            const targetStringLength = Math.floor(context.measureText(`${stdDevString}     `).width);
            while (context.measureText(meanString).width < targetStringLength) {
                meanString += ' ';
            }
            otherLines.push(`${meanString}${meanSuvString}`);
            otherLines.push(`${stdDevString}     ${stdDevSuvString}`);
        }
        else {
            otherLines.push(`${meanString}     ${stdDevString}`);
        }
        if (showMinMax) {
            let minString = `Min: ${min}${suffix}`;
            const maxString = `Max: ${max}${suffix}`;
            const targetStringLength = hasStandardUptakeValues
                ? Math.floor(context.measureText(`${stdDevString}     `).width)
                : Math.floor(context.measureText(`${meanString}     `).width);
            while (context.measureText(minString).width < targetStringLength) {
                minString += ' ';
            }
            otherLines.push(`${minString}${maxString}`);
        }
    }
    if (area) {
        textLines.push(Object(_helpers__WEBPACK_IMPORTED_MODULE_2__["_formatArea"])(area, hasPixelSpacing));
    }
    otherLines.forEach((x) => textLines.push(x));
    return textLines;
}


/***/ }),

/***/ "AK38":
/*!***********************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/services/translators/rectangle-roi.translator.ts ***!
  \***********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return RectangleRoiTranslator; });
/* harmony import */ var _turf_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @turf/helpers */ "hPoO");

class RectangleRoiTranslator {
    static getAsCornerstone(collection) {
        const feature = collection.features[0];
        const geometry = feature.geometry;
        const handles = {
            end: {
                active: false,
                highlight: true,
                x: geometry.coordinates[0][2][0],
                y: geometry.coordinates[0][2][1],
            },
            start: {
                active: false,
                highlight: true,
                x: geometry.coordinates[0][0][0],
                y: geometry.coordinates[0][0][1],
            },
            textBox: {
                active: false,
                hasMoved: false,
                movesIndependently: false,
                drawnIndependently: true,
                allowedOutsideImage: true,
                hasBoundingBox: false,
            },
        };
        let data = {
            visible: true,
            active: false,
            handles,
            highlight: false,
            invalidated: true,
        };
        if (feature.properties) {
            data = Object.assign(Object.assign({}, data), feature.properties);
        }
        if (!data.toolName) {
            data.toolName = 'RectangleRoi';
        }
        return data;
    }
    static getAsGeoJson(annotation) {
        // decorate annotation with UUID/label text/color
        const coordinates = [];
        if (annotation.handles !== undefined && Object.keys(annotation.handles)) {
            const x1 = annotation.handles.start.x;
            const y1 = annotation.handles.start.y;
            const x2 = annotation.handles.end.x;
            const y2 = annotation.handles.end.y;
            coordinates.push([x1, y1], [x1, y2], [x2, y2], [x2, y1], [x1, y1]);
        }
        if (coordinates && coordinates.length) {
            return Object(_turf_helpers__WEBPACK_IMPORTED_MODULE_0__["featureCollection"])([
                {
                    type: 'Feature',
                    geometry: { type: 'Polygon', coordinates: [coordinates] },
                    properties: Object.assign({ toolName: annotation.toolName }, annotation.cachedStats),
                },
            ]);
        }
        return;
    }
}


/***/ }),

/***/ "AZUm":
/*!*************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/shared/services/config.service.ts ***!
  \*************************************************************************/
/*! exports provided: ConfigService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfigService", function() { return ConfigService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "qCKp");



class ConfigService {
    constructor() {
        this.config$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"](1);
    }
    getConfig() {
        return this.config$;
    }
    setConfig(config) {
        this.config$.next(config);
    }
}
ConfigService.ɵfac = function ConfigService_Factory(t) { return new (t || ConfigService)(); };
ConfigService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ConfigService, factory: ConfigService.ɵfac, providedIn: 'any' });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ConfigService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'any',
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "BPHB":
/*!************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/config/tools-handlers/window/window.component.ts ***!
  \************************************************************************************/
/*! exports provided: WindowComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WindowComponent", function() { return WindowComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _lib_editor_shared_models_tool_action_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/editor/shared/models/tool-action.model */ "vvF0");
/* harmony import */ var _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/editor/shared/models/command.model */ "lxft");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/form-field */ "Q2Ze");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/select */ "ZTz/");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _angular_material_slider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/slider */ "mPVK");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/button */ "Dxy4");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/core */ "UhP/");











const _c0 = ["wwwcToolRef"];
function WindowComponent_mat_option_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-option", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const preset_r3 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", preset_r3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", preset_r3.name, " ");
} }
class WindowComponent {
    constructor(cdRef) {
        this.cdRef = cdRef;
        this.windowCenter = 0;
        this.windowWidth = 0;
        this.presets = [];
        this.done = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.actionChange$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["ReplaySubject"](1);
    }
    ngAfterViewInit() {
        const toolAction = new _lib_editor_shared_models_tool_action_model__WEBPACK_IMPORTED_MODULE_1__["ToolAction"](this.wwwcTool.command, this.wwwcTool, true);
        this.actionChange$.next(toolAction);
    }
    ngOnChanges() {
        this.matchWindowToPreset(this.windowWidth, this.windowCenter);
        this.cdRef.markForCheck();
    }
    ngOnDestroy() {
        this.actionChange$.complete();
    }
    setPreset(preset) {
        this.currentPreset = preset;
        this.setWindowing(preset.width, preset.center);
    }
    setWindowing(width, center) {
        const command = new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_2__["Command"]('setWindowLevel', {
            windowWidth: width,
            windowCenter: center,
        });
        const toolAction = new _lib_editor_shared_models_tool_action_model__WEBPACK_IMPORTED_MODULE_1__["ToolAction"](command);
        this.actionChange$.next(toolAction);
        this.windowWidth = width;
        this.windowCenter = center;
        this.matchWindowToPreset(this.windowWidth, this.windowCenter);
    }
    matchWindowToPreset(width, center) {
        this.currentPreset = this.presets.find((preset) => preset.width === width && preset.center === center) || undefined;
    }
    onResetClick() {
        this.actionChange$.next(new _lib_editor_shared_models_tool_action_model__WEBPACK_IMPORTED_MODULE_1__["ToolAction"](new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_2__["Command"]('resetWindowLevel')));
    }
}
WindowComponent.ɵfac = function WindowComponent_Factory(t) { return new (t || WindowComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
WindowComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: WindowComponent, selectors: [["zebra-viewer-window"]], viewQuery: function WindowComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, 1);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.wwwcToolRef = _t.first);
    } }, inputs: { windowCenter: "windowCenter", windowWidth: "windowWidth", wwwcTool: "wwwcTool", presets: "presets" }, outputs: { done: "done" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 19, vars: 12, consts: [["color", "primary"], ["color", "accent"], ["placeholder", "Select Preset", 1, "preset-select", 3, "value", "selectionChange"], ["class", "preset-option", 3, "value", 4, "ngFor", "ngForOf"], [1, "flexr", "align-center"], [1, "mat-body-1"], ["thumbLabel", "true", "thumbLabel", "", "min", "0", "max", "5000", "step", "1", "color", "primary", 1, "window-width-slider", 3, "value", "change"], ["windowWidthSlider", ""], ["thumbLabel", "true", "thumbLabel", "", "min", "0", "max", "5000", "step", "1", "color", "primary", 1, "window-center-slider", 3, "value", "change"], ["windowCenterSlider", ""], ["mat-stroked-button", "", 1, "reset-button", 3, "click"], [1, "preset-option", 3, "value"]], template: function WindowComponent_Template(rf, ctx) { if (rf & 1) {
        const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-form-field", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-label", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "Windowing presets");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "mat-select", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("selectionChange", function WindowComponent_Template_mat_select_selectionChange_3_listener($event) { return ctx.setPreset($event.value); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, WindowComponent_mat_option_4_Template, 2, 2, "mat-option", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "p", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "mat-label", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](8, "number");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "mat-slider", 6, 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function WindowComponent_Template_mat_slider_change_9_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](16); return ctx.setWindowing($event.value, _r2.value); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "p", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "mat-label", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](14, "number");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "mat-slider", 8, 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function WindowComponent_Template_mat_slider_change_15_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](10); return ctx.setWindowing(_r1.value, $event.value); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "button", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function WindowComponent_Template_button_click_17_listener() { return ctx.onResetClick(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](18, "Reset");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", ctx.currentPreset);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.presets);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("Width: ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](8, 6, ctx.windowWidth, "1.0-0"), "");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", ctx.windowWidth);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("Center: ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](14, 9, ctx.windowCenter, "1.0-0"), "");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", ctx.windowCenter);
    } }, directives: [_angular_material_form_field__WEBPACK_IMPORTED_MODULE_4__["MatFormField"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_4__["MatLabel"], _angular_material_select__WEBPACK_IMPORTED_MODULE_5__["MatSelect"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgForOf"], _angular_material_slider__WEBPACK_IMPORTED_MODULE_7__["MatSlider"], _angular_material_button__WEBPACK_IMPORTED_MODULE_8__["MatButton"], _angular_material_core__WEBPACK_IMPORTED_MODULE_9__["MatOption"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_6__["DecimalPipe"]], styles: ["[_nghost-%COMP%] {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n}\n\np[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%] {\n  flex: 0 0 30%;\n}\n\np[_ngcontent-%COMP%]   .mat-slider[_ngcontent-%COMP%] {\n  flex: 1;\n}\n\nbutton[_ngcontent-%COMP%] {\n  align-self: flex-start;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3dpbmRvdy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNDLFdBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxvQkFBQTtBQUNEOztBQUdDO0VBQ0MsYUFBQTtBQUFGOztBQUdDO0VBQ0MsT0FBQTtBQURGOztBQUtBO0VBQ0Msc0JBQUE7QUFGRCIsImZpbGUiOiJ3aW5kb3cuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG5cdHdpZHRoOiAxMDAlO1xuXHRkaXNwbGF5OiBmbGV4O1xuXHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXHRhbGlnbi1pdGVtczogc3RyZXRjaDtcbn1cblxucCB7XG5cdG1hdC1sYWJlbCB7XG5cdFx0ZmxleDogMCAwIDMwJTtcblx0fVxuXG5cdC5tYXQtc2xpZGVyIHtcblx0XHRmbGV4OiAxO1xuXHR9XG59XG5cbmJ1dHRvbiB7XG5cdGFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7XG59Il19 */"], changeDetection: 0 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](WindowComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'zebra-viewer-window',
                templateUrl: './window.component.html',
                styleUrls: ['./window.component.scss'],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, { wwwcToolRef: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['wwwcToolRef']
        }], windowCenter: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], windowWidth: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], wwwcTool: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], presets: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], done: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "Bsmm":
/*!*****************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules-manager/common.ts ***!
  \*****************************************************************/
/*! exports provided: baseCommandValidator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "baseCommandValidator", function() { return baseCommandValidator; });
/* harmony import */ var _module_manager_events_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./module-manager-events.enum */ "oHjC");

const baseCommandValidator = (command) => {
    const asserted = !!command && command.type != null && !!command.cycleId;
    if (!asserted) {
        // TODO: Use a custom error event
        const err = Error('Invalid base command arguments. Command must have type && cycleId');
        err.type = _module_manager_events_enum__WEBPACK_IMPORTED_MODULE_0__["ModuleManagerEventsEnum"].MISSING_TYPE_CYCLE_ID_COMMAND_EVENT;
        throw err;
    }
};


/***/ }),

/***/ "C22k":
/*!**************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/shared/services/hotkeys.service.ts ***!
  \**************************************************************************/
/*! exports provided: HotkeysService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HotkeysService", function() { return HotkeysService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser */ "cUpR");





class HotkeysService {
    constructor(eventManager, document) {
        this.eventManager = eventManager;
        this.document = document;
        this.defaults = {
            element: this.document,
            eventType: 'keydown',
            metaKey: false,
        };
    }
    addShortcut(options) {
        const merged = Object.assign({}, this.defaults);
        // Using a loop to not let 'undefined' override default values
        for (const [key, value] of Object.entries(options)) {
            if (options[key] !== undefined) {
                merged[key] = value;
            }
        }
        let event = merged.eventType;
        let interactionType = 'mouse';
        if (merged.eventType.startsWith('key')) {
            interactionType = 'keyboard';
            event = `${event}.${merged.keys}`;
        }
        return new rxjs__WEBPACK_IMPORTED_MODULE_1__["Observable"]((observer) => {
            const keyboardHandler = (e) => {
                if (this.document.activeElement === document.body) {
                    // Only if the focus is on the body we allow to prevent default.
                    // 	Otherwise we might prevent input element and such to accept paste/copy and more
                    e.preventDefault();
                }
                observer.next(e);
            };
            const mouseHandler = (e) => {
                if ((merged.metaKey && e.metaKey) || !merged.metaKey) {
                    observer.next(e);
                }
            };
            const dispose = this.eventManager.addEventListener(merged.element, event, interactionType === 'keyboard' ? keyboardHandler : mouseHandler);
            return () => {
                dispose();
            };
        });
    }
}
HotkeysService.ɵfac = function HotkeysService_Factory(t) { return new (t || HotkeysService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["EventManager"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_common__WEBPACK_IMPORTED_MODULE_2__["DOCUMENT"])); };
HotkeysService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: HotkeysService, factory: HotkeysService.ɵfac, providedIn: 'root' });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](HotkeysService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{ providedIn: 'root' }]
    }], function () { return [{ type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["EventManager"] }, { type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["DOCUMENT"]]
            }] }]; }, null); })();


/***/ }),

/***/ "CIbN":
/*!**************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/cornerstone/cornerstone.config.ts ***!
  \**************************************************************************************/
/*! exports provided: addMetadataProvider, availableTools, defaultActiveTools, defaultColor, initCornerstone */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addMetadataProvider", function() { return addMetadataProvider; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "availableTools", function() { return availableTools; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultActiveTools", function() { return defaultActiveTools; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultColor", function() { return defaultColor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initCornerstone", function() { return initCornerstone; });
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cornerstone-core */ "MNym");
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cornerstone_core__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cornerstone_wado_image_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cornerstone-wado-image-loader */ "AFKS");
/* harmony import */ var cornerstone_wado_image_loader__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cornerstone_wado_image_loader__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var dicom_parser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dicom-parser */ "JX+3");
/* harmony import */ var dicom_parser__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dicom_parser__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cornerstone-tools */ "b09o");
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cornerstone_tools__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cornerstone_math__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cornerstone-math */ "qCIW");
/* harmony import */ var cornerstone_math__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cornerstone_math__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! hammerjs */ "97mP");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cornerstone_web_image_loader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cornerstone-web-image-loader */ "seMg");
/* harmony import */ var cornerstone_web_image_loader__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cornerstone_web_image_loader__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _metadata_provider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./metadata-provider */ "M7L5");
/* harmony import */ var _custom_tools_zoom_roi_tool__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./custom-tools/zoom-roi.tool */ "u4eM");
/* harmony import */ var _custom_tools_agatston_score_tool__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./custom-tools/agatston-score.tool */ "3zF0");
/* harmony import */ var _custom_tools_freehand_roi_tool__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./custom-tools/freehand-roi.tool */ "LONq");
/* harmony import */ var _custom_tools_overlay_tool__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./custom-tools/overlay.tool */ "m7JV");
/* harmony import */ var _custom_tools_rectangle_roi_tool__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./custom-tools/rectangle-roi.tool */ "aHCY");
/* harmony import */ var _custom_tools_elliptical_roi_tool__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./custom-tools/elliptical-roi.tool */ "9K+k");
/* harmony import */ var _custom_tools_probe_tool__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./custom-tools/probe.tool */ "sJv9");
/* harmony import */ var _custom_tools_circle_roi_tool__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./custom-tools/circle-roi.tool */ "7sFx");
/* harmony import */ var _custom_tools_length_tool__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./custom-tools/length.tool */ "0nvA");








// Import custom tools









let isCornerstoneInitCalled = false;
const webWorkersConfig = {
    maxWebWorkers: navigator.hardwareConcurrency || 1,
    startWebWorkersOnDemand: true,
    webWorkerTaskPaths: [],
    taskConfiguration: {
        decodeTask: {
            initializeCodecsOnStartup: false,
        },
    },
};
const addMetadataProvider = (provider) => {
    cornerstone_core__WEBPACK_IMPORTED_MODULE_0__["metaData"].addProvider(provider);
};
const initCornerstone = () => {
    if (isCornerstoneInitCalled) {
        return;
    }
    isCornerstoneInitCalled = true;
    // Externals
    cornerstone_wado_image_loader__WEBPACK_IMPORTED_MODULE_1__["external"].cornerstone = cornerstone_core__WEBPACK_IMPORTED_MODULE_0__;
    cornerstone_wado_image_loader__WEBPACK_IMPORTED_MODULE_1__["external"].dicomParser = dicom_parser__WEBPACK_IMPORTED_MODULE_2__;
    cornerstone_web_image_loader__WEBPACK_IMPORTED_MODULE_6___default.a.external.cornerstone = cornerstone_core__WEBPACK_IMPORTED_MODULE_0__;
    cornerstone_tools__WEBPACK_IMPORTED_MODULE_3__["external"].cornerstone = cornerstone_core__WEBPACK_IMPORTED_MODULE_0__;
    cornerstone_tools__WEBPACK_IMPORTED_MODULE_3__["external"].Hammer = hammerjs__WEBPACK_IMPORTED_MODULE_5__;
    cornerstone_tools__WEBPACK_IMPORTED_MODULE_3__["external"].cornerstoneMath = cornerstone_math__WEBPACK_IMPORTED_MODULE_4__;
    // Init
    cornerstone_wado_image_loader__WEBPACK_IMPORTED_MODULE_1__["webWorkerManager"].initialize(webWorkersConfig);
    cornerstone_tools__WEBPACK_IMPORTED_MODULE_3__["init"]({
        showSVGCursors: true,
        globalToolSyncEnabled: false,
        isTextboxVisible: false,
        isAnnotationsVisible: true,
    });
    // Logging
    // cornerstoneTools.enableLogger();
    // localStorage.setItem('debug', 'cornerstoneTools');
    // Custom settings
    cornerstone_tools__WEBPACK_IMPORTED_MODULE_3__["store"].state.deleteIfHandleOutsideImage = false;
    cornerstone_tools__WEBPACK_IMPORTED_MODULE_3__["store"].state.preventHandleOutsideImage = false;
    cornerstone_tools__WEBPACK_IMPORTED_MODULE_3__["textStyle"].setFont('12px Roboto');
    addMetadataProvider(_metadata_provider__WEBPACK_IMPORTED_MODULE_7__["metaDataProvider"]);
};
const availableTools = {
    Overlay: {
        csTool: _custom_tools_overlay_tool__WEBPACK_IMPORTED_MODULE_11__["default"],
        isActive: true,
    },
    StackScrollMouseWheel: {
        csTool: cornerstone_tools__WEBPACK_IMPORTED_MODULE_3__["StackScrollMouseWheelTool"],
        config: { allowSkipping: false },
    },
    StackScrollMultiTouch: {
        csTool: cornerstone_tools__WEBPACK_IMPORTED_MODULE_3__["StackScrollMultiTouchTool"],
    },
    Pan: {
        csTool: cornerstone_tools__WEBPACK_IMPORTED_MODULE_3__["PanTool"],
    },
    DragProbe: {
        csTool: cornerstone_tools__WEBPACK_IMPORTED_MODULE_3__["DragProbeTool"],
    },
    Probe: {
        csTool: _custom_tools_probe_tool__WEBPACK_IMPORTED_MODULE_14__["default"],
    },
    Eraser: {
        csTool: cornerstone_tools__WEBPACK_IMPORTED_MODULE_3__["EraserTool"],
    },
    Angle: {
        csTool: cornerstone_tools__WEBPACK_IMPORTED_MODULE_3__["AngleTool"],
    },
    Length: {
        csTool: _custom_tools_length_tool__WEBPACK_IMPORTED_MODULE_16__["ZMLengthTool"],
    },
    Zoom: {
        csTool: cornerstone_tools__WEBPACK_IMPORTED_MODULE_3__["ZoomTool"],
    },
    Wwwc: {
        csTool: cornerstone_tools__WEBPACK_IMPORTED_MODULE_3__["WwwcTool"],
    },
    ZoomRoi: {
        csTool: _custom_tools_zoom_roi_tool__WEBPACK_IMPORTED_MODULE_8__["default"],
    },
    FreehandRoi: {
        csTool: _custom_tools_freehand_roi_tool__WEBPACK_IMPORTED_MODULE_10__["default"],
    },
    ArrowAnnotate: {
        csTool: cornerstone_tools__WEBPACK_IMPORTED_MODULE_3__["ArrowAnnotateTool"],
    },
    EllipticalRoi: {
        csTool: _custom_tools_elliptical_roi_tool__WEBPACK_IMPORTED_MODULE_13__["default"],
    },
    CircleRoi: {
        csTool: _custom_tools_circle_roi_tool__WEBPACK_IMPORTED_MODULE_15__["default"],
    },
    RectangleRoi: {
        csTool: _custom_tools_rectangle_roi_tool__WEBPACK_IMPORTED_MODULE_12__["default"],
    },
    AgatstonScore: {
        csTool: _custom_tools_agatston_score_tool__WEBPACK_IMPORTED_MODULE_9__["default"],
    },
};
const defaultActiveTools = [
    {
        toolName: 'Zoom',
        mouseButtonMask: [2],
    },
    {
        toolName: 'Wwwc',
        mouseButtonMask: [1],
    },
];
const defaultColor = '#ffd200';



/***/ }),

/***/ "D/Lq":
/*!********************************************************************************!*\
  !*** ./projects/zebra-viewer/src/config/tools-handlers/grid/grid.component.ts ***!
  \********************************************************************************/
/*! exports provided: GridComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridComponent", function() { return GridComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _lib_editor_shared_models_tool_action_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/editor/shared/models/tool-action.model */ "vvF0");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/editor/shared/models/command.model */ "lxft");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "SVse");






const _c0 = function (a0) { return { active: a0 }; };
function GridComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("mouseover", function GridComponent_div_1_Template_div_mouseover_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const item_r1 = ctx.$implicit; const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r2.onGridItemHover(item_r1); })("click", function GridComponent_div_1_Template_div_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const item_r1 = ctx.$implicit; const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r4.chooseGrid(item_r1); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](1, _c0, item_r1.isActive));
} }
class GridComponent {
    constructor() {
        this.done = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.actionChange$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["ReplaySubject"](1);
        this.maxRows = 4;
        this.maxCols = 4;
    }
    ngOnInit() {
        const gridItems = [];
        for (let index = 0; index < this.maxRows * this.maxCols; index++) {
            gridItems.push({
                isActive: false,
                row: Math.floor(index / this.maxCols),
                col: index % this.maxCols,
            });
        }
        this.gridItems = gridItems;
    }
    ngOnDestroy() {
        this.actionChange$.complete();
    }
    chooseGrid(item) {
        const maxRow = item.row + 1;
        const maxCol = item.col + 1;
        const rowsArr = [];
        for (let rowIdx = 0; rowIdx < maxRow; rowIdx++) {
            const colsArr = [];
            for (let colIdx = 0; colIdx < maxCol; colIdx++) {
                colsArr.push(`v${maxCol * rowIdx + colIdx + 1}`);
            }
            rowsArr.push(`"${colsArr.join(' ')}" 1fr`);
        }
        const gridTemplate = rowsArr.join(' ');
        this.actionChange$.next(new _lib_editor_shared_models_tool_action_model__WEBPACK_IMPORTED_MODULE_1__["ToolAction"](new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_3__["Command"]('changeGrid', { gridTemplate })));
        this.done.emit();
    }
    onGridItemHover(hoveredItem) {
        this.gridItems.forEach((item) => {
            item.isActive = item.col <= hoveredItem.col && item.row <= hoveredItem.row;
        });
    }
}
GridComponent.ɵfac = function GridComponent_Factory(t) { return new (t || GridComponent)(); };
GridComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: GridComponent, selectors: [["zebra-viewer-grid"]], outputs: { done: "done" }, decls: 2, vars: 1, consts: [[1, "grid-menu"], ["class", "grid-menu-item", 3, "ngClass", "mouseover", "click", 4, "ngFor", "ngForOf"], [1, "grid-menu-item", 3, "ngClass", "mouseover", "click"]], template: function GridComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, GridComponent_div_1_Template, 1, 3, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.gridItems);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgClass"]], styles: [".grid-menu[_ngcontent-%COMP%] {\n  width: 100%;\n  height: 200px;\n  display: grid;\n  grid-template-rows: repeat(4, 1fr);\n  grid-template-columns: repeat(4, 1fr);\n  grid-auto-flow: rows;\n  justify-content: stretch;\n  align-content: stretch;\n}\n.grid-menu[_ngcontent-%COMP%]   .grid-menu-item[_ngcontent-%COMP%] {\n  border: 1px solid #000;\n}\n.grid-menu[_ngcontent-%COMP%]   .grid-menu-item.active[_ngcontent-%COMP%] {\n  background: #fff;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2dyaWQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQyxXQUFBO0VBQ0EsYUFBQTtFQUNBLGFBQUE7RUFDQSxrQ0FBQTtFQUNBLHFDQUFBO0VBQ0Esb0JBQUE7RUFDQSx3QkFBQTtFQUNBLHNCQUFBO0FBQ0Q7QUFDQztFQUNDLHNCQUFBO0FBQ0Y7QUFDRTtFQUNDLGdCQUFBO0FBQ0giLCJmaWxlIjoiZ3JpZC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ncmlkLW1lbnUge1xuXHR3aWR0aDogMTAwJTtcblx0aGVpZ2h0OiAyMDBweDtcblx0ZGlzcGxheTogZ3JpZDtcblx0Z3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoNCwgMWZyKTtcblx0Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNCwgMWZyKTtcblx0Z3JpZC1hdXRvLWZsb3c6IHJvd3M7XG5cdGp1c3RpZnktY29udGVudDogc3RyZXRjaDtcblx0YWxpZ24tY29udGVudDogc3RyZXRjaDtcblxuXHQuZ3JpZC1tZW51LWl0ZW0ge1xuXHRcdGJvcmRlcjogMXB4IHNvbGlkICMwMDA7XG5cdFxuXHRcdCYuYWN0aXZlIHtcblx0XHRcdGJhY2tncm91bmQ6ICNmZmY7XG5cdFx0fVxuXHR9XG59XG4iXX0= */"], changeDetection: 0 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](GridComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'zebra-viewer-grid',
                templateUrl: './grid.component.html',
                styleUrls: ['./grid.component.scss'],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
            }]
    }], null, { done: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "DtpI":
/*!******************************************************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/viewports-manager/viewport-container/active-tag-bar/active-tag-bar.component.ts ***!
  \******************************************************************************************************************************/
/*! exports provided: ActiveTagBarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActiveTagBarComponent", function() { return ActiveTagBarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/button */ "Dxy4");




function ActiveTagBarComponent_div_0_button_7_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ActiveTagBarComponent_div_0_button_7_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r3.onAdd(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Add");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ActiveTagBarComponent_div_0_button_8_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ActiveTagBarComponent_div_0_button_8_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r5.onInactivate(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Dismiss");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
const _c0 = function (a0) { return { "background-color": a0 }; };
function ActiveTagBarComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "slice");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, " Tag name: ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "strong");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, ActiveTagBarComponent_div_0_button_7_Template, 2, 0, "button", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, ActiveTagBarComponent_div_0_button_8_Template, 2, 0, "button", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](8, _c0, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind3"](1, 4, ctx_r0.color, 0, 7) + "50"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r0.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.showAdd);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.showInvalidate);
} }
class ActiveTagBarComponent {
    constructor() {
        this.inactivate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.addTagPressed = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    ngOnInit() { }
    onInactivate() {
        this.inactivate.emit(this.tag);
    }
    ngOnChanges(changes) {
        if (this.tag) {
            this.color = this.tag.color;
            this.name = this.tag.name;
        }
    }
    onAdd() {
        this.addTagPressed.emit();
    }
}
ActiveTagBarComponent.ɵfac = function ActiveTagBarComponent_Factory(t) { return new (t || ActiveTagBarComponent)(); };
ActiveTagBarComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ActiveTagBarComponent, selectors: [["zebra-viewer-active-tag-bar"]], inputs: { tag: "tag", name: "name", color: "color", showAdd: "showAdd", showInvalidate: "showInvalidate" }, outputs: { inactivate: "inactivate", addTagPressed: "addTagPressed" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [["class", "bar", 3, "ngStyle", 4, "ngIf"], [1, "bar", 3, "ngStyle"], [1, "name", "mat-caption"], [1, "bar-actions"], ["mat-stroked-button", "", "class", "inactivate", 3, "click", 4, "ngIf"], ["mat-stroked-button", "", 1, "inactivate", 3, "click"]], template: function ActiveTagBarComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, ActiveTagBarComponent_div_0_Template, 9, 10, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showAdd || ctx.showInvalidate);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgStyle"], _angular_material_button__WEBPACK_IMPORTED_MODULE_2__["MatButton"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["SlicePipe"]], styles: ["[_nghost-%COMP%] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  z-index: 10;\n}\n\n.bar[_ngcontent-%COMP%] {\n  width: 100%;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 4px;\n  color: #fff;\n}\n\n.bar-actions[_ngcontent-%COMP%] {\n  display: inline-flex;\n}\n\n.name[_ngcontent-%COMP%] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\nbutton[_ngcontent-%COMP%] {\n  line-height: 24px;\n  margin-left: 8px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2FjdGl2ZS10YWctYmFyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBO0VBQ0Usa0JBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0FBRkY7O0FBS0E7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLDhCQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7QUFGRjs7QUFLQTtFQUNDLG9CQUFBO0FBRkQ7O0FBS0E7RUFDRSxnQkFBQTtFQUNBLHVCQUFBO0FBRkY7O0FBS0E7RUFDRSxpQkFBQTtFQUNBLGdCQUFBO0FBRkYiLCJmaWxlIjoiYWN0aXZlLXRhZy1iYXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwiLi4vLi4vLi4vLi4vLi4vc2Nzcy92YXJpYWJsZXMuc2Nzc1wiO1xuQGltcG9ydCBcIi4uLy4uLy4uLy4uLy4uL3Njc3MvbWl4aW5zXCI7XG5cbjpob3N0IHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICB6LWluZGV4OiAxMDtcbn1cblxuLmJhciB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDQwcHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgcGFkZGluZzogdW5pdHMoMC41KTtcbiAgY29sb3I6ICNmZmY7XG59XG5cbi5iYXItYWN0aW9ucyB7XG5cdGRpc3BsYXk6IGlubGluZS1mbGV4O1xufVxuXG4ubmFtZSB7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xufVxuXG5idXR0b24ge1xuICBsaW5lLWhlaWdodDogdW5pdHMoMyk7XG4gIG1hcmdpbi1sZWZ0OiB1bml0cygxKTtcbn1cbiJdfQ== */"] });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ActiveTagBarComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'zebra-viewer-active-tag-bar',
                templateUrl: './active-tag-bar.component.html',
                styleUrls: ['./active-tag-bar.component.scss'],
            }]
    }], function () { return []; }, { tag: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], name: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], color: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showAdd: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showInvalidate: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], inactivate: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], addTagPressed: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "Dz2t":
/*!*************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/zm-material/zm-material.module.ts ***!
  \*************************************************************************/
/*! exports provided: ZmMaterialModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ZmMaterialModule", function() { return ZmMaterialModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/button */ "Dxy4");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/icon */ "Tj54");
/* harmony import */ var _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/button-toggle */ "Ynp+");
/* harmony import */ var _angular_material_slider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/slider */ "mPVK");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/form-field */ "Q2Ze");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/dialog */ "iELJ");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/card */ "PDjf");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/tooltip */ "ZFy/");
/* harmony import */ var _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/progress-bar */ "BTe0");
/* harmony import */ var _angular_material_grid_list__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/grid-list */ "40+f");
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/table */ "OaSA");
/* harmony import */ var _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/checkbox */ "pMoy");
/* harmony import */ var _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/cdk/overlay */ "1O3W");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/select */ "ZTz/");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/input */ "e6WT");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/platform-browser/animations */ "omvX");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/common/http */ "IheW");



















class ZmMaterialModule {
}
ZmMaterialModule.ɵfac = function ZmMaterialModule_Factory(t) { return new (t || ZmMaterialModule)(); };
ZmMaterialModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: ZmMaterialModule });
ZmMaterialModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ imports: [[
            _angular_material_button__WEBPACK_IMPORTED_MODULE_1__["MatButtonModule"],
            _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_12__["MatCheckboxModule"],
            _angular_material_icon__WEBPACK_IMPORTED_MODULE_2__["MatIconModule"],
            _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_3__["MatButtonToggleModule"],
            _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_16__["BrowserAnimationsModule"],
            _angular_material_slider__WEBPACK_IMPORTED_MODULE_4__["MatSliderModule"],
            _angular_material_form_field__WEBPACK_IMPORTED_MODULE_5__["MatFormFieldModule"],
            _angular_material_select__WEBPACK_IMPORTED_MODULE_14__["MatSelectModule"],
            _angular_material_input__WEBPACK_IMPORTED_MODULE_15__["MatInputModule"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_17__["HttpClientModule"],
            _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialogModule"],
            _angular_material_card__WEBPACK_IMPORTED_MODULE_7__["MatCardModule"],
            _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_8__["MatTooltipModule"],
            _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_9__["MatProgressBarModule"],
            _angular_material_grid_list__WEBPACK_IMPORTED_MODULE_10__["MatGridListModule"],
            _angular_material_table__WEBPACK_IMPORTED_MODULE_11__["MatTableModule"],
            _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_13__["OverlayModule"],
        ], _angular_material_button__WEBPACK_IMPORTED_MODULE_1__["MatButtonModule"],
        _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_12__["MatCheckboxModule"],
        _angular_material_icon__WEBPACK_IMPORTED_MODULE_2__["MatIconModule"],
        _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_3__["MatButtonToggleModule"],
        _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_16__["BrowserAnimationsModule"],
        _angular_material_slider__WEBPACK_IMPORTED_MODULE_4__["MatSliderModule"],
        _angular_material_form_field__WEBPACK_IMPORTED_MODULE_5__["MatFormFieldModule"],
        _angular_material_select__WEBPACK_IMPORTED_MODULE_14__["MatSelectModule"],
        _angular_material_input__WEBPACK_IMPORTED_MODULE_15__["MatInputModule"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialogModule"],
        _angular_material_card__WEBPACK_IMPORTED_MODULE_7__["MatCardModule"],
        _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_8__["MatTooltipModule"],
        _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_9__["MatProgressBarModule"],
        _angular_material_grid_list__WEBPACK_IMPORTED_MODULE_10__["MatGridListModule"],
        _angular_material_table__WEBPACK_IMPORTED_MODULE_11__["MatTableModule"],
        _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_13__["OverlayModule"]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](ZmMaterialModule, { imports: [_angular_material_button__WEBPACK_IMPORTED_MODULE_1__["MatButtonModule"],
        _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_12__["MatCheckboxModule"],
        _angular_material_icon__WEBPACK_IMPORTED_MODULE_2__["MatIconModule"],
        _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_3__["MatButtonToggleModule"],
        _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_16__["BrowserAnimationsModule"],
        _angular_material_slider__WEBPACK_IMPORTED_MODULE_4__["MatSliderModule"],
        _angular_material_form_field__WEBPACK_IMPORTED_MODULE_5__["MatFormFieldModule"],
        _angular_material_select__WEBPACK_IMPORTED_MODULE_14__["MatSelectModule"],
        _angular_material_input__WEBPACK_IMPORTED_MODULE_15__["MatInputModule"],
        _angular_common_http__WEBPACK_IMPORTED_MODULE_17__["HttpClientModule"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialogModule"],
        _angular_material_card__WEBPACK_IMPORTED_MODULE_7__["MatCardModule"],
        _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_8__["MatTooltipModule"],
        _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_9__["MatProgressBarModule"],
        _angular_material_grid_list__WEBPACK_IMPORTED_MODULE_10__["MatGridListModule"],
        _angular_material_table__WEBPACK_IMPORTED_MODULE_11__["MatTableModule"],
        _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_13__["OverlayModule"]], exports: [_angular_material_button__WEBPACK_IMPORTED_MODULE_1__["MatButtonModule"],
        _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_12__["MatCheckboxModule"],
        _angular_material_icon__WEBPACK_IMPORTED_MODULE_2__["MatIconModule"],
        _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_3__["MatButtonToggleModule"],
        _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_16__["BrowserAnimationsModule"],
        _angular_material_slider__WEBPACK_IMPORTED_MODULE_4__["MatSliderModule"],
        _angular_material_form_field__WEBPACK_IMPORTED_MODULE_5__["MatFormFieldModule"],
        _angular_material_select__WEBPACK_IMPORTED_MODULE_14__["MatSelectModule"],
        _angular_material_input__WEBPACK_IMPORTED_MODULE_15__["MatInputModule"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialogModule"],
        _angular_material_card__WEBPACK_IMPORTED_MODULE_7__["MatCardModule"],
        _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_8__["MatTooltipModule"],
        _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_9__["MatProgressBarModule"],
        _angular_material_grid_list__WEBPACK_IMPORTED_MODULE_10__["MatGridListModule"],
        _angular_material_table__WEBPACK_IMPORTED_MODULE_11__["MatTableModule"],
        _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_13__["OverlayModule"]] }); })();
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ZmMaterialModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_material_button__WEBPACK_IMPORTED_MODULE_1__["MatButtonModule"],
                    _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_12__["MatCheckboxModule"],
                    _angular_material_icon__WEBPACK_IMPORTED_MODULE_2__["MatIconModule"],
                    _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_3__["MatButtonToggleModule"],
                    _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_16__["BrowserAnimationsModule"],
                    _angular_material_slider__WEBPACK_IMPORTED_MODULE_4__["MatSliderModule"],
                    _angular_material_form_field__WEBPACK_IMPORTED_MODULE_5__["MatFormFieldModule"],
                    _angular_material_select__WEBPACK_IMPORTED_MODULE_14__["MatSelectModule"],
                    _angular_material_input__WEBPACK_IMPORTED_MODULE_15__["MatInputModule"],
                    _angular_common_http__WEBPACK_IMPORTED_MODULE_17__["HttpClientModule"],
                    _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialogModule"],
                    _angular_material_card__WEBPACK_IMPORTED_MODULE_7__["MatCardModule"],
                    _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_8__["MatTooltipModule"],
                    _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_9__["MatProgressBarModule"],
                    _angular_material_grid_list__WEBPACK_IMPORTED_MODULE_10__["MatGridListModule"],
                    _angular_material_table__WEBPACK_IMPORTED_MODULE_11__["MatTableModule"],
                    _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_13__["OverlayModule"],
                ],
                exports: [
                    _angular_material_button__WEBPACK_IMPORTED_MODULE_1__["MatButtonModule"],
                    _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_12__["MatCheckboxModule"],
                    _angular_material_icon__WEBPACK_IMPORTED_MODULE_2__["MatIconModule"],
                    _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_3__["MatButtonToggleModule"],
                    _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_16__["BrowserAnimationsModule"],
                    _angular_material_slider__WEBPACK_IMPORTED_MODULE_4__["MatSliderModule"],
                    _angular_material_form_field__WEBPACK_IMPORTED_MODULE_5__["MatFormFieldModule"],
                    _angular_material_select__WEBPACK_IMPORTED_MODULE_14__["MatSelectModule"],
                    _angular_material_input__WEBPACK_IMPORTED_MODULE_15__["MatInputModule"],
                    _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialogModule"],
                    _angular_material_card__WEBPACK_IMPORTED_MODULE_7__["MatCardModule"],
                    _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_8__["MatTooltipModule"],
                    _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_9__["MatProgressBarModule"],
                    _angular_material_grid_list__WEBPACK_IMPORTED_MODULE_10__["MatGridListModule"],
                    _angular_material_table__WEBPACK_IMPORTED_MODULE_11__["MatTableModule"],
                    _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_13__["OverlayModule"],
                ],
            }]
    }], null, null); })();


/***/ }),

/***/ "F9an":
/*!*****************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/toolbar/tool/tool.component.ts ***!
  \*****************************************************************************/
/*! exports provided: ToolComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToolComponent", function() { return ToolComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _shared_models_tool_action_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/models/tool-action.model */ "vvF0");
/* harmony import */ var _shared_models_command_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/models/command.model */ "lxft");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shared/enums/icon-type.enum */ "fCM6");
/* harmony import */ var _services_dynamic_dialog_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../services/dynamic-dialog.service */ "ZUdh");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/tooltip */ "ZFy/");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/icon */ "Tj54");











const _c0 = ["buttonRef"];
function ToolComponent_mat_icon_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-icon", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    let tmp_0_0 = null;
    let tmp_1_0 = null;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("svgIcon", ((tmp_0_0 = ctx_r1.getIconOn(ctx_r1.tool)) == null ? null : tmp_0_0.type) == ctx_r1.IconTypeEnum.SVG ? (tmp_0_0 = ctx_r1.getIconOn(ctx_r1.tool)) == null ? null : tmp_0_0.name : "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"]((tmp_1_0 = ctx_r1.getIconOn(ctx_r1.tool)) == null ? null : tmp_1_0.name);
} }
function ToolComponent_ng_template_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-icon", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("svgIcon", ctx_r3.tool && (ctx_r3.tool.icon == null ? null : ctx_r3.tool.icon.type) === ctx_r3.IconTypeEnum.SVG ? ctx_r3.tool.icon == null ? null : ctx_r3.tool.icon.name : "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r3.tool == null ? null : ctx_r3.tool.icon == null ? null : ctx_r3.tool.icon.name);
} }
const _c1 = function (a0) { return { active: a0 }; };
class ToolComponent {
    constructor(cdRef, elRef, dynamicDialogService) {
        this.cdRef = cdRef;
        this.elRef = elRef;
        this.dynamicDialogService = dynamicDialogService;
        this.toolChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.IconTypeEnum = _shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_5__["IconTypeEnum"];
        this.unsubscribe$ = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
    }
    ngOnChanges(changes) {
        if (changes.tool && this.tool) {
            this.description = this.getDescription(this.tool, this.isActive);
        }
        if (changes.isActive !== undefined && !this.isActive) {
            this.description = this.getDescription(this.tool, this.isActive);
            this.dynamicDialogService.closeDialog(this.currentDialogRef);
        }
        if (changes.data) {
            this.dynamicDialogService.updateDialogData(this.currentDialogRef, this.data);
        }
    }
    ngOnDestroy() {
        this.unsubscribe$.next();
        this.unsubscribe$.complete();
        this.closeDialog();
    }
    onClick() {
        const isActive = !this.isActive;
        const toolAction = new _shared_models_tool_action_model__WEBPACK_IMPORTED_MODULE_1__["ToolAction"](this.tool.command ? _shared_models_command_model__WEBPACK_IMPORTED_MODULE_2__["Command"].clone(this.tool.command) : null, this.tool);
        switch (this.tool.type) {
            case "COMMAND" /* COMMAND */:
                toolAction.isActive = false;
                this.toolChange.emit(toolAction);
                break;
            case "COMMAND_SWITCH" /* COMMAND_SWITCH */:
            case "SET_ACTIVE_TOOL" /* SET_ACTIVE_TOOL */:
                this.isActive = isActive;
                this.handleCommandSwitch(toolAction, isActive);
                break;
            case "OPEN_DIALOG" /* OPEN_DIALOG */:
                this.handleDialog(this.tool);
                break;
        }
        this.description = this.getDescription(this.tool, this.isActive);
    }
    click() {
        this.buttonRef.nativeElement.click();
        this.cdRef.detectChanges();
    }
    getIconOn(tool) {
        if (tool) {
            return tool.iconOn;
        }
        return;
    }
    handleCommandSwitch(toolAction, isActive) {
        toolAction.isActive = isActive;
        const switchTool = this.tool;
        if (isActive) {
            this.description = switchTool.descriptionOff || switchTool.description;
            this.toolChange.emit(toolAction);
        }
        else {
            this.description = switchTool.description;
            toolAction.command = _shared_models_command_model__WEBPACK_IMPORTED_MODULE_2__["Command"].clone(switchTool.commandOff);
            this.toolChange.emit(toolAction);
        }
    }
    handleDialog(tool) {
        if (this.currentDialogRef) {
            this.closeDialog();
        }
        else {
            const toolAction = new _shared_models_tool_action_model__WEBPACK_IMPORTED_MODULE_1__["ToolAction"](null, tool);
            toolAction.isActive = true;
            this.toolChange.emit(toolAction);
            const { title, panelClass, handlingComponent, initData } = tool;
            const dialogOptions = { title, panelClass, handlingComponent, initData };
            dialogOptions.initData = Object.assign(Object.assign({}, (dialogOptions.initData || {})), this.data);
            this.currentDialogRef = this.dynamicDialogService.createDialogForTool(dialogOptions, this.elRef, this.onDialogOpen.bind(this), this.onDialogClose.bind(this, toolAction));
        }
    }
    onDialogClose(toolAction) {
        this.unsubscribe$.next();
        toolAction.isActive = false;
        this.toolChange.emit(toolAction);
        this.currentDialogRef = null;
    }
    onDialogOpen() {
        const componentInstance = this.dynamicDialogService.getComponentInstance(this.currentDialogRef);
        const actionChangeOutput$ = componentInstance.actionChange$;
        if (actionChangeOutput$) {
            actionChangeOutput$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["takeUntil"])(this.unsubscribe$)).subscribe((dialogToolAction) => {
                this.toolChange.emit(dialogToolAction);
            });
        }
        componentInstance.done.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["takeUntil"])(this.unsubscribe$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["take"])(1)).subscribe(() => {
            this.closeDialog();
        });
    }
    getDescription(tool, isActive) {
        if (!tool) {
            return;
        }
        if (tool.type === "COMMAND" /* COMMAND */ || !isActive) {
            return tool.description;
        }
        const switchTool = tool;
        return switchTool.descriptionOff || switchTool.description;
    }
    closeDialog() {
        if (this.currentDialogRef) {
            this.dynamicDialogService.closeDialog(this.currentDialogRef);
        }
    }
}
ToolComponent.ɵfac = function ToolComponent_Factory(t) { return new (t || ToolComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_dynamic_dialog_service__WEBPACK_IMPORTED_MODULE_6__["DynamicDialogService"])); };
ToolComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ToolComponent, selectors: [["zebra-viewer-tool"]], viewQuery: function ToolComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, 3);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.buttonRef = _t.first);
    } }, inputs: { tool: "tool", isActive: "isActive", isDisabled: "isDisabled", data: "data" }, outputs: { toolChange: "toolChange" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 5, vars: 10, consts: [["matTooltipPosition", "above", 1, "zm-tool", 3, "id", "matTooltip", "ngClass", "disabled", "click"], ["buttonRef", ""], [3, "svgIcon", 4, "ngIf", "ngIfElse"], ["origIcon", ""], [3, "svgIcon"]], template: function ToolComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 0, 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ToolComponent_Template_button_click_0_listener() { return ctx.onClick(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, ToolComponent_mat_icon_2_Template, 2, 2, "mat-icon", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, ToolComponent_ng_template_3_Template, 2, 2, "ng-template", null, 3, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("id", ctx.tool == null ? null : ctx.tool.id)("matTooltip", ctx.description)("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](8, _c1, ctx.isActive))("disabled", ctx.isDisabled);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("bla", ctx.data == null ? null : ctx.data.bla)("automation-tag", ctx.tool == null ? null : ctx.tool.id);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.getIconOn(ctx.tool) && ctx.isActive)("ngIfElse", _r2);
    } }, directives: [_angular_material_tooltip__WEBPACK_IMPORTED_MODULE_7__["MatTooltip"], _angular_common__WEBPACK_IMPORTED_MODULE_8__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_8__["NgIf"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_9__["MatIcon"]], styles: ["*[_ngcontent-%COMP%] {\n  box-sizing: border-box;\n}\n\n.flexr[_ngcontent-%COMP%] {\n  display: flex;\n}\n\n.flexc[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n}\n\n.flex-fill[_ngcontent-%COMP%] {\n  flex: 1;\n}\n\n.flex-distribute[_ngcontent-%COMP%] {\n  justify-content: space-between;\n}\n\n.align-center[_ngcontent-%COMP%] {\n  align-items: center;\n}\n\n.align-baseline[_ngcontent-%COMP%] {\n  align-items: baseline;\n}\n\n.align-to-start[_ngcontent-%COMP%] {\n  align-self: flex-start;\n}\n\n.align-to-end[_ngcontent-%COMP%] {\n  align-self: flex-end;\n}\n\n.full-width[_ngcontent-%COMP%] {\n  width: 100%;\n}\n\n\n\nbutton[_ngcontent-%COMP%] {\n  margin: 0;\n  padding: 0;\n  background-color: transparent;\n  border: none;\n  outline: none;\n}\n\n.zm-icon[_ngcontent-%COMP%] {\n  display: inline-block;\n  width: 1em;\n  height: 1em;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.mat-icon.size-10[_ngcontent-%COMP%] {\n  font-size: 10px;\n  line-height: 10px;\n  width: 10px;\n  height: 10px;\n}\n\n.mat-icon.size-12[_ngcontent-%COMP%] {\n  font-size: 12px;\n  line-height: 12px;\n  width: 12px;\n  height: 12px;\n}\n\n.mat-icon.size-14[_ngcontent-%COMP%] {\n  font-size: 14px;\n  line-height: 14px;\n  width: 14px;\n  height: 14px;\n}\n\n.mat-icon.size-16[_ngcontent-%COMP%] {\n  font-size: 16px;\n  line-height: 16px;\n  width: 16px;\n  height: 16px;\n}\n\n.mat-icon.size-18[_ngcontent-%COMP%] {\n  font-size: 18px;\n  line-height: 18px;\n  width: 18px;\n  height: 18px;\n}\n\n.mat-icon.size-20[_ngcontent-%COMP%] {\n  font-size: 20px;\n  line-height: 20px;\n  width: 20px;\n  height: 20px;\n}\n\n.mat-icon.size-24[_ngcontent-%COMP%] {\n  font-size: 24px;\n  line-height: 24px;\n  width: 24px;\n  height: 24px;\n}\n\n.mat-icon[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%], [disabled][_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%] {\n  opacity: 0.5;\n}\n\n[_nghost-%COMP%] {\n  display: flex;\n}\n\n.zm-tool[_ngcontent-%COMP%] {\n  font-size: 24px;\n  width: 36px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n}\n\n.zm-tool[disabled][_ngcontent-%COMP%] {\n  opacity: 0.4;\n}\n\n.zm-tool.active[_ngcontent-%COMP%] {\n  color: #ffd200;\n  background: #000;\n}\n\n.zm-tool[_ngcontent-%COMP%]:not([disabled]) {\n  cursor: pointer;\n}\n\n@media screen and (max-width: 1280px) {\n  .zm-tool[_ngcontent-%COMP%] {\n    font-size: 16.0008px;\n    width: 24.0012px;\n  }\n  .zm-tool[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%] {\n    width: 16.0008px;\n    height: 16.0008px;\n    font-size: 16.0008px;\n  }\n}\n\n@media screen and (min-width: 1281px) and (max-width: 1500px) {\n  .zm-tool[_ngcontent-%COMP%] {\n    font-size: 19.2px;\n    width: 28.8px;\n  }\n  .zm-tool[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%] {\n    width: 19.2px;\n    height: 19.2px;\n    font-size: 19.2px;\n  }\n}\n\n.zm-icon[_ngcontent-%COMP%] {\n  display: inline-block;\n  width: 1em;\n  height: 1em;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.pan[_ngcontent-%COMP%] {\n  font-size: 0.8em !important;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Njc3MvY29tbW9uLnNjc3MiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi90b29sLmNvbXBvbmVudC5zY3NzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vc2Nzcy92YXJpYWJsZXMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHNCQUFBO0FDQ0Y7O0FERUE7RUFDRSxhQUFBO0FDQ0Y7O0FEQ0E7RUFDRSxhQUFBO0VBQ0Esc0JBQUE7QUNFRjs7QURBQTtFQUNFLE9BQUE7QUNHRjs7QUREQTtFQUNFLDhCQUFBO0FDSUY7O0FERkE7RUFDRSxtQkFBQTtBQ0tGOztBREZBO0VBQ0UscUJBQUE7QUNLRjs7QURIQTtFQUNFLHNCQUFBO0FDTUY7O0FESkE7RUFDRSxvQkFBQTtBQ09GOztBREpBO0VBQ0UsV0FBQTtBQ09GOztBREpBLGtCQUFBOztBQUNBO0VBQ0UsU0FBQTtFQUNBLFVBQUE7RUFDQSw2QkFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0FDT0Y7O0FESkE7RUFDRSxxQkFBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLG9CQUFBO0VBQ0Esa0JBQUE7QUNPRjs7QURERTtFQUNDLGVBQUE7RUFDQSxpQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FDSUg7O0FEUkU7RUFDQyxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQ1VIOztBRGRFO0VBQ0MsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNnQkg7O0FEcEJFO0VBQ0MsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNzQkg7O0FEMUJFO0VBQ0MsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUM0Qkg7O0FEaENFO0VBQ0MsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNrQ0g7O0FEdENFO0VBQ0MsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUN3Q0g7O0FEcENDO0VBRUMsWUFBQTtBQ3FDRjs7QUFwR0E7RUFDQyxhQUFBO0FBdUdEOztBQXBHQTtFQUNDLGVDRlc7RURHWCxXQ0pnQjtFREtoQixhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLFdDWlk7QURtSGI7O0FBckdDO0VBQ0MsWUFBQTtBQXVHRjs7QUFwR0M7RUFDQyxjQ3BCTTtFRHFCTixnQkFBQTtBQXNHRjs7QUFuR0M7RUFDQyxlQUFBO0FBcUdGOztBQWhHQztFQXZCRDtJQXdCRSxvQkFBQTtJQUNBLGdCQUFBO0VBbUdBO0VBakdBO0lBQ0MsZ0JBQUE7SUFDQSxpQkFBQTtJQUNBLG9CQUFBO0VBbUdEO0FBQ0Y7O0FBakdDO0VBakNEO0lBa0NFLGlCQUFBO0lBQ0EsYUFBQTtFQW9HQTtFQWxHQTtJQUNDLGFBQUE7SUFDQSxjQUFBO0lBQ0EsaUJBQUE7RUFvR0Q7QUFDRjs7QUFoR0E7RUFDQyxxQkFBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLG9CQUFBO0VBQ0Esa0JBQUE7QUFtR0Q7O0FBaEdBO0VBQ0MsMkJBQUE7QUFtR0QiLCJmaWxlIjoidG9vbC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIioge1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xufVxuXG4uZmxleHIge1xuICBkaXNwbGF5OiBmbGV4O1xufVxuLmZsZXhjIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn1cbi5mbGV4LWZpbGwge1xuICBmbGV4OiAxO1xufVxuLmZsZXgtZGlzdHJpYnV0ZSB7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cbi5hbGlnbi1jZW50ZXIge1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4uYWxpZ24tYmFzZWxpbmUge1xuICBhbGlnbi1pdGVtczogYmFzZWxpbmU7XG59XG4uYWxpZ24tdG8tc3RhcnQge1xuICBhbGlnbi1zZWxmOiBmbGV4LXN0YXJ0O1xufVxuLmFsaWduLXRvLWVuZCB7XG4gIGFsaWduLXNlbGY6IGZsZXgtZW5kO1xufVxuXG4uZnVsbC13aWR0aCB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4vKiBSZXNldCBidXR0b25zICovXG5idXR0b24ge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICBib3JkZXI6IG5vbmU7XG4gIG91dGxpbmU6IG5vbmU7XG59XG5cbi56bS1pY29uIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB3aWR0aDogMWVtO1xuICBoZWlnaHQ6IDFlbTtcbiAgc3Ryb2tlLXdpZHRoOiAwO1xuICBzdHJva2U6IGN1cnJlbnRDb2xvcjtcbiAgZmlsbDogY3VycmVudENvbG9yO1xufVxuXG4kc2l6ZXM6IDEwLCAxMiwgMTQsIDE2LCAxOCwgMjAsIDI0O1xuLm1hdC1pY29uIHtcblx0QGVhY2ggJHNpemUgaW4gJHNpemVzIHtcblx0XHQmLnNpemUtI3skc2l6ZX0ge1xuXHRcdFx0Zm9udC1zaXplOiAkc2l6ZSArIHB4O1xuXHRcdFx0bGluZS1oZWlnaHQ6ICRzaXplICsgcHg7XG5cdFx0XHR3aWR0aDogJHNpemUgKyBweDtcblx0XHRcdGhlaWdodDogJHNpemUgKyBweDtcblx0XHR9XG5cdH1cblxuXHQuZGlzYWJsZWQsXG5cdFtkaXNhYmxlZF0gJiB7XG5cdFx0b3BhY2l0eTogMC41O1xuXHR9XG59XG5cbiIsIkBpbXBvcnQgJ3Byb2plY3RzL3plYnJhLXZpZXdlci9zcmMvc2Nzcy92YXJpYWJsZXMnO1xuQGltcG9ydCAncHJvamVjdHMvemVicmEtdmlld2VyL3NyYy9zY3NzL2NvbW1vbic7XG5cbjpob3N0IHtcblx0ZGlzcGxheTogZmxleDtcbn1cblxuLnptLXRvb2wge1xuXHRmb250LXNpemU6ICRpY29uLXNpemU7XG5cdHdpZHRoOiAkdG9vbC13aWR0aDtcblx0ZGlzcGxheTogZmxleDtcblx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG5cdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdGNvbG9yOiAkdG9vbC1jb2xvcjtcblxuXHQmW2Rpc2FibGVkXSB7XG5cdFx0b3BhY2l0eTogMC40O1xuXHR9XG5cblx0Ji5hY3RpdmUge1xuXHRcdGNvbG9yOiAkdG9vbC1jb2xvci1zZWxlY3RlZDtcblx0XHRiYWNrZ3JvdW5kOiAjMDAwO1xuXHR9XG5cblx0Jjpub3QoW2Rpc2FibGVkXSkge1xuXHRcdGN1cnNvcjogcG9pbnRlcjtcblx0fVxuXHQkc21hbGwtZmFjdG9yOiAwLjY2Njc7XG5cdCRtZWRpdW0tZmFjdG9yOiAwLjg7XG5cblx0QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogMTI4MHB4KSB7XG5cdFx0Zm9udC1zaXplOiAkaWNvbi1zaXplICogJHNtYWxsLWZhY3Rvcjtcblx0XHR3aWR0aDogJHRvb2wtd2lkdGggKiAkc21hbGwtZmFjdG9yO1xuXG5cdFx0Lm1hdC1pY29uIHtcblx0XHRcdHdpZHRoOiAkaWNvbi1zaXplICogJHNtYWxsLWZhY3Rvcjtcblx0XHRcdGhlaWdodDogJGljb24tc2l6ZSAqICRzbWFsbC1mYWN0b3I7XG5cdFx0XHRmb250LXNpemU6ICRpY29uLXNpemUgKiAkc21hbGwtZmFjdG9yO1xuXHRcdH1cblx0fVxuXHRAbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAxMjgxcHgpIGFuZCAobWF4LXdpZHRoOiAxNTAwcHgpIHtcblx0XHRmb250LXNpemU6ICRpY29uLXNpemUgKiAkbWVkaXVtLWZhY3Rvcjtcblx0XHR3aWR0aDogJHRvb2wtd2lkdGggKiAkbWVkaXVtLWZhY3RvcjtcblxuXHRcdC5tYXQtaWNvbiB7XG5cdFx0XHR3aWR0aDogJGljb24tc2l6ZSAqICRtZWRpdW0tZmFjdG9yO1xuXHRcdFx0aGVpZ2h0OiAkaWNvbi1zaXplICogJG1lZGl1bS1mYWN0b3I7XG5cdFx0XHRmb250LXNpemU6ICRpY29uLXNpemUgKiAkbWVkaXVtLWZhY3Rvcjtcblx0XHR9XG5cdH1cbn1cblxuLnptLWljb24ge1xuXHRkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG5cdHdpZHRoOiAxZW07XG5cdGhlaWdodDogMWVtO1xuXHRzdHJva2Utd2lkdGg6IDA7XG5cdHN0cm9rZTogY3VycmVudENvbG9yO1xuXHRmaWxsOiBjdXJyZW50Q29sb3I7XG59XG5cbi5wYW4ge1xuXHRmb250LXNpemU6IDAuOGVtICFpbXBvcnRhbnQ7XG59XG4iLCIkemVicmE6ICNmZmQyMDA7XG4kdG9vbC1jb2xvcjogI2ZmZjtcbiR0b29sLWNvbG9yLXNlbGVjdGVkOiAkemVicmE7XG5cbiR1bml0OiA4cHg7XG4kdG9vbGJhci1oZWlnaHQ6IDM2cHg7XG4kaWNvbi1zaXplOiAyNHB4O1xuJHRvb2wtd2lkdGg6ICR0b29sYmFyLWhlaWdodDtcbiR0YWctaGVpZ2h0OiAyNHB4O1xuIl19 */"], changeDetection: 0 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ToolComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'zebra-viewer-tool',
                templateUrl: './tool.component.html',
                styleUrls: ['./tool.component.scss'],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }, { type: _services_dynamic_dialog_service__WEBPACK_IMPORTED_MODULE_6__["DynamicDialogService"] }]; }, { tool: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], isActive: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], isDisabled: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], data: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], toolChange: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], buttonRef: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['buttonRef', { static: true }]
        }] }); })();


/***/ }),

/***/ "Gdaj":
/*!**************************************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules/dynamic-component/dynamic-components-commands-entry.service.ts ***!
  \**************************************************************************************************************/
/*! exports provided: DynamicComponentsCommandsEntryService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DynamicComponentsCommandsEntryService", function() { return DynamicComponentsCommandsEntryService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var yassi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! yassi */ "SCOe");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _models_add_dynamic_component_command__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./models/add-dynamic-component.command */ "wYho");
/* harmony import */ var _dynamic_component_events_enum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dynamic-component-events.enum */ "jVBt");
/* harmony import */ var _models_remove_dynamic_component_command__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./models/remove-dynamic-component.command */ "pOXs");
/* harmony import */ var _events_manager_events_manager_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../events-manager/events-manager.service */ "Hl9B");








class DynamicComponentsCommandsEntryService {
    constructor(eventsManagerService) {
        this.eventsManagerService = eventsManagerService;
        this.dynamicComponents = [];
    }
    getModuleRegistrationObject() {
        return {
            name: 'dynamicComponentsModule',
            validators: createDynamicComponentCommandsValidators(this),
            handlers: createDynamicComponentCommandsHandlers(this),
        };
    }
    addDynamicComponentCommandValidator(command) {
        const asserted = command.type === _models_add_dynamic_component_command__WEBPACK_IMPORTED_MODULE_3__["AddDynamicComponentCommand"] &&
            command.data.componentResolver != null &&
            command.data.position != null &&
            command.data.componentInstanceId != null;
        if (!asserted) {
            const err = Error('Invalid AddDynamicComponentCommand arguments');
            err.type = _dynamic_component_events_enum__WEBPACK_IMPORTED_MODULE_4__["DynamicComponentEventsEnum"].INVALID_DYNAMIC_COMPONENT_ARGUMENTS_EVENT;
            throw err;
        }
    }
    removeDynamicComponentCommandValidator(command) {
        const asserted = command.type === _models_remove_dynamic_component_command__WEBPACK_IMPORTED_MODULE_5__["RemoveDynamicComponentCommand"] && (!!command.data.componentInstanceId || command.data.position);
        if (!asserted) {
            const err = Error('Invalid RemoveDynamicComponentCommand arguments');
            err.type = _dynamic_component_events_enum__WEBPACK_IMPORTED_MODULE_4__["DynamicComponentEventsEnum"].INVALID_DYNAMIC_COMPONENT_ARGUMENTS_EVENT;
            throw err;
        }
    }
    addDynamicComponentCommandHandler(command) {
        const { position, viewportId, componentInstanceId } = command.data;
        let replaced = false;
        for (let i = 0; i < this.dynamicComponents.length; i++) {
            const comp = this.dynamicComponents[i];
            if (comp.componentInstanceId !== componentInstanceId &&
                (viewportId == null || comp.viewportId === viewportId) &&
                comp.position === position) {
                // dynamicComponents hold old component and we like to change only the relevant new one.
                // It means that it must match the position + viewportId (or null) + different instance id
                this.dynamicComponents.splice(i, 1, command.data);
                replaced = true;
            }
        }
        if (!replaced) {
            // Only if it is a new position on new viewport we like to push instead of replace
            this.dynamicComponents.push(command.data);
        }
        this.eventsManagerService.buildAndSendEvent(_dynamic_component_events_enum__WEBPACK_IMPORTED_MODULE_4__["DynamicComponentEventsEnum"].ADD_DYNAMIC_COMPONENT_SUCCEED_EVENT, 'Component added successfully', command);
    }
    removeDynamicComponentCommandHandler(command) {
        const position = command.data.position;
        const componentInstanceId = command.data.componentInstanceId;
        command.data.componentResolver = null;
        for (let i = 0; i < this.dynamicComponents.length; i++) {
            const comp = this.dynamicComponents[i];
            if (comp.componentInstanceId === componentInstanceId || comp.position === position) {
                this.dynamicComponents.splice(i, 1, command.data);
            }
        }
    }
}
DynamicComponentsCommandsEntryService.commandsList = [_models_add_dynamic_component_command__WEBPACK_IMPORTED_MODULE_3__["AddDynamicComponentCommand"], _models_remove_dynamic_component_command__WEBPACK_IMPORTED_MODULE_5__["RemoveDynamicComponentCommand"]];
DynamicComponentsCommandsEntryService.ɵfac = function DynamicComponentsCommandsEntryService_Factory(t) { return new (t || DynamicComponentsCommandsEntryService)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_events_manager_events_manager_service__WEBPACK_IMPORTED_MODULE_6__["EventsManagerService"])); };
DynamicComponentsCommandsEntryService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: DynamicComponentsCommandsEntryService, factory: DynamicComponentsCommandsEntryService.ɵfac, providedIn: 'root' });
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(yassi__WEBPACK_IMPORTED_MODULE_1__["yassit"])('dynamicComponents')
], DynamicComponentsCommandsEntryService.prototype, "dynamicComponents", void 0);
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵsetClassMetadata"](DynamicComponentsCommandsEntryService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _events_manager_events_manager_service__WEBPACK_IMPORTED_MODULE_6__["EventsManagerService"] }]; }, { dynamicComponents: [] }); })();
const createDynamicComponentCommandsValidators = (binder) => {
    const commandValidatorMap = new Map();
    commandValidatorMap.set(_models_add_dynamic_component_command__WEBPACK_IMPORTED_MODULE_3__["AddDynamicComponentCommand"], binder.addDynamicComponentCommandValidator.bind(binder));
    commandValidatorMap.set(_models_remove_dynamic_component_command__WEBPACK_IMPORTED_MODULE_5__["RemoveDynamicComponentCommand"], binder.removeDynamicComponentCommandValidator.bind(binder));
    return commandValidatorMap;
};
const createDynamicComponentCommandsHandlers = (binder) => {
    const handlerCommandMap = new Map();
    handlerCommandMap.set(_models_add_dynamic_component_command__WEBPACK_IMPORTED_MODULE_3__["AddDynamicComponentCommand"], binder.addDynamicComponentCommandHandler.bind(binder));
    handlerCommandMap.set(_models_remove_dynamic_component_command__WEBPACK_IMPORTED_MODULE_5__["RemoveDynamicComponentCommand"], binder.removeDynamicComponentCommandHandler.bind(binder));
    return handlerCommandMap;
};


/***/ }),

/***/ "H6th":
/*!*********************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules/core/core-commands-events.enum.ts ***!
  \*********************************************************************************/
/*! exports provided: CoreCommandsEventsEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CoreCommandsEventsEnum", function() { return CoreCommandsEventsEnum; });
var CoreCommandsEventsEnum;
(function (CoreCommandsEventsEnum) {
    CoreCommandsEventsEnum["INVALID_CORE_COMMAND_ARGUMENTS_EVENT"] = "INVALID_CORE_COMMAND_ARGUMENTS_EVENT";
    CoreCommandsEventsEnum["INVALID_ADD_ANNOTATION_COMMAND_ARGUMENTS_EVENT"] = "INVALID_ADD_ANNOTATION_COMMAND_ARGUMENTS_EVENT";
    CoreCommandsEventsEnum["INVALID_REMOVE_ANNOTATION_COMMAND_ARGUMENTS_EVENT"] = "INVALID_REMOVE_ANNOTATION_COMMAND_ARGUMENTS_EVENT";
    CoreCommandsEventsEnum["INVALID_SHOW_HIDE_ANNOTATION_COMMAND_ARGUMENTS_EVENT"] = "INVALID_SHOW_HIDE_ANNOTATION_COMMAND_ARGUMENTS_EVENT";
    CoreCommandsEventsEnum["ADD_ANNOTATION_SUCCESS_EVENT"] = "ADD_ANNOTATION_SUCCESS_EVENT";
    CoreCommandsEventsEnum["ADD_ANNOTATION_FAILED_EVENT"] = "ADD_ANNOTATION_FAILED_EVENT";
    CoreCommandsEventsEnum["ANNOTATION_COMPLETE_EVENT"] = "ANNOTATION_COMPLETE_EVENT";
    CoreCommandsEventsEnum["ANNOTATION_ADDED_EVENT"] = "ANNOTATION_ADDED_EVENT";
    CoreCommandsEventsEnum["ANNOTATION_MODIFIED_EVENT"] = "ANNOTATION_MODIFIED_EVENT";
    CoreCommandsEventsEnum["ANNOTATION_REMOVED_EVENT"] = "ANNOTATION_REMOVED_EVENT";
    CoreCommandsEventsEnum["ANNOTATION_REMOVED_SUCCESS_EVENT"] = "ANNOTATION_REMOVED_SUCCESS_EVENT";
    CoreCommandsEventsEnum["ANNOTATION_CLEAR_ALL_SUCCESS_EVENT"] = "ANNOTATION_CLEAR_ALL_SUCCESS_EVENT";
    CoreCommandsEventsEnum["ANNOTATION_SHOW_SUCCESS_EVENT"] = "ANNOTATION_SHOW_SUCCESS_EVENT";
    CoreCommandsEventsEnum["ANNOTATION_HIDE_SUCCESS_EVENT"] = "ANNOTATION_HIDE_SUCCESS_EVENT";
    CoreCommandsEventsEnum["ANNOTATION_SHOW_FAILED_EVENT"] = "ANNOTATION_SHOW_FAILED_EVENT";
    CoreCommandsEventsEnum["ANNOTATION_HIDE_FAILED_EVENT"] = "ANNOTATION_HIDE_FAILED_EVENT";
    CoreCommandsEventsEnum["IMAGE_CHANGED_EVENT"] = "IMAGE_CHANGED_EVENT";
    CoreCommandsEventsEnum["IMAGE_LOADED_EVENT"] = "IMAGE_LOADED_EVENT";
    CoreCommandsEventsEnum["VIEWER_TO_GEOJSON_DATA_TRANSFORM_EVENT"] = "VIEWER_TO_GEOJSON_DATA_TRANSFORM_EVENT";
})(CoreCommandsEventsEnum || (CoreCommandsEventsEnum = {}));


/***/ }),

/***/ "HYgU":
/*!*********************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules/dynamic-component/dynamic-component.module.ts ***!
  \*********************************************************************************************/
/*! exports provided: DynamicComponentModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DynamicComponentModule", function() { return DynamicComponentModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "SVse");



class DynamicComponentModule {
}
DynamicComponentModule.ɵfac = function DynamicComponentModule_Factory(t) { return new (t || DynamicComponentModule)(); };
DynamicComponentModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: DynamicComponentModule });
DynamicComponentModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ providers: [], imports: [[_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](DynamicComponentModule, { imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]] }); })();
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DynamicComponentModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                declarations: [],
                imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]],
                providers: [],
            }]
    }], null, null); })();


/***/ }),

/***/ "Hl9B":
/*!********************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/events-manager/events-manager.service.ts ***!
  \********************************************************************************/
/*! exports provided: EventsManagerService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EventsManagerService", function() { return EventsManagerService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _image_viewer_services_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../image-viewer/services/image-viewer-events.service */ "QgyW");





class EventsManagerService {
    constructor(imageViewerEventService) {
        this.imageViewerEventService = imageViewerEventService;
        this.commandsTrackers = {};
        this.eventSubscribers = {};
    }
    getCommandTracker(cycleId) {
        if (!cycleId) {
            throw new Error('Invalid cycleId. Must be a valid non empty string');
        }
        if (!this.commandsTrackers[cycleId]) {
            this.commandsTrackers[cycleId] = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        }
        // TODO: need to know when to clean command's trackers that where not completed somehow??? Should it be timer???
        return this.commandsTrackers[cycleId].asObservable();
    }
    buildEvent(eventType, message, command, payload) {
        return {
            cycleId: command ? command.cycleId : null,
            type: eventType,
            command,
            message,
            payload,
        };
    }
    sendErrorEvent(event) {
        this._sendEvent(event, true);
    }
    sendEvent(event) {
        this._sendEvent(event);
    }
    buildAndSendEvent(eventType, message, command, payload) {
        this.sendEvent(this.buildEvent(eventType, message, command, payload));
    }
    trackEventsByMultipleTypes(eventTypes) {
        if (!eventTypes || eventTypes.length === 0) {
            return null;
        }
        const subs = [];
        for (const eventT of eventTypes) {
            if (!this.eventSubscribers[eventT]) {
                this.eventSubscribers[eventT] = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
            }
            subs.push(this.eventSubscribers[eventT]);
        }
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["merge"])(...subs).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])((res) => res));
    }
    trackEventsByType(eventType) {
        if (!eventType) {
            return null;
        }
        if (!this.eventSubscribers[eventType]) {
            this.eventSubscribers[eventType] = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        }
        return this.eventSubscribers[eventType].asObservable();
    }
    trackEventsByCycleId(cycleId) {
        return this.commandsTrackers[cycleId];
    }
    completeCycle(cycleId) {
        const stream = this.commandsTrackers[cycleId];
        if (stream) {
            stream.complete();
            delete this.commandsTrackers[cycleId];
        }
    }
    buildAnnotationCompleteEventFromMouseEvent(event, tool, annotationId, toolName) {
        const evt = {
            detail: {
                element: event.target,
                measurementData: tool,
                toolName,
                toolType: toolName,
            },
            type: "MEASUREMENT_COMPLETED" /* MEASUREMENT_COMPLETED */,
            viewport: event.detail.viewport,
            stack: {
                imageUrl: this.imageViewerEventService.imageIdToUrl(event.detail.image.imageId),
            },
        };
        return evt;
    }
    _sendEvent(event, isError = false) {
        const tracker$ = this.commandsTrackers[event.cycleId]; // This come from the command
        const eventSubscriber$ = this.eventSubscribers[event.type]; // This is generic allowing anyone to subscribe
        if (tracker$) {
            if (isError) {
                tracker$.error(event.payload);
            }
            else {
                tracker$.next(event);
            }
        }
        if (eventSubscriber$) {
            if (isError) {
                eventSubscriber$.error(event.payload);
            }
            else {
                eventSubscriber$.next(event);
            }
        }
    }
}
EventsManagerService.ɵfac = function EventsManagerService_Factory(t) { return new (t || EventsManagerService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_image_viewer_services_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_3__["ImageViewerEventsService"])); };
EventsManagerService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: EventsManagerService, factory: EventsManagerService.ɵfac, providedIn: 'root' });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](EventsManagerService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _image_viewer_services_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_3__["ImageViewerEventsService"] }]; }, null); })();


/***/ }),

/***/ "IDrQ":
/*!****************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/shared/enums/tag-type.enum.ts ***!
  \****************************************************************************/
/*! exports provided: TagTypeEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TagTypeEnum", function() { return TagTypeEnum; });
var TagTypeEnum;
(function (TagTypeEnum) {
    TagTypeEnum["GEOMETRY"] = "GEOMETRY";
    TagTypeEnum["OVERLAY"] = "OVERLAY";
    TagTypeEnum["TEXT"] = "TEXT";
})(TagTypeEnum || (TagTypeEnum = {}));


/***/ }),

/***/ "INls":
/*!*********************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/shared/pipes/group-by.pipe.ts ***!
  \*********************************************************************/
/*! exports provided: GroupByPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupByPipe", function() { return GroupByPipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");


class GroupByPipe {
    transform(collection, property) {
        // prevents the application from breaking if the array of objects doesn't exist yet
        if (!collection) {
            return null;
        }
        const groupedCollection = collection.reduce((previous, current) => {
            if (!previous[current[property]]) {
                previous[current[property]] = [current];
            }
            else {
                previous[current[property]].push(current);
            }
            return previous;
        }, {});
        // this will return an array of objects, each object containing a group of objects
        return Object.keys(groupedCollection).map((key) => ({
            key,
            value: groupedCollection[key],
        }));
    }
}
GroupByPipe.ɵfac = function GroupByPipe_Factory(t) { return new (t || GroupByPipe)(); };
GroupByPipe.ɵpipe = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefinePipe"]({ name: "groupBy", type: GroupByPipe, pure: true });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](GroupByPipe, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"],
        args: [{ name: 'groupBy' }]
    }], null, null); })();


/***/ }),

/***/ "IjAf":
/*!*************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/shared/enums/tools.enum.ts ***!
  \*************************************************************************/
/*! exports provided: ToolsEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToolsEnum", function() { return ToolsEnum; });
var ToolsEnum;
(function (ToolsEnum) {
    ToolsEnum["FULLSCREEN"] = "FULLSCREEN";
    ToolsEnum["KEYBOARD_SHORTCUTS"] = "KEYBOARD_SHORTCUTS";
    ToolsEnum["DICOM_TAGS"] = "DICOM_TAGS";
    ToolsEnum["UNDO"] = "UNDO";
    ToolsEnum["REDO"] = "REDO";
    ToolsEnum["PAN"] = "PAN";
    ToolsEnum["ZOOM"] = "ZOOM";
    ToolsEnum["ZOOM_TO_CENTER"] = "ZOOM_TO_CENTER";
    ToolsEnum["ZOOM_TO_CURSOR"] = "ZOOM_TO_CURSOR";
    ToolsEnum["ZOOM_ROI"] = "ZOOM_ROI";
    ToolsEnum["RESET"] = "RESET";
    ToolsEnum["WINDOW"] = "WINDOW";
    ToolsEnum["WWWC"] = "WWWC";
    ToolsEnum["INVERT"] = "INVERT";
    ToolsEnum["FILTERS"] = "FILTERS";
    ToolsEnum["CINE"] = "CINE";
    ToolsEnum["CINE_PLAY"] = "CINE_PLAY";
    ToolsEnum["CINE_STOP"] = "CINE_STOP";
    ToolsEnum["SCROLL_BY"] = "SCROLL_BY";
    ToolsEnum["LINK"] = "LINK";
    ToolsEnum["PIXEL_PROB"] = "PIXEL_PROB";
    ToolsEnum["PIXEL_PROB_ROI"] = "PIXEL_PROB_ROI";
    ToolsEnum["ERASE"] = "ERASE";
    ToolsEnum["ERASE_ROI"] = "ERASE_ROI";
    ToolsEnum["L_ROTATE"] = "L_ROTATE";
    ToolsEnum["R_ROTATE"] = "R_ROTATE";
    ToolsEnum["H_FLIP"] = "H_FLIP";
    ToolsEnum["V_FLIP"] = "V_FLIP";
    ToolsEnum["COPY_OVER"] = "COPY_OVER";
    ToolsEnum["ADD_LABEL"] = "ADD_LABEL";
    ToolsEnum["GROUP_TAGS"] = "GROUP_TAGS";
    ToolsEnum["HIDE_ANNOTATIONS"] = "HIDE_ANNOTATIONS";
    ToolsEnum["HIDE_ANNOTATION_TEXT_BOX"] = "HIDE_ANNOTATION_TEXT_BOX";
    ToolsEnum["HIDE_DICOM_INFO"] = "HIDE_DICOM_INFO";
    ToolsEnum["COMMENT"] = "COMMENT";
    ToolsEnum["GRID"] = "GRID";
    // Annotation
    ToolsEnum["ANGLE"] = "ANGLE";
    ToolsEnum["LENGTH"] = "LENGTH";
    ToolsEnum["PROBE"] = "PROBE";
    ToolsEnum["POLYGON"] = "POLYGON";
    ToolsEnum["ARROW"] = "ARROW";
    ToolsEnum["ELLIPTICAL_ROI"] = "ELLIPTICAL_ROI";
    ToolsEnum["CIRCLE_ROI"] = "CIRCLE_ROI";
    ToolsEnum["RECTANGLE_ROI"] = "RECTANGLE_ROI";
    ToolsEnum["AGATSTON_SCORE"] = "AGATSTON_SCORE";
})(ToolsEnum || (ToolsEnum = {}));


/***/ }),

/***/ "J913":
/*!*******************************************************************!*\
  !*** ./projects/zebra-viewer/src/config/window.presets.config.ts ***!
  \*******************************************************************/
/*! exports provided: presets */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "presets", function() { return presets; });
const presets = [
    { width: 350, center: 40, name: 'Abdomen/Pelvis [350,40]' },
    { width: 2500, center: 480, name: 'Bone [2500,480]' },
    { width: 80, center: 40, name: 'Brain [80,40]' },
    { width: 650, center: 50, name: 'CTA [650,50]' },
    { width: 700, center: 50, name: 'Kidney [700,50]' },
    { width: 120, center: 70, name: 'Liver [120,70]' },
    { width: 1500, center: -500, name: 'Lung [1500,-500]' },
    { width: 4000, center: 40, name: 'Mediastinum/Chest [4000,40]' },
    { width: 880, center: 110, name: 'Myelogram [880,110]' },
    { width: 350, center: 20, name: 'Neck [350,20]' },
    { width: 2000, center: 100, name: 'Sinus [2000,100]' },
    { width: 50, center: 40, name: 'Stroke [50,40]' },
    { width: 350, center: 90, name: 'Subdural [350,90]' },
];


/***/ }),

/***/ "JaTW":
/*!***********************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules/core/image-utilities.ts ***!
  \***********************************************************************/
/*! exports provided: ImageUtilities */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageUtilities", function() { return ImageUtilities; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _shared_enums_geometry_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/enums/geometry-types.enum */ "SnOk");
/* harmony import */ var _editor_services_geo_translation_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../editor/services/geo-translation.service */ "vW8T");




class ImageUtilities {
    constructor(geoTranslationService) {
        this.geoTranslationService = geoTranslationService;
    }
    translateData(data, toType = _shared_enums_geometry_types_enum__WEBPACK_IMPORTED_MODULE_1__["GeometryTypeEnum"].CORNERSTONE) {
        if (data.payloadType === toType) {
            return data;
        }
        switch (toType) {
            case _shared_enums_geometry_types_enum__WEBPACK_IMPORTED_MODULE_1__["GeometryTypeEnum"].GEOJSON:
                return this.geoTranslationService.getAsGeoJson(data.payload);
                break;
            case _shared_enums_geometry_types_enum__WEBPACK_IMPORTED_MODULE_1__["GeometryTypeEnum"].CORNERSTONE:
                return this.geoTranslationService.getAsCornerstone(data.payload);
            default:
                throw new Error(`Cannot translate data of type: ${toType}`);
        }
    }
}
ImageUtilities.ɵfac = function ImageUtilities_Factory(t) { return new (t || ImageUtilities)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_editor_services_geo_translation_service__WEBPACK_IMPORTED_MODULE_2__["GeoTranslationService"])); };
ImageUtilities.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ImageUtilities, factory: ImageUtilities.ɵfac, providedIn: 'root' });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ImageUtilities, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _editor_services_geo_translation_service__WEBPACK_IMPORTED_MODULE_2__["GeoTranslationService"] }]; }, null); })();


/***/ }),

/***/ "KF7n":
/*!********************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/config/tools-handlers/dicom-tags/dicom-tags.component.ts ***!
  \********************************************************************************************/
/*! exports provided: DicomTagsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DicomTagsComponent", function() { return DicomTagsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/table */ "OaSA");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/form-field */ "Q2Ze");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/input */ "e6WT");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/button */ "Dxy4");
/* harmony import */ var ngx_clipboard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ngx-clipboard */ "IbkX");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/icon */ "Tj54");









function DicomTagsComponent_th_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Key");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function DicomTagsComponent_td_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const element_r10 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](element_r10.key);
} }
function DicomTagsComponent_th_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Name");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function DicomTagsComponent_td_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const element_r11 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](element_r11.name);
} }
function DicomTagsComponent_th_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Value");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function DicomTagsComponent_td_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const element_r12 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](element_r12.value);
} }
function DicomTagsComponent_th_13_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Copy");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function DicomTagsComponent_td_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "button", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "mat-icon", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const element_r13 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("cbContent", element_r13.value);
} }
function DicomTagsComponent_tr_15_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "tr", 14);
} }
function DicomTagsComponent_tr_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "tr", 15);
} }
class DicomTagsComponent {
    constructor() {
        this.done = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.displayedColumns = ['key', 'name', 'value', 'copy'];
    }
    ngOnChanges() {
        if (!this.dataSource) {
            this.initDataSource();
        }
        this.dataSource.data = this.dicomTags;
    }
    ngOnDestroy() {
        this.done.complete();
    }
    applyFilter(filterValue) {
        this.dataSource.filter = filterValue.trim().toLowerCase();
    }
    initDataSource() {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_1__["MatTableDataSource"](this.dicomTags);
    }
}
DicomTagsComponent.ɵfac = function DicomTagsComponent_Factory(t) { return new (t || DicomTagsComponent)(); };
DicomTagsComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: DicomTagsComponent, selectors: [["zebra-viewer-dicom-tags"]], inputs: { dicomTags: "dicomTags" }, outputs: { done: "done" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 17, vars: 4, consts: [["matInput", "", "placeholder", "Filter", "id", "dicom-tag", "autocomplete", "off", 3, "keyup"], ["mat-table", "", 1, "mat-elevation-z8", 3, "dataSource"], ["matColumnDef", "key"], ["mat-header-cell", "", 4, "matHeaderCellDef"], ["mat-cell", "", 4, "matCellDef"], ["matColumnDef", "name"], ["matColumnDef", "value"], ["matColumnDef", "copy"], ["mat-header-row", "", 4, "matHeaderRowDef", "matHeaderRowDefSticky"], ["mat-row", "", 4, "matRowDef", "matRowDefColumns"], ["mat-header-cell", ""], ["mat-cell", ""], ["mat-icon-button", "", "ngxClipboard", "", 3, "cbContent"], ["svgIcon", "copy_to_clipboard", 1, "material-icons"], ["mat-header-row", ""], ["mat-row", ""]], template: function DicomTagsComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-form-field");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "input", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("keyup", function DicomTagsComponent_Template_input_keyup_1_listener($event) { return ctx.applyFilter($event.target.value); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "table", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](3, 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, DicomTagsComponent_th_4_Template, 2, 0, "th", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, DicomTagsComponent_td_5_Template, 2, 1, "td", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](6, 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, DicomTagsComponent_th_7_Template, 2, 0, "th", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, DicomTagsComponent_td_8_Template, 2, 1, "td", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](9, 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, DicomTagsComponent_th_10_Template, 2, 0, "th", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, DicomTagsComponent_td_11_Template, 2, 1, "td", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](12, 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](13, DicomTagsComponent_th_13_Template, 2, 0, "th", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](14, DicomTagsComponent_td_14_Template, 3, 1, "td", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](15, DicomTagsComponent_tr_15_Template, 1, 0, "tr", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](16, DicomTagsComponent_tr_16_Template, 1, 0, "tr", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("dataSource", ctx.dataSource);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matHeaderRowDef", ctx.displayedColumns)("matHeaderRowDefSticky", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matRowDefColumns", ctx.displayedColumns);
    } }, directives: [_angular_material_form_field__WEBPACK_IMPORTED_MODULE_2__["MatFormField"], _angular_material_input__WEBPACK_IMPORTED_MODULE_3__["MatInput"], _angular_material_table__WEBPACK_IMPORTED_MODULE_1__["MatTable"], _angular_material_table__WEBPACK_IMPORTED_MODULE_1__["MatColumnDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_1__["MatHeaderCellDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_1__["MatCellDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_1__["MatHeaderRowDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_1__["MatRowDef"], _angular_material_table__WEBPACK_IMPORTED_MODULE_1__["MatHeaderCell"], _angular_material_table__WEBPACK_IMPORTED_MODULE_1__["MatCell"], _angular_material_button__WEBPACK_IMPORTED_MODULE_4__["MatButton"], ngx_clipboard__WEBPACK_IMPORTED_MODULE_5__["ClipboardDirective"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_6__["MatIcon"], _angular_material_table__WEBPACK_IMPORTED_MODULE_1__["MatHeaderRow"], _angular_material_table__WEBPACK_IMPORTED_MODULE_1__["MatRow"]], styles: ["[_nghost-%COMP%] {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\ntable[_ngcontent-%COMP%] {\n  width: 100%;\n}\n\ntable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  font-size: 11px;\n}\n\n.mat-form-field[_ngcontent-%COMP%] {\n  font-size: 12px;\n  width: 100%;\n}\n\ntd.mat-cell[_ngcontent-%COMP%]:first-of-type {\n  width: 20%;\n  padding-left: 5px;\n}\n\ntd.mat-column-value[_ngcontent-%COMP%] {\n  max-width: 300px;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2RpY29tLXRhZ3MuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDQyxXQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7QUFERDs7QUFJQTtFQUNDLFdBQUE7QUFERDs7QUFFQztFQUNDLGVBQUE7QUFBRjs7QUFJQTtFQUNDLGVBQUE7RUFDQSxXQUFBO0FBREQ7O0FBSUE7RUFDQyxVQUFBO0VBQ0EsaUJBQUE7QUFERDs7QUFJQTtFQUNDLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSx1QkFBQTtBQUREIiwiZmlsZSI6ImRpY29tLXRhZ3MuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwicHJvamVjdHMvemVicmEtdmlld2VyL3NyYy9zY3NzL3ZhcmlhYmxlc1wiO1xuXG46aG9zdCB7XG5cdHdpZHRoOiAxMDAlO1xuXHRkaXNwbGF5OiBmbGV4O1xuXHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXHRhbGlnbi1pdGVtczogY2VudGVyO1xuICB9XG5cbnRhYmxlIHtcblx0d2lkdGg6IDEwMCU7XG5cdHRkIHtcblx0XHRmb250LXNpemU6IDExcHg7XG5cdH1cbn1cblxuLm1hdC1mb3JtLWZpZWxkIHtcblx0Zm9udC1zaXplOiAxMnB4O1xuXHR3aWR0aDogMTAwJTtcbn1cblxudGQubWF0LWNlbGw6Zmlyc3Qtb2YtdHlwZSB7XG5cdHdpZHRoOiAyMCU7XG5cdHBhZGRpbmctbGVmdDogNXB4O1xufVxuXG50ZC5tYXQtY29sdW1uLXZhbHVlIHtcblx0bWF4LXdpZHRoOiAzMDBweDtcblx0b3ZlcmZsb3cteDogaGlkZGVuO1xuXHR0ZXh0LW92ZXJmbG93OmVsbGlwc2lzXG59XG5cbiJdfQ== */"], changeDetection: 0 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DicomTagsComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'zebra-viewer-dicom-tags',
                templateUrl: './dicom-tags.component.html',
                styleUrls: ['./dicom-tags.component.scss'],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
            }]
    }], null, { dicomTags: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], done: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "KIfn":
/*!**********************************************************!*\
  !*** ./projects/zebra-viewer/src/config/icons.config.ts ***!
  \**********************************************************/
/*! exports provided: iconSvgSet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "iconSvgSet", function() { return iconSvgSet; });
const iconSvgSet = `
<svg version="1.1" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="zm-icon add-label" id="add_label" viewBox="0 0 27 24">
      <title>add-label</title>
      <path d="M4 8.635v-5.797c0-1.247 1.020-2.267 2.267-2.267h7.933c0.623
      0 1.19 0.249 1.598 0.657l10.2 10.2c0.408 0.408 0.669 0.986 0.669
      1.609s-0.249 1.19-0.669 1.598l-7.933 7.933c-0.408 0.419-0.975 0.669-1.598
      0.669s-1.19-0.249-1.598-0.657l-0.265-1.535v-7.744h-4.667v-4.667h-5.937zM7.967
      6.238c0.941 0 1.7-0.759 1.7-1.7s-0.759-1.7-1.7-1.7c-0.941 0-1.7 0.759-1.7 1.7s0.759
      1.7 1.7 1.7zM4.938 15.478v-4.938h2.822v4.938h4.938v2.822h-4.938v4.938h-2.822v-4.938h-4.938v-2.822h4.938z"></path>
    </svg>

    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="zm-icon angle" id="angle" viewBox="0 0 31 24">
      <title>angle</title>
      <path d="M19.517 19.715c-0.819-3.327-2.496-6.367-4.845-8.836l-6.658 8.836h11.503zM21.571
      19.715h7.929v3.464l-28.577 0.002 0.867-1.142v-0.014l0.354-0.451 16.389-21.573 2.766
      2.084-5.408 7.177c2.821 2.877 4.8 6.49 5.68 10.453z"></path>
    </svg>

    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="zm-icon zm-classification" id="classification" viewBox="0 0 24 24">
      <title>zm-classification</title>
      <path d="M22.456 11.533l-10-10c-0.4-0.4-0.956-0.644-1.567-0.644h-7.778c-1.222 0-2.222
       1-2.222 2.222v7.778c0 0.611 0.244 1.167 0.656 1.578l10 10c0.4 0.4 0.956 0.644 1.567
        0.644s1.167-0.244 1.567-0.656l7.778-7.778c0.411-0.4 0.656-0.956
        0.656-1.567s-0.256-1.178-0.656-1.578zM4.778 6.444c-0.922 0-1.667-0.744-1.667-1.667s0.744-1.667
        1.667-1.667c0.922 0 1.667 0.744 1.667 1.667s-0.744 1.667-1.667 1.667z"></path>
    </svg>

    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="zm-icon copy-over" id="copy_over" viewBox="0 0 24 24">
      <title>copy_over</title>
      <path d="M22.167 9.688c0.465 0.364 0.834 0.879 0.973 1.434s0.037 1.059-0.257 1.422l-5.512 7.054c-0.281
      0.373-0.745 0.594-1.318 0.594s-1.148-0.223-1.613-0.587l-11.637-9.092c-0.478-0.374-0.834-0.879-0.973-1.434l-1.77-7.063c-0.278-1.11
      0.43-2.017 1.575-2.016l7.281 0.009c0.572 0.001 1.148 0.223 1.613 0.587l11.637 9.092zM3.675
      4.754c0.941-0.116 1.607-0.968 1.492-1.909s-0.968-1.607-1.909-1.492c-0.941 0.116-1.607
      0.968-1.492 1.909s0.968 1.607 1.909 1.492zM5.841 23.236c-1.245 0.118-2.367-0.8-2.5-2.049l-0.692-7.217
      4.845 9.112-1.653 0.154zM8.256 20.995l-3.402-6.398 7.956 6.565-1.463 0.778c-1.11 0.59-2.501 0.165-3.091-0.945z"></path>
    </svg>

    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="zm-icon dicom-tags-off" id="dicom_tags_off" viewBox="0 0 24 24">
      <title>dicom-tags-off</title>
      <path d="M23.084 21.545l-1.538 1.538-2.182-2.182h-17.171c-1.211 0-2.182-0.971-2.182-2.182l0.011-12c0-1.211
      0.96-2.182 2.171-2.182h0.807l-3-3 1.538-1.538 21.545 21.545zM2.193 12.175v2.182h6.545v-2.182h-6.545zM2.193
      16.538v2.182h6.545v-2.182h-6.545zM15.72 11.084l-2.182-2.182h6.109v-2.182h-6.545v1.745l-3.927-3.927h10.473c1.211
      0 2.182 0.971 2.182 2.182v10.473l-3.927-3.927h1.745v-2.182h-3.927z"></path>
    </svg>

    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="zm-icon dicom-tags-on" id="dicom_tags_on" viewBox="0 0 24 24">
      <title>dicom-tags-on</title>
      <path d="M2.933 3.5h18.133c1.252 0 2.267 1.015 2.267 2.267v12.467c0 1.252-1.015 2.267-2.267 2.267h-18.133c-1.252 0-2.267-1.015-2.267-2.267v-12.467c0-1.252 1.015-2.267 2.267-2.267zM14.267 5.767v2.267h6.8v-2.267h-6.8zM14.267 10.3v2.267h6.8v-2.267h-6.8zM2.933 11.433v2.267h6.8v-2.267h-6.8zM2.933 15.967v2.267h6.8v-2.267h-6.8z"></path>
    </svg>

    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="zm-icon shape-text-off" id="shape_text_off" viewBox="0 0 24 24">
      <title>shape_text_off</title>
      <path d="M3.25 2.75l3.817 3.817 0.020 0.005 7.604 7.59 0.025 0.054 5.534 5.534-1.25 1.25-2-2h-12c-1.1 0-2-0.9-2-2v-10c0-0.55 0.23-1.050 0.59-1.41l-1.59-1.59 1.25-1.25zM8.042 10.042l-2.042 6.708h2.64l0.48-2.070h2.73l0.48 2.070h2.42l-4.065-4.065h-1.1l0.165-0.675 0.052-0.208-1.76-1.76z"></path>
      <path d="M16 5c0.67 0 1.27 0.33 1.63 0.84v0l4.37 6.16-3 4-5.994-5.994-0.916-3.006h-2.090l-2-2z"></path>
    </svg>

    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="zm-icon shape-text-on" id="shape_text_on" viewBox="0 0 24 24">
      <title>shape_text_on</title>
      <path d="M16 5c0.67 0 1.27 0.33 1.63 0.84v0l4.37 6.16-4.37 6.16c-0.36 0.51-0.96 0.84-1.63 0.84v0l-11-0.010c-1.1 0-2-0.89-2-1.99v0-10c0-1.1 0.9-1.99 2-1.99v0zM12.090 7h-3.12l-2.97 9.75h2.64l0.48-2.070h2.73l0.48 2.070h2.73l-2.97-9.75zM10.5 8.92c0.080 0.327 0.16 0.667 0.24 1.020l0.12 0.54c0.090 0.412 0.18 0.803 0.27 1.17l0.090 0.36 0.165 0.675h-1.8l0.165-0.675c0.12-0.47 0.237-0.978 0.353-1.522 0.077-0.363 0.152-0.717 0.227-1.060l0.111-0.507h0.060z"></path>
    </svg>


    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="zm-icon erase_roi" id="erase_roi" viewBox="0 0 25 24">
      <title>erase-roi</title>
      <path d="M15.875 12.862l-3.563-3.563-5.656 5.672 1.026 1.028h5.065l3.129-3.138zM13.695
      18.286h-6.962l-1.695-1.7c-0.89-0.892-0.89-2.336 0-3.228l11.701-11.734c0.891-0.894
      2.339-0.896 3.232-0.005 0.002 0.002 0.003 0.003 0.005 0.005l3.558 3.568c0.89 0.892 0.89
      2.336 0 3.228l-9.838 9.867zM8.87 6.261v2.067h-6.794v12.542h18.056v-5.742h2.179v7.829h-22.311v-16.696h8.87z"></path>
    </svg>

    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24"  class="zm-icon erase" id="erase" viewBox="0 0 28 24">
      <title>erase</title>
      <path d="M4.965 19.409h5.525l4.519-4.519-4.436-4.436-7.446 7.446 1.509 1.509h0.328zM11.357 21.5h-7.586l-2.122-2.122c-0.817-0.817-0.817-2.141 0-2.957l13.308-13.308c0.817-0.817 2.141-0.817 2.957 0l4.436 4.436c0.817 0.817 0.817 2.141 0 2.957l-8.903 8.903h9.293v2.091h-11.384z"></path>
    </svg>

    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="zm-icon" id="pixel_probe_roi" viewBox="0 0 24 24">
      <title>pixel_probe_roi</title>
      <path d="M23.73 2.441c0.362 0.362 0.362 0.946-0.009 1.317l-2.894 2.894 1.781 1.781-1.308
      1.308-1.317-1.317-8.273 8.272h-4.406v-4.405l8.273-8.272-1.317-1.317 1.308-1.308 1.79 1.771
      2.894-2.893c0.362-0.362 0.946-0.362 1.308 0l2.17 2.17zM10.94 14.841l7.475-7.475-1.781-1.781-7.475
      7.475 1.781 1.781zM8.87 6.261v2.067h-6.794v12.542h18.056v-5.742h2.179v7.829h-22.311v-16.696h8.87z"></path>
    </svg>

    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="zm-icon distance" id="ruler" viewBox="0 0 24 24">
      <title>distance</title>
      <path d="M21.818 6h-19.636c-1.2 0-2.182 0.9-2.182 2v8c0 1.1 0.982 2 2.182 2h19.636c1.2
      0 2.182-0.9 2.182-2v-8c0-1.1-0.982-2-2.182-2zM21.818
      16h-19.636v-8h2.182v4h2.182v-4h2.182v4h2.182v-4h2.182v4h2.182v-4h2.182v4h2.182v-4h2.182v8z"></path>
    </svg>

    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="zm-icon zoom-from-cursor" id="zoom_from_cursor" viewBox="0 0 24 24">
      <title>zoom-from-cursor</title>
      <path d="M18.383 12.713c-0.156 1.306-0.702 2.497-1.521 3.45l0.279 0.269h0.788l4.98
      4.99-1.487 1.487-4.99-4.98v-0.788l-0.269-0.279c-0.992 0.852-2.241 1.409-3.61 1.538l-0.009
      1.811h2.614l-3.158 3.789-3.158-3.789h2.533l0.009-1.806c-3.089-0.263-5.561-2.691-5.891-5.761l-1.703-0.009v2.523l-3.789-3.158
      3.789-3.158v2.53l1.689 0.009c0.27-3.158 2.802-5.669 5.969-5.908l0.008-1.684h-2.614l3.158-3.789
      3.158 3.789h-2.533l-0.008 1.7c3.104 0.321 5.558 2.831 5.793 5.96l1.801
      0.010v-2.617l3.789 3.158-3.789 3.158v-2.435l-1.828-0.010zM11.393 16.399l0.018-3.724-3.905-0.021c0.312
      1.967 1.897 3.504 3.887 3.745zM7.484 11.391l3.934 0.021 0.019-3.934c-2.066 0.229-3.704 1.854-3.954
      3.913zM12.607 7.499l-0.019 3.919 3.817 0.020c-0.225-2.028-1.793-3.643-3.798-3.94zM16.368
      12.702l-3.787-0.020-0.018 3.708c1.94-0.267 3.479-1.768 3.805-3.688z"></path>
    </svg>

    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="zm-icon zoom-roi" id="zoom_roi" viewBox="0 0 24 24">
      <title>zoom-roi</title>
      <path d="M18.012 6.261v2.067h3.366v12.542h-18.056v-3.457h-2.179v5.544h22.311v-16.696h-5.441zM13.069
      11.5h-0.826l-0.293-0.282c1.025-1.192 1.641-2.739 1.641-4.422 0-3.753-3.042-6.796-6.796-6.796s-6.796
      3.042-6.796 6.796c0 3.753 3.042 6.796 6.796 6.796 1.683 0 3.231-0.617 4.422-1.641l0.282
      0.293v0.826l5.227 5.217 1.558-1.558-5.217-5.227zM6.796 11.5c-2.603 0-4.705-2.101-4.705-4.705s2.101-4.705
      4.705-4.705c2.603 0 4.705 2.101 4.705 4.705s-2.101 4.705-4.705 4.705zM4.571
      7.314h1.829v1.829h0.914v-1.829h1.829v-0.914h-1.829v-1.829h-0.914v1.829h-1.829v0.914z"></path>
    </svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" id="flip_vertical" style="transform:rotate(90deg)">
      <path d="M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2
      .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4
      8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"/><path d="M0 0h24v24H0z" fill="none"/>
    </svg>

    <symbol id="zm-segmentation" viewBox="0 0 24 24">
      <title>zm-segmentation</title>
      <path d="M12 0l9.382 4.518 2.317 10.152-6.493 8.141h-10.413l-6.493-8.141 2.317-10.152z"></path>
    </symbol>
    <symbol id="zm-measurement" viewBox="0 0 24 24">
      <title>zm-measurement</title>
      <path d="M21.367 12.733l-2.753 2.952 0.738 0.688 2.753-2.952 0.597 0.557c0.893 0.833 0.942 2.231 0.109 3.124l-5.243 5.623c-0.833 0.893-2.231 0.942-3.124 0.109l-13.741-12.814c-0.893-0.833-0.942-2.231-0.109-3.124l5.243-5.623c0.833-0.893 2.231-0.942 3.124-0.109l0.597 0.557-2.753 2.952 0.738 0.688 2.753-2.952 2.214 2.065-2.753 2.952 0.738 0.688 2.753-2.952 2.214 2.065-2.753 2.952 0.738 0.688 2.753-2.952 2.214 2.065-2.753 2.952 0.738 0.688 2.753-2.952 2.214 2.065z"></path>
    </symbol>
    <symbol id="zm-classification" viewBox="0 0 24 24">
      <title>zm-classification</title>
      <path d="M22.456 11.533l-10-10c-0.4-0.4-0.956-0.644-1.567-0.644h-7.778c-1.222 0-2.222 1-2.222 2.222v7.778c0 0.611 0.244 1.167 0.656 1.578l10 10c0.4 0.4 0.956 0.644 1.567 0.644s1.167-0.244 1.567-0.656l7.778-7.778c0.411-0.4 0.656-0.956 0.656-1.567s-0.256-1.178-0.656-1.578zM4.778 6.444c-0.922 0-1.667-0.744-1.667-1.667s0.744-1.667 1.667-1.667c0.922 0 1.667 0.744 1.667 1.667s-0.744 1.667-1.667 1.667z"></path>
      </symbol>
    <symbol id="zm-detection" viewBox="0 0 24 24">
      <title>zm-detection</title>
      <path d="M0 2.667h2.667v-2.667c-1.467 0-2.667 1.2-2.667 2.667zM0 13.333h2.667v-2.667h-2.667v2.667zM5.333 24h2.667v-2.667h-2.667v2.667zM0 8h2.667v-2.667h-2.667v2.667zM13.333 0h-2.667v2.667h2.667v-2.667zM21.333 0v2.667h2.667c0-1.467-1.2-2.667-2.667-2.667zM2.667 24v-2.667h-2.667c0 1.467 1.2 2.667 2.667 2.667zM0 18.667h2.667v-2.667h-2.667v2.667zM8 0h-2.667v2.667h2.667v-2.667zM10.667 24h2.667v-2.667h-2.667v2.667zM21.333 13.333h2.667v-2.667h-2.667v2.667zM21.333 24c1.467 0 2.667-1.2 2.667-2.667h-2.667v2.667zM21.333 8h2.667v-2.667h-2.667v2.667zM21.333 18.667h2.667v-2.667h-2.667v2.667zM16 24h2.667v-2.667h-2.667v2.667zM16 2.667h2.667v-2.667h-2.667v2.667zM5.333 18.667h13.333v-13.333h-13.333v13.333z"></path>
    </symbol>
    <symbol id="polygon" viewBox="0 0 24 24">
    <title>polygon</title>
    <path d="M12 3.236l-9.286 6.747 3.547 10.916h11.478l3.547-10.916-9.286-6.747zM23.637 9.219l-4.445 13.68h-14.384l-4.445-13.68 11.637-8.455 11.637 8.455z"></path>
    </symbol>
    <symbol id="elipse" viewBox="0 0 24 24">
    <title>elipse</title>
    <path d="M12 0c-6.624 0-12 5.376-12 12s5.376 12 12 12c6.624 0 12-5.376 12-12s-5.376-12-12-12zM12 21.6c-5.304 0-9.6-4.296-9.6-9.6s4.296-9.6 9.6-9.6c5.304 0 9.6 4.296 9.6 9.6s-4.296 9.6-9.6 9.6z"></path>
    </symbol>
    <symbol id="boundbox" viewBox="0 0 24 24">
    <title>boundbox</title>
    <path d="M3 11v-4.75h9v4.75h10v-8h-20v8h1zM5 11h5v-2.75h-5v2.75zM12 13v10h-9v-10h-3v-12h24v12h-12zM10 13h-5v8h5v-8z"></path>
	</symbol>
	
	<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="copy_to_clipboard"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>

	<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="agatston" aria-hidden="true"  style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" viewBox="0 0 24 24"><path d="M14 11h-1v-1a1 1 0 0 0-2 0v1h-1a1 1 0 0 0 0 2h1v1a1 1 0 0 0 2 0v-1h1a1 1 0 0 0 0-2zm6.16-6A6.29 6.29 0 0 0 12 4.41a6.27 6.27 0 0 0-8.16 9.48l6 6.05a3 3 0 0 0 4.24 0l6-6.05A6.27 6.27 0 0 0 20.16 5zm-1.41 7.46l-6 6a1 1 0 0 1-1.42 0l-6-6a4.29 4.29 0 0 1 0-6a4.27 4.27 0 0 1 6 0a1 1 0 0 0 1.42 0a4.27 4.27 0 0 1 6 0a4.29 4.29 0 0 1 0 6.02z"/></svg>
  </defs>
</svg>
`;


/***/ }),

/***/ "KlcW":
/*!**********************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/services/tag.service.ts ***!
  \**********************************************************************/
/*! exports provided: TagService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TagService", function() { return TagService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _shared_enums_tag_type_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../shared/enums/tag-type.enum */ "IDrQ");
/* harmony import */ var _shared_enums_tag_actions_enum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../shared/enums/tag-actions.enum */ "w4/a");
/* harmony import */ var _image_viewer_services_image_viewer_segmentation_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../image-viewer/services/image-viewer-segmentation.service */ "k2Bx");
/* harmony import */ var _image_viewer_services_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../image-viewer/services/image-viewer-events.service */ "QgyW");
/* harmony import */ var _image_viewer_services_image_viewer_actions_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../image-viewer/services/image-viewer-actions.service */ "aLsl");
/* harmony import */ var _geo_translation_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./geo-translation.service */ "vW8T");
/* harmony import */ var _image_viewer_services_overlay_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../image-viewer/services/overlay.service */ "shYO");











class TagService {
    constructor(imageViewerSegmentationService, imageViewerEventsService, imageViewerActionsService, geoTranslationService, overlayService) {
        this.imageViewerSegmentationService = imageViewerSegmentationService;
        this.imageViewerEventsService = imageViewerEventsService;
        this.imageViewerActionsService = imageViewerActionsService;
        this.geoTranslationService = geoTranslationService;
        this.overlayService = overlayService;
        this.tagAction$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.tagUpdate$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.tagDelete$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.tagActive$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.viewportsWithPendingTags$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"]({});
        this.unsubscribe$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.tags = [];
        this.dicomImagesIds = {};
        this.cleanAndResetTagsByScope();
        this.imageViewerEventsService.viewerChange$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["takeUntil"])(this.unsubscribe$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["filter"])((event) => event.type === "IMAGE_LOADED" /* IMAGE_LOADED */))
            .subscribe(this.handleImageCacheChanged.bind(this));
        this.imageViewerSegmentationService.measurementDeleted$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["takeUntil"])(this.unsubscribe$))
            .subscribe(this.handleMeasurementDeleted.bind(this));
        this.imageViewerSegmentationService.measurementModifiedCompleted$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["takeUntil"])(this.unsubscribe$))
            .subscribe(this.handleMeasurementModified.bind(this));
    }
    getTags() {
        return this.tags;
    }
    getTags$(scope, id) {
        if (!this.tagsByScope[scope][id]) {
            this.tagsByScope[scope][id] = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"]([]);
        }
        return this.tagsByScope[scope][id];
    }
    setTags(tags) {
        const newTags = this.convertGeoJsonToCornerstone(this.sortTagsByDateDesc(tags));
        // const oldTags = this.tags;
        this.tags = newTags;
        // this.syncTagsMeasurements(oldTags, newTags);
        // this.syncTagsOverlays(oldTags, newTags);
        this.setTagsToScope(tags);
    }
    setTagsToScope(tags) {
        const tagsByScope = {
            ["STUDY" /* STUDY */]: {},
            ["SERIES" /* SERIES */]: {},
            ["IMAGE" /* IMAGE */]: {},
        };
        for (const tag of tags) {
            const { studyInstanceUID, seriesInstanceUID, sopInstanceUID } = tag.dataIdentifiers || {};
            let id;
            switch (tag.scope) {
                case "STUDY" /* STUDY */:
                    id = studyInstanceUID;
                    break;
                case "SERIES" /* SERIES */:
                    id = seriesInstanceUID;
                    break;
                case "IMAGE" /* IMAGE */:
                    id = sopInstanceUID;
                    break;
            }
            if (id) {
                if (!tagsByScope[tag.scope][id]) {
                    tagsByScope[tag.scope][id] = [];
                }
                tagsByScope[tag.scope][id].push(tag);
            }
        }
        for (const [scope, items] of Object.entries(tagsByScope)) {
            for (const [id, curTags] of Object.entries(items)) {
                if (!this.tagsByScope[scope][id]) {
                    this.tagsByScope[scope][id] = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"]([]);
                }
                this.tagsByScope[scope][id].next(curTags);
            }
        }
        // Remove items from state's tagsByScope that are not present in the new one
        for (const [scope, items] of Object.entries(this.tagsByScope)) {
            for (const [id, tags$] of Object.entries(items)) {
                if (!tagsByScope[scope][id]) {
                    tags$.next([]);
                }
            }
        }
    }
    ngOnDestroy() {
        this.unsubscribe$.next();
        this.unsubscribe$.complete();
    }
    getTagMeasurement(tag) {
        return tag.value;
    }
    onTagAction(event) {
        this.tagAction$.next(event);
    }
    deleteTag(tag) {
        if (this.activeTag && this.activeTag.id === tag.id) {
            this.activeTag = undefined;
            this.tagActive$.next(this.activeTag);
        }
        this.tagDelete$.next(tag);
    }
    updateTag(tag) {
        this.tagUpdate$.next(tag);
    }
    setTagActive(tag, options, isAffectMeasurementOnly = false) {
        if (!tag) {
            return;
        }
        if (tag.value && this.isTagValueCornerstone(tag)) {
            if (!isAffectMeasurementOnly) {
                options.toolName = tag.value.toolName;
                this.imageViewerActionsService.resetToolsMode(options);
                this.imageViewerActionsService.setToolPassive(options);
            }
            this.imageViewerSegmentationService.setMeasurementActive(tag.value, true);
        }
        else {
            this.setTagInactive(tag, options);
        }
    }
    setTagInactive(tag, options, isAffectMeasurementOnly = false) {
        if (tag && this.isTagValueCornerstone(tag)) {
            if (!isAffectMeasurementOnly) {
                this.imageViewerActionsService.resetToolsMode(options);
            }
            this.imageViewerSegmentationService.setMeasurementActive(tag.value, false);
        }
    }
    setTagVisibility(tag) {
        if (!tag.value) {
            return;
        }
        switch (tag.type) {
            case _shared_enums_tag_type_enum__WEBPACK_IMPORTED_MODULE_3__["TagTypeEnum"].GEOMETRY:
                this.imageViewerSegmentationService.toggleMeasurements([tag.value], tag.showAnnotation);
                break;
            case _shared_enums_tag_type_enum__WEBPACK_IMPORTED_MODULE_3__["TagTypeEnum"].OVERLAY:
                this.overlayService.setVisibility(tag.value, tag.showAnnotation);
        }
    }
    isTagRelevantToSlice(tag, sliceMetadata) {
        let tagRelevant = `${tag.baseDataUrl}${tag.relativeDataUrl}` === sliceMetadata.imageUrl && tag.scope === "IMAGE" /* IMAGE */;
        if (!tagRelevant && tag.dataIdentifiers) {
            switch (tag.scope) {
                case "IMAGE" /* IMAGE */:
                    tagRelevant = tag.dataIdentifiers.sopInstanceUID === sliceMetadata.sopInstanceUID;
                    break;
                case "SERIES" /* SERIES */:
                    tagRelevant = tag.dataIdentifiers.seriesInstanceUID === sliceMetadata.seriesInstanceUID;
                    break;
                case "STUDY" /* STUDY */:
                    tagRelevant = tag.dataIdentifiers.studyInstanceUID === sliceMetadata.studyInstanceUID;
                    break;
                default:
                    tagRelevant = true;
            }
        }
        return tagRelevant;
    }
    getAnnotationFromTag(tag, scale) {
        let csValue = tag.value;
        if (scale) {
            try {
                csValue = this.geoTranslationService.transformScale(csValue, scale);
            }
            catch (err) {
                console.error(`Could not transform tag value by scale: ${scale}, due to error: ${err}. Tag value: ${JSON.stringify(csValue)}`);
            }
        }
        csValue = this.geoTranslationService.getAsCornerstone(csValue);
        if (csValue) {
            // If covertion to cornerstone went successfully
            csValue.color = this.truncColorOpacity(tag.color);
            csValue.visible = tag.showAnnotation;
            csValue.lineDash = [];
            if (tag.action === _shared_enums_tag_actions_enum__WEBPACK_IMPORTED_MODULE_4__["TagActionsEnum"].DELETE) {
                csValue.lineDash = [25, 5];
            }
            else if (tag.isOld) {
                csValue.lineDash = [5, 5];
            }
        }
        else {
            console.error(`Could not convert GeoJson tag value to cornerstone. Tag value: ${JSON.stringify(tag.value)}`);
        }
        return csValue;
    }
    reset() {
        this.tags = [];
        this.cleanAndResetTagsByScope();
        this.dicomImagesIds = {};
        this.imageViewerSegmentationService.reset();
        this.overlayService.reset();
    }
    updateViewportsWithPendingTags(viewportsWithPendingTags) {
        this.viewportsWithPendingTags$.next(viewportsWithPendingTags);
    }
    cleanAndResetTagsByScope() {
        // Complete all observables before reset in order to prevent a memory leak
        for (const [scope, items] of Object.entries(this.tagsByScope || {})) {
            for (const [id, tags$] of Object.entries(items)) {
                if (tags$) {
                    tags$.complete();
                }
            }
        }
        // Reset
        this.tagsByScope = {
            ["STUDY" /* STUDY */]: {},
            ["SERIES" /* SERIES */]: {},
            ["IMAGE" /* IMAGE */]: {},
        };
    }
    handleMeasurementDeleted(measurementData) {
        const tagToDelete = this.tags.find((tag) => tag.value && tag.value._id === measurementData._id);
        if (tagToDelete) {
            this.deleteTag(tagToDelete);
        }
    }
    handleMeasurementModified(measurementData) {
        const relevantTag = this.getTagByMeasurement(this.tags, measurementData);
        if (relevantTag) {
            relevantTag.value = measurementData;
            this.updateTag(relevantTag);
        }
    }
    getTagByMeasurement(tags, measurementData) {
        return tags.find((tag) => tag.value && tag.value._id === measurementData._id);
    }
    sortTagsByDateDesc(tags) {
        return [...tags].sort((firstTag, secTag) => secTag.createdAt.getTime() - firstTag.createdAt.getTime());
    }
    handleImageCacheChanged(event) {
        const { sopInstanceUID, imageId } = event.image;
        this.dicomImagesIds[sopInstanceUID] = imageId;
        if (this.tagsByScope["IMAGE" /* IMAGE */][sopInstanceUID]) {
            this.tagsByScope["IMAGE" /* IMAGE */][sopInstanceUID].pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["take"])(1)).subscribe((tags) => {
                this.addTagsValuesToImage(imageId, tags);
            });
        }
    }
    addTagsValuesToImage(imageId, tags) {
        if (!imageId || !tags || tags.length === 0) {
            return;
        }
        for (const tag of tags) {
            if (this.isTagValueCornerstone(tag)) {
                this.imageViewerSegmentationService.addMeasurementToState(this.getAnnotationFromTag(tag), imageId);
            }
            else if (tag.value && tag.value.type === 'Overlay') {
                this.overlayService.addOverlayToImage(tag.value, imageId);
            }
        }
    }
    syncTagsMeasurements(previousTags, newTags) {
        const previewsTagsMeasurementsIds = previousTags.filter(this.isTagValueCornerstone).map((tag) => tag.value._id);
        const newTagsMeasurementsIds = newTags.filter(this.isTagValueCornerstone).map((tag) => tag.value._id);
        const measurementsIdsToDelete = this.arrayDiff(newTagsMeasurementsIds, previewsTagsMeasurementsIds);
        const measurementsIdsToAdd = this.arrayDiff(previewsTagsMeasurementsIds, newTagsMeasurementsIds);
        this.imageViewerSegmentationService.removeMeasurementsByIds(measurementsIdsToDelete);
        const tagsMeasurementsToAdd = newTags.filter((tag) => this.isTagValueCornerstone(tag) && measurementsIdsToAdd.some((measurementId) => measurementId === tag.value._id));
        for (const tag of tagsMeasurementsToAdd) {
            const imageId = this.dicomImagesIds[tag.dataIdentifiers.sopInstanceUID];
            if (imageId) {
                this.addTagsValuesToImage(imageId, [tag]);
            }
        }
    }
    syncTagsOverlays(oldTags, newTags) {
        const overlayTags = newTags.filter((tag) => tag.value && tag.value.type === 'Overlay');
        overlayTags.forEach((tag) => {
            this.overlayService.loadOverlay(tag.value.mapUrl).subscribe();
            const imageId = this.dicomImagesIds[tag.dataIdentifiers.sopInstanceUID];
            if (imageId) {
                this.addTagsValuesToImage(imageId, [tag]);
            }
        });
    }
    convertGeoJsonToCornerstone(tags) {
        tags.forEach((tag) => {
            if (tag && tag.type === _shared_enums_tag_type_enum__WEBPACK_IMPORTED_MODULE_3__["TagTypeEnum"].GEOMETRY && this.geoTranslationService.isSupportedGeoJson(tag.value)) {
                tag.value = this.geoTranslationService.getAsCornerstone(tag.value);
            }
        });
        return tags;
    }
    isTagValueCornerstone(tag) {
        return tag.value && tag.value.toolName;
    }
    // Returns items which exist in arr2 and not in array 1
    arrayDiff(arr1, arr2) {
        const dict = {};
        for (const item of arr1) {
            dict[item] = true;
        }
        return arr2.filter((item) => !dict[item]);
    }
    truncColorOpacity(color) {
        if (!color || typeof color !== 'string') {
            return;
        }
        return color.slice(0, 7);
    }
}
TagService.ɵfac = function TagService_Factory(t) { return new (t || TagService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_image_viewer_services_image_viewer_segmentation_service__WEBPACK_IMPORTED_MODULE_5__["ImageViewerSegmentationService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_image_viewer_services_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_6__["ImageViewerEventsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_image_viewer_services_image_viewer_actions_service__WEBPACK_IMPORTED_MODULE_7__["ImageViewerActionsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_geo_translation_service__WEBPACK_IMPORTED_MODULE_8__["GeoTranslationService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_image_viewer_services_overlay_service__WEBPACK_IMPORTED_MODULE_9__["OverlayService"])); };
TagService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: TagService, factory: TagService.ɵfac, providedIn: 'root' });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TagService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _image_viewer_services_image_viewer_segmentation_service__WEBPACK_IMPORTED_MODULE_5__["ImageViewerSegmentationService"] }, { type: _image_viewer_services_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_6__["ImageViewerEventsService"] }, { type: _image_viewer_services_image_viewer_actions_service__WEBPACK_IMPORTED_MODULE_7__["ImageViewerActionsService"] }, { type: _geo_translation_service__WEBPACK_IMPORTED_MODULE_8__["GeoTranslationService"] }, { type: _image_viewer_services_overlay_service__WEBPACK_IMPORTED_MODULE_9__["OverlayService"] }]; }, null); })();


/***/ }),

/***/ "LONq":
/*!**************************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/cornerstone/custom-tools/freehand-roi.tool.ts ***!
  \**************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ZMFreehandRoiTool; });
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cornerstone-tools */ "b09o");
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cornerstone-core */ "MNym");
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cornerstone_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cornerstone_math__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cornerstone-math */ "qCIW");
/* harmony import */ var cornerstone_math__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cornerstone_math__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _turf_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @turf/helpers */ "hPoO");
/* harmony import */ var _turf_intersect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @turf/intersect */ "WUFV");
/* harmony import */ var _turf_dissolve__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @turf/dissolve */ "0P23");
/* harmony import */ var _turf_difference__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @turf/difference */ "Mhyc");
/* eslint-disable @typescript-eslint/member-ordering */
/* eslint-disable prefer-arrow/prefer-arrow-functions */
/* eslint-disable @typescript-eslint/prefer-for-of */







const FreehandRoiTool = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.FreehandRoiTool;
const { toolStyle, toolColors, getToolState } = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a;
// Utils
const numbersWithCommas = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/numbersWithCommas');
const freehandUtils = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/freehandUtils');
const clipToBox = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/clipToBox');
const throttle = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/throttle');
// Manipulators
// Drawing
const getNewContext = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/getNewContext');
const draw = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/draw');
const drawLinkedTextBox = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/drawLinkedTextBox');
const drawHandles = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/drawHandles');
const drawJoinedLines = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/drawJoinedLines');
const globalConfiguration = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.getModule('globalConfiguration');
var CutMergeModeEnum;
(function (CutMergeModeEnum) {
    CutMergeModeEnum["MERGE"] = "MERGE";
    CutMergeModeEnum["CUT"] = "CUT";
    CutMergeModeEnum["NONE"] = "NONE";
})(CutMergeModeEnum || (CutMergeModeEnum = {}));
class ZMFreehandRoiTool extends FreehandRoiTool {
    constructor(props = {}) {
        super(props);
        this.geoTranslationService = props.geoTranslationService;
        this.configuration.opacityHex = this.configuration.opacityHex || '66';
        this._drawingKeyDownCallback = this._drawingKeyDownCallback.bind(this);
        this.throttledUpdateCachedStats = throttle(this._updateCachedStats, 110);
        this._editMouseDragCallback = this._editMouseDragCallback.bind(this);
        this.handleSelectedCallback = this.handleSelectedCallback.bind(this);
        this._endDrawing = this._endDrawing.bind(this);
    }
    handleSelectedCallback(evt, toolData, handle) {
        if (toolData && toolData.lineDash.length === 0) {
            super.handleSelectedCallback(evt, toolData, handle);
        }
    }
    // pointNearTool(element, data, coords) {
    // 	const validParameters = data && data.handles && data.handles.points;
    // 	if (!validParameters) {
    // 		throw new Error(
    // 			`invalid parameters supplied to tool ${this.name}'s pointNearTool`
    // 		);
    // 	}
    // 	if (!validParameters || data.visible === false) {
    // 		return false;
    // 	}
    // 	const handles = data.handles.points.map(point => cs.pixelToCanvas(element, point));
    // 	return pointInFreehand(handles, coords);
    // }
    _updateCachedStats(image, element, data) {
        var _a, _b, _c, _d;
        super.updateCachedStats(image, element, data);
        data.cachedStats = Object.assign(Object.assign({}, (data.cachedStats || {})), { area: data.area, count: (_a = data.meanStdDev) === null || _a === void 0 ? void 0 : _a.count, mean: (_b = data.meanStdDev) === null || _b === void 0 ? void 0 : _b.mean, variance: (_c = data.meanStdDev) === null || _c === void 0 ? void 0 : _c.variance, stdDev: (_d = data.meanStdDev) === null || _d === void 0 ? void 0 : _d.stdDev, 
            // Determine the area suffix based on the pixel spacing in the image.
            // If pixel spacing is present, use millimeters. Otherwise, use pixels.
            unit: image.columnPixelSpacing && image.rowPixelSpacing ? 'mm' : 'px' });
    }
    _endDrawing(element, handleNearby) {
        if (this.cutMergeMode === CutMergeModeEnum.MERGE) {
            this.handleMergePolygon(element, handleNearby);
        }
        else if (this.cutMergeMode === CutMergeModeEnum.CUT) {
            this.handleCutPolygon(element, handleNearby);
        }
        if (this.cutMergeMode === CutMergeModeEnum.CUT || this.cutMergeMode === CutMergeModeEnum.MERGE) {
            // We don't really want to keep the cut/merge tool in the toolState
            this.cancelDrawing(this.element);
        }
        else {
            super._endDrawing(element, handleNearby);
        }
    }
    handleCutPolygon(element, handleNearby) {
        const { activePoly, poly, toolData } = this.prepareCutAndMergePolygons(element);
        if (!activePoly || !poly || !toolData) {
            return;
        }
        const newPoly = Object(_turf_difference__WEBPACK_IMPORTED_MODULE_6__["default"])(poly, activePoly);
        const csSegmentation = this.geoTranslationService.getAsCornerstone(JSON.parse(JSON.stringify(newPoly)));
        toolData.handles = csSegmentation.handles;
    }
    handleMergePolygon(element, handleNearby) {
        const { activePoly, poly, toolData } = this.prepareCutAndMergePolygons(element);
        if (!activePoly || !poly || !toolData) {
            return;
        }
        const fc = _turf_helpers__WEBPACK_IMPORTED_MODULE_3__["featureCollection"]([poly, activePoly]);
        const newPoly = Object(_turf_dissolve__WEBPACK_IMPORTED_MODULE_5__["default"])(fc);
        const csSegmentation = this.geoTranslationService.getAsCornerstone(JSON.parse(JSON.stringify(newPoly)));
        toolData.handles = csSegmentation.handles;
    }
    addNewMeasurement(event) {
        var _a, _b, _c, _d;
        if (((_b = (_a = event === null || event === void 0 ? void 0 : event.detail) === null || _a === void 0 ? void 0 : _a.event) === null || _b === void 0 ? void 0 : _b.altKey) === true) {
            if (((_d = (_c = event === null || event === void 0 ? void 0 : event.detail) === null || _c === void 0 ? void 0 : _c.event) === null || _d === void 0 ? void 0 : _d.shiftKey) === true) {
                this.cutMergeMode = CutMergeModeEnum.CUT;
            }
            else {
                this.cutMergeMode = CutMergeModeEnum.MERGE;
            }
        }
        else {
            this.cutMergeMode = CutMergeModeEnum.NONE;
        }
        super.addNewMeasurement(event);
    }
    renderToolData(evt) {
        if (globalConfiguration.configuration.isAnnotationsVisible === false) {
            return;
        }
        const eventData = evt.detail;
        // If we have no toolState for this element, return immediately as there is nothing to do
        const toolState = getToolState(evt.currentTarget, this.name);
        if (!toolState) {
            return;
        }
        const { image, element } = eventData;
        const config = this.configuration;
        const seriesModule = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.metaData.get('generalSeriesModule', image.imageId);
        const modality = seriesModule ? seriesModule.modality : null;
        // We have tool data for this element - iterate over each one and draw it
        const canvasContext = getNewContext(eventData.canvasContext.canvas);
        const lineWidth = toolStyle.getToolWidth();
        for (let i = 0; i < toolState.data.length; i++) {
            const data = toolState.data[i];
            if (data.visible === false) {
                continue;
            }
            draw(canvasContext, (context) => {
                let color = toolColors.getColorIfActive(data);
                let fillColor;
                if (data.lineDash && data.lineDash.length > 0) {
                    data.active = false;
                }
                if (data.active) {
                    if (data.handles.invalidHandlePlacement) {
                        color = config.invalidColor;
                        fillColor = config.invalidColor;
                    }
                    else {
                        color = toolColors.getColorIfActive(data);
                        fillColor = toolColors.getFillColor();
                    }
                }
                else {
                    fillColor = toolColors.getToolColor();
                }
                if (data.handles.points.length) {
                    for (let j = 0; j < data.handles.points.length; j++) {
                        const lines = [...data.handles.points[j].lines];
                        const points = data.handles.points;
                        if (j === points.length - 1 && !data.polyBoundingBox) {
                            // If it's still being actively drawn, keep the last line to
                            // The mouse location
                            lines.push(config.mouseLocation.handles.start);
                        }
                        drawJoinedLines(context, element, data.handles.points[j], lines, {
                            color,
                            fillStyle: fillColor,
                            lineDash: data.lineDash || [],
                        });
                    }
                }
                // Draw handles
                const options = {
                    color,
                    fill: fillColor,
                };
                // Added by Zebra - option for annotation fill
                if (data.polyBoundingBox && data.current && data.handles.points.length > 0) {
                    drawJoinedLines(context, element, data.handles.points[0], data.handles.points, {
                        color: 'transparent',
                        fillStyle: `${color}${this.configuration.opacityHex}`,
                    });
                }
                if (config.alwaysShowHandles || (data.active && data.polyBoundingBox)) {
                    // Render all handles
                    options.handleRadius = config.activeHandleRadius;
                    if (this.configuration.drawHandles) {
                        drawHandles(context, eventData, data.handles.points, options);
                    }
                }
                if (data.canComplete && data.handles.points.length > 0) {
                    // Draw large handle at the origin if can complete drawing
                    options.handleRadius = config.completeHandleRadius;
                    const handle = data.handles.points[0];
                    if (this.configuration.drawHandles) {
                        drawHandles(context, eventData, [handle], options);
                    }
                }
                if (data.active && !data.polyBoundingBox && data.handles.points.length > 0) {
                    // Draw handle at origin and at mouse if actively drawing
                    options.handleRadius = config.activeHandleRadius;
                    if (this.configuration.drawHandles) {
                        drawHandles(context, eventData, config.mouseLocation.handles, options);
                    }
                    const firstHandle = data.handles.points[0];
                    if (this.configuration.drawHandles) {
                        drawHandles(context, eventData, [firstHandle], options);
                    }
                }
                // Update textbox stats
                if (data.invalidated === true && !data.active && data.handles.points.length > 0) {
                    if (data.meanStdDev && data.meanStdDevSUV && data.area) {
                        this.throttledUpdateCachedStats(image, element, data);
                    }
                    else {
                        this._updateCachedStats(image, element, data);
                    }
                }
                // Only render text if polygon ROI has been completed and freehand 'shiftKey' mode was not used:
                if (data.polyBoundingBox && !data.handles.textBox.freehand) {
                    // If the textbox has not been moved by the user, it should be displayed on the right-most
                    // Side of the tool.
                    if (!data.handles.textBox.hasMoved) {
                        // Find the rightmost side of the polyBoundingBox at its vertical center, and place the textbox here
                        // Note that this calculates it in image coordinates
                        data.handles.textBox.x = data.polyBoundingBox.left + data.polyBoundingBox.width;
                        data.handles.textBox.y = data.polyBoundingBox.top + data.polyBoundingBox.height / 2;
                    }
                    if (globalConfiguration.configuration.isTextboxVisible && data.isTextboxVisible !== false) {
                        const text = textBoxText.call(this, data);
                        drawLinkedTextBox(context, element, data.handles.textBox, text, data.handles.points, textBoxAnchorPoints, color, lineWidth, 0, true);
                    }
                }
            });
        }
        function textBoxText(data) {
            const { meanStdDev, meanStdDevSUV, area, metadata } = data;
            // Define an array to store the rows of text for the textbox
            const textLines = [];
            // If the mean and standard deviation values are present, display them
            if (meanStdDev && meanStdDev.mean !== undefined) {
                // If the modality is CT, add HU to denote Hounsfield Units
                let moSuffix = '';
                if (modality === 'CT') {
                    moSuffix = 'HU';
                }
                data.unit = moSuffix;
                // Create a line of text to display the mean and any units that were specified (i.e. HU)
                let meanText = meanStdDev && typeof meanStdDev.mean === 'number'
                    ? `Mean: ${numbersWithCommas(meanStdDev.mean.toFixed(2))} ${moSuffix}`
                    : '';
                // Create a line of text to display the standard deviation and any units that were specified (i.e. HU)
                let stdDevText = meanStdDev && typeof meanStdDev.stdDev === 'number'
                    ? `StdDev: ${numbersWithCommas(meanStdDev.stdDev.toFixed(2))} ${moSuffix}`
                    : '';
                // If this image has SUV values to display, concatenate them to the text line
                if (meanStdDevSUV && typeof meanStdDevSUV.mean === 'number') {
                    const SUVtext = ' SUV: ';
                    meanText += SUVtext + numbersWithCommas(meanStdDevSUV.mean.toFixed(2));
                    stdDevText += SUVtext + numbersWithCommas(meanStdDevSUV.stdDev.toFixed(2));
                }
                // Add these text lines to the array to be displayed in the textbox
                textLines.push(meanText);
                textLines.push(stdDevText);
            }
            // If the area is a sane value, display it
            if (area) {
                // Determine the area suffix based on the pixel spacing in the image.
                // If pixel spacing is present, use millimeters. Otherwise, use pixels.
                // This uses Char code 178 for a superscript 2
                let suffix = ` mm${String.fromCharCode(178)}`;
                if (!image.rowPixelSpacing || !image.columnPixelSpacing) {
                    suffix = ` pixels${String.fromCharCode(178)}`;
                }
                // Create a line of text to display the area and its units
                const areaText = `Area: ${numbersWithCommas(area.toFixed(2))}${suffix}`;
                // Add this text line to the array to be displayed in the textbox
                textLines.push(areaText);
            }
            if (metadata) {
                Object.keys(metadata).forEach((key) => {
                    textLines.push(`${key}: ${metadata[key]}`);
                });
            }
            return textLines;
        }
        function textBoxAnchorPoints(handles) {
            return handles;
        }
    }
    _activateDraw(element, interactionType) {
        super._activateDraw(element, interactionType);
        document.addEventListener('keydown', this._drawingKeyDownCallback, { passive: true });
    }
    _deactivateDraw(element) {
        super._deactivateDraw(element);
        document.removeEventListener('keydown', this._drawingKeyDownCallback);
    }
    _activateModify(element) {
        super._activateModify(element);
    }
    updateCachedStats(image, element, data) {
        super.updateCachedStats(image, element, data);
    }
    _addPoint(eventData) {
        const { currentPoints, element } = eventData;
        const toolState = getToolState(element, this.name);
        // Get the toolState from the last-drawn polygon
        const config = this.configuration;
        const data = toolState.data[config.currentTool];
        clipToBox(currentPoints.image, eventData.image);
        if (data.handles.invalidHandlePlacement) {
            return;
        }
        const newHandleData = new freehandUtils.FreehandHandleData(currentPoints.image);
        // If this is not the first handle
        if (data.handles.points.length) {
            // Add the line from the current handle to the new handle
            data.handles.points[config.currentHandle - 1].lines.push(currentPoints.image);
        }
        // Add the new handle
        data.handles.points.push(newHandleData);
        // Increment the current handle value
        config.currentHandle += 1;
        // Force onImageRendered to fire
        cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.updateImage(element);
        this.fireModifiedEvent(element, data);
    }
    isHovered(element, data, coords) {
        const { points } = data.handles;
        return {
            isNearHandle: this.pointNearHandle(data.handles.points, coords),
            isInside: freehandUtils.pointInFreehand(points, coords),
        };
    }
    prepareCutAndMergePolygons(element) {
        const toolState = getToolState(element, this.name);
        if (!toolState) {
            return {};
        }
        const polygon = _turf_helpers__WEBPACK_IMPORTED_MODULE_3__["polygon"];
        const activePolygonData = toolState.data[this.configuration.currentTool];
        let coordinates = activePolygonData.handles.points.map((dataPoint) => [dataPoint.x, dataPoint.y]);
        coordinates.push(coordinates[0]);
        const activePoly = polygon([coordinates]);
        for (const toolData of toolState.data) {
            if (toolData === activePolygonData) {
                continue;
            }
            coordinates = toolData.handles.points.map((dataPoint) => [dataPoint.x, dataPoint.y]);
            coordinates.push(coordinates[0]);
            const poly = polygon([coordinates]);
            if (Object(_turf_intersect__WEBPACK_IMPORTED_MODULE_4__["default"])(activePoly, poly)) {
                return {
                    activePoly,
                    poly,
                    toolData,
                };
            }
        }
        return {};
    }
    _drawingKeyDownCallback(event) {
        if (event.key === 'Escape') {
            this.cancelDrawing(this.element);
        }
    }
    _editMouseDragCallback(event) {
        const eventData = event.detail;
        // Cornerstone removes button mask of an activated tool when other tool gets activated
        // and since we want to be able to modify non-active tools, we readd the mask
        if (!this.options.mouseButtonMask.includes(1)) {
            this.options.mouseButtonMask.push(1);
            this.options.isMouseActive = true;
        }
        super._editMouseDragCallback(event);
    }
    pointNearHandle(handles, coords) {
        return handles.some((handle) => cornerstone_math__WEBPACK_IMPORTED_MODULE_2___default.a.point.distance(handle, coords) < 6);
    }
}


/***/ }),

/***/ "Lx3z":
/*!********************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/viewer.module.ts ***!
  \********************************************************/
/*! exports provided: ViewerModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerModule", function() { return ViewerModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _editor_editor_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editor/editor.module */ "1bVQ");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./shared/shared.module */ "msKL");
/* harmony import */ var _modules_manager_modules_manager_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modules-manager/modules-manager.module */ "cCsM");
/* harmony import */ var _events_manager_events_manager_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./events-manager/events-manager.module */ "qz/S");







class ViewerModule {
}
ViewerModule.ɵfac = function ViewerModule_Factory(t) { return new (t || ViewerModule)(); };
ViewerModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: ViewerModule });
ViewerModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ providers: [], imports: [[_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _modules_manager_modules_manager_module__WEBPACK_IMPORTED_MODULE_4__["ModulesManagerModule"], _events_manager_events_manager_module__WEBPACK_IMPORTED_MODULE_5__["EventsManagerModule"], _editor_editor_module__WEBPACK_IMPORTED_MODULE_2__["EditorModule"], _shared_shared_module__WEBPACK_IMPORTED_MODULE_3__["SharedModule"]], _shared_shared_module__WEBPACK_IMPORTED_MODULE_3__["SharedModule"], _editor_editor_module__WEBPACK_IMPORTED_MODULE_2__["EditorModule"], _events_manager_events_manager_module__WEBPACK_IMPORTED_MODULE_5__["EventsManagerModule"]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](ViewerModule, { imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _modules_manager_modules_manager_module__WEBPACK_IMPORTED_MODULE_4__["ModulesManagerModule"], _events_manager_events_manager_module__WEBPACK_IMPORTED_MODULE_5__["EventsManagerModule"], _editor_editor_module__WEBPACK_IMPORTED_MODULE_2__["EditorModule"], _shared_shared_module__WEBPACK_IMPORTED_MODULE_3__["SharedModule"]], exports: [_shared_shared_module__WEBPACK_IMPORTED_MODULE_3__["SharedModule"], _editor_editor_module__WEBPACK_IMPORTED_MODULE_2__["EditorModule"], _events_manager_events_manager_module__WEBPACK_IMPORTED_MODULE_5__["EventsManagerModule"]] }); })();
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ViewerModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                declarations: [],
                imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _modules_manager_modules_manager_module__WEBPACK_IMPORTED_MODULE_4__["ModulesManagerModule"], _events_manager_events_manager_module__WEBPACK_IMPORTED_MODULE_5__["EventsManagerModule"], _editor_editor_module__WEBPACK_IMPORTED_MODULE_2__["EditorModule"], _shared_shared_module__WEBPACK_IMPORTED_MODULE_3__["SharedModule"]],
                exports: [_shared_shared_module__WEBPACK_IMPORTED_MODULE_3__["SharedModule"], _editor_editor_module__WEBPACK_IMPORTED_MODULE_2__["EditorModule"], _events_manager_events_manager_module__WEBPACK_IMPORTED_MODULE_5__["EventsManagerModule"]],
                providers: [],
            }]
    }], null, null); })();


/***/ }),

/***/ "M188":
/*!*************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/shared/models/tag.model.ts ***!
  \*************************************************************************/
/*! exports provided: Tag */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Tag", function() { return Tag; });
class Tag {
    constructor() {
        this.showAnnotation = true;
    }
    static clone(tag) {
        return new Tag().deserialize(tag);
    }
    deserialize(input) {
        return Object.assign(this, input);
    }
}


/***/ }),

/***/ "M7L5":
/*!*************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/cornerstone/metadata-provider.ts ***!
  \*************************************************************************************/
/*! exports provided: metaDataProvider, getDicomTags */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "metaDataProvider", function() { return metaDataProvider; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDicomTags", function() { return getDicomTags; });
/* harmony import */ var dicom_parser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dicom-parser */ "JX+3");
/* harmony import */ var dicom_parser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dicom_parser__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cornerstone_wado_image_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cornerstone-wado-image-loader */ "AFKS");
/* harmony import */ var cornerstone_wado_image_loader__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cornerstone_wado_image_loader__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _shared_dicom_tag_code_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shared/dicom-tag-code.enum */ "2SrO");



const { dataSetCacheManager, parseImageId } = cornerstone_wado_image_loader__WEBPACK_IMPORTED_MODULE_1__["wadouri"];
const metaDataProvider = (type, imageId) => {
    if (type !== 'canvasOverlay') {
        return;
    }
    const parsedImageId = parseImageId(imageId);
    const dataSet = dataSetCacheManager.get(parsedImageId.url);
    if (!dataSet) {
        return;
    }
    const studyDateStr = dataSet.string('x00080020');
    let studyDate;
    if (studyDateStr) {
        const { year, month, day } = dicom_parser__WEBPACK_IMPORTED_MODULE_0__["parseDA"](studyDateStr);
        studyDate = new Date(year, month, day);
    }
    return {
        patientAge: dataSet.intString('x00101010'),
        patientSex: dataSet.string('x00100040'),
        imageType: dataSet.string('x00080008'),
        sliceThickness: dataSet.floatString('x00180050'),
        sliceIncrement: dataSet.floatString('x00180088'),
        instanceNumber: dataSet.floatString('x00200013'),
        seriesNumber: dataSet.floatString('x00200011'),
        studyDate,
    };
};
const getDicomTags = (imageId) => {
    const parsedImageId = parseImageId(imageId);
    const dataSet = dataSetCacheManager.get(parsedImageId.url);
    if (!dataSet) {
        return;
    }
    return Object.values(dataSet.elements).map((element) => ({
        key: `(${element.tag.substr(1, 4)},${element.tag.substr(5, 4)})`,
        name: _shared_dicom_tag_code_enum__WEBPACK_IMPORTED_MODULE_2__["DicomTagCodeEnum"][element.tag],
        value: dataSet.string(element.tag),
    }));
};



/***/ }),

/***/ "MLzS":
/*!******************************************************!*\
  !*** ./projects/zebra-viewer-standalone/src/main.ts ***!
  \******************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./environments/environment */ "n4hi");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "wmDW");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser */ "cUpR");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["platformBrowser"]().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch((err) => console.error(err));


/***/ }),

/***/ "N6Ii":
/*!***********************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/viewports-manager/viewports-manager.component.ts ***!
  \***********************************************************************************************/
/*! exports provided: ViewportsManagerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewportsManagerComponent", function() { return ViewportsManagerComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _image_viewer_services_image_viewer_manager_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../image-viewer/services/image-viewer-manager.service */ "/+2u");
/* harmony import */ var _viewport_container_viewport_container_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./viewport-container/viewport-container.component */ "hUKN");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _shared_enums_viewport_type_enum__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../shared/enums/viewport-type.enum */ "jNum");
/* harmony import */ var _shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../shared/enums/RelevantViewportsPolicyEnum */ "+neF");
/* harmony import */ var yassi__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! yassi */ "SCOe");
/* harmony import */ var _services_viewport_metadata_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../services/viewport-metadata.service */ "Zb51");
/* harmony import */ var _image_viewer_services_image_viewer_actions_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../image-viewer/services/image-viewer-actions.service */ "aLsl");
/* harmony import */ var _services_tag_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../services/tag.service */ "KlcW");
/* harmony import */ var _image_viewer_services_overlay_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../image-viewer/services/overlay.service */ "shYO");
/* harmony import */ var _image_viewer_services_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../image-viewer/services/image-viewer-events.service */ "QgyW");
/* harmony import */ var _services_utilities_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../services/utilities.service */ "oeIr");
/* harmony import */ var _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/cdk/drag-drop */ "ltgo");





















const _c0 = function () { return []; };
const _c1 = function (a0) { return { active: a0 }; };
const _c2 = function (a0) { return { "grid-area": a0 }; };
function ViewportsManagerComponent_zebra_viewer_viewport_container_1_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "zebra-viewer-viewport-container", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("mousedown", function ViewportsManagerComponent_zebra_viewer_viewport_container_1_Template_zebra_viewer_viewport_container_mousedown_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r3); const viewport_r1 = ctx.$implicit; const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r2.onMouseDown(viewport_r1.id, viewport_r1.type); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const viewport_r1 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("id", viewport_r1.id)("data", ctx_r0.data && ctx_r0.data[viewport_r1.id] ? ctx_r0.data[viewport_r1.id] : _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction0"](8, _c0))("type", viewport_r1.type)("command", ctx_r0.viewportsActiveCommands[viewport_r1.id])("state", ctx_r0.viewportsState[viewport_r1.id])("cdkDropListDisabled", true)("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](9, _c1, ctx_r0.activeViewportsIds.includes(viewport_r1.id)))("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](11, _c2, viewport_r1.gridAreaName));
} }
const _c3 = function (a0) { return { "grid-template": a0 }; };
class ViewportsManagerComponent {
    constructor(viewportMetadataService, imageViewerManagerService, imageViewerActionsService, tagService, overlayService, imageViewerEventService, utilitiesService, document) {
        this.viewportMetadataService = viewportMetadataService;
        this.imageViewerManagerService = imageViewerManagerService;
        this.imageViewerActionsService = imageViewerActionsService;
        this.tagService = tagService;
        this.overlayService = overlayService;
        this.imageViewerEventService = imageViewerEventService;
        this.utilitiesService = utilitiesService;
        this.document = document;
        this.relevantViewportsPolicy = _shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_8__["RelevantViewportsPolicyEnum"].SELECTED;
        this.activeViewportChange = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.viewportChange = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        // Here key may be the imageId/imageUrl or chain of dataIdentifiers (maybe also viewportId???)
        this.dataIdentifiersMapping = {};
        this.activeViewportsIds = [];
        this.viewportsActiveCommands = {};
        this.viewportsCount = 1;
        this.viewportsState = {};
        this.unsubscribe$ = new rxjs__WEBPACK_IMPORTED_MODULE_5__["Subject"]();
        this.relevantViewportsIds = [];
        this.generateViewportBaseName = 'generated-viewport-';
    }
    ngOnInit() {
        this.registerToStackChangeEvents();
        this.tagService.viewportsWithPendingTags$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["takeUntil"])(this.unsubscribe$))
            .subscribe((viewportsPendingTag) => {
            this.relevantViewportsIds = this.getRelevantViewportsIds(this.relevantViewportsPolicy, viewportsPendingTag);
        });
        this.imageViewerManagerService.init(this.document);
        this.imageViewerManagerService.viewerChange$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["takeUntil"])(this.unsubscribe$))
            .subscribe(this.handleImageViewerEvent.bind(this));
    }
    ngAfterViewChecked() {
        this.relevantViewportsIds = this.getRelevantViewportsIds(this.relevantViewportsPolicy);
    }
    ngOnChanges(changes) {
        const commandChanges = changes.command;
        if (changes.data && this.data) {
            this.handleDataChange(this.data);
        }
        if (this.command && commandChanges && !changes.data && this.command.options.resetToDefaultTools) {
            const viewers = this.viewportsElements.map((vpe) => vpe.viewer).filter((viewer) => !!viewer);
            this.imageViewerActionsService.setDefaultActiveTools({
                viewers,
                force: true,
            });
        }
        else if (this.command && commandChanges && !changes.data) {
            // FIXME: Change the behaviour of setting activeTool to set it with a list of viewports (it will simplify all the pending tag
            //  and other stuff). The issue is that it influence insight as well so we need to be carefull
            //  When we will do that we will be able to remove the 'Wwwc' constrain bellow
            switch (this.command.options.viewportSelectionPolicy || this.relevantViewportsPolicy) {
                case _shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_8__["RelevantViewportsPolicyEnum"].ALL:
                    this.applyCommandOnAllViewports(this.command);
                    break;
                case _shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_8__["RelevantViewportsPolicyEnum"].SELECTED:
                    this.applyCommandOnRelevantViewports(this.command, _shared_enums_viewport_type_enum__WEBPACK_IMPORTED_MODULE_7__["ViewportTypeEnum"].IMAGE);
                    break;
                case _shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_8__["RelevantViewportsPolicyEnum"].ACTIVE:
                    this.applyCommandOnActiveViewports(this.command);
                    break;
                default:
                    this.applyCommandOnActiveViewports(this.command);
            }
        }
        if (changes.layout && this.layout && this.layout.viewports) {
            this.handleLayoutChanged(this.layout);
        }
        if (changes.activeViewportId && this.activeViewportId) {
            // if (this.command && this.command.name === 'setToolActive') {
            // 	this.applyCommandOnActiveViewports(this.command);
            // }
            this.setActiveViewport(this.activeViewportId);
        }
        if (changes.currentSlice && this.currentSlice) {
            this.updateViewportState(this.currentSlice.viewportId, {
                currentSliceIndex: this.currentSlice.sliceIndex,
            });
        }
    }
    ngOnDestroy() {
        this.unsubscribe$.next();
        this.unsubscribe$.complete();
        this.imageViewerManagerService.reset();
        this.viewportMetadataService.reset();
        this.tagService.reset();
        this.overlayService.reset();
    }
    registerToStackChangeEvents() {
        this.imageViewerEventService.viewerChange$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["takeUntil"])(this.unsubscribe$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["filter"])((event) => event.type === "STACK_IMAGE_LOADED" /* STACK_IMAGE_LOADED */))
            .subscribe((event) => {
            const dataIdentifiers = this.viewportMetadataService.getDataIdentifiersFromEvent(event);
            const dataMappingForEvent = {};
            if (dataIdentifiers.imageId) {
                dataMappingForEvent[dataIdentifiers.imageId] = dataIdentifiers;
            }
            if (dataIdentifiers.imageUrl) {
                dataMappingForEvent[dataIdentifiers.imageUrl] = dataIdentifiers;
            }
            const customKey = this.utilitiesService.getCustomImageUrl(dataIdentifiers);
            if (customKey) {
                dataMappingForEvent[customKey] = dataIdentifiers;
            }
            if (Object.keys(dataMappingForEvent).length > 0) {
                Object.assign(this.dataIdentifiersMapping, dataMappingForEvent);
            }
        });
    }
    getViewportByIndex(viewportIndex) {
        if (!this.layout || !this.layout.viewports) {
            return;
        }
        return this.layout.viewports[viewportIndex];
    }
    onMouseDown(viewportId, viewportType) {
        if (viewportType === _shared_enums_viewport_type_enum__WEBPACK_IMPORTED_MODULE_7__["ViewportTypeEnum"].TEXT) {
            return;
        }
        const viewportIdFound = this.activeViewportsIds.find((id) => id === viewportId);
        if (!viewportIdFound) {
            this.setActiveViewport(viewportId);
        }
    }
    setActiveViewport(viewportId) {
        this.activeViewportsIds = [viewportId];
        this.viewportMetadataService.setActiveViewport(viewportId);
        this.activeViewportChange.emit(viewportId);
        // if (this.command && this.command.name === 'setToolActive') {
        // 	this.applyCommandOnActiveViewports(this.command);
        // }
    }
    handleLayoutChanged(layout) {
        this.viewportMetadataService.reset();
        const gridAreasCount = this.getGridAreasFromTemplate(layout.gridTemplate).length;
        this.gridTemplate = layout.gridTemplate;
        this.viewports = this.layout.viewports.slice(0, gridAreasCount);
        const populatedViewportsCount = this.viewports.length;
        const placeholdersCount = gridAreasCount - populatedViewportsCount;
        for (let i = 0; i < placeholdersCount; i++) {
            const viewportId = `${this.generateViewportBaseName}${i}`;
            const gridAreaName = `v${populatedViewportsCount + i + 1}`;
            this.viewports.push({
                id: viewportId,
                // type: this.data[viewportId]
                // 	? ViewportTypeEnum.IMAGE
                // 	: ViewportTypeEnum.NONE,
                gridAreaName,
                type: _shared_enums_viewport_type_enum__WEBPACK_IMPORTED_MODULE_7__["ViewportTypeEnum"].NONE,
            });
        }
        this.invalidateActiveViewports();
        if (this.activeViewportsIds.length === 0) {
            const relevantViewport = this.viewports.find((viewport) => viewport.type !== _shared_enums_viewport_type_enum__WEBPACK_IMPORTED_MODULE_7__["ViewportTypeEnum"].TEXT);
            if (relevantViewport) {
                this.setActiveViewport(relevantViewport.id);
            }
        }
    }
    gridStyle() {
        return { 'grid-template': this.gridTemplate };
    }
    handleDataChange(data) {
        this.imageViewerManagerService.purgeImages();
        if (!this.viewports) {
            return;
        }
        this.viewports = this.viewports.map((viewport) => {
            if (data[viewport.id]) {
                viewport.type = viewport.type || _shared_enums_viewport_type_enum__WEBPACK_IMPORTED_MODULE_7__["ViewportTypeEnum"].IMAGE;
            }
            return viewport;
        });
    }
    trackByViewportId(index, item) {
        return item.id;
    }
    getRelevantViewportsIds(relevantViewportsPolicy, viewportsPendingTag) {
        let relevantViewportsIds;
        switch (relevantViewportsPolicy) {
            case _shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_8__["RelevantViewportsPolicyEnum"].SELECTED:
                relevantViewportsIds = Object.keys(viewportsPendingTag || {});
                break;
            case _shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_8__["RelevantViewportsPolicyEnum"].ALL:
                relevantViewportsIds = this.viewportsElements
                    ? (this.viewportsElements.toArray() || []).map((ve) => ve.id)
                    : [];
                break;
            default:
                relevantViewportsIds = [];
        }
        return relevantViewportsIds;
    }
    getGridAreasFromTemplate(gridTemplate) {
        if (gridTemplate === undefined) {
            return [];
        }
        return [
            ...new Set(gridTemplate
                .split(' ')
                .filter((item) => item.includes('v'))
                .map((item) => item.replace("'", ''))),
        ];
    }
    invalidateActiveViewports() {
        this.activeViewportsIds = this.activeViewportsIds.filter((viewportId) => this.viewports.some((viewport) => viewport.id === viewportId));
    }
    handleImageViewerEvent(event) {
        if (event.viewerId) {
            event.viewportId = this.viewerToViewportId(event.viewerId);
            if (["IMAGE_RENDERED" /* IMAGE_RENDERED */, "TOOL_ACTIVATED" /* TOOL_ACTIVATED */, "TOOL_DEACTIVATED" /* TOOL_DEACTIVATED */].includes(event.type)) {
                this.viewportMetadataService.updateMetadata(event.viewportId, event);
            }
        }
        this.viewportChange.emit(event);
    }
    getActiveViewportsElements() {
        return (this.viewportsElements || []).filter((viewport) => this.activeViewportsIds.includes(viewport.id));
    }
    applyCommandOnActiveViewports(command) {
        const activeViewers = this.getViewportsElementsByType(this.getActiveViewportsElements(), command.viewportType).map((viewport) => viewport.viewer);
        this.imageViewerManagerService.execute(command, activeViewers);
    }
    applyCommandOnViewports(command, viewports) {
        this.imageViewerManagerService.execute(command, viewports);
    }
    applyCommandOnAllViewports(command, viewportType = _shared_enums_viewport_type_enum__WEBPACK_IMPORTED_MODULE_7__["ViewportTypeEnum"].IMAGE) {
        const viewers = (this.viewportsElements || [])
            .filter((viewport) => viewport.type === viewportType)
            .map((viewport) => viewport.viewer);
        this.imageViewerManagerService.execute(command, viewers);
    }
    applyCommandOnRelevantViewports(command, viewportType) {
        const viewers = (this.viewportsElements || [])
            .filter((viewport) => !!viewport && viewportType === viewport.type && this.relevantViewportsIds.includes(viewport.id))
            .map((viewport) => viewport.viewer);
        this.imageViewerManagerService.execute(command, viewers);
    }
    getViewportsElementsByType(viewports, type) {
        return viewports.filter((viewport) => viewport.type === type);
    }
    viewerToViewportId(viewerId) {
        return viewerId.replace('-viewer', '');
    }
    updateViewportState(viewportId, state) {
        this.viewportsState[viewportId] = Object.assign(Object.assign({}, (this.viewportsState[viewportId] || {})), state);
    }
}
ViewportsManagerComponent.ɵfac = function ViewportsManagerComponent_Factory(t) { return new (t || ViewportsManagerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_services_viewport_metadata_service__WEBPACK_IMPORTED_MODULE_10__["ViewportMetadataService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_image_viewer_services_image_viewer_manager_service__WEBPACK_IMPORTED_MODULE_2__["ImageViewerManagerService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_image_viewer_services_image_viewer_actions_service__WEBPACK_IMPORTED_MODULE_11__["ImageViewerActionsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_services_tag_service__WEBPACK_IMPORTED_MODULE_12__["TagService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_image_viewer_services_overlay_service__WEBPACK_IMPORTED_MODULE_13__["OverlayService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_image_viewer_services_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_14__["ImageViewerEventsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_services_utilities_service__WEBPACK_IMPORTED_MODULE_15__["UtilitiesService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_common__WEBPACK_IMPORTED_MODULE_4__["DOCUMENT"])); };
ViewportsManagerComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: ViewportsManagerComponent, selectors: [["zebra-viewer-viewports-manager"]], viewQuery: function ViewportsManagerComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_viewport_container_viewport_container_component__WEBPACK_IMPORTED_MODULE_3__["ViewportContainerComponent"], 1);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.viewportsElements = _t);
    } }, inputs: { data: "data", command: "command", layout: "layout", activeViewportId: "activeViewportId", currentSlice: "currentSlice", relevantViewportsPolicy: "relevantViewportsPolicy" }, outputs: { activeViewportChange: "activeViewportChange", viewportChange: "viewportChange" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([_image_viewer_services_image_viewer_manager_service__WEBPACK_IMPORTED_MODULE_2__["ImageViewerManagerService"]]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 5, consts: [[1, "container", 3, "ngStyle"], ["cdkDropList", "", 3, "id", "data", "type", "command", "state", "cdkDropListDisabled", "ngClass", "ngStyle", "mousedown", 4, "ngFor", "ngForOf", "ngForTrackBy"], ["cdkDropList", "", 3, "id", "data", "type", "command", "state", "cdkDropListDisabled", "ngClass", "ngStyle", "mousedown"]], template: function ViewportsManagerComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, ViewportsManagerComponent_zebra_viewer_viewport_container_1_Template, 1, 13, "zebra-viewer-viewport-container", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](3, _c3, ctx.gridTemplate));
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx.viewports)("ngForTrackBy", ctx.trackByViewportId);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgStyle"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgForOf"], _viewport_container_viewport_container_component__WEBPACK_IMPORTED_MODULE_3__["ViewportContainerComponent"], _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_16__["CdkDropList"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgClass"]], styles: ["[_nghost-%COMP%] {\n  width: 100%;\n  height: 100%;\n}\n\n.container[_ngcontent-%COMP%] {\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  overflow: hidden;\n  display: grid;\n  grid-auto-rows: 1fr;\n  grid-auto-columns: 1fr;\n  justify-content: stretch;\n  align-content: stretch;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3ZpZXdwb3J0cy1tYW5hZ2VyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0MsV0FBQTtFQUNBLFlBQUE7QUFDRDs7QUFFQTtFQUNDLFdBQUE7RUFDQSxZQUFBO0VBQ0EsT0FBQTtFQUNBLGdCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0Esc0JBQUE7RUFDQSx3QkFBQTtFQUNBLHNCQUFBO0FBQ0QiLCJmaWxlIjoidmlld3BvcnRzLW1hbmFnZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG5cdHdpZHRoOiAxMDAlO1xuXHRoZWlnaHQ6IDEwMCU7XG59XG5cbi5jb250YWluZXIge1xuXHR3aWR0aDogMTAwJTtcblx0aGVpZ2h0OiAxMDAlO1xuXHRmbGV4OiAxO1xuXHRvdmVyZmxvdzogaGlkZGVuO1xuXHRkaXNwbGF5OiBncmlkO1xuXHRncmlkLWF1dG8tcm93czogMWZyO1xuXHRncmlkLWF1dG8tY29sdW1uczogMWZyO1xuXHRqdXN0aWZ5LWNvbnRlbnQ6IHN0cmV0Y2g7XG5cdGFsaWduLWNvbnRlbnQ6IHN0cmV0Y2g7XG59XG4iXX0= */"], changeDetection: 0 });
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(yassi__WEBPACK_IMPORTED_MODULE_9__["yassit"])('dataIdentifiersMapping')
], ViewportsManagerComponent.prototype, "dataIdentifiersMapping", void 0);
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ViewportsManagerComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"],
        args: [{
                selector: 'zebra-viewer-viewports-manager',
                templateUrl: './viewports-manager.component.html',
                styleUrls: ['./viewports-manager.component.scss'],
                providers: [_image_viewer_services_image_viewer_manager_service__WEBPACK_IMPORTED_MODULE_2__["ImageViewerManagerService"]],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectionStrategy"].OnPush,
            }]
    }], function () { return [{ type: _services_viewport_metadata_service__WEBPACK_IMPORTED_MODULE_10__["ViewportMetadataService"] }, { type: _image_viewer_services_image_viewer_manager_service__WEBPACK_IMPORTED_MODULE_2__["ImageViewerManagerService"] }, { type: _image_viewer_services_image_viewer_actions_service__WEBPACK_IMPORTED_MODULE_11__["ImageViewerActionsService"] }, { type: _services_tag_service__WEBPACK_IMPORTED_MODULE_12__["TagService"] }, { type: _image_viewer_services_overlay_service__WEBPACK_IMPORTED_MODULE_13__["OverlayService"] }, { type: _image_viewer_services_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_14__["ImageViewerEventsService"] }, { type: _services_utilities_service__WEBPACK_IMPORTED_MODULE_15__["UtilitiesService"] }, { type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"],
                args: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["DOCUMENT"]]
            }] }]; }, { viewportsElements: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChildren"],
            args: [_viewport_container_viewport_container_component__WEBPACK_IMPORTED_MODULE_3__["ViewportContainerComponent"]]
        }], data: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], command: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], layout: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], activeViewportId: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], currentSlice: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], relevantViewportsPolicy: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], activeViewportChange: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }], viewportChange: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }], dataIdentifiersMapping: [] }); })();


/***/ }),

/***/ "OTee":
/*!******************************************************************************************************************!*\
  !*** ./projects/zebra-viewer-standalone/src/app/viewer-dynamic-modules/test-module/models/test-event.command.ts ***!
  \******************************************************************************************************************/
/*! exports provided: TestEventCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TestEventCommand", function() { return TestEventCommand; });
/* harmony import */ var _zebra_viewer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zebra/viewer */ "VgmR");

class TestEventCommand extends _zebra_viewer__WEBPACK_IMPORTED_MODULE_0__["IBaseCommand"] {
    constructor(props) {
        super(props);
    }
}


/***/ }),

/***/ "Omv4":
/*!*********************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/shared/models/dialog-tool.model.ts ***!
  \*********************************************************************************/
/*! exports provided: DialogTool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogTool", function() { return DialogTool; });
/* harmony import */ var _tool_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tool.model */ "oicP");
/* harmony import */ var _enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums/RelevantViewportsPolicyEnum */ "+neF");


class DialogTool extends _tool_model__WEBPACK_IMPORTED_MODULE_0__["Tool"] {
    constructor(id, description, icon, title, panelClass, handlingComponent, initData, section, customCalcStateFunc, viewportSelectionPolicy = _enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_1__["RelevantViewportsPolicyEnum"].ACTIVE) {
        super(id, description, icon, null, "OPEN_DIALOG" /* OPEN_DIALOG */, section, customCalcStateFunc, viewportSelectionPolicy);
        this.title = title;
        this.panelClass = panelClass;
        this.handlingComponent = handlingComponent;
        this.initData = initData;
    }
    calcState(metadata) {
        const state = super.calcState(metadata);
        if (state) {
            return state;
        }
    }
}


/***/ }),

/***/ "PfbM":
/*!********************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules/core/models/index.ts ***!
  \********************************************************************/
/*! exports provided: AddAnnotationCommand, RemoveAnnotationCommand, IAnnotationCommandMetadata, ShowHideAnnotationCommand, ViewerToGeojsonCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _annotation_command_data_interface__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./annotation-command-data.interface */ "rLJ8");
/* empty/unused harmony star reexport *//* harmony import */ var _add_annotation_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./add-annotation.command */ "x9FJ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AddAnnotationCommand", function() { return _add_annotation_command__WEBPACK_IMPORTED_MODULE_1__["AddAnnotationCommand"]; });

/* harmony import */ var _remove_annotation_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./remove-annotation.command */ "+gUD");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RemoveAnnotationCommand", function() { return _remove_annotation_command__WEBPACK_IMPORTED_MODULE_2__["RemoveAnnotationCommand"]; });

/* harmony import */ var _annotation_command_metadata_interface__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./annotation-command-metadata.interface */ "xYPF");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IAnnotationCommandMetadata", function() { return _annotation_command_metadata_interface__WEBPACK_IMPORTED_MODULE_3__["IAnnotationCommandMetadata"]; });

/* harmony import */ var _show_hide_annotation_command__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./show-hide-annotation.command */ "0eZ/");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ShowHideAnnotationCommand", function() { return _show_hide_annotation_command__WEBPACK_IMPORTED_MODULE_4__["ShowHideAnnotationCommand"]; });

/* harmony import */ var _viewer_to_geojson_command__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./viewer-to-geojson.command */ "7QCc");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ViewerToGeojsonCommand", function() { return _viewer_to_geojson_command__WEBPACK_IMPORTED_MODULE_5__["ViewerToGeojsonCommand"]; });









/***/ }),

/***/ "QaT7":
/*!*********************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/cornerstone/helpers/index.ts ***!
  \*********************************************************************************/
/*! exports provided: getActiveToolsForElement, getActiveTools, isImageOriginallyInverted, _getEllipseImageCoordinates, _formatArea, getCircleCoords */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getActiveToolsForElement", function() { return getActiveToolsForElement; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getActiveTools", function() { return getActiveTools; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isImageOriginallyInverted", function() { return isImageOriginallyInverted; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_getEllipseImageCoordinates", function() { return _getEllipseImageCoordinates; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_formatArea", function() { return _formatArea; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCircleCoords", function() { return getCircleCoords; });
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cornerstone-tools */ "b09o");
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cornerstone_math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cornerstone-math */ "qCIW");
/* harmony import */ var cornerstone_math__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cornerstone_math__WEBPACK_IMPORTED_MODULE_1__);


const numbersWithCommas = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/numbersWithCommas');
const getActiveToolsForElement = (element, reqMouseButtonMask) => {
    return cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.store.getters.mouseTools().filter((tool) => tool.element === element &&
        tool.mode === 'active' &&
        tool.options.isMouseActive &&
        (reqMouseButtonMask === undefined ||
            // Intersects
            tool.options.mouseButtonMask.some((oneMask) => reqMouseButtonMask.includes(oneMask))));
};
const getActiveTools = (reqMouseButtonMask) => {
    return cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.store.getters.mouseTools().filter((tool) => tool.mode === 'active' &&
        tool.options.isMouseActive &&
        (reqMouseButtonMask === undefined ||
            // Intersects
            tool.options.mouseButtonMask.some((oneMask) => reqMouseButtonMask.includes(oneMask))));
};
const isImageOriginallyInverted = (image) => {
    return image.data.string('x00280004') === 'MONOCHROME1';
};
const _getEllipseImageCoordinates = (startHandle, endHandle) => {
    return {
        left: Math.round(Math.min(startHandle.x, endHandle.x)),
        top: Math.round(Math.min(startHandle.y, endHandle.y)),
        width: Math.round(Math.abs(startHandle.x - endHandle.x)),
        height: Math.round(Math.abs(startHandle.y - endHandle.y)),
    };
};
const _formatArea = (area, hasPixelSpacing) => {
    // This uses Char code 178 for a superscript 2
    const suffix = hasPixelSpacing ? ` mm${String.fromCharCode(178)}` : ` px${String.fromCharCode(178)}`;
    return `Area: ${numbersWithCommas(area.toFixed(2))}${suffix}`;
};
const getCircleCoords = (startHandle, endHandle) => {
    const { distance } = cornerstone_math__WEBPACK_IMPORTED_MODULE_1___default.a.point;
    const radius = distance(startHandle, endHandle);
    return {
        left: Math.floor(Math.min(startHandle.x - radius, endHandle.x)),
        top: Math.floor(Math.min(startHandle.y - radius, endHandle.y)),
        width: radius * 2,
        height: radius * 2,
    };
};


/***/ }),

/***/ "QgyW":
/*!********************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/services/image-viewer-events.service.ts ***!
  \********************************************************************************************/
/*! exports provided: ImageViewerEventsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageViewerEventsService", function() { return ImageViewerEventsService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cornerstone-tools */ "b09o");
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cornerstone-core */ "MNym");
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cornerstone_core__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _cornerstone_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../cornerstone/helpers */ "QaT7");
/* harmony import */ var _cornerstone_metadata_provider__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../cornerstone/metadata-provider */ "M7L5");








const globalConfiguration = cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["getModule"]('globalConfiguration');
class ImageViewerEventsService {
    constructor() {
        this.viewerChange$ = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        // Extract to a config file
        this.generalEventsMap = {
            [cornerstone_core__WEBPACK_IMPORTED_MODULE_3__["EVENTS"].ELEMENT_ENABLED]: "ENABLED_ELEMENT" /* ENABLED_ELEMENT */,
            [cornerstone_core__WEBPACK_IMPORTED_MODULE_3__["EVENTS"].IMAGE_LOADED]: "IMAGE_LOADED" /* IMAGE_LOADED */,
        };
        this.elementEventsMap = {
            [cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["EVENTS"].MEASUREMENT_ADDED]: "MEASUREMENT_ADDED" /* MEASUREMENT_ADDED */,
            [cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["EVENTS"].MEASUREMENT_COMPLETED]: "MEASUREMENT_COMPLETED" /* MEASUREMENT_COMPLETED */,
            [cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["EVENTS"].MEASUREMENT_MODIFIED]: "MEASUREMENT_MODIFIED" /* MEASUREMENT_MODIFIED */,
            [cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["EVENTS"].MEASUREMENT_REMOVED]: "MEASUREMENT_REMOVED" /* MEASUREMENT_REMOVED */,
            [cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["EVENTS"].TOOL_DEACTIVATED]: "TOOL_DEACTIVATED" /* TOOL_DEACTIVATED */,
            [cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["EVENTS"].MOUSE_UP]: "MOUSE_UP" /* MOUSE_UP */,
            [cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["EVENTS"].CLIP_STOPPED]: "CLIP_STOPPED" /* CLIP_STOPPED */,
            [cornerstone_core__WEBPACK_IMPORTED_MODULE_3__["EVENTS"].ELEMENT_RESIZED]: "ELEMENT_RESIZE" /* ELEMENT_RESIZE */,
            [cornerstone_core__WEBPACK_IMPORTED_MODULE_3__["EVENTS"].IMAGE_RENDERED]: "IMAGE_RENDERED" /* IMAGE_RENDERED */,
            [cornerstone_core__WEBPACK_IMPORTED_MODULE_3__["EVENTS"].NEW_IMAGE]: "IMAGE_CHANGED" /* IMAGE_CHANGED */,
            [cornerstone_core__WEBPACK_IMPORTED_MODULE_3__["EVENTS"].IMAGE_CACHE_CHANGED]: "IMAGE_CACHE_CHANGED" /* IMAGE_CACHE_CHANGED */,
        };
        this.bindFunctions = {};
    }
    initGeneralEventListeners(document) {
        this.document = document;
        this.initEventListeners(cornerstone_core__WEBPACK_IMPORTED_MODULE_3__["events"], this.generalEventsMap);
    }
    initElementEventListeners(element) {
        this.initEventListeners(element, this.elementEventsMap);
        this.blockContextMenu(element);
    }
    removeElementEventListeners(element) {
        this.removeEventListeners(element, this.elementEventsMap);
        this.unblockContextMenu(element);
    }
    removeGeneralEventListeners() {
        this.removeEventListeners(cornerstone_core__WEBPACK_IMPORTED_MODULE_3__["events"], this.generalEventsMap);
    }
    getMetadata(element) {
        return {
            viewport: this.getViewportMetadata(element),
            stack: this.getStackMetadata(element),
            viewerId: element.id,
        };
    }
    emitCustomEvent(eventType, element, customData = {}) {
        this.handleEvent(eventType, Object.assign(Object.assign({}, customData), { srcElement: element }));
    }
    imageIdToUrl(imageId) {
        return imageId.replace('wadouri:', '');
    }
    initEventListeners(element, eventsMap) {
        for (const [sourceEventType, targetEventType] of Object.entries(eventsMap)) {
            const existingListeners = element.listeners ? element.listeners[sourceEventType] : null;
            const listenerExists = existingListeners && existingListeners.find((listener) => listener === this.bindFunctions[targetEventType]);
            if (!listenerExists) {
                this.bindFunctions[targetEventType] = this.handleEvent.bind(this, targetEventType);
                element.addEventListener(sourceEventType, this.bindFunctions[targetEventType], { passive: true });
            }
        }
    }
    removeEventListeners(element, eventsMap) {
        for (const [sourceEventType, targetEventType] of Object.entries(eventsMap)) {
            element.removeEventListener(sourceEventType, this.bindFunctions[targetEventType]);
        }
    }
    handleEvent(targetEventType, event) {
        let outputEvent = {};
        const element = event.srcElement;
        if (element) {
            outputEvent = Object.assign({}, this.getMetadata(element));
        }
        outputEvent.detail = event.detail;
        if (event.detail && event.detail.image) {
            outputEvent.image = this.getImageMetadata(event.detail.image.imageId);
            // Exclude 'data' from 'image'
            const _a = event.detail.image, { data } = _a, image = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__rest"])(_a, ["data"]);
            outputEvent.detail.image = image;
        }
        outputEvent.imageUrl = event.imageUrl;
        outputEvent.viewportId = event.viewportId;
        outputEvent.type = targetEventType;
        this.viewerChange$.next(outputEvent);
    }
    getStackMetadata(element) {
        const stackToolState = cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["getToolState"](element, 'stack');
        const currentStack = stackToolState && stackToolState.data.length > 0 ? stackToolState.data[0] : null;
        if (currentStack) {
            const image = cornerstone_core__WEBPACK_IMPORTED_MODULE_3__["getImage"](element);
            if (image) {
                const imageId = image.imageId;
                return Object.assign(Object.assign({}, this.getImageMetadata(imageId)), { sliceIndex: currentStack.currentImageIdIndex + 1, slicesCount: (currentStack.imageIds || []).length });
            }
        }
        return {};
    }
    getImageMetadata(imageId) {
        const dicomMetadata = cornerstone_core__WEBPACK_IMPORTED_MODULE_3__["metaData"].get('sopCommonModule', imageId) || {};
        const seriesMetadata = cornerstone_core__WEBPACK_IMPORTED_MODULE_3__["metaData"].get('generalSeriesModule', imageId) || {};
        return {
            imageId,
            imageUrl: this.imageIdToUrl(imageId),
            studyInstanceUID: seriesMetadata.studyInstanceUID,
            seriesInstanceUID: seriesMetadata.seriesInstanceUID,
            sopInstanceUID: dicomMetadata.sopInstanceUID,
            dicomTags: Object(_cornerstone_metadata_provider__WEBPACK_IMPORTED_MODULE_6__["getDicomTags"])(imageId),
        };
    }
    getViewportMetadata(element) {
        const viewport = cornerstone_core__WEBPACK_IMPORTED_MODULE_3__["getViewport"](element);
        const activeTools = Object(_cornerstone_helpers__WEBPACK_IMPORTED_MODULE_5__["getActiveToolsForElement"])(element, [1]);
        const image = cornerstone_core__WEBPACK_IMPORTED_MODULE_3__["getImage"](element);
        let activeTool;
        if (activeTools && activeTools.length > 0) {
            activeTool = {
                name: activeTools[0].name,
                activeStrategy: activeTools[0].activeStrategy,
            };
        }
        if (viewport) {
            return {
                activeTool,
                invert: Object(_cornerstone_helpers__WEBPACK_IMPORTED_MODULE_5__["isImageOriginallyInverted"])(image) ? !viewport.invert : viewport.invert,
                scale: viewport.scale,
                windowWidth: viewport.voi.windowWidth,
                windowCenter: viewport.voi.windowCenter,
                rotation: viewport.rotation,
                hflip: viewport.hflip,
                vflip: viewport.vflip,
                isClipPlaying: this.isClipPlaying(element),
                fullscreen: this.document.fullscreenElement ? true : false,
                isMetadataOverlayVisible: globalConfiguration.configuration.isMetadataOverlayVisible,
                isAnnotationTextboxVisible: globalConfiguration.configuration.isTextboxVisible,
                isAnnotationsVisible: globalConfiguration.configuration.isAnnotationsVisible,
            };
        }
        return {};
    }
    isClipPlaying(element) {
        const playClipToolData = cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["getToolState"](element, 'playClip');
        return (playClipToolData &&
            playClipToolData.data &&
            playClipToolData.data.length &&
            playClipToolData.data[0].intervalId !== undefined);
    }
    blockContextMenu(element) {
        element.addEventListener('contextmenu', this.preventDefault.bind(this), true);
    }
    unblockContextMenu(element) {
        element.removeEventListener('contextmenu', this.preventDefault.bind(this), true);
    }
    preventDefault(event) {
        event.preventDefault();
    }
}
ImageViewerEventsService.ɵfac = function ImageViewerEventsService_Factory(t) { return new (t || ImageViewerEventsService)(); };
ImageViewerEventsService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: ImageViewerEventsService, factory: ImageViewerEventsService.ɵfac, providedIn: 'root' });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ImageViewerEventsService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "SnOk":
/*!***************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/shared/enums/geometry-types.enum.ts ***!
  \***************************************************************************/
/*! exports provided: GeometryTypeEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GeometryTypeEnum", function() { return GeometryTypeEnum; });
var GeometryTypeEnum;
(function (GeometryTypeEnum) {
    GeometryTypeEnum["GEOJSON"] = "GEOJSON";
    GeometryTypeEnum["CORNERSTONE"] = "CORNERSTONE";
})(GeometryTypeEnum || (GeometryTypeEnum = {}));


/***/ }),

/***/ "SqQm":
/*!****************************************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/viewports-manager/viewport-container/tagsbar/tagsbar.component.ts ***!
  \****************************************************************************************************************/
/*! exports provided: TagsbarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TagsbarComponent", function() { return TagsbarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/icon */ "Tj54");
/* harmony import */ var _tag_tag_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tag/tag.component */ "otqz");





function TagsbarComponent_button_1_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function TagsbarComponent_button_1_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r2.toggleTagsPanel(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "keyboard_arrow_down");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx_r0.tagsPanelOpen ? "down" : "up");
} }
function TagsbarComponent_zebra_viewer_tag_3_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "zebra-viewer-tag", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("tagAction", function TagsbarComponent_zebra_viewer_tag_3_Template_zebra_viewer_tag_tagAction_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r5.onTagAction($event); })("tagClick", function TagsbarComponent_zebra_viewer_tag_3_Template_zebra_viewer_tag_tagClick_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r7.onTagClick($event); })("tagHoverEnter", function TagsbarComponent_zebra_viewer_tag_3_Template_zebra_viewer_tag_tagHoverEnter_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r8.onTagHoverEnter($event); })("tagHoverLeave", function TagsbarComponent_zebra_viewer_tag_3_Template_zebra_viewer_tag_tagHoverLeave_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r9.onTagHoverLeave($event); })("tagDelete", function TagsbarComponent_zebra_viewer_tag_3_Template_zebra_viewer_tag_tagDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r10.onTagDelete($event); })("tagUpdate", function TagsbarComponent_zebra_viewer_tag_3_Template_zebra_viewer_tag_tagUpdate_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r11.onTagUpdate($event); })("tagShow", function TagsbarComponent_zebra_viewer_tag_3_Template_zebra_viewer_tag_tagShow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r12.onTagShow($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tag_r4 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("tag", tag_r4);
} }
const _c0 = function (a0) { return { minimized: a0 }; };
class TagsbarComponent {
    constructor() {
        this.tagAction = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.tagClick = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.tagHoverEnter = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.tagHoverLeave = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.tagDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.tagUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.tagShow = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.tagsPanelOpen = true;
    }
    trackTags(index, item) {
        return item.id;
    }
    onTagAction(event) {
        this.tagAction.emit(event);
    }
    onTagClick(tag) {
        this.activeTag = tag;
        this.tagClick.emit(tag);
    }
    onTagDelete(tag) {
        this.tagDelete.emit(tag);
    }
    onTagUpdate(tag) {
        this.tagUpdate.emit(tag);
    }
    onTagShow(event) {
        this.tagShow.emit(event);
    }
    onTagHoverEnter(event) {
        this.tagHoverEnter.emit(event);
    }
    onTagHoverLeave(event) {
        this.tagHoverLeave.emit(event);
    }
    toggleTagsPanel() {
        this.tagsPanelOpen = !this.tagsPanelOpen;
    }
}
TagsbarComponent.ɵfac = function TagsbarComponent_Factory(t) { return new (t || TagsbarComponent)(); };
TagsbarComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: TagsbarComponent, selectors: [["zebra-viewer-tagsbar"]], inputs: { tags: "tags" }, outputs: { tagAction: "tagAction", tagClick: "tagClick", tagHoverEnter: "tagHoverEnter", tagHoverLeave: "tagHoverLeave", tagDelete: "tagDelete", tagUpdate: "tagUpdate", tagShow: "tagShow" }, decls: 4, vars: 6, consts: [[1, "zm-tags-panel"], ["class", "panel-toggler", "value", "Toggle tags panel", 3, "ngClass", "click", 4, "ngIf"], [1, "tags-list", 3, "ngClass"], ["class", "tag", 3, "tag", "tagAction", "tagClick", "tagHoverEnter", "tagHoverLeave", "tagDelete", "tagUpdate", "tagShow", 4, "ngFor", "ngForOf", "ngForTrackBy"], ["value", "Toggle tags panel", 1, "panel-toggler", 3, "ngClass", "click"], [1, "tag", 3, "tag", "tagAction", "tagClick", "tagHoverEnter", "tagHoverLeave", "tagDelete", "tagUpdate", "tagShow"]], template: function TagsbarComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "section", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, TagsbarComponent_button_1_Template, 3, 1, "button", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, TagsbarComponent_zebra_viewer_tag_3_Template, 1, 1, "zebra-viewer-tag", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.tags && ctx.tags.length > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](4, _c0, !ctx.tagsPanelOpen));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.tags)("ngForTrackBy", ctx.trackTags);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgForOf"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_2__["MatIcon"], _tag_tag_component__WEBPACK_IMPORTED_MODULE_3__["TagComponent"]], styles: ["[_nghost-%COMP%] {\n  display: contents;\n}\n\n.zm-tags-panel[_ngcontent-%COMP%] {\n  box-sizing: border-box;\n  width: 100%;\n  height: auto;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  align-items: flex-end;\n  pointer-events: none;\n}\n\n.tags-list[_ngcontent-%COMP%] {\n  background: rgba(0, 0, 0, 0.8);\n  display: flex;\n  align-items: flex-start;\n  flex-wrap: wrap;\n  max-height: 62.4px;\n  overflow-y: auto;\n  transform: translateY(0);\n  transition: transform 0.5s ease;\n  pointer-events: auto;\n}\n\n.tags-list[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar {\n  display: initial;\n}\n\n.tags-list.minimized[_ngcontent-%COMP%] {\n  transform: translateY(102%);\n}\n\n.tag[_ngcontent-%COMP%] {\n  cursor: pointer;\n}\n\n.panel-toggler[_ngcontent-%COMP%] {\n  color: #fff;\n  cursor: pointer;\n  pointer-events: auto;\n}\n\n.panel-toggler.up[_ngcontent-%COMP%] {\n  transform: rotate(180deg);\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3RhZ3NiYXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0E7RUFDQyxpQkFBQTtBQUZEOztBQUtBO0VBQ0Msc0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUVBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsYUFBQTtFQUNBLHFCQUFBO0VBQ0Esb0JBQUE7QUFIRDs7QUFNQTtFQUNDLDhCQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx3QkFBQTtFQUNBLCtCQUFBO0VBQ0Esb0JBQUE7QUFIRDs7QUFLQztFQUNDLGdCQUFBO0FBSEY7O0FBTUM7RUFDQywyQkFBQTtBQUpGOztBQVFBO0VBQ0MsZUFBQTtBQUxEOztBQVFBO0VBQ0MsV0FBQTtFQUNBLGVBQUE7RUFDQSxvQkFBQTtBQUxEOztBQU9DO0VBQ0MseUJBQUE7QUFMRiIsImZpbGUiOiJ0YWdzYmFyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAncHJvamVjdHMvemVicmEtdmlld2VyL3NyYy9zY3NzL3ZhcmlhYmxlcyc7XG5AaW1wb3J0ICdwcm9qZWN0cy96ZWJyYS12aWV3ZXIvc3JjL3Njc3MvbWl4aW5zJztcblxuOmhvc3Qge1xuXHRkaXNwbGF5OiBjb250ZW50cztcbn1cblxuLnptLXRhZ3MtcGFuZWwge1xuXHRib3gtc2l6aW5nOiBib3JkZXItYm94O1xuXHR3aWR0aDogMTAwJTtcblx0aGVpZ2h0OiBhdXRvO1xuXHQvL21heC1oZWlnaHQ6IDYwcHggLSAycHg7IC8vIHNhbWUgaGVpZ2h0IGFzIHRoZSB0YXNrLW5hdmlnYXRvciBtaW51cyBib3JkZXJcblx0cG9zaXRpb246IGFic29sdXRlO1xuXHRib3R0b206IDA7XG5cdGxlZnQ6IDA7XG5cdHJpZ2h0OiAwO1xuXHRkaXNwbGF5OiBmbGV4O1xuXHRhbGlnbi1pdGVtczogZmxleC1lbmQ7XG5cdHBvaW50ZXItZXZlbnRzOiBub25lO1xufVxuXG4udGFncy1saXN0IHtcblx0YmFja2dyb3VuZDogdHJhbnNwYXJlbnRpemUoIzAwMCwgMC4yKTtcblx0ZGlzcGxheTogZmxleDtcblx0YWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG5cdGZsZXgtd3JhcDogd3JhcDtcblx0bWF4LWhlaWdodDogMi42ICogJHRhZy1oZWlnaHQ7XG5cdG92ZXJmbG93LXk6IGF1dG87XG5cdHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcblx0dHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuNXMgZWFzZTtcblx0cG9pbnRlci1ldmVudHM6IGF1dG87XG5cblx0Ojotd2Via2l0LXNjcm9sbGJhciB7XG5cdFx0ZGlzcGxheTogaW5pdGlhbDtcblx0fVxuXG5cdCYubWluaW1pemVkIHtcblx0XHR0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTAyJSk7XG5cdH1cbn1cblxuLnRhZyB7XG5cdGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLnBhbmVsLXRvZ2dsZXIge1xuXHRjb2xvcjogI2ZmZjtcblx0Y3Vyc29yOiBwb2ludGVyO1xuXHRwb2ludGVyLWV2ZW50czogYXV0bztcblxuXHQmLnVwIHtcblx0XHR0cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpO1xuXHR9XG59XG4iXX0= */"], changeDetection: 0 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TagsbarComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'zebra-viewer-tagsbar',
                templateUrl: './tagsbar.component.html',
                styleUrls: ['./tagsbar.component.scss'],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
            }]
    }], function () { return []; }, { tags: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], tagAction: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], tagClick: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], tagHoverEnter: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], tagHoverLeave: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], tagDelete: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], tagUpdate: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], tagShow: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "Utg1":
/*!***********************************************************************************************************!*\
  !*** ./projects/zebra-viewer-standalone/src/app/viewer-dynamic-modules/test-module/test-module.module.ts ***!
  \***********************************************************************************************************/
/*! exports provided: TestModuleModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TestModuleModule", function() { return TestModuleModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zebra/viewer */ "VgmR");
/* harmony import */ var _test_command_entry_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./test-command-entry.service */ "fX4X");






class TestModuleModule {
    constructor(moduleManagerService, testCommandEntryService) {
        this.moduleManagerService = moduleManagerService;
        this.testCommandEntryService = testCommandEntryService;
        moduleManagerService.registerModule(testCommandEntryService.getModuleRegistrationObject());
    }
}
TestModuleModule.ɵfac = function TestModuleModule_Factory(t) { return new (t || TestModuleModule)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["ModulesManagerService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_test_command_entry_service__WEBPACK_IMPORTED_MODULE_3__["TestCommandEntryService"])); };
TestModuleModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: TestModuleModule });
TestModuleModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ providers: [], imports: [[_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["ModulesManagerModule"], _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["EventsManagerModule"]]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](TestModuleModule, { imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["ModulesManagerModule"], _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["EventsManagerModule"]] }); })();
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TestModuleModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                declarations: [],
                imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["ModulesManagerModule"], _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["EventsManagerModule"]],
                providers: [],
            }]
    }], function () { return [{ type: _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["ModulesManagerService"] }, { type: _test_command_entry_service__WEBPACK_IMPORTED_MODULE_3__["TestCommandEntryService"] }]; }, null); })();


/***/ }),

/***/ "VgmR":
/*!*************************************************!*\
  !*** ./projects/zebra-viewer/src/public-api.ts ***!
  \*************************************************/
/*! exports provided: TagActionsEnum, Tag, Tool, DialogTool, SwitchTool, CommandTool, ToolAction, Command, AddAnnotationCommand, RemoveAnnotationCommand, IAnnotationCommandMetadata, ShowHideAnnotationCommand, ViewerToGeojsonCommand, ViewportTypeEnum, TagTypeEnum, IconTypeEnum, RelevantViewportsPolicyEnum, ModuleManagerEventsEnum, GeometryTypeEnum, CoreCommandsEventsEnum, IBaseCommand, GeoTranslationService, TagService, UtilitiesService, ImageViewerSegmentationService, ViewerApiService, ModulesManagerService, EventsManagerService, ViewportMetadataService, ViewerModule, EditorModule, SharedModule, ModulesManagerModule, EventsManagerModule, baseCommandValidator, ToolsEnum, Tools, defaultToolbarToolsConfig, GroupByPipe, RangePipe, SafeHtmlPipe, ToolbarComponent, ToolComponent, EditorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _lib_editor_shared_enums_tag_actions_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/editor/shared/enums/tag-actions.enum */ "w4/a");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TagActionsEnum", function() { return _lib_editor_shared_enums_tag_actions_enum__WEBPACK_IMPORTED_MODULE_0__["TagActionsEnum"]; });

/* harmony import */ var _lib_editor_shared_models_tag_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/editor/shared/models/tag.model */ "M188");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Tag", function() { return _lib_editor_shared_models_tag_model__WEBPACK_IMPORTED_MODULE_1__["Tag"]; });

/* harmony import */ var _lib_editor_shared_models_tool_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/editor/shared/models/tool.model */ "oicP");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Tool", function() { return _lib_editor_shared_models_tool_model__WEBPACK_IMPORTED_MODULE_2__["Tool"]; });

/* harmony import */ var _lib_editor_shared_models_dialog_tool_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/editor/shared/models/dialog-tool.model */ "Omv4");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DialogTool", function() { return _lib_editor_shared_models_dialog_tool_model__WEBPACK_IMPORTED_MODULE_3__["DialogTool"]; });

/* harmony import */ var _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/editor/shared/models/switch-tool.model */ "bm+c");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SwitchTool", function() { return _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_4__["SwitchTool"]; });

/* harmony import */ var _lib_editor_shared_models_command_tool_model__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./lib/editor/shared/models/command-tool.model */ "+1r3");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CommandTool", function() { return _lib_editor_shared_models_command_tool_model__WEBPACK_IMPORTED_MODULE_5__["CommandTool"]; });

/* harmony import */ var _lib_editor_shared_models_tool_action_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./lib/editor/shared/models/tool-action.model */ "vvF0");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ToolAction", function() { return _lib_editor_shared_models_tool_action_model__WEBPACK_IMPORTED_MODULE_6__["ToolAction"]; });

/* harmony import */ var _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./lib/editor/shared/models/command.model */ "lxft");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Command", function() { return _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_7__["Command"]; });

/* harmony import */ var _lib_modules_core_models__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./lib/modules/core/models */ "PfbM");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AddAnnotationCommand", function() { return _lib_modules_core_models__WEBPACK_IMPORTED_MODULE_8__["AddAnnotationCommand"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RemoveAnnotationCommand", function() { return _lib_modules_core_models__WEBPACK_IMPORTED_MODULE_8__["RemoveAnnotationCommand"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IAnnotationCommandMetadata", function() { return _lib_modules_core_models__WEBPACK_IMPORTED_MODULE_8__["IAnnotationCommandMetadata"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ShowHideAnnotationCommand", function() { return _lib_modules_core_models__WEBPACK_IMPORTED_MODULE_8__["ShowHideAnnotationCommand"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ViewerToGeojsonCommand", function() { return _lib_modules_core_models__WEBPACK_IMPORTED_MODULE_8__["ViewerToGeojsonCommand"]; });

/* harmony import */ var _lib_editor_shared_enums_viewport_type_enum__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./lib/editor/shared/enums/viewport-type.enum */ "jNum");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ViewportTypeEnum", function() { return _lib_editor_shared_enums_viewport_type_enum__WEBPACK_IMPORTED_MODULE_9__["ViewportTypeEnum"]; });

/* harmony import */ var _lib_editor_shared_enums_tag_type_enum__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./lib/editor/shared/enums/tag-type.enum */ "IDrQ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TagTypeEnum", function() { return _lib_editor_shared_enums_tag_type_enum__WEBPACK_IMPORTED_MODULE_10__["TagTypeEnum"]; });

/* harmony import */ var _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./lib/editor/shared/enums/icon-type.enum */ "fCM6");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IconTypeEnum", function() { return _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_11__["IconTypeEnum"]; });

/* harmony import */ var _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./lib/editor/shared/enums/RelevantViewportsPolicyEnum */ "+neF");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RelevantViewportsPolicyEnum", function() { return _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_12__["RelevantViewportsPolicyEnum"]; });

/* harmony import */ var _lib_modules_manager_module_manager_events_enum__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./lib/modules-manager/module-manager-events.enum */ "oHjC");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ModuleManagerEventsEnum", function() { return _lib_modules_manager_module_manager_events_enum__WEBPACK_IMPORTED_MODULE_13__["ModuleManagerEventsEnum"]; });

/* harmony import */ var _lib_shared_enums_geometry_types_enum__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./lib/shared/enums/geometry-types.enum */ "SnOk");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GeometryTypeEnum", function() { return _lib_shared_enums_geometry_types_enum__WEBPACK_IMPORTED_MODULE_14__["GeometryTypeEnum"]; });

/* harmony import */ var _lib_modules_exported_commands_enum__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./lib/modules/exported-commands.enum */ "WyWm");
/* empty/unused harmony star reexport *//* harmony import */ var _lib_modules_core_core_commands_events_enum__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./lib/modules/core/core-commands-events.enum */ "H6th");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CoreCommandsEventsEnum", function() { return _lib_modules_core_core_commands_events_enum__WEBPACK_IMPORTED_MODULE_16__["CoreCommandsEventsEnum"]; });

/* harmony import */ var _lib_shared_interfaces_base_command_interface__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./lib/shared/interfaces/base-command.interface */ "obi/");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IBaseCommand", function() { return _lib_shared_interfaces_base_command_interface__WEBPACK_IMPORTED_MODULE_17__["IBaseCommand"]; });

/* harmony import */ var _lib_editor_services_geo_translation_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./lib/editor/services/geo-translation.service */ "vW8T");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GeoTranslationService", function() { return _lib_editor_services_geo_translation_service__WEBPACK_IMPORTED_MODULE_18__["GeoTranslationService"]; });

/* harmony import */ var _lib_editor_services_tag_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./lib/editor/services/tag.service */ "KlcW");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TagService", function() { return _lib_editor_services_tag_service__WEBPACK_IMPORTED_MODULE_19__["TagService"]; });

/* harmony import */ var _lib_editor_services_utilities_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./lib/editor/services/utilities.service */ "oeIr");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UtilitiesService", function() { return _lib_editor_services_utilities_service__WEBPACK_IMPORTED_MODULE_20__["UtilitiesService"]; });

/* harmony import */ var _lib_image_viewer_services_image_viewer_segmentation_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./lib/image-viewer/services/image-viewer-segmentation.service */ "k2Bx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ImageViewerSegmentationService", function() { return _lib_image_viewer_services_image_viewer_segmentation_service__WEBPACK_IMPORTED_MODULE_21__["ImageViewerSegmentationService"]; });

/* harmony import */ var _lib_viewer_api_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./lib/viewer-api.service */ "k/mX");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ViewerApiService", function() { return _lib_viewer_api_service__WEBPACK_IMPORTED_MODULE_22__["ViewerApiService"]; });

/* harmony import */ var _lib_modules_manager_modules_manager_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./lib/modules-manager/modules-manager.service */ "+j+e");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ModulesManagerService", function() { return _lib_modules_manager_modules_manager_service__WEBPACK_IMPORTED_MODULE_23__["ModulesManagerService"]; });

/* harmony import */ var _lib_events_manager_events_manager_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./lib/events-manager/events-manager.service */ "Hl9B");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "EventsManagerService", function() { return _lib_events_manager_events_manager_service__WEBPACK_IMPORTED_MODULE_24__["EventsManagerService"]; });

/* harmony import */ var _lib_editor_services_viewport_metadata_service__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./lib/editor/services/viewport-metadata.service */ "Zb51");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ViewportMetadataService", function() { return _lib_editor_services_viewport_metadata_service__WEBPACK_IMPORTED_MODULE_25__["ViewportMetadataService"]; });

/* harmony import */ var _lib_viewer_module__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./lib/viewer.module */ "Lx3z");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ViewerModule", function() { return _lib_viewer_module__WEBPACK_IMPORTED_MODULE_26__["ViewerModule"]; });

/* harmony import */ var _lib_editor_editor_module__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./lib/editor/editor.module */ "1bVQ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "EditorModule", function() { return _lib_editor_editor_module__WEBPACK_IMPORTED_MODULE_27__["EditorModule"]; });

/* harmony import */ var _lib_shared_shared_module__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./lib/shared/shared.module */ "msKL");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SharedModule", function() { return _lib_shared_shared_module__WEBPACK_IMPORTED_MODULE_28__["SharedModule"]; });

/* harmony import */ var _lib_modules_manager_modules_manager_module__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./lib/modules-manager/modules-manager.module */ "cCsM");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ModulesManagerModule", function() { return _lib_modules_manager_modules_manager_module__WEBPACK_IMPORTED_MODULE_29__["ModulesManagerModule"]; });

/* harmony import */ var _lib_events_manager_events_manager_module__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./lib/events-manager/events-manager.module */ "qz/S");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "EventsManagerModule", function() { return _lib_events_manager_events_manager_module__WEBPACK_IMPORTED_MODULE_30__["EventsManagerModule"]; });

/* harmony import */ var _lib_modules_manager_common__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./lib/modules-manager/common */ "Bsmm");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "baseCommandValidator", function() { return _lib_modules_manager_common__WEBPACK_IMPORTED_MODULE_31__["baseCommandValidator"]; });

/* harmony import */ var _lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./lib/editor/shared/enums/tools.enum */ "IjAf");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ToolsEnum", function() { return _lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_32__["ToolsEnum"]; });

/* harmony import */ var _config_tools_config__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./config/tools.config */ "kohe");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Tools", function() { return _config_tools_config__WEBPACK_IMPORTED_MODULE_33__["AllToolsConfig"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultToolbarToolsConfig", function() { return _config_tools_config__WEBPACK_IMPORTED_MODULE_33__["defaultToolbarToolsConfig"]; });

/* harmony import */ var _lib_shared_pipes_group_by_pipe__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./lib/shared/pipes/group-by.pipe */ "INls");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GroupByPipe", function() { return _lib_shared_pipes_group_by_pipe__WEBPACK_IMPORTED_MODULE_34__["GroupByPipe"]; });

/* harmony import */ var _lib_shared_pipes_range_pipe__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./lib/shared/pipes/range.pipe */ "2bEH");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RangePipe", function() { return _lib_shared_pipes_range_pipe__WEBPACK_IMPORTED_MODULE_35__["RangePipe"]; });

/* harmony import */ var _lib_shared_pipes_safe_html_pipe__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./lib/shared/pipes/safe-html.pipe */ "gDIn");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SafeHtmlPipe", function() { return _lib_shared_pipes_safe_html_pipe__WEBPACK_IMPORTED_MODULE_36__["SafeHtmlPipe"]; });

/* harmony import */ var _lib_editor_toolbar_toolbar_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./lib/editor/toolbar/toolbar.component */ "knDV");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ToolbarComponent", function() { return _lib_editor_toolbar_toolbar_component__WEBPACK_IMPORTED_MODULE_37__["ToolbarComponent"]; });

/* harmony import */ var _lib_editor_toolbar_tool_tool_component__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./lib/editor/toolbar/tool/tool.component */ "F9an");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ToolComponent", function() { return _lib_editor_toolbar_tool_tool_component__WEBPACK_IMPORTED_MODULE_38__["ToolComponent"]; });

/* harmony import */ var _lib_editor_editor_component__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./lib/editor/editor.component */ "007k");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "EditorComponent", function() { return _lib_editor_editor_component__WEBPACK_IMPORTED_MODULE_39__["EditorComponent"]; });

/*
 * Public API Surface of viewer
 */


















// Services








// Modules





// Utilities

// Configurations and option


// Pipes



// Components





/***/ }),

/***/ "VmWJ":
/*!********************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/services/image-viewer-stream.service.ts ***!
  \********************************************************************************************/
/*! exports provided: ImageViewerStreamService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageViewerStreamService", function() { return ImageViewerStreamService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var tar_stream_extract__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tar-stream/extract */ "TtSR");
/* harmony import */ var tar_stream_extract__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(tar_stream_extract__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var rxjs_fetch__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/fetch */ "sIdr");
/* harmony import */ var dicom_parser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! dicom-parser */ "JX+3");
/* harmony import */ var dicom_parser__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(dicom_parser__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cornerstone-core */ "MNym");
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(cornerstone_core__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var readable_stream__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! readable-stream */ "YuV+");
/* harmony import */ var readable_stream__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(readable_stream__WEBPACK_IMPORTED_MODULE_8__);











// Change the name to ImageViewerDataLoaderService
class ImageViewerStreamService {
    constructor() {
        this.unsubscribe$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        this.requests = {};
    }
    loadImages(urls, requestId = 'global', scheme = 'wadouri', headers = {}) {
        let nextUrlIndex = 0;
        let nextImageIndex = 0;
        const downloadedImages = {};
        this.abort(requestId);
        this.requests[requestId] = {
            abortController: new AbortController(),
            urls,
        };
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(urls).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["mergeMap"])((url, index) => {
            return this.loadImagesFromUrl(url, index, scheme, requestId, headers).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["tap"])((result) => {
                if (result.isLast) {
                    downloadedImages[index].completed = true;
                }
                else {
                    downloadedImages[index] = downloadedImages[index] || {
                        completed: false,
                        images: [],
                    };
                    downloadedImages[index].images.push(result);
                }
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])((err) => {
                const message = err && err.message ? err.message : err;
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["throwError"])(`Could not load image from url: ${url} due to error: ${message}`);
            }));
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["concatMap"])(() => {
            const sequenceResult = this.getRelevantImagesByOrder(downloadedImages, nextUrlIndex, nextImageIndex);
            nextImageIndex = sequenceResult.nextImageIndex;
            nextUrlIndex = sequenceResult.nextUrlIndex;
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(sequenceResult.sequence);
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this.unsubscribe$));
    }
    reset() {
        this.unsubscribe$.next();
        this.abortAll();
    }
    abort(requestId) {
        if (this.requests[requestId]) {
            if (!this.requests[requestId].abortController.signal.aborted) {
                this.requests[requestId].abortController.abort();
            }
            delete this.requests[requestId];
        }
    }
    abortAll() {
        Object.values(this.requests).forEach((request) => {
            request.abortController.abort();
        });
        this.requests = {};
    }
    streamImages(url, requestId, headers = {}) {
        const signal = this.requests[requestId].abortController.signal;
        const aborted$ = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["fromEvent"])(signal, 'abort').pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["take"])(1));
        let totalBytes;
        let isTar = false;
        return Object(rxjs_fetch__WEBPACK_IMPORTED_MODULE_5__["fromFetch"])(url, { signal, mode: 'cors', headers }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["tap"])((res) => {
            totalBytes = parseInt(res.headers.get('Content-Length'), 10);
            if (!res.ok) {
                throw new Error(`Error ${res.status} - ${res.statusText}`);
            }
            isTar = this.isTarStream(url, res);
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["switchMap"])((res) => Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["iif"])(() => isTar, this.parseTarStream(res), this.parseSingleFile(res))), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["concatMap"])(({ data, readBytes }) => {
            return this.getSopInstanceUid(data).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])((sopInstanceUid) => {
                return {
                    url: isTar ? `${url}/dcm/${sopInstanceUid}` : url,
                    data,
                    readBytes,
                    totalBytes,
                };
            }));
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["retry"])(1), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["merge"])(aborted$, this.unsubscribe$)));
    }
    parseSingleFile(res) {
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["defer"])(() => Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(res.arrayBuffer()).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])((buffer) => ({
            data: new Uint8Array(buffer),
            readBytes: buffer.byteLength,
        }))));
    }
    parseTarStream(response) {
        return new rxjs__WEBPACK_IMPORTED_MODULE_3__["Observable"]((observer) => {
            let readBytes = 0;
            const extract = tar_stream_extract__WEBPACK_IMPORTED_MODULE_2___default()();
            const reader = response.body.getReader();
            const readable = this.responseToReadable(reader);
            extract.Writable = new readable_stream__WEBPACK_IMPORTED_MODULE_8__["Writable"]();
            extract.on('entry', (header, stream, next) => {
                const bufferArr = [];
                stream.on('data', (data) => {
                    readBytes += data.byteLength;
                    bufferArr.push(data);
                });
                stream.on('end', () => {
                    const data = Buffer.concat(bufferArr);
                    observer.next({ data, readBytes });
                    next();
                });
                stream.resume();
            });
            extract.on('finish', () => {
                observer.complete();
            });
            extract.on('error', (err) => {
                extract.destroy();
                observer.error(err);
                observer.complete();
            });
            readable.pipe(extract);
            return () => {
                reader.cancel();
            };
        });
    }
    responseToReadable(reader) {
        const rs = new readable_stream__WEBPACK_IMPORTED_MODULE_8__["Readable"]();
        rs._read = () => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const result = yield reader.read();
            if (!result.done) {
                rs.push(Buffer.from(result.value));
            }
            else {
                rs.push(null);
                return;
            }
        });
        return rs;
    }
    isTarStream(url, response) {
        return response.headers.get('x-amz-meta-bundle') === 'true' || this.isSeriesUrl(url) || url.endsWith('tar.gz');
    }
    isSeriesUrl(url) {
        return url && !!url.match('dataSource/[^/]+/study/[^/]+/series/[^/]+$');
    }
    getSopInstanceUid(data) {
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(dicom_parser__WEBPACK_IMPORTED_MODULE_6__["parseDicom"](data)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])((dataSet) => dataSet.string('x00080018')));
    }
    loadImageToCornerstone(url, data, scheme) {
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(cornerstone_core__WEBPACK_IMPORTED_MODULE_7___default.a.loadImage(`${scheme}:${url}`, {
            loader: () => Promise.resolve(data),
        }));
    }
    getRelevantImagesByOrder(downloadedImages, nextUrlIndex, nextImageIndex) {
        const sequence = [];
        let isSequetial = true;
        while (isSequetial) {
            const downloadedObj = downloadedImages[nextUrlIndex];
            if (downloadedObj) {
                while (nextImageIndex < downloadedObj.images.length) {
                    sequence.push(downloadedObj.images[nextImageIndex]);
                    nextImageIndex++;
                }
                if (downloadedObj.completed) {
                    nextImageIndex = 0;
                    nextUrlIndex++;
                }
            }
            isSequetial = downloadedObj && downloadedObj.completed;
        }
        return { sequence, nextUrlIndex, nextImageIndex };
    }
    loadImagesFromUrl(url, index, scheme, requestId, headers) {
        return new rxjs__WEBPACK_IMPORTED_MODULE_3__["Observable"]((observer) => {
            let lastResult;
            return this.streamImages(url, requestId, headers)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this.unsubscribe$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["concatMap"])((result) => this.loadImageToCornerstone(result.url, result.data, scheme).pipe(
            // The 'tap' is used for allowing windowing in images that have voiLUT (cornerstone limitation)
            Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["tap"])((image) => {
                if (image.voiLUT) {
                    image.voiLUT = undefined;
                }
                return image;
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])((image) => ({
                image,
                index,
                isLast: false,
                totalBytes: result.totalBytes,
                readBytes: result.readBytes,
            })))))
                .subscribe({
                next: (result) => {
                    lastResult = result;
                    observer.next(result);
                },
                complete: () => {
                    if (lastResult) {
                        observer.next(Object.assign(Object.assign({}, lastResult), { isLast: true }));
                    }
                    observer.complete();
                },
                error: (err) => {
                    observer.error(err);
                },
            });
        });
    }
}
ImageViewerStreamService.ɵfac = function ImageViewerStreamService_Factory(t) { return new (t || ImageViewerStreamService)(); };
ImageViewerStreamService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: ImageViewerStreamService, factory: ImageViewerStreamService.ɵfac, providedIn: 'root' });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ImageViewerStreamService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "WQfN":
/*!************************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/services/translators/agatston-score.translator.ts ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return AgatstonScoreTranslator; });
/* harmony import */ var _turf_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @turf/helpers */ "hPoO");
/* harmony import */ var _freehand_roi_translator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./freehand-roi.translator */ "4ZRW");


class AgatstonScoreTranslator {
    static getAsCornerstone(collection) {
        const roiFeature = collection.features[0];
        const csObj = _freehand_roi_translator__WEBPACK_IMPORTED_MODULE_1__["default"].getAsCornerstone(Object(_turf_helpers__WEBPACK_IMPORTED_MODULE_0__["featureCollection"])([roiFeature]));
        csObj.lesions = collection.features
            .filter((feature) => feature.properties.type === 'lesion')
            .map(this.getLesionAsCornerstone);
        return csObj;
    }
    static getAsGeoJson(annotation) {
        const roiFeature = _freehand_roi_translator__WEBPACK_IMPORTED_MODULE_1__["default"].getAsGeoJson(annotation).features[0];
        const { roiAgatstonScore, lesionsCount, huThreshold } = annotation;
        roiFeature.properties = {
            toolName: annotation.toolName,
            type: 'roi',
            roiAgatstonScore,
            huThreshold,
            lesionsCount,
        };
        return Object(_turf_helpers__WEBPACK_IMPORTED_MODULE_0__["featureCollection"])([roiFeature, ...annotation.lesions.map(this.getLesionAsGeoJson)]);
    }
    static getLesionAsGeoJson(lesion) {
        const { agatstonUnit, areaMM, maxHu } = lesion;
        const coordinatesArr = [lesion.polygon.outside, ...(lesion.polygon.rings || [])];
        return {
            type: 'Feature',
            geometry: {
                type: 'GeometryCollection',
                geometries: [
                    {
                        type: 'MultiPoint',
                        coordinates: lesion.pixels.map((pixel) => [pixel.x, pixel.y]),
                    },
                    {
                        type: 'Polygon',
                        coordinates: coordinatesArr.map((coords) => coords.map((point) => [point.x, point.y])),
                    },
                ],
            },
            properties: {
                type: 'lesion',
                agatstonUnit,
                areaMM,
                maxHu,
            },
        };
    }
    static getLesionAsCornerstone(lesion) {
        const { agatstonUnit, areaMM, maxHu } = lesion.properties;
        let pixels = [];
        let polygon = {};
        const multiPointGeometry = lesion.geometry.geometries.find((geometry) => geometry.type === 'MultiPoint');
        const polygonGeometry = lesion.geometry.geometries.find((geometry) => geometry.type === 'Polygon');
        if (multiPointGeometry) {
            pixels = multiPointGeometry.coordinates.map((pixel) => ({
                x: pixel[0],
                y: pixel[1],
            }));
        }
        if (polygonGeometry) {
            polygon = {
                outside: polygonGeometry.coordinates[0].map((point) => ({
                    x: point[0],
                    y: point[1],
                })),
                rings: polygonGeometry.coordinates.slice(1).map((ringCoords) => ringCoords.map((point) => ({
                    x: point[0],
                    y: point[1],
                }))),
            };
        }
        return {
            agatstonUnit,
            areaMM,
            maxHu,
            pixels,
            polygon,
        };
    }
}


/***/ }),

/***/ "WyWm":
/*!*************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules/exported-commands.enum.ts ***!
  \*************************************************************************/
/*! exports provided: GeometryTypeEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _shared_enums_geometry_types_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../shared/enums/geometry-types.enum */ "SnOk");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GeometryTypeEnum", function() { return _shared_enums_geometry_types_enum__WEBPACK_IMPORTED_MODULE_0__["GeometryTypeEnum"]; });




/***/ }),

/***/ "XT7i":
/*!***************************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/metadata-overlay/metadata-overlay.component.ts ***!
  \***************************************************************************************************/
/*! exports provided: MetadataOverlayComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetadataOverlayComponent", function() { return MetadataOverlayComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _shared_services_config_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/services/config.service */ "AZUm");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "SVse");






function MetadataOverlayComponent_p_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"](" Patient: ", ctx_r0.overlayData.patientAge || "?", "Y ", ctx_r0.Gender[ctx_r0.overlayData.patientSex], " ");
} }
function MetadataOverlayComponent_p_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("Study Date: ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 1, ctx_r1.overlayData.studyDate, "yyyy-MM-dd"), "");
} }
function MetadataOverlayComponent_p_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"](" Slice Thickness/Increment: ", ctx_r2.overlayData.sliceThickness, "mm/", ctx_r2.overlayData.sliceIncrement || "?", "mm ");
} }
function MetadataOverlayComponent_p_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("Image Type: ", ctx_r3.overlayData.imageType, "");
} }
function MetadataOverlayComponent_p_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("Zoom: ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 1, ctx_r4.overlayData == null ? null : ctx_r4.overlayData.scale, "1.0-2"), "");
} }
function MetadataOverlayComponent_p_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("Slice Number: ", ctx_r5.overlayData.instanceNumber, "");
} }
function MetadataOverlayComponent_p_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("Series Number: ", ctx_r6.overlayData.seriesNumber, "");
} }
function MetadataOverlayComponent_p_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"]("", ctx_r7.overlayData == null ? null : ctx_r7.overlayData.sliceIndex, "/", ctx_r7.overlayData == null ? null : ctx_r7.overlayData.slicesCount, "");
} }
function MetadataOverlayComponent_p_13_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"](" WW/WC: ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 2, ctx_r8.overlayData == null ? null : ctx_r8.overlayData.windowWidth, "1.0-0"), "/", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](3, 5, ctx_r8.overlayData == null ? null : ctx_r8.overlayData.windowCenter, "1.0-0"), " ");
} }
var Gender;
(function (Gender) {
    Gender["M"] = "Male";
    Gender["F"] = "Female";
    Gender["O"] = "Other";
})(Gender || (Gender = {}));
class MetadataOverlayComponent {
    constructor(configService) {
        this.configService = configService;
        this.Gender = Gender;
        this.unsubscribe$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
    }
    ngOnInit() {
        this.configService
            .getConfig()
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["takeUntil"])(this.unsubscribe$))
            .subscribe((config) => {
            this.config = null;
            if (config.imageOverlay && config.imageOverlay.length > 0) {
                this.config = {};
                config.imageOverlay.forEach((item) => (this.config[item] = true));
            }
        });
    }
    ngOnDestroy() {
        this.unsubscribe$.next();
        this.unsubscribe$.complete();
    }
}
MetadataOverlayComponent.ɵfac = function MetadataOverlayComponent_Factory(t) { return new (t || MetadataOverlayComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_shared_services_config_service__WEBPACK_IMPORTED_MODULE_3__["ConfigService"])); };
MetadataOverlayComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: MetadataOverlayComponent, selectors: [["zebra-viewer-metadata-overlay"]], inputs: { overlayData: "overlayData" }, decls: 14, vars: 11, consts: [[1, "overlay-container"], ["id", "topleft"], [4, "ngIf"], ["id", "topright"], ["id", "bottomright", 3, "hidden"], ["id", "bottomleft", 3, "hidden"]], template: function MetadataOverlayComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, MetadataOverlayComponent_p_2_Template, 2, 2, "p", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, MetadataOverlayComponent_p_3_Template, 3, 4, "p", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, MetadataOverlayComponent_p_5_Template, 2, 2, "p", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, MetadataOverlayComponent_p_6_Template, 2, 1, "p", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, MetadataOverlayComponent_p_8_Template, 3, 4, "p", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, MetadataOverlayComponent_p_10_Template, 2, 1, "p", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, MetadataOverlayComponent_p_11_Template, 2, 1, "p", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](12, MetadataOverlayComponent_p_12_Template, 2, 2, "p", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](13, MetadataOverlayComponent_p_13_Template, 4, 8, "p", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.config || ctx.config.PATIENT);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.config || ctx.config.STUDY_DATE);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.config || ctx.config.SLICE_THICKNESS_INCREMENT);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.config || ctx.config.IMAGE_TYPE);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("hidden", ctx.overlayData.scale === undefined);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.config || ctx.config.SCALE);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("hidden", ctx.overlayData.sliceIndex === undefined);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.config || ctx.config.INSTANCE_NUMBER);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.config || ctx.config.SERIES_NUMBER);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.config || ctx.config.STACK_POSITION);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.config || ctx.config.WINDOWING);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["DatePipe"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["DecimalPipe"]], styles: ["*[_ngcontent-%COMP%] {\n  font-size: 12px;\n}\n\np[_ngcontent-%COMP%] {\n  margin: 0;\n}\n\n.overlay-container[_ngcontent-%COMP%] {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n\n.overlay-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\n  padding: 4px;\n  max-width: 49.5%;\n  word-wrap: break-word;\n}\n\n#topleft[_ngcontent-%COMP%] {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n#topright[_ngcontent-%COMP%] {\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n\n#bottomright[_ngcontent-%COMP%] {\n  position: absolute;\n  bottom: 64px;\n  right: 0;\n}\n\n#bottomleft[_ngcontent-%COMP%] {\n  position: absolute;\n  bottom: 64px;\n  left: 0;\n}\n\ndiv[_ngcontent-%COMP%], a[_ngcontent-%COMP%] {\n  color: rgba(255, 255, 255, 0.67);\n  text-shadow: 0 0 0 #000;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL21ldGFkYXRhLW92ZXJsYXkuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0E7RUFDQyxlQUFBO0FBRkQ7O0FBS0E7RUFDQyxTQUFBO0FBRkQ7O0FBS0E7RUFDQyxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0FBRkQ7O0FBSUM7RUFDQyxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxxQkFBQTtBQUZGOztBQU1BO0VBQ0Msa0JBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtBQUhEOztBQU1BO0VBQ0Msa0JBQUE7RUFDQSxNQUFBO0VBQ0EsUUFBQTtBQUhEOztBQU1BO0VBQ0Msa0JBQUE7RUFDQSxZQUFBO0VBQ0EsUUFBQTtBQUhEOztBQU1BO0VBQ0Msa0JBQUE7RUFDQSxZQUFBO0VBQ0EsT0FBQTtBQUhEOztBQU1BOztFQUVDLGdDQUFBO0VBQ0EsdUJBQUE7QUFIRCIsImZpbGUiOiJtZXRhZGF0YS1vdmVybGF5LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnLi4vLi4vLi4vc2Nzcy92YXJpYWJsZXMnO1xuQGltcG9ydCAnLi4vLi4vLi4vc2Nzcy9taXhpbnMnO1xuXG4qIHtcblx0Zm9udC1zaXplOiAxMnB4O1xufVxuXG5wIHtcblx0bWFyZ2luOiAwO1xufVxuXG4ub3ZlcmxheS1jb250YWluZXIge1xuXHR3aWR0aDogMTAwJTtcblx0aGVpZ2h0OiAxMDAlO1xuXHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cblx0ZGl2IHtcblx0XHRwYWRkaW5nOiB1bml0cygwLjUpO1xuXHRcdG1heC13aWR0aDogNDkuNSU7XG5cdFx0d29yZC13cmFwOiBicmVhay13b3JkO1xuXHR9XG59XG5cbiN0b3BsZWZ0IHtcblx0cG9zaXRpb246IGFic29sdXRlO1xuXHR0b3A6IDA7XG5cdGxlZnQ6IDA7XG59XG5cbiN0b3ByaWdodCB7XG5cdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0dG9wOiAwO1xuXHRyaWdodDogMDtcbn1cblxuI2JvdHRvbXJpZ2h0IHtcblx0cG9zaXRpb246IGFic29sdXRlO1xuXHRib3R0b206IHVuaXRzKDgpO1xuXHRyaWdodDogMDtcbn1cblxuI2JvdHRvbWxlZnQge1xuXHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdGJvdHRvbTogdW5pdHMoOCk7XG5cdGxlZnQ6IDA7XG59XG5cbmRpdixcbmEge1xuXHRjb2xvcjogdHJhbnNwYXJlbnRpemUoJGNvbG9yOiAjZmZmLCAkYW1vdW50OiAwLjMzKTtcblx0dGV4dC1zaGFkb3c6IDAgMCAwICMwMDA7IC8vIFRvIGRpc3BsYXkgcHJvcGVybHkgb3ZlciB3aGl0ZVxufVxuIl19 */"], changeDetection: 0 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](MetadataOverlayComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'zebra-viewer-metadata-overlay',
                templateUrl: './metadata-overlay.component.html',
                styleUrls: ['./metadata-overlay.component.scss'],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
            }]
    }], function () { return [{ type: _shared_services_config_service__WEBPACK_IMPORTED_MODULE_3__["ConfigService"] }]; }, { overlayData: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "ZUdh":
/*!*********************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/services/dynamic-dialog.service.ts ***!
  \*********************************************************************************/
/*! exports provided: DynamicDialogService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DynamicDialogService", function() { return DynamicDialogService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _toolbar_dynamic_dialog_dynamic_dialog_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../toolbar/dynamic-dialog/dynamic-dialog.component */ "9CRj");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/dialog */ "iELJ");





class DynamicDialogService {
    constructor(dialog, resolver) {
        this.dialog = dialog;
        this.resolver = resolver;
    }
    createDialogForTool(dialogOptions, callerRef, onOpenSubscriber, onCloseSubscriber) {
        // Close existing dialog
        if (this.currentDialogRef) {
            this.closeDialog(this.currentDialogRef);
        }
        const componentData = this.generateHandlingComponentData(dialogOptions.handlingComponent, dialogOptions.initData);
        this.currentDialogRef = this.dialog.open(_toolbar_dynamic_dialog_dynamic_dialog_component__WEBPACK_IMPORTED_MODULE_1__["DynamicDialogComponent"], {
            hasBackdrop: false,
            panelClass: dialogOptions.panelClass,
            data: {
                title: dialogOptions.title,
                component: dialogOptions.handlingComponent,
                componentData,
                elementRect: callerRef.nativeElement.getBoundingClientRect(),
            },
        });
        if (onOpenSubscriber) {
            this.currentDialogRef.afterOpened().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["take"])(1)).subscribe(onOpenSubscriber);
        }
        if (onCloseSubscriber) {
            this.currentDialogRef.afterClosed().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["take"])(1)).subscribe(onCloseSubscriber);
        }
        return this.currentDialogRef;
    }
    generateHandlingComponentData(handlingComponent, data = {}) {
        const handlingComponentMetadata = this.resolver.resolveComponentFactory(handlingComponent);
        const componentData = {};
        handlingComponentMetadata.inputs.forEach((input) => {
            if (data.hasOwnProperty(input.propName)) {
                componentData[input.propName] = data[input.propName];
            }
        });
        return componentData;
    }
    updateDialogData(dialogRef, data) {
        if (!dialogRef) {
            return;
        }
        const dialogInstance = dialogRef.componentInstance;
        const handlingComponent = dialogInstance.componentRef.componentType;
        const componentData = this.generateHandlingComponentData(handlingComponent, data);
        dialogInstance.setComponentData(componentData);
    }
    getComponentInstance(dialogRef) {
        return dialogRef.componentInstance.componentRef.instance;
    }
    closeDialog(dialogRef) {
        if (dialogRef) {
            dialogRef.close();
        }
    }
}
DynamicDialogService.ɵfac = function DynamicDialogService_Factory(t) { return new (t || DynamicDialogService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__["MatDialog"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"])); };
DynamicDialogService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: DynamicDialogService, factory: DynamicDialogService.ɵfac, providedIn: 'root' });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DynamicDialogService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__["MatDialog"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"] }]; }, null); })();


/***/ }),

/***/ "Zb51":
/*!************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/services/viewport-metadata.service.ts ***!
  \************************************************************************************/
/*! exports provided: ViewportMetadataService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewportMetadataService", function() { return ViewportMetadataService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _tag_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tag.service */ "KlcW");





class ViewportMetadataService {
    constructor(tagService) {
        this.tagService = tagService;
        this.metadata$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"](1);
        this.viewportsMetadata = {};
        this.imagesMetadata = {};
    }
    getMetadata() {
        return this.metadata$;
    }
    updateMetadata(viewportId, metadata) {
        this.viewportsMetadata[viewportId] = metadata;
        if (viewportId === this.activeViewportId) {
            this.metadata$.next(metadata);
        }
    }
    setActiveViewport(viewportId) {
        this.activeViewportId = viewportId;
        this.metadata$.next(this.viewportsMetadata[viewportId]);
    }
    getDataIdentifiersFromEvent(event) {
        const stackSliceIndex = event.detail.stackSliceIndex;
        const { imageUrl, imageId, studyInstanceUID, seriesInstanceUID, sopInstanceUID } = event.image;
        return {
            imageUrl,
            imageId,
            studyInstanceUID,
            seriesInstanceUID,
            sopInstanceUID,
            stackSliceIndex,
        };
    }
    addLoadedImage(viewportId, dicomMetadata) {
        const { imageUrl } = dicomMetadata;
        this.imagesMetadata[viewportId].images$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["take"])(1)).subscribe((images) => {
            images.push(dicomMetadata);
            this.imagesMetadata[viewportId].images$.next(images);
        });
    }
    getViewportTags$(viewportId) {
        this.registerViewportIfNotExists(viewportId);
        return this.imagesMetadata[viewportId].tags$;
    }
    getViewportImagesMarkerIndexes$(viewportId) {
        this.registerViewportIfNotExists(viewportId);
        return this.imagesMetadata[viewportId].imagesMarkerIndexes$;
    }
    clearViewport(viewportId) {
        delete this.imagesMetadata[viewportId];
        delete this.viewportsMetadata[viewportId];
    }
    reset() {
        this.metadata$.next(null);
        this.activeViewportId = null;
        this.viewportsMetadata = {};
    }
    isImageHasTags(sopInstanceUID) {
        return this.tagService.getTags$("IMAGE" /* IMAGE */, sopInstanceUID).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])((tags) => tags && tags.length > 0));
    }
    registerViewportIfNotExists(viewportId) {
        if (!this.imagesMetadata[viewportId]) {
            const images$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"]([]);
            const imagesShare$ = images$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["debounceTime"])(100), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["shareReplay"])(1));
            this.imagesMetadata[viewportId] = {
                images$,
                imagesMarkerIndexes$: imagesShare$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["switchMap"])((images) => this.getImagesMarkerIndex$(images))),
                tags$: imagesShare$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["switchMap"])((images) => this.getImagesTags$(images)), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["shareReplay"])(1)),
            };
        }
    }
    getImagesMarkerIndex$(images) {
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["combineLatest"])(Object.values(images).map((metadata) => this.isImageHasTags(metadata.sopInstanceUID).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])((hasTags) => ({
            hasTags,
            stackSliceIndex: metadata.stackSliceIndex,
        }))))).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])((imagesResults) => imagesResults.filter((image) => image.hasTags).map((image) => image.stackSliceIndex)));
    }
    getImagesTags$(images) {
        const dataByScope = {
            ["STUDY" /* STUDY */]: new Set(),
            ["SERIES" /* SERIES */]: new Set(),
            ["IMAGE" /* IMAGE */]: new Set(),
        };
        for (const image of images) {
            const { studyInstanceUID, seriesInstanceUID, sopInstanceUID } = image;
            dataByScope["STUDY" /* STUDY */].add(studyInstanceUID);
            dataByScope["SERIES" /* SERIES */].add(seriesInstanceUID);
            dataByScope["IMAGE" /* IMAGE */].add(sopInstanceUID);
        }
        let allTags$ = [];
        for (const [scope, ids] of Object.entries(dataByScope)) {
            const scopeTags = [...ids].map((id) => this.tagService.getTags$(scope, id));
            allTags$ = allTags$.concat(scopeTags);
        }
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["combineLatest"])(allTags$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])((tagsGroups) => tagsGroups.flat()));
    }
}
ViewportMetadataService.ɵfac = function ViewportMetadataService_Factory(t) { return new (t || ViewportMetadataService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_tag_service__WEBPACK_IMPORTED_MODULE_3__["TagService"])); };
ViewportMetadataService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ViewportMetadataService, factory: ViewportMetadataService.ɵfac, providedIn: 'root' });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ViewportMetadataService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _tag_service__WEBPACK_IMPORTED_MODULE_3__["TagService"] }]; }, null); })();


/***/ }),

/***/ "aHCY":
/*!***************************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/cornerstone/custom-tools/rectangle-roi.tool.ts ***!
  \***************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ZMRectangleRoiTool; });
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cornerstone-tools */ "b09o");
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cornerstone-core */ "MNym");
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cornerstone_core__WEBPACK_IMPORTED_MODULE_1__);
/* eslint-disable prefer-arrow/prefer-arrow-functions */
/* eslint-disable @typescript-eslint/prefer-for-of */


const RectangleRoiTool = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.RectangleRoiTool;
const { toolStyle, toolColors, getToolState } = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a;
// Utils
const getPixelSpacing = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/getPixelSpacing');
const getROITextBoxCoords = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/getROITextBoxCoords');
const numbersWithCommas = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/numbersWithCommas');
const throttle = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/throttle');
const pointInsideBoundingBox = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/pointInsideBoundingBox');
// Drawing
const getNewContext = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/getNewContext');
const draw = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/draw');
const drawLinkedTextBox = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/drawLinkedTextBox');
const drawHandles = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/drawHandles');
const setShadow = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/setShadow');
const drawRect = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/drawRect');
const fillBox = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/fillBox');
const globalConfiguration = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.getModule('globalConfiguration');
class ZMRectangleRoiTool extends RectangleRoiTool {
    constructor(props = {}) {
        super(props);
        this.imageViewerSegmentation = props.imageViewerSegmentationService;
        this.configuration.opacityHex = this.configuration.opacityHex || '66';
        this.throttledUpdateCachedStats = throttle(super.updateCachedStats, 110);
        this.handleSelectedCallback = this.handleSelectedCallback.bind(this);
    }
    isHovered(element, data, coords) {
        const { start, end } = data.handles;
        const boundingBox = _getRectangleImageCoordinates(start, end);
        return {
            isNearHandle: this.pointNearTool(element, data, cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.pixelToCanvas(element, coords), 'mouse'),
            isInside: pointInsideBoundingBox({ boundingBox }, coords),
        };
    }
    handleSelectedCallback(evt, toolData, handle) {
        this.element.addEventListener('cornerstonetoolsmouseup', this.imageViewerSegmentation.mouseUpOnAreaMeasurement.bind(this.imageViewerSegmentation, this.name, toolData._id), {
            capture: true,
            once: true,
        });
        if (toolData && toolData.lineDash.length === 0) {
            super.handleSelectedCallback(evt, toolData, handle);
        }
    }
    renderToolData(evt) {
        if (globalConfiguration.configuration.isAnnotationsVisible === false) {
            return;
        }
        const toolData = getToolState(evt.currentTarget, this.name);
        if (!toolData) {
            return;
        }
        const eventData = evt.detail;
        const { image, element } = eventData;
        const lineWidth = toolStyle.getToolWidth();
        const { handleRadius, drawHandlesOnHover } = this.configuration;
        const canvasContext = getNewContext(eventData.canvasContext.canvas);
        const { rowPixelSpacing, colPixelSpacing } = getPixelSpacing(image);
        // Meta
        const seriesModule = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.metaData.get('generalSeriesModule', image.imageId) || {};
        // Pixel Spacing
        const modality = seriesModule.modality;
        const hasPixelSpacing = rowPixelSpacing && colPixelSpacing;
        draw(canvasContext, (context) => {
            // If we have tool data for this element - iterate over each set and draw it
            for (let i = 0; i < toolData.data.length; i++) {
                const data = toolData.data[i];
                if (data.visible === false) {
                    continue;
                }
                // Dashed lines are either deleted or old annotations that we don't allow editing
                if (data.lineDash && data.lineDash.length > 0) {
                    data.active = false;
                }
                else {
                    data.active = true;
                }
                // Configure
                const color = toolColors.getColorIfActive(data);
                const handleOptions = {
                    color,
                    handleRadius,
                    drawHandlesIfActive: drawHandlesOnHover,
                };
                setShadow(context, this.configuration);
                // Draw
                drawRect(context, element, data.handles.start, data.handles.end, {
                    color,
                    lineDash: data.lineDash || [],
                }, 'pixel', data.handles.initialRotation);
                // Added by Zebra
                if (data.current) {
                    const fillStyle = `${color}${this.configuration.opacityHex}`;
                    const boundingBox = _getRectangleImageCoordinates(cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.pixelToCanvas(element, data.handles.start), cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.pixelToCanvas(element, data.handles.end));
                    fillBox(context, boundingBox, fillStyle);
                }
                if (this.configuration.drawHandles) {
                    drawHandles(context, eventData, data.handles, handleOptions);
                }
                // Update textbox stats
                if (data.invalidated === true) {
                    if (!data.cachedStats) {
                        this.throttledUpdateCachedStats(image, element, data);
                    }
                    else {
                        super.updateCachedStats(image, element, data);
                        // Determine the area suffix based on the pixel spacing in the image.
                        // If pixel spacing is present, use millimeters. Otherwise, use pixels.
                        data.cachedStats.unit = image.columnPixelSpacing && image.rowPixelSpacing ? 'mm' : 'px';
                    }
                }
                // Default to textbox on right side of ROI
                if (!data.handles.textBox.hasMoved) {
                    const defaultCoords = getROITextBoxCoords(eventData.viewport, data.handles);
                    Object.assign(data.handles.textBox, defaultCoords);
                }
                const textBoxAnchorPoints = (handles) => _findTextBoxAnchorPoints(handles.start, handles.end);
                data.unit = _getUnit(modality, this.configuration.showHounsfieldUnits);
                if (globalConfiguration.configuration.isTextboxVisible) {
                    const textBoxContent = _createTextBoxContent(context, image.color, data.cachedStats, modality, hasPixelSpacing, this.configuration);
                    drawLinkedTextBox(context, element, data.handles.textBox, textBoxContent, data.handles, textBoxAnchorPoints, color, lineWidth, 10, true);
                }
            }
        });
    }
}
function _formatArea(area, hasPixelSpacing) {
    // This uses Char code 178 for a superscript 2
    const suffix = hasPixelSpacing ? ` mm${String.fromCharCode(178)}` : ` px${String.fromCharCode(178)}`;
    return `Area: ${numbersWithCommas(area.toFixed(2))}${suffix}`;
}
function _findTextBoxAnchorPoints(startHandle, endHandle) {
    const { left, top, width, height } = _getRectangleImageCoordinates(startHandle, endHandle);
    return [
        {
            // Top middle point of rectangle
            x: left + width / 2,
            y: top,
        },
        {
            // Left middle point of rectangle
            x: left,
            y: top + height / 2,
        },
        {
            // Bottom middle point of rectangle
            x: left + width / 2,
            y: top + height,
        },
        {
            // Right middle point of rectangle
            x: left + width,
            y: top + height / 2,
        },
    ];
}
function _getRectangleImageCoordinates(startHandle, endHandle) {
    return {
        left: Math.min(startHandle.x, endHandle.x),
        top: Math.min(startHandle.y, endHandle.y),
        width: Math.abs(startHandle.x - endHandle.x),
        height: Math.abs(startHandle.y - endHandle.y),
    };
}
function _createTextBoxContent(context, isColorImage, { area, mean, stdDev, min, max, meanStdDevSUV }, modality, hasPixelSpacing, options = {}) {
    const showMinMax = (options.showMinMax && min && max) || false;
    const textLines = [];
    const otherLines = [];
    if (!isColorImage) {
        const hasStandardUptakeValues = meanStdDevSUV && typeof meanStdDevSUV.mean === 'number';
        const unit = _getUnit(modality, options.showHounsfieldUnits);
        let meanString = typeof mean === 'number' ? `Mean: ${numbersWithCommas(mean.toFixed(2))} ${unit}` : '';
        const stdDevString = typeof stdDev === 'number' ? `Std Dev: ${numbersWithCommas(stdDev.toFixed(2))} ${unit}` : '';
        // If this image has SUV values to display, concatenate them to the text line
        if (hasStandardUptakeValues) {
            const SUVtext = ' SUV: ';
            const meanSuvString = typeof meanStdDevSUV.mean === 'number' ? `${SUVtext}${numbersWithCommas(meanStdDevSUV.mean.toFixed(2))}` : '';
            const stdDevSuvString = typeof meanStdDevSUV.stdDev === 'number'
                ? `${SUVtext}${numbersWithCommas(meanStdDevSUV.stdDev.toFixed(2))}`
                : '';
            const targetStringLength = Math.floor(context.measureText(`${stdDevString}     `).width);
            while (context.measureText(meanString).width < targetStringLength) {
                meanString += ' ';
            }
            otherLines.push(`${meanString}${meanSuvString}`);
            otherLines.push(`${stdDevString}     ${stdDevSuvString}`);
        }
        else {
            otherLines.push(`${meanString}     ${stdDevString}`);
        }
        if (showMinMax) {
            let minString = `Min: ${min} ${unit}`;
            const maxString = `Max: ${max} ${unit}`;
            const targetStringLength = hasStandardUptakeValues
                ? Math.floor(context.measureText(`${stdDevString}     `).width)
                : Math.floor(context.measureText(`${meanString}     `).width);
            while (context.measureText(minString).width < targetStringLength) {
                minString += ' ';
            }
            otherLines.push(`${minString}${maxString}`);
        }
    }
    if (area) {
        textLines.push(_formatArea(area, hasPixelSpacing));
    }
    otherLines.forEach((x) => textLines.push(x));
    return textLines;
}
function _getUnit(modality, showHounsfieldUnits) {
    return modality === 'CT' && showHounsfieldUnits !== false ? 'HU' : '';
}


/***/ }),

/***/ "aLsl":
/*!*********************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/services/image-viewer-actions.service.ts ***!
  \*********************************************************************************************/
/*! exports provided: ImageViewerActionsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageViewerActionsService", function() { return ImageViewerActionsService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cornerstone-core */ "MNym");
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cornerstone_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cornerstone_wado_image_loader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cornerstone-wado-image-loader */ "AFKS");
/* harmony import */ var cornerstone_wado_image_loader__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cornerstone_wado_image_loader__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cornerstone-tools */ "b09o");
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cornerstone_tools__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _cornerstone_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../cornerstone/helpers */ "QaT7");
/* harmony import */ var _cornerstone_cornerstone_config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../cornerstone/cornerstone.config */ "CIbN");
/* harmony import */ var _image_viewer_events_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./image-viewer-events.service */ "QgyW");
/* harmony import */ var _image_viewer_segmentation_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./image-viewer-segmentation.service */ "k2Bx");
/* harmony import */ var _overlay_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./overlay.service */ "shYO");










const scroll = cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.importInternal('util/scroll');
const scrollToIndex = cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.importInternal('util/scrollToIndex');
class ImageViewerActionsService {
    constructor(imageViewerEventsService, imageViewerSegmentationService, overlayService) {
        this.imageViewerEventsService = imageViewerEventsService;
        this.imageViewerSegmentationService = imageViewerSegmentationService;
        this.overlayService = overlayService;
        Object(_cornerstone_cornerstone_config__WEBPACK_IMPORTED_MODULE_5__["initCornerstone"])();
    }
    setDefaultActiveTools({ viewers, force = false }) {
        if (!viewers) {
            return;
        }
        for (const viewer of viewers) {
            const element = viewer.element;
            _cornerstone_cornerstone_config__WEBPACK_IMPORTED_MODULE_5__["defaultActiveTools"].forEach((tool) => {
                const elementActiveTools = Object(_cornerstone_helpers__WEBPACK_IMPORTED_MODULE_4__["getActiveToolsForElement"])(element, tool.mouseButtonMask);
                if ((force || elementActiveTools.length === 0) && cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.getToolForElement(element, tool.toolName)) {
                    cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.toolColors.setToolColor(_cornerstone_cornerstone_config__WEBPACK_IMPORTED_MODULE_5__["defaultColor"]);
                    cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.toolColors.setActiveColor(_cornerstone_cornerstone_config__WEBPACK_IMPORTED_MODULE_5__["defaultColor"]);
                    cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.setToolActiveForElement(element, tool.toolName, {
                        mouseButtonMask: tool.mouseButtonMask,
                    });
                    this.imageViewerEventsService.emitCustomEvent("TOOL_ACTIVATED" /* TOOL_ACTIVATED */, element);
                }
            });
        }
    }
    setToolActive({ viewers, toolName, toolColor = _cornerstone_cornerstone_config__WEBPACK_IMPORTED_MODULE_5__["defaultColor"], customId, groupId, strategy, spacing, mouseButtonMask = [1], }) {
        if (!viewers.length) {
            return;
        }
        for (const viewer of viewers) {
            const element = viewer.element;
            cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.setToolOptionsForElement(element, toolName, {
                toolColor,
                customId,
                groupId,
                spacing,
            });
            cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.toolColors.setToolColor(toolColor);
            cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.toolColors.setActiveColor(toolColor);
            cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.setToolActiveForElement(element, toolName, {
                mouseButtonMask,
            });
            if (strategy) {
                const tool = cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.getToolForElement(element, toolName);
                tool.activeStrategy = strategy;
            }
            this.imageViewerEventsService.emitCustomEvent("TOOL_ACTIVATED" /* TOOL_ACTIVATED */, element);
        }
    }
    setToolPassive({ viewers, toolName, mouseButtonMask = [1], toolColor = _cornerstone_cornerstone_config__WEBPACK_IMPORTED_MODULE_5__["defaultColor"] }) {
        if (viewers && viewers.length) {
            for (const viewer of viewers) {
                cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.setToolPassiveForElement(viewer.element, toolName, {
                    mouseButtonMask,
                });
            }
        }
        else {
            cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.setToolPassive(toolName, { mouseButtonMask });
        }
        cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.toolColors.setToolColor(toolColor);
        cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.toolColors.setActiveColor(toolColor);
        this.setDefaultActiveTools({ viewers });
    }
    setToolEnabled({ viewers, toolName }) {
        if (!viewers.length) {
            return;
        }
        const element = viewers[0].element;
        cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.setToolEnabledForElement(element, toolName);
        this.setDefaultActiveTools({ viewers });
    }
    resetToolsMode({ viewers }) {
        if (!viewers.length) {
            return;
        }
        const element = viewers[0].element;
        cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.store.state.tools
            .filter((tool) => tool.name !== 'StackScrollMouseWheel')
            .forEach((tool) => {
            cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.setToolPassiveForElement(element, tool.name);
        });
        this.setDefaultActiveTools({ viewers });
    }
    reset({ viewers }) {
        if (!viewers.length) {
            return;
        }
        const element = viewers[0].element;
        cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.reset(element);
    }
    resetZoom({ viewers }) {
        if (!viewers.length) {
            return;
        }
        const element = viewers[0].element;
        const enabledElement = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getEnabledElement(element);
        const defaultViewport = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getDefaultViewport(enabledElement.canvas, enabledElement.image);
        this.zoom({ viewers, scale: defaultViewport.scale });
    }
    playClip({ viewers, fps }) {
        if (!viewers.length) {
            return;
        }
        const element = viewers[0].element;
        cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.playClip(element, fps);
    }
    stopClip({ viewers }) {
        if (!viewers.length) {
            return;
        }
        const element = viewers[0].element;
        cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.stopClip(element);
    }
    zoom({ viewers, scale }) {
        if (!viewers.length) {
            return;
        }
        const element = viewers[0].element;
        const viewport = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getViewport(element);
        viewport.scale = scale;
        cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.setViewport(element, viewport);
    }
    zoomStep({ viewers, step }) {
        if (!viewers.length) {
            return;
        }
        const element = viewers[0].element;
        const viewport = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getViewport(element);
        viewport.scale += step;
        cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.setViewport(element, viewport);
    }
    invert({ viewers, isInvert }) {
        if (!viewers.length) {
            return;
        }
        const element = viewers[0].element;
        const viewport = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getViewport(element);
        const image = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getImage(element);
        viewport.invert = Object(_cornerstone_helpers__WEBPACK_IMPORTED_MODULE_4__["isImageOriginallyInverted"])(image) ? !isInvert : isInvert;
        cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.setViewport(element, viewport);
    }
    setWindowLevel({ viewers, windowWidth, windowCenter }) {
        if (!viewers.length) {
            return;
        }
        const element = viewers[0].element;
        const viewport = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getViewport(element);
        viewport.voi = { windowWidth, windowCenter };
        cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.setViewport(element, viewport);
    }
    resetWindowLevel({ viewers }) {
        if (!viewers.length) {
            return;
        }
        const element = viewers[0].element;
        const image = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getImage(element);
        const defaultViewport = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getDefaultViewportForImage(element, image);
        const viewport = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getViewport(element);
        viewport.voi = Object.assign({}, defaultViewport.voi);
        cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.setViewport(element, viewport);
    }
    scrollBy({ viewers, value }) {
        if (!viewers.length) {
            return;
        }
        const element = viewers[0].element;
        scroll(element, value, false, false);
    }
    scrollToIndex({ viewers, index }) {
        if (!viewers.length) {
            return false;
        }
        const element = viewers[0].element;
        const toolState = cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.getToolState(element, 'stack');
        if (toolState && toolState.data && toolState.data.length > 0 && toolState.data[0].imageIds.length > index) {
            scrollToIndex(element, index);
            return true;
        }
        return false;
    }
    horizontalFlip({ viewers, isFlip }) {
        if (!viewers.length) {
            return;
        }
        const element = viewers[0].element;
        const viewport = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getViewport(element);
        viewport.hflip = isFlip;
        cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.setViewport(element, viewport);
    }
    verticalFlip({ viewers, isFlip }) {
        if (!viewers.length) {
            return;
        }
        const element = viewers[0].element;
        const viewport = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getViewport(element);
        viewport.vflip = isFlip;
        cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.setViewport(element, viewport);
    }
    rotate({ viewers, angle }) {
        if (!viewers.length) {
            return;
        }
        const element = viewers[0].element;
        const viewport = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getViewport(element);
        viewport.rotation += angle;
        cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.setViewport(element, viewport);
    }
    purgeCache({ viewers }) {
        cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.imageCache.purgeCache();
        cornerstone_wado_image_loader__WEBPACK_IMPORTED_MODULE_2___default.a.wadouri.dataSetCacheManager.purge();
    }
    showDicomInfo({ viewers, isShow }) {
        if (!viewers.length) {
            return;
        }
        const element = viewers[0].element;
        viewers[0].showDicomInfo(isShow);
        const eventType = isShow ? "METADATA_OVERLAY_ON" /* METADATA_OVERLAY_ON */ : "METADATA_OVERLAY_FF" /* METADATA_OVERLAY_OFF */;
        this.imageViewerEventsService.emitCustomEvent(eventType, element);
    }
    resize({ viewers, isShow }) {
        viewers.forEach((viewer) => {
            cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.resize(viewer.element);
        });
    }
    showAnnotations({ viewers, isShow }) {
        cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.getModule('globalConfiguration').configuration.isAnnotationsVisible = isShow;
        cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getEnabledElements().forEach((enabledElement) => {
            cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.invalidate(enabledElement.element);
        });
        const eventType = isShow ? "ANNOTATIONS_ON" /* ANNOTATIONS_ON */ : "ANNOTATIONS_OFF" /* ANNOTATIONS_OFF */;
        if (!viewers.length) {
            return;
        }
        const element = viewers[0].element;
        this.imageViewerEventsService.emitCustomEvent(eventType, element);
    }
    toggleAnnotations({ viewers }) {
        this.showAnnotations({
            viewers,
            isShow: !cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.getModule('globalConfiguration').configuration.isAnnotationsVisible,
        });
    }
    showAnnotationTextBox({ viewers, isShow }) {
        cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.getModule('globalConfiguration').configuration.isTextboxVisible = isShow;
        cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getEnabledElements().forEach((enabledElement) => {
            cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.invalidate(enabledElement.element);
        });
        const eventType = isShow ? "ANNOTATION_TEXTBOX_ON" /* ANNOTATION_TEXTBOX_ON */ : "ANNOTATION_TEXTBOX_OFF" /* ANNOTATION_TEXTBOX_OFF */;
        if (!viewers.length) {
            return;
        }
        const element = viewers[0].element;
        this.imageViewerEventsService.emitCustomEvent(eventType, element);
    }
    toggleAnnotationTextBox({ viewers }) {
        this.showAnnotationTextBox({
            viewers,
            isShow: !cornerstone_tools__WEBPACK_IMPORTED_MODULE_3___default.a.getModule('globalConfiguration').configuration.isTextboxVisible,
        });
    }
    openFullscreen({ document }) {
        const element = document.documentElement;
        if (element.requestFullscreen) {
            element.requestFullscreen();
        }
        else if (document.mozRequestFullScreen) {
            /* Firefox */
            element.mozRequestFullScreen();
        }
        else if (document.webkitRequestFullscreen) {
            /* Chrome, Safari and Opera */
            element.webkitRequestFullscreen();
        }
        else if (document.msRequestFullscreen) {
            /* IE/Edge */
            element.msRequestFullscreen();
        }
    }
    closeFullscreen({ document }) {
        if (document.exitFullscreen) {
            document.exitFullscreen();
        }
        else if (document.mozCancelFullScreen) {
            /* Firefox */
            document.mozCancelFullScreen();
        }
        else if (document.webkitExitFullscreen) {
            /* Chrome, Safari and Opera */
            document.webkitExitFullscreen();
        }
        else if (document.msExitFullscreen) {
            /* IE/Edge */
            document.msExitFullscreen();
        }
    }
}
ImageViewerActionsService.ɵfac = function ImageViewerActionsService_Factory(t) { return new (t || ImageViewerActionsService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_6__["ImageViewerEventsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_image_viewer_segmentation_service__WEBPACK_IMPORTED_MODULE_7__["ImageViewerSegmentationService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_overlay_service__WEBPACK_IMPORTED_MODULE_8__["OverlayService"])); };
ImageViewerActionsService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ImageViewerActionsService, factory: ImageViewerActionsService.ɵfac, providedIn: 'root' });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ImageViewerActionsService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _image_viewer_events_service__WEBPACK_IMPORTED_MODULE_6__["ImageViewerEventsService"] }, { type: _image_viewer_segmentation_service__WEBPACK_IMPORTED_MODULE_7__["ImageViewerSegmentationService"] }, { type: _overlay_service__WEBPACK_IMPORTED_MODULE_8__["OverlayService"] }]; }, null); })();


/***/ }),

/***/ "baQR":
/*!*******************************************************************************************************!*\
  !*** ./projects/zebra-viewer-standalone/src/app/sample-context-menu/sample-context-menu.component.ts ***!
  \*******************************************************************************************************/
/*! exports provided: SampleContextMenuComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SampleContextMenuComponent", function() { return SampleContextMenuComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _zebra_viewer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zebra/viewer */ "VgmR");
/* harmony import */ var _angular_material_menu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/menu */ "rJgo");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/icon */ "Tj54");





class SampleContextMenuComponent {
    constructor(cdRef, segService) {
        this.cdRef = cdRef;
        this.segService = segService;
    }
    ngOnInit() { }
    setData(data) {
        this.data = data;
        this.cdRef.markForCheck();
    }
    deleteAnnotation() {
        this.segService.removeMeasurementsByIds(this.data.annotation._id);
    }
}
SampleContextMenuComponent.ɵfac = function SampleContextMenuComponent_Factory(t) { return new (t || SampleContextMenuComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_zebra_viewer__WEBPACK_IMPORTED_MODULE_1__["ImageViewerSegmentationService"])); };
SampleContextMenuComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: SampleContextMenuComponent, selectors: [["zebra-viewer-standalone-sample-context-menu"]], inputs: { data: "data" }, decls: 5, vars: 0, consts: [["mat-menu-item", "", 3, "click"]], template: function SampleContextMenuComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SampleContextMenuComponent_Template_button_click_0_listener() { return ctx.deleteAnnotation(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-icon");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "delete");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "span");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, "Delete");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } }, directives: [_angular_material_menu__WEBPACK_IMPORTED_MODULE_2__["MatMenuItem"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_3__["MatIcon"]], styles: ["[_nghost-%COMP%] {\n  display: contents;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NhbXBsZS1jb250ZXh0LW1lbnUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQyxpQkFBQTtBQUNEIiwiZmlsZSI6InNhbXBsZS1jb250ZXh0LW1lbnUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG5cdGRpc3BsYXk6IGNvbnRlbnRzO1xufVxuIl19 */"], changeDetection: 0 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SampleContextMenuComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'zebra-viewer-standalone-sample-context-menu',
                templateUrl: './sample-context-menu.component.html',
                styleUrls: ['./sample-context-menu.component.scss'],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }, { type: _zebra_viewer__WEBPACK_IMPORTED_MODULE_1__["ImageViewerSegmentationService"] }]; }, { data: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "bm+c":
/*!*********************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/shared/models/switch-tool.model.ts ***!
  \*********************************************************************************/
/*! exports provided: SwitchTool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SwitchTool", function() { return SwitchTool; });
/* harmony import */ var _tool_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tool.model */ "oicP");

class SwitchTool extends _tool_model__WEBPACK_IMPORTED_MODULE_0__["Tool"] {
    constructor(id, description, descriptionOff, icon, iconOn, command, commandOff, section, customCalcStateFunc, viewportSelectionPolicy) {
        super(id, description, icon, command, "COMMAND_SWITCH" /* COMMAND_SWITCH */, section, customCalcStateFunc, viewportSelectionPolicy);
        this.iconOn = iconOn;
        this.commandOff = commandOff;
        this.descriptionOff = descriptionOff;
    }
    calcState(metadata) {
        const state = super.calcState(metadata);
        if (state) {
            return state;
        }
        if (!this.command) {
            return;
        }
        if (this.command.name === 'setToolActive') {
            const commandOptions = this.command.options || {};
            return {
                isActive: metadata.activeTool &&
                    metadata.activeTool.name === commandOptions.toolName &&
                    (!commandOptions.strategy || commandOptions.strategy === metadata.activeTool.activeStrategy),
            };
        }
        return {};
    }
    setIconOn(icon) {
        this.iconOn = icon;
        return this;
    }
    setDescriptionOff(descriptionOff) {
        this.descriptionOff = descriptionOff;
        return this;
    }
}


/***/ }),

/***/ "cCsM":
/*!*********************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules-manager/modules-manager.module.ts ***!
  \*********************************************************************************/
/*! exports provided: ModulesManagerModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModulesManagerModule", function() { return ModulesManagerModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _modules_manager_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules-manager.service */ "+j+e");
/* harmony import */ var _modules_static_modules_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/static-modules.service */ "5C84");
/* harmony import */ var _modules_core_core_module_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../modules/core/core-module.module */ "wNCI");
/* harmony import */ var _modules_dynamic_component_dynamic_component_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../modules/dynamic-component/dynamic-component.module */ "HYgU");








// import { modules } from '../modules';
class ModulesManagerModule {
    constructor(moduleManagerService) {
        this.moduleManagerService = moduleManagerService;
    }
}
ModulesManagerModule.ɵfac = function ModulesManagerModule_Factory(t) { return new (t || ModulesManagerModule)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_modules_manager_service__WEBPACK_IMPORTED_MODULE_2__["ModulesManagerService"])); };
ModulesManagerModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: ModulesManagerModule });
ModulesManagerModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ providers: [
        // {
        // 	provide: 'STATIC_MODULES',
        // 	useValue: modules
        // },
        _modules_static_modules_service__WEBPACK_IMPORTED_MODULE_3__["StaticModulesService"],
        _modules_manager_service__WEBPACK_IMPORTED_MODULE_2__["ModulesManagerService"],
    ], imports: [[_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _modules_core_core_module_module__WEBPACK_IMPORTED_MODULE_4__["CoreModuleModule"], _modules_dynamic_component_dynamic_component_module__WEBPACK_IMPORTED_MODULE_5__["DynamicComponentModule"]]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](ModulesManagerModule, { imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _modules_core_core_module_module__WEBPACK_IMPORTED_MODULE_4__["CoreModuleModule"], _modules_dynamic_component_dynamic_component_module__WEBPACK_IMPORTED_MODULE_5__["DynamicComponentModule"]] }); })();
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ModulesManagerModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                declarations: [],
                imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _modules_core_core_module_module__WEBPACK_IMPORTED_MODULE_4__["CoreModuleModule"], _modules_dynamic_component_dynamic_component_module__WEBPACK_IMPORTED_MODULE_5__["DynamicComponentModule"]],
                providers: [
                    // {
                    // 	provide: 'STATIC_MODULES',
                    // 	useValue: modules
                    // },
                    _modules_static_modules_service__WEBPACK_IMPORTED_MODULE_3__["StaticModulesService"],
                    _modules_manager_service__WEBPACK_IMPORTED_MODULE_2__["ModulesManagerService"],
                ],
            }]
    }], function () { return [{ type: _modules_manager_service__WEBPACK_IMPORTED_MODULE_2__["ModulesManagerService"] }]; }, null); })();


/***/ }),

/***/ "fCM6":
/*!*****************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/shared/enums/icon-type.enum.ts ***!
  \*****************************************************************************/
/*! exports provided: IconTypeEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconTypeEnum", function() { return IconTypeEnum; });
var IconTypeEnum;
(function (IconTypeEnum) {
    IconTypeEnum["CLASS"] = "CLASS";
    IconTypeEnum["SVG"] = "SVG";
})(IconTypeEnum || (IconTypeEnum = {}));


/***/ }),

/***/ "fX4X":
/*!*******************************************************************************************************************!*\
  !*** ./projects/zebra-viewer-standalone/src/app/viewer-dynamic-modules/test-module/test-command-entry.service.ts ***!
  \*******************************************************************************************************************/
/*! exports provided: TestCommandEntryService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TestCommandEntryService", function() { return TestCommandEntryService; });
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cornerstone-tools */ "b09o");
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cornerstone-core */ "MNym");
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cornerstone_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _zebra_viewer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zebra/viewer */ "VgmR");
/* harmony import */ var _models_test_annotation_command__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./models/test-annotation.command */ "hy9T");
/* harmony import */ var _models_test_event_command__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./models/test-event.command */ "OTee");
/* harmony import */ var _test_command_events_enum__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./test-command-events.enum */ "t20d");
/* harmony import */ var _models_test_handlers_error_command__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./models/test-handlers-error.command */ "rSS/");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _models_test_image_command__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./models/test-image.command */ "6YTa");












class TestCommandEntryService {
    constructor(eventsManagerService, geoTranslationService) {
        this.eventsManagerService = eventsManagerService;
        this.geoTranslationService = geoTranslationService;
    }
    getModuleRegistrationObject() {
        return {
            name: 'testModule',
            validators: createTestCommandValidators(this),
            handlers: createTestCommandHandlerMap(this),
        };
    }
    testCommandAnnotateValidator(command) {
        let asserted = _models_test_annotation_command__WEBPACK_IMPORTED_MODULE_4__["TestAnnotateCommand"] === command.type && !!command.data && !!command.data.payload;
        if (asserted && command.data.payloadType === _zebra_viewer__WEBPACK_IMPORTED_MODULE_3__["GeometryTypeEnum"].GEOJSON) {
            asserted = asserted && this.geoTranslationService.isSupportedGeoJson(command.data.payload);
        }
        if (!asserted) {
            const err = Error('Invalid TestCommandAnnotate argument');
            err.type = _test_command_events_enum__WEBPACK_IMPORTED_MODULE_6__["TestCommandEventsEnum"].INVALID_TEST_COMMAND_ANNOTATION_ARGUMENT_EVENT;
            throw err;
        }
    }
    testHandlersErrorCommandValidator(command) {
        const asserted = _models_test_handlers_error_command__WEBPACK_IMPORTED_MODULE_7__["TestHandlersErrorCommand"] === command.type && !!command.data && command.data.shouldReturnObservable != null;
        if (!asserted) {
            const err = Error('Invalid TestHandlersErrorCommand argument');
            err.type = _test_command_events_enum__WEBPACK_IMPORTED_MODULE_6__["TestCommandEventsEnum"].INVALID_TEST_HANDLER_ERROR_COMMAND_ARGUMENT_EVENT;
            throw err;
        }
    }
    testImageCommandValidator(command) {
        const asserted = typeof command.data === 'string';
        if (!asserted) {
            const err = Error('Invalid TestImageCommand argument. Must have a valid string data property');
            err.type = _test_command_events_enum__WEBPACK_IMPORTED_MODULE_6__["TestCommandEventsEnum"].INVALID_TEST_HANDLER_ERROR_COMMAND_ARGUMENT_EVENT;
            throw err;
        }
    }
    testCommandAnnotateHandler(command) {
        console.log(cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.imageCache.cachedImages);
        const commandView = Object.assign({}, command); // Used for printing the command without circular issues
        delete commandView.commandTracker$;
        console.log(commandView);
        window.alert(JSON.stringify(commandView));
        const toolStateManager = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.globalImageIdSpecificToolStateManager;
        const toolState = toolStateManager.saveToolState();
        const elementContainer = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getEnabledElements()[0];
        const imageId = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getImage(elementContainer.element).imageId;
        toolState[imageId] = toolState[imageId] || {};
        toolState[imageId].Probe = toolState[imageId].Probe || { data: [] };
        const toolStateMeasurements = toolState[imageId].Probe.data;
        const x = command.data.payload.geometry.coordinates[0];
        const y = command.data.payload.geometry.coordinates[1];
        const measurementData = {
            active: false,
            color: '#ffa500',
            customId: 'e9405714-d18b-4ec3-a857-fc4e090bb2de',
            handles: {
                end: { x, y, highlight: true, active: false, moving: false },
            },
            invalidated: true,
            lineDash: [],
            toolName: 'Probe',
            uuid: '0786727d-6b28-4eda-9017-517ee76b301f',
            visible: true,
            _id: command.data.id,
        };
        toolStateMeasurements.push(measurementData);
        toolStateManager.restoreToolState(toolState);
        cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.invalidateImageId(imageId);
    }
    testEventWithNoCommandOrCycleIdHandler(command) {
        window.alert('Please wait for two second for an event to be sent');
        setTimeout(() => {
            const eventsManagerService = this.eventsManagerService;
            eventsManagerService.sendEvent(eventsManagerService.buildEvent(_test_command_events_enum__WEBPACK_IMPORTED_MODULE_6__["TestCommandEventsEnum"].NO_COMMAND_NO_CYCLE_ID_EVENT, 'Just some event sent from the viewer without corresponding command or cycleId'));
        }, 2000);
    }
    testImageCommandHanlder(command) {
        const elementContainer = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.getEnabledElements()[0];
        const image = document.getElementById('source');
        const ctx = elementContainer.canvas.getContext('2d');
        ctx.drawImage(image, 50, 50, 400, 400);
    }
    testHandlersErrorCommandHandler(command) {
        if (command.data.shouldReturnObservable) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_8__["throwError"])(new Error('Error from handler return as observable'));
        }
        else {
            throw new Error('Error from handler thrown as standard error');
        }
    }
}
TestCommandEntryService.commandsList = [_models_test_annotation_command__WEBPACK_IMPORTED_MODULE_4__["TestAnnotateCommand"], _models_test_event_command__WEBPACK_IMPORTED_MODULE_5__["TestEventCommand"]];
TestCommandEntryService.ɵfac = function TestCommandEntryService_Factory(t) { return new (t || TestCommandEntryService)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_zebra_viewer__WEBPACK_IMPORTED_MODULE_3__["EventsManagerService"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_zebra_viewer__WEBPACK_IMPORTED_MODULE_3__["GeoTranslationService"])); };
TestCommandEntryService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: TestCommandEntryService, factory: TestCommandEntryService.ɵfac, providedIn: 'root' });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵsetClassMetadata"](TestCommandEntryService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _zebra_viewer__WEBPACK_IMPORTED_MODULE_3__["EventsManagerService"] }, { type: _zebra_viewer__WEBPACK_IMPORTED_MODULE_3__["GeoTranslationService"] }]; }, null); })();
const createTestCommandValidators = (binder) => {
    const commandValidatorMap = new Map();
    commandValidatorMap.set(_models_test_annotation_command__WEBPACK_IMPORTED_MODULE_4__["TestAnnotateCommand"], binder.testCommandAnnotateValidator.bind(binder));
    commandValidatorMap.set(_models_test_handlers_error_command__WEBPACK_IMPORTED_MODULE_7__["TestHandlersErrorCommand"], binder.testHandlersErrorCommandValidator.bind(binder));
    // Empty validator function means that only the baseCommandValidator will run, but we need to provide it for integrity
    commandValidatorMap.set(_models_test_event_command__WEBPACK_IMPORTED_MODULE_5__["TestEventCommand"], () => { });
    commandValidatorMap.set(_models_test_image_command__WEBPACK_IMPORTED_MODULE_9__["TestImageCommand"], binder.testImageCommandValidator.bind(binder));
    return commandValidatorMap;
};
const createTestCommandHandlerMap = (binder) => {
    const handlerCommandMap = new Map();
    handlerCommandMap.set(_models_test_annotation_command__WEBPACK_IMPORTED_MODULE_4__["TestAnnotateCommand"], binder.testCommandAnnotateHandler.bind(binder));
    handlerCommandMap.set(_models_test_event_command__WEBPACK_IMPORTED_MODULE_5__["TestEventCommand"], binder.testEventWithNoCommandOrCycleIdHandler.bind(binder));
    handlerCommandMap.set(_models_test_image_command__WEBPACK_IMPORTED_MODULE_9__["TestImageCommand"], binder.testImageCommandHanlder.bind(binder));
    handlerCommandMap.set(_models_test_handlers_error_command__WEBPACK_IMPORTED_MODULE_7__["TestHandlersErrorCommand"], binder.testHandlersErrorCommandHandler.bind(binder));
    return handlerCommandMap;
};


/***/ }),

/***/ "g0QE":
/*!************************************************************!*\
  !*** ./projects/zebra-viewer/src/config/hotkeys.config.ts ***!
  \************************************************************/
/*! exports provided: hotkeys */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hotkeys", function() { return hotkeys; });
/* harmony import */ var _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/editor/shared/enums/RelevantViewportsPolicyEnum */ "+neF");
/* harmony import */ var _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/editor/shared/models/command.model */ "lxft");
/* harmony import */ var _window_presets_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./window.presets.config */ "J913");



const windowPresetsHotkeys = [...Array(9).keys()].map((index) => {
    return {
        keys: `F${index + 1}`,
        getCommand: () => new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setWindowLevel', {
            windowWidth: _window_presets_config__WEBPACK_IMPORTED_MODULE_2__["presets"][index].width,
            windowCenter: _window_presets_config__WEBPACK_IMPORTED_MODULE_2__["presets"][index].center,
            viewportSelectionPolicy: _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_0__["RelevantViewportsPolicyEnum"].ACTIVE,
        }),
        title: `F${index + 1}`,
        description: `Preset: ${_window_presets_config__WEBPACK_IMPORTED_MODULE_2__["presets"][index].name}`,
    };
});
const hotkeys = [
    ...windowPresetsHotkeys,
    {
        keys: 'meta.shift.f',
        getCommand: () => new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('openFullscreen', {
            viewportSelectionPolicy: _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_0__["RelevantViewportsPolicyEnum"].ACTIVE,
        }),
        title: 'Cmd/Ctrl + Shift + f',
        description: 'Open fullscreen',
    },
    {
        keys: 'meta.=',
        getCommand: () => new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('zoomStep', {
            step: 0.1,
            viewportSelectionPolicy: _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_0__["RelevantViewportsPolicyEnum"].ACTIVE,
        }),
        title: 'Cmd/Ctrl + (+)',
        description: 'Zoom in',
    },
    {
        keys: 'meta.-',
        getCommand: () => new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('zoomStep', {
            step: -0.1,
            viewportSelectionPolicy: _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_0__["RelevantViewportsPolicyEnum"].ACTIVE,
        }),
        title: 'Cmd/Ctrl + (-)',
        description: 'Zoom out',
    },
    {
        keys: 'meta.0',
        getCommand: () => new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('zoom', {
            scale: 1,
            viewportSelectionPolicy: _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_0__["RelevantViewportsPolicyEnum"].ACTIVE,
        }),
        title: 'Cmd/Ctrl + 0',
        description: 'Zoom reset',
    },
    {
        keys: 'meta.a',
        getCommand: () => new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('showAnnotation', {
            viewportSelectionPolicy: _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_0__["RelevantViewportsPolicyEnum"].ACTIVE,
        }),
        title: 'Cmd/Ctrl + a',
        description: 'Show annotations',
    },
    {
        keys: 'meta.i',
        getCommand: () => new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('showDicomInfo', {
            viewportSelectionPolicy: _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_0__["RelevantViewportsPolicyEnum"].ACTIVE,
        }),
        title: 'Cmd/Ctrl + i',
        description: 'Show DICOM info',
    },
    {
        keys: 'meta.v',
        getCommand: () => new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('activeVieweport', {
            viewportSelectionPolicy: _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_0__["RelevantViewportsPolicyEnum"].ACTIVE,
        }),
        title: 'Cmd/Ctrl + v',
        description: 'Next viewport',
    },
    {
        keys: 'arrowup',
        getCommand: () => new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('scrollBy', {
            value: 1,
            viewportSelectionPolicy: _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_0__["RelevantViewportsPolicyEnum"].ACTIVE,
        }),
        title: 'Arrow up',
        description: 'Image scroll up',
    },
    {
        keys: 'arrowdown',
        getCommand: () => new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('scrollBy', {
            value: -1,
            viewportSelectionPolicy: _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_0__["RelevantViewportsPolicyEnum"].ACTIVE,
        }),
        title: 'Arrow down',
        description: 'Image scroll down',
    },
    {
        keys: 'meta.c',
        getCommand: () => new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('copyToNextImage', {
            viewportSelectionPolicy: _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_0__["RelevantViewportsPolicyEnum"].ACTIVE,
        }),
        title: 'Cmd/Ctrl + c',
        description: 'Copy tag to next image',
    },
    {
        keys: 'meta.z',
        getCommand: () => new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('undo', {
            steps: 1,
            viewportSelectionPolicy: _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_0__["RelevantViewportsPolicyEnum"].ACTIVE,
        }),
        title: 'Cmd/Ctrl + z',
        description: 'Undo',
    },
    {
        keys: 'meta.shift.z',
        getCommand: () => new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('redo', {
            steps: -1,
            viewportSelectionPolicy: _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_0__["RelevantViewportsPolicyEnum"].ACTIVE,
        }),
        title: 'Cmd/Ctrl + shift + z',
        description: 'Redo',
    },
    {
        keys: 'shift.a',
        getCommand: () => new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('toggleAnnotationTextBox'),
        title: 'Shift + a',
        description: 'Toggle Annotations Text Box',
    },
    {
        keys: 'shift.s',
        getCommand: () => new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('toggleAnnotations'),
        title: 'Shift + s',
        description: 'Toggle Annotations',
    },
    {
        eventType: 'mousedown',
        metaKey: true,
        getCommand: () => new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolActive', {
            toolName: 'Pan',
            viewportSelectionPolicy: _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_0__["RelevantViewportsPolicyEnum"].ACTIVE,
        }),
        release: {
            eventType: 'mouseup',
            getCommand: (currentTool) => {
                if (currentTool) {
                    return currentTool.command;
                }
                else {
                    return new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolPassive', {
                        toolName: 'Pan',
                        viewportSelectionPolicy: _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_0__["RelevantViewportsPolicyEnum"].ACTIVE,
                    });
                }
            },
        },
        title: 'Cmd/Ctrl + left mouse + drag',
        description: 'Pan',
    },
];


/***/ }),

/***/ "gDIn":
/*!**********************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/shared/pipes/safe-html.pipe.ts ***!
  \**********************************************************************/
/*! exports provided: SafeHtmlPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SafeHtmlPipe", function() { return SafeHtmlPipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "cUpR");



class SafeHtmlPipe {
    constructor(sanitizer) {
        this.sanitizer = sanitizer;
    }
    transform(html) {
        return this.sanitizer.bypassSecurityTrustHtml(html);
    }
}
SafeHtmlPipe.ɵfac = function SafeHtmlPipe_Factory(t) { return new (t || SafeHtmlPipe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["DomSanitizer"])); };
SafeHtmlPipe.ɵpipe = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefinePipe"]({ name: "safeHtml", type: SafeHtmlPipe, pure: true });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SafeHtmlPipe, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"],
        args: [{ name: 'safeHtml' }]
    }], function () { return [{ type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["DomSanitizer"] }]; }, null); })();


/***/ }),

/***/ "gl7r":
/*!***********************************************************!*\
  !*** ./projects/zebra-viewer-standalone/src/app/mocks.ts ***!
  \***********************************************************/
/*! exports provided: mocks */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mocks", function() { return mocks; });
/* harmony import */ var _zebra_viewer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zebra/viewer */ "VgmR");

const tags = [
// {
// 	id: '6c95cc64-1389-4ea3-8ed4-c1cbf62e9d19',
// 	name: 'Label Name',
// 	scope: 'IMAGE',
// 	baseDataUrl: 'https://ai-coded.zebra-med.com',
// 	relativeDataUrl: '/dataSource/HenryFord/study/3c1acaf2c660cc1752226f8e1128b5f05d050ed9e5190f91b211bbaf18787e57_53bd4ae6-de42-4b6e-87c5-f9a9dad6b405/series/90c0725392334ca755aa0e39f288f8dfdc9749571aeb4be4c14c5e5dea45ce09.tar.gz/dcm/90c0725392334ca755aa0e39f288f8dfdc9749571aeb4be4c14c5e5dea45ce09',
// 	dataIdentifiers: {
// 		studyInstanceUID: '3c1acaf2c660cc1752226f8e1128b5f05d050ed9e5190f91b211bbaf18787e57_53bd4ae6-de42-4b6e-87c5-f9a9dad6b405',
// 		seriesInstanceUID: '90c0725392334ca755aa0e39f288f8dfdc9749571aeb4be4c14c5e5dea45ce09',
// 		sopInstanceUID: '63bf973ab11e8490fbccb0e0764a0b14cd1219405a35c8b538dc2fa1272eabaa',
// 	},
// 	createdAt: new Date(),
// 	createdBy: 'Mor Butbul',
// 	color: '#ff0000',
// 	type: TagTypeEnum.OVERLAY,
// 	value: {
// 		type: 'Overlay',
// 		alpha: 0.2,
// 		colormap: 'hot',
// 		transparentValue: 0.001,
// 		zValue: 0,
// 		mapUrl:
// 			'https://insight-ima-staging.zebra-med.com/organization/zebra/study/214.2926733148.58850.22587.34248.57133894923723/series/214.1058060340.20714.22499.38567.229140927903377/dcm/214.2983125299.59050.22344.46314.156251595062607/overlay/1',
// 	},
// 	properties: [
// 		{
// 			key: 'labelType',
// 			value: 'Classification',
// 		},
// 	],
// },
];
const data = {
    viewport1: [
        'https://ai-coded.zebra-med.com/dataSource/HenryFord/study/3c1acaf2c660cc1752226f8e1128b5f05d050ed9e5190f91b211bbaf18787e57_53bd4ae6-de42-4b6e-87c5-f9a9dad6b405/series/90c0725392334ca755aa0e39f288f8dfdc9749571aeb4be4c14c5e5dea45ce09.tar.gz',
    ],
    viewport2: ['https://data-cdn.zebra-med.com/dataSource/clalit/study/13715414/series/38063986'],
};
// layout
const layout = {
    gridTemplate: '"v1 v2"',
    viewports: [
        {
            id: 'viewport1',
            type: _zebra_viewer__WEBPACK_IMPORTED_MODULE_0__["ViewportTypeEnum"].IMAGE,
            gridAreaName: 'v1',
        },
        {
            id: 'viewport2',
            type: _zebra_viewer__WEBPACK_IMPORTED_MODULE_0__["ViewportTypeEnum"].IMAGE,
            gridAreaName: 'v2',
        },
    ],
};
const mocks = { layout, tags, data };


/***/ }),

/***/ "hUKN":
/*!*******************************************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/viewports-manager/viewport-container/viewport-container.component.ts ***!
  \*******************************************************************************************************************/
/*! exports provided: ViewportContainerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewportContainerComponent", function() { return ViewportContainerComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _shared_enums_viewport_type_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/enums/viewport-type.enum */ "jNum");
/* harmony import */ var _image_viewer_image_viewer_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../image-viewer/image-viewer.component */ "tI3d");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _shared_enums_tag_type_enum__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../shared/enums/tag-type.enum */ "IDrQ");
/* harmony import */ var yassi__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! yassi */ "SCOe");
/* harmony import */ var _modules_dynamic_component_component_position_enum__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../modules/dynamic-component/component-position.enum */ "53Ib");
/* harmony import */ var _modules_dynamic_component_dynamic_component_events_enum__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../modules/dynamic-component/dynamic-component-events.enum */ "jVBt");
/* harmony import */ var _image_viewer_services_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../image-viewer/services/image-viewer-events.service */ "QgyW");
/* harmony import */ var _image_viewer_services_image_viewer_actions_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../image-viewer/services/image-viewer-actions.service */ "aLsl");
/* harmony import */ var _services_tag_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../services/tag.service */ "KlcW");
/* harmony import */ var _shared_services_config_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../shared/services/config.service */ "AZUm");
/* harmony import */ var _services_viewport_metadata_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../services/viewport-metadata.service */ "Zb51");
/* harmony import */ var _events_manager_events_manager_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../events-manager/events-manager.service */ "Hl9B");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _active_tag_bar_active_tag_bar_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./active-tag-bar/active-tag-bar.component */ "DtpI");
/* harmony import */ var _text_viewer_text_viewer_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../text-viewer/text-viewer.component */ "5/kO");
/* harmony import */ var _report_viewer_report_viewer_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../report-viewer/report-viewer.component */ "xNOp");
/* harmony import */ var _tagsbar_tagsbar_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./tagsbar/tagsbar.component */ "SqQm");
/* harmony import */ var _scrollbar_scrollbar_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./scrollbar/scrollbar.component */ "v1KR");
























const _c0 = ["vfTop"];
const _c1 = ["vfBottom"];
const _c2 = ["vfLeft"];
const _c3 = ["vfRight"];
function ViewportContainerComponent_zebra_viewer_active_tag_bar_12_Template(rf, ctx) { if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "zebra-viewer-active-tag-bar", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("inactivate", function ViewportContainerComponent_zebra_viewer_active_tag_bar_12_Template_zebra_viewer_active_tag_bar_inactivate_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r11); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r10.onInactivate($event); })("addTagPressed", function ViewportContainerComponent_zebra_viewer_active_tag_bar_12_Template_zebra_viewer_active_tag_bar_addTagPressed_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r11); const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r12.onAddTagPressed(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("tag", ctx_r4.activeTag)("color", ctx_r4.color)("name", ctx_r4.name)("showAdd", ctx_r4.shouldShowAdd)("showInvalidate", !!ctx_r4.activeTag || ctx_r4.color && ctx_r4.name);
} }
function ViewportContainerComponent_zebra_viewer_image_viewer_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "zebra-viewer-image-viewer", 16);
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("id", ctx_r5.viewerId)("images", ctx_r5.data)("currentSlice", ctx_r5.currentSlice);
} }
function ViewportContainerComponent_zebra_viewer_text_viewer_15_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "zebra-viewer-text-viewer", 17);
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("id", ctx_r6.viewerId)("textItems", ctx_r6.data);
} }
function ViewportContainerComponent_zebra_viewer_report_viewer_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "zebra-viewer-report-viewer", 18);
} if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("id", ctx_r7.viewerId)("viewportId", ctx_r7.id)("urls", ctx_r7.data);
} }
function ViewportContainerComponent_zebra_viewer_tagsbar_17_Template(rf, ctx) { if (rf & 1) {
    const _r14 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "zebra-viewer-tagsbar", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("tagAction", function ViewportContainerComponent_zebra_viewer_tagsbar_17_Template_zebra_viewer_tagsbar_tagAction_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r14); const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r13.onTagAction($event); })("tagClick", function ViewportContainerComponent_zebra_viewer_tagsbar_17_Template_zebra_viewer_tagsbar_tagClick_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r14); const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r15.onTagClick($event); })("tagHoverEnter", function ViewportContainerComponent_zebra_viewer_tagsbar_17_Template_zebra_viewer_tagsbar_tagHoverEnter_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r14); const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r16.onTagHoverEnter($event); })("tagHoverLeave", function ViewportContainerComponent_zebra_viewer_tagsbar_17_Template_zebra_viewer_tagsbar_tagHoverLeave_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r14); const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r17.onTagHoverLeave($event); })("tagDelete", function ViewportContainerComponent_zebra_viewer_tagsbar_17_Template_zebra_viewer_tagsbar_tagDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r14); const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r18.onTagDelete($event); })("tagUpdate", function ViewportContainerComponent_zebra_viewer_tagsbar_17_Template_zebra_viewer_tagsbar_tagUpdate_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r14); const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r19.onTagUpdate($event); })("tagShow", function ViewportContainerComponent_zebra_viewer_tagsbar_17_Template_zebra_viewer_tagsbar_tagShow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r14); const ctx_r20 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r20.onTagShow($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](1, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("tags", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](1, 1, ctx_r8.currentSliceTags$));
} }
function ViewportContainerComponent_zebra_viewer_scrollbar_19_Template(rf, ctx) { if (rf & 1) {
    const _r22 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "zebra-viewer-scrollbar", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("markerClick", function ViewportContainerComponent_zebra_viewer_scrollbar_19_Template_zebra_viewer_scrollbar_markerClick_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r22); const ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r21.onMarkerClick($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](1, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("itemsCount", ctx_r9.imagesCount)("activeIndex", ctx_r9.currentSliceIndex)("markedIndexes", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](1, 3, ctx_r9.imagesMarkerIndexes$));
} }
class ViewportContainerComponent {
    constructor(imageViewerEventsService, imageViewerActionsService, tagService, cdRef, configService, viewportMetadataService, eventManager) {
        this.imageViewerEventsService = imageViewerEventsService;
        this.imageViewerActionsService = imageViewerActionsService;
        this.tagService = tagService;
        this.cdRef = cdRef;
        this.configService = configService;
        this.viewportMetadataService = viewportMetadataService;
        this.eventManager = eventManager;
        this.tagClick = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.tagDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.tagUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.viewportChange = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.ViewportTypeEnum = _shared_enums_viewport_type_enum__WEBPACK_IMPORTED_MODULE_2__["ViewportTypeEnum"];
        this.tags = [];
        this.isRelevantViewport = false;
        this.isActiveViewport = false;
        this.unsubscribe$ = new rxjs__WEBPACK_IMPORTED_MODULE_5__["Subject"]();
    }
    ngOnInit() {
        this.tagService.tagActive$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this.unsubscribe$)).subscribe(this.handleTagActiveChange.bind(this));
        this.viewportMetadataService
            .getMetadata()
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this.unsubscribe$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["filter"])((metadata) => !!metadata))
            .subscribe((metadata) => {
            this.isActiveViewport = !!metadata.viewer ? metadata.viewer.id === this.viewerId : false;
        });
        this.tagService.viewportsWithPendingTags$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this.unsubscribe$))
            .subscribe(this.handlePendingTagsChange.bind(this));
        this.isTagsbarVisible$ = this.configService.getConfig().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])((config) => config.isTagsVisible));
        this.isScrollbarVisible$ = this.configService
            .getConfig()
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])((config) => config.isScrollbarVisible));
        this.registerDynamicComponentsChanges();
    }
    ngOnChanges(changes) {
        if (changes.data && this.data) {
            this.viewportMetadataService.clearViewport(this.id);
            this.imagesMarkerIndexes$ = this.viewportMetadataService.getViewportImagesMarkerIndexes$(this.id);
        }
        if (changes.state && this.state && this.state.currentSliceIndex !== undefined) {
            this.currentSlice = { index: this.state.currentSliceIndex - 1 };
        }
        if (changes.id && this.id) {
            this.viewerId = `${this.id}-viewer`;
        }
    }
    ngAfterViewInit() {
        if (this.type === _shared_enums_viewport_type_enum__WEBPACK_IMPORTED_MODULE_2__["ViewportTypeEnum"].IMAGE) {
            this.viewerEvent$ = this.imageViewerEventsService.viewerChange$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["filter"])((event) => event.viewerId === this.viewer.id), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["share"])());
            this.imageChangedEvent$ = this.viewerEvent$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["filter"])((event) => event.type === "IMAGE_CHANGED" /* IMAGE_CHANGED */ && event.stack));
            this.imageChangedEvent$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this.unsubscribe$)).subscribe((event) => this.handleImageChanged(event));
            this.viewerEvent$
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this.unsubscribe$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["filter"])((event) => event.type === "STACK_IMAGE_LOADED" /* STACK_IMAGE_LOADED */))
                .subscribe((event) => this.handleImageLoaded(event));
            this.currentSliceTags$ = this.imageChangedEvent$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this.unsubscribe$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["switchMap"])((event) => {
                const { studyInstanceUID, seriesInstanceUID, sopInstanceUID } = event.image;
                return this.getTags$(studyInstanceUID, seriesInstanceUID, sopInstanceUID);
            }));
        }
    }
    ngOnDestroy() {
        this.unsubscribe$.next();
        this.unsubscribe$.complete();
        this.viewportMetadataService.clearViewport(this.id);
    }
    onTagDelete(tag) {
        this.tagService.deleteTag(tag);
    }
    onTagUpdate(tag) {
        this.tagService.updateTag(tag);
    }
    onAddTagPressed() {
        const clonedTag = Object.assign(Object.assign({}, this.pendingTag), { dataIdentifiers: this.currentDicomMetadata, deserialize: null });
        this.tagService.updateTag(clonedTag);
        this.pendingTag = null;
    }
    onTagShow(event) {
        event.tag.showAnnotation = event.visible;
        this.tagService.setTagVisibility(event.tag);
    }
    handleImageChanged(event) {
        this.currentDicomMetadata = this.viewportMetadataService.getDataIdentifiersFromEvent(event);
        this.currentSliceIndex = event.stack.sliceIndex - 1;
    }
    handleImageLoaded(event) {
        const dicomMetadata = this.viewportMetadataService.getDataIdentifiersFromEvent(event);
        this.viewportMetadataService.addLoadedImage(this.id, dicomMetadata);
        this.imagesCount = event.stack.slicesCount;
    }
    onTagAction(event) {
        this.tagService.onTagAction(event);
    }
    onTagClick(tag) {
        this.activeTag = tag;
        this.tagService.setTagActive(tag, {
            viewers: [this.viewer],
        });
        this.cdRef.markForCheck();
    }
    onTagHoverEnter(tag) {
        if (this.activeTag) {
            return;
        }
        this.tagService.setTagActive(tag, {
            viewers: [this.viewer],
        }, true);
    }
    onTagHoverLeave(tag) {
        if (this.activeTag) {
            return;
        }
        this.tagService.setTagInactive(tag, {
            viewers: [this.viewer],
        }, true);
    }
    onInactivate(tag) {
        if (this.pendingTag) {
            // If we are here it means that there is no real tag yet, so just remove the bar and pendingTag
            this.pendingTag = null;
            this.shouldShowAdd = false;
        }
        this.color = null;
        this.name = null;
        this.activeTag = undefined;
        this.tagService.setTagInactive(tag, {
            viewers: [this.viewer],
        });
        this.cdRef.markForCheck();
    }
    onMarkerClick(index) {
        this.imageViewerActionsService.scrollToIndex({
            viewers: [this.viewer],
            index,
        });
    }
    registerDynamicComponentsChanges() {
        this.dynamicComponents$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this.unsubscribe$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["filter"])((comps) => !!comps && comps.length > 0), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])((dynamicComponents) => {
            const comps = [];
            for (const comp of dynamicComponents) {
                // If the request is for this specific viewport or to all viewport (i.e. null) we include it
                if (comp.viewportId == null || comp.viewportId === this.id) {
                    comps.push(comp);
                }
            }
            return comps;
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["filter"])((comps) => !!comps && comps.length > 0))
            .subscribe((components) => {
            let componentRef;
            for (const comp of components) {
                let vcf;
                switch (comp.position) {
                    case _modules_dynamic_component_component_position_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentPositionEnum"].BOTTOM:
                        this.vfBottom.clear();
                        vcf = this.vfBottom;
                        break;
                    case _modules_dynamic_component_component_position_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentPositionEnum"].TOP:
                        this.vfTop.clear();
                        vcf = this.vfTop;
                        break;
                    case _modules_dynamic_component_component_position_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentPositionEnum"].LEFT:
                        this.vfLeft.clear();
                        vcf = this.vfLeft;
                        break;
                    case _modules_dynamic_component_component_position_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentPositionEnum"].RIGHT:
                        this.vfRight.clear();
                        vcf = this.vfRight;
                        break;
                }
                if (comp.componentResolver) {
                    // When removing a component we are not executing this part.
                    componentRef = vcf.createComponent(comp.componentResolver);
                }
                vcf = null;
                if (componentRef) {
                    componentRef.changeDetectorRef.detectChanges();
                    this.eventManager.buildAndSendEvent(_modules_dynamic_component_dynamic_component_events_enum__WEBPACK_IMPORTED_MODULE_9__["DynamicComponentEventsEnum"].DYNAMIC_COMPONENT_CREATED_EVENT, 'Dynamic component created successfully', null, {
                        instance: componentRef.instance,
                        componentInstanceId: comp.componentInstanceId,
                    });
                }
                else {
                    this.eventManager.buildAndSendEvent(_modules_dynamic_component_dynamic_component_events_enum__WEBPACK_IMPORTED_MODULE_9__["DynamicComponentEventsEnum"].DYNAMIC_COMPONENT_DESTROYED_EVENT, 'Dynamic component destroyed successfully', null, {
                        componentInstanceId: comp.componentInstanceId,
                    });
                }
            }
        });
    }
    handleTagActiveChange(tag) {
        this.viewportMetadataService
            .getViewportTags$(this.id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["take"])(1))
            .subscribe((tags) => {
            const tagExists = tag && tags.find((curTag) => curTag.id === tag.id);
            if (tagExists) {
                this.onTagClick(tag);
            }
            else {
                this.onInactivate(tag);
            }
        });
    }
    handlePendingTagsChange(viewportsWithPendingTags = {}) {
        this.isRelevantViewport = Object.keys(viewportsWithPendingTags).includes(this.id);
        if (viewportsWithPendingTags[this.id]) {
            this.pendingTag = viewportsWithPendingTags[this.id].tag;
            this.color = viewportsWithPendingTags[this.id].color;
            this.name = viewportsWithPendingTags[this.id].name;
            this.shouldShowAdd =
                !this.isActiveViewport && this.pendingTag ? this.pendingTag.type === _shared_enums_tag_type_enum__WEBPACK_IMPORTED_MODULE_6__["TagTypeEnum"].TEXT : false;
            this.cdRef.markForCheck();
        }
        else {
            this.onInactivate(null);
        }
    }
    getTags$(studyInstanceUID, seriesInstanceUID, sopInstanceUID) {
        const allTags$ = [
            this.tagService.getTags$("IMAGE" /* IMAGE */, sopInstanceUID),
            this.tagService.getTags$("SERIES" /* SERIES */, seriesInstanceUID),
            this.tagService.getTags$("STUDY" /* STUDY */, studyInstanceUID),
        ];
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["combineLatest"])(allTags$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])((tagsGroups) => tagsGroups.flat()));
    }
}
ViewportContainerComponent.ɵfac = function ViewportContainerComponent_Factory(t) { return new (t || ViewportContainerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_image_viewer_services_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_10__["ImageViewerEventsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_image_viewer_services_image_viewer_actions_service__WEBPACK_IMPORTED_MODULE_11__["ImageViewerActionsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_services_tag_service__WEBPACK_IMPORTED_MODULE_12__["TagService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_shared_services_config_service__WEBPACK_IMPORTED_MODULE_13__["ConfigService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_services_viewport_metadata_service__WEBPACK_IMPORTED_MODULE_14__["ViewportMetadataService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_events_manager_events_manager_service__WEBPACK_IMPORTED_MODULE_15__["EventsManagerService"])); };
ViewportContainerComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: ViewportContainerComponent, selectors: [["zebra-viewer-viewport-container"]], viewQuery: function ViewportContainerComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_image_viewer_image_viewer_component__WEBPACK_IMPORTED_MODULE_3__["ImageViewerComponent"], 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c0, 1, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewContainerRef"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c1, 1, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewContainerRef"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c2, 1, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewContainerRef"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c3, 1, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewContainerRef"]);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.viewer = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.vfTop = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.vfBottom = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.vfLeft = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.vfRight = _t.first);
    } }, inputs: { id: "id", data: "data", type: "type", command: "command", currentSlice: "currentSlice", state: "state" }, outputs: { tagClick: "tagClick", tagDelete: "tagDelete", tagUpdate: "tagUpdate", viewportChange: "viewportChange" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]], decls: 21, vars: 11, consts: [[1, "dynamic_component_container_top"], ["vfTop", ""], [1, "dynamic_component_container_bottom"], ["vfBottom", ""], [1, "dynamic_component_container_left"], ["vfLeft", ""], [1, "dynamic_component_container_right"], ["vfRight", ""], [3, "tag", "color", "name", "showAdd", "showInvalidate", "inactivate", "addTagPressed", 4, "ngIf"], [3, "ngSwitch"], [3, "id", "images", "currentSlice", 4, "ngSwitchCase"], [3, "id", "textItems", 4, "ngSwitchCase"], [3, "id", "viewportId", "urls", 4, "ngSwitchCase"], [3, "tags", "tagAction", "tagClick", "tagHoverEnter", "tagHoverLeave", "tagDelete", "tagUpdate", "tagShow", 4, "ngIf"], [3, "itemsCount", "activeIndex", "markedIndexes", "markerClick", 4, "ngIf"], [3, "tag", "color", "name", "showAdd", "showInvalidate", "inactivate", "addTagPressed"], [3, "id", "images", "currentSlice"], [3, "id", "textItems"], [3, "id", "viewportId", "urls"], [3, "tags", "tagAction", "tagClick", "tagHoverEnter", "tagHoverLeave", "tagDelete", "tagUpdate", "tagShow"], [3, "itemsCount", "activeIndex", "markedIndexes", "markerClick"]], template: function ViewportContainerComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "section", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainer"](1, null, 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "section", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainer"](4, null, 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "section", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainer"](7, null, 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "section", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainer"](10, null, 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](12, ViewportContainerComponent_zebra_viewer_active_tag_bar_12_Template, 1, 5, "zebra-viewer-active-tag-bar", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](13, 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](14, ViewportContainerComponent_zebra_viewer_image_viewer_14_Template, 1, 3, "zebra-viewer-image-viewer", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](15, ViewportContainerComponent_zebra_viewer_text_viewer_15_Template, 1, 2, "zebra-viewer-text-viewer", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](16, ViewportContainerComponent_zebra_viewer_report_viewer_16_Template, 1, 3, "zebra-viewer-report-viewer", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](17, ViewportContainerComponent_zebra_viewer_tagsbar_17_Template, 2, 3, "zebra-viewer-tagsbar", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](18, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](19, ViewportContainerComponent_zebra_viewer_scrollbar_19_Template, 2, 5, "zebra-viewer-scrollbar", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](20, "async");
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](12);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.isRelevantViewport);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngSwitch", ctx.type);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngSwitchCase", ctx.ViewportTypeEnum.IMAGE);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngSwitchCase", ctx.ViewportTypeEnum.TEXT);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngSwitchCase", ctx.ViewportTypeEnum.REPORT);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](18, 7, ctx.isTagsbarVisible$) !== false);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](20, 9, ctx.isScrollbarVisible$) !== false);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_16__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["NgSwitch"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["NgSwitchCase"], _active_tag_bar_active_tag_bar_component__WEBPACK_IMPORTED_MODULE_17__["ActiveTagBarComponent"], _image_viewer_image_viewer_component__WEBPACK_IMPORTED_MODULE_3__["ImageViewerComponent"], _text_viewer_text_viewer_component__WEBPACK_IMPORTED_MODULE_18__["TextViewerComponent"], _report_viewer_report_viewer_component__WEBPACK_IMPORTED_MODULE_19__["ReportViewerComponent"], _tagsbar_tagsbar_component__WEBPACK_IMPORTED_MODULE_20__["TagsbarComponent"], _scrollbar_scrollbar_component__WEBPACK_IMPORTED_MODULE_21__["ScrollbarComponent"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_16__["AsyncPipe"]], styles: ["[_nghost-%COMP%] {\n  width: 100%;\n  height: 100%;\n  background: #000;\n  background-size: contain;\n  position: relative;\n  overflow: hidden;\n  border: 3px solid #000;\n}\n.active[_nghost-%COMP%] {\n  border-color: #ffd200;\n}\n.hidden[_ngcontent-%COMP%] {\n  display: none;\n}\nzebra-viewer-scrollbar[_ngcontent-%COMP%] {\n  height: calc(100% - 80px - 64px);\n  width: 20px;\n  position: absolute;\n  left: 8px;\n  top: 40px;\n}\n.dynamic_component_container_bottom[_ngcontent-%COMP%] {\n  position: absolute;\n  bottom: 0px;\n  width: 100%;\n  z-index: 999;\n}\n.dynamic_component_container_top[_ngcontent-%COMP%] {\n  position: absolute;\n  top: 0px;\n  width: 100%;\n  z-index: 999;\n}\n.dynamic_component_container_left[_ngcontent-%COMP%] {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  height: 100%;\n  z-index: 999;\n}\n.dynamic_component_container_right[_ngcontent-%COMP%] {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  height: 100%;\n  z-index: 999;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3ZpZXdwb3J0LWNvbnRhaW5lci5jb21wb25lbnQuc2NzcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Njc3MvdmFyaWFibGVzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0E7RUFDQyxXQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0Esd0JBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0Esc0JBQUE7QUFGRDtBQUlDO0VBQ0MscUJDYk07QURXUjtBQU1BO0VBQ0MsYUFBQTtBQUhEO0FBTUE7RUFDQyxnQ0FBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLFNDckJNO0VEc0JOLFNBQUE7QUFIRDtBQU1BO0VBQ0Msa0JBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUFIRDtBQU1BO0VBQ0Msa0JBQUE7RUFDQSxRQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUFIRDtBQU1BO0VBQ0Msa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0FBSEQ7QUFNQTtFQUNDLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtBQUhEIiwiZmlsZSI6InZpZXdwb3J0LWNvbnRhaW5lci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgJy4uLy4uLy4uLy4uL3Njc3MvdmFyaWFibGVzLnNjc3MnO1xuQGltcG9ydCAnLi4vLi4vLi4vLi4vc2Nzcy9taXhpbnMnO1xuXG46aG9zdCB7XG5cdHdpZHRoOiAxMDAlO1xuXHRoZWlnaHQ6IDEwMCU7XG5cdGJhY2tncm91bmQ6ICMwMDA7XG5cdGJhY2tncm91bmQtc2l6ZTogY29udGFpbjtcblx0cG9zaXRpb246IHJlbGF0aXZlO1xuXHRvdmVyZmxvdzogaGlkZGVuO1xuXHRib3JkZXI6IDNweCBzb2xpZCAjMDAwO1xuXG5cdCYuYWN0aXZlIHtcblx0XHRib3JkZXItY29sb3I6ICR6ZWJyYTtcblx0fVxufVxuXG4uaGlkZGVuIHtcblx0ZGlzcGxheTogbm9uZTtcbn1cblxuemVicmEtdmlld2VyLXNjcm9sbGJhciB7XG5cdGhlaWdodDogY2FsYygxMDAlIC0gODBweCAtIDY0cHgpOyAvLyAxMDAlIC0gb3ZlcmxheSBkaXZzIC0gdGFncyBiYXJcblx0d2lkdGg6IDIwcHg7XG5cdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0bGVmdDogJHVuaXQ7XG5cdHRvcDogNDBweDsgLy8ganVzdCBiZWxvdyB0aGUgdG9wIG92ZXJsYXkgZGl2XG59XG5cbi5keW5hbWljX2NvbXBvbmVudF9jb250YWluZXJfYm90dG9tIHtcblx0cG9zaXRpb246IGFic29sdXRlO1xuXHRib3R0b206IDBweDtcblx0d2lkdGg6IDEwMCU7XG5cdHotaW5kZXg6IDk5OTtcbn1cblxuLmR5bmFtaWNfY29tcG9uZW50X2NvbnRhaW5lcl90b3Age1xuXHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdHRvcDogMHB4O1xuXHR3aWR0aDogMTAwJTtcblx0ei1pbmRleDogOTk5O1xufVxuXG4uZHluYW1pY19jb21wb25lbnRfY29udGFpbmVyX2xlZnQge1xuXHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdHRvcDogMHB4O1xuXHRsZWZ0OiAwcHg7XG5cdGhlaWdodDogMTAwJTtcblx0ei1pbmRleDogOTk5O1xufVxuXG4uZHluYW1pY19jb21wb25lbnRfY29udGFpbmVyX3JpZ2h0IHtcblx0cG9zaXRpb246IGFic29sdXRlO1xuXHR0b3A6IDBweDtcblx0cmlnaHQ6IDBweDtcblx0aGVpZ2h0OiAxMDAlO1xuXHR6LWluZGV4OiA5OTk7XG59XG4iLCIkemVicmE6ICNmZmQyMDA7XG4kdG9vbC1jb2xvcjogI2ZmZjtcbiR0b29sLWNvbG9yLXNlbGVjdGVkOiAkemVicmE7XG5cbiR1bml0OiA4cHg7XG4kdG9vbGJhci1oZWlnaHQ6IDM2cHg7XG4kaWNvbi1zaXplOiAyNHB4O1xuJHRvb2wtd2lkdGg6ICR0b29sYmFyLWhlaWdodDtcbiR0YWctaGVpZ2h0OiAyNHB4O1xuIl19 */"], changeDetection: 0 });
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(yassi__WEBPACK_IMPORTED_MODULE_7__["observe"])('dynamicComponents')
], ViewportContainerComponent.prototype, "dynamicComponents$", void 0);
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ViewportContainerComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"],
        args: [{
                selector: 'zebra-viewer-viewport-container',
                templateUrl: './viewport-container.component.html',
                styleUrls: ['./viewport-container.component.scss'],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectionStrategy"].OnPush,
            }]
    }], function () { return [{ type: _image_viewer_services_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_10__["ImageViewerEventsService"] }, { type: _image_viewer_services_image_viewer_actions_service__WEBPACK_IMPORTED_MODULE_11__["ImageViewerActionsService"] }, { type: _services_tag_service__WEBPACK_IMPORTED_MODULE_12__["TagService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectorRef"] }, { type: _shared_services_config_service__WEBPACK_IMPORTED_MODULE_13__["ConfigService"] }, { type: _services_viewport_metadata_service__WEBPACK_IMPORTED_MODULE_14__["ViewportMetadataService"] }, { type: _events_manager_events_manager_service__WEBPACK_IMPORTED_MODULE_15__["EventsManagerService"] }]; }, { viewer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"],
            args: [_image_viewer_image_viewer_component__WEBPACK_IMPORTED_MODULE_3__["ImageViewerComponent"]]
        }], vfTop: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"],
            args: ['vfTop', { read: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewContainerRef"] }]
        }], vfBottom: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"],
            args: ['vfBottom', { read: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewContainerRef"] }]
        }], vfLeft: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"],
            args: ['vfLeft', { read: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewContainerRef"] }]
        }], vfRight: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"],
            args: ['vfRight', { read: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewContainerRef"] }]
        }], dynamicComponents$: [], id: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], data: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], type: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], command: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], currentSlice: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], state: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], tagClick: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }], tagDelete: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }], tagUpdate: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }], viewportChange: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }] }); })();


/***/ }),

/***/ "hy9T":
/*!***********************************************************************************************************************!*\
  !*** ./projects/zebra-viewer-standalone/src/app/viewer-dynamic-modules/test-module/models/test-annotation.command.ts ***!
  \***********************************************************************************************************************/
/*! exports provided: TestAnnotateCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TestAnnotateCommand", function() { return TestAnnotateCommand; });
/* harmony import */ var _zebra_viewer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zebra/viewer */ "VgmR");

class TestAnnotateCommand extends _zebra_viewer__WEBPACK_IMPORTED_MODULE_0__["IBaseCommand"] {
    constructor(options) {
        super(options);
    }
}


/***/ }),

/***/ "i3Xp":
/*!*************************************************!*\
  !*** (webpack)/hot sync nonrecursive ^\.\/log$ ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./log": "dZZH"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "i3Xp";

/***/ }),

/***/ "jNum":
/*!*********************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/shared/enums/viewport-type.enum.ts ***!
  \*********************************************************************************/
/*! exports provided: ViewportTypeEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewportTypeEnum", function() { return ViewportTypeEnum; });
var ViewportTypeEnum;
(function (ViewportTypeEnum) {
    ViewportTypeEnum["IMAGE"] = "IMAGE";
    ViewportTypeEnum["TEXT"] = "TEXT";
    ViewportTypeEnum["REPORT"] = "REPORT";
    ViewportTypeEnum["LIST"] = "LIST";
    ViewportTypeEnum["NONE"] = "NONE";
})(ViewportTypeEnum || (ViewportTypeEnum = {}));


/***/ }),

/***/ "jVBt":
/*!**************************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules/dynamic-component/dynamic-component-events.enum.ts ***!
  \**************************************************************************************************/
/*! exports provided: DynamicComponentEventsEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DynamicComponentEventsEnum", function() { return DynamicComponentEventsEnum; });
var DynamicComponentEventsEnum;
(function (DynamicComponentEventsEnum) {
    DynamicComponentEventsEnum["INVALID_DYNAMIC_COMPONENT_ARGUMENTS_EVENT"] = "INVALID_DYNAMIC_COMPONENT_ARGUMENTS_EVENT";
    DynamicComponentEventsEnum["ADD_DYNAMIC_COMPONENT_SUCCEED_EVENT"] = "ADD_DYNAMIC_COMPONENT_SUCCEED_EVENT";
    DynamicComponentEventsEnum["ADD_DYNAMIC_COMPONENT_FAILED_EVENT"] = "ADD_DYNAMIC_COMPONENT_FAILED_EVENT";
    DynamicComponentEventsEnum["REMOVE_DYNAMIC_COMPONENT_SUCCEED_EVENT"] = "REMOVE_DYNAMIC_COMPONENT_SUCCEED_EVENT";
    DynamicComponentEventsEnum["REMOVE_DYNAMIC_COMPONENT_FAILED_EVENT"] = "REMOVE_DYNAMIC_COMPONENT_SUCCEED_EVENT";
    DynamicComponentEventsEnum["DYNAMIC_COMPONENT_CREATED_EVENT"] = "DYNAMIC_COMPONENT_CREATED_EVENT";
    DynamicComponentEventsEnum["DYNAMIC_COMPONENT_DESTROYED_EVENT"] = "DYNAMIC_COMPONENT_DESTROYED_EVENT";
})(DynamicComponentEventsEnum || (DynamicComponentEventsEnum = {}));


/***/ }),

/***/ "jd53":
/*!**************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/services/translators/prob.translator.ts ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ProbTranslator; });
/* harmony import */ var _turf_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @turf/helpers */ "hPoO");

class ProbTranslator {
    static getAsCornerstone(collection) {
        const feature = collection.features[0];
        const geometry = feature.geometry;
        const handles = {
            end: {
                active: false,
                highlight: true,
                x: geometry.coordinates[0],
                y: geometry.coordinates[1],
            },
            textBox: {
                active: false,
                hasMoved: false,
                movesIndependently: false,
                drawnIndependently: true,
                allowedOutsideImage: true,
                hasBoundingBox: false,
            },
        };
        let data = {
            visible: true,
            active: false,
            handles,
            highlight: false,
            invalidated: true,
        };
        if (feature.properties) {
            data = Object.assign(Object.assign({}, data), feature.properties);
        }
        if (!data.toolName) {
            data.toolName = 'Probe';
        }
        return data;
    }
    static getAsGeoJson(annotation) {
        // decorate annotation with UUID/label text/color
        const coordinates = [];
        if (annotation.handles !== undefined && Object.keys(annotation.handles)) {
            const x1 = annotation.handles.end.x;
            const y1 = annotation.handles.end.y;
            coordinates.push(x1, y1);
        }
        if (coordinates && coordinates.length) {
            return Object(_turf_helpers__WEBPACK_IMPORTED_MODULE_0__["featureCollection"])([
                {
                    type: 'Feature',
                    geometry: { type: 'Point', coordinates },
                    properties: {
                        toolName: annotation.toolName,
                    },
                },
            ]);
        }
        return;
    }
}


/***/ }),

/***/ "k/mX":
/*!*************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/viewer-api.service.ts ***!
  \*************************************************************/
/*! exports provided: ViewerApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerApiService", function() { return ViewerApiService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var yassi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! yassi */ "SCOe");
/* harmony import */ var _modules_manager_module_manager_events_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules-manager/module-manager-events.enum */ "oHjC");
/* harmony import */ var _modules_manager_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules-manager/common */ "Bsmm");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _events_manager_events_manager_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./events-manager/events-manager.service */ "Hl9B");
/* harmony import */ var _editor_services_utilities_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./editor/services/utilities.service */ "oeIr");








class ViewerApiService {
    constructor(eventManagerService, utilitiesService) {
        this.eventManagerService = eventManagerService;
        this.utilitiesService = utilitiesService;
    }
    executeCommand(command) {
        command.commandTracker$ = this.eventManagerService.getCommandTracker(command.cycleId);
        setTimeout(() => {
            try {
                const validators = yassi__WEBPACK_IMPORTED_MODULE_1__["yassi"].get('commandValidators');
                const handlers = yassi__WEBPACK_IMPORTED_MODULE_1__["yassi"].get('commandHandlers');
                const validatorFunction = validators[command.type];
                if (!validatorFunction) {
                    this.eventManagerService.sendEvent(this.eventManagerService.buildEvent(_modules_manager_module_manager_events_enum__WEBPACK_IMPORTED_MODULE_2__["ModuleManagerEventsEnum"].MISSING_VALIDATOR_ERROR_EVENT, `No validator for ${command.type}`, command));
                    this.eventManagerService.completeCycle(command.cycleId);
                    return;
                }
                Object(_modules_manager_common__WEBPACK_IMPORTED_MODULE_3__["baseCommandValidator"])(command);
                validatorFunction(command);
                const handlerFunction = handlers[command.type];
                if (!handlerFunction) {
                    this.eventManagerService.sendEvent(this.eventManagerService.buildEvent(_modules_manager_module_manager_events_enum__WEBPACK_IMPORTED_MODULE_2__["ModuleManagerEventsEnum"].MISSING_HANDLER_ERROR_EVENT, `No handler for ${command.type}`, command));
                    this.eventManagerService.completeCycle(command.cycleId);
                    return;
                }
                const handlerRes = handlerFunction(command);
                if (handlerRes && handlerRes.subscribe) {
                    handlerRes.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["take"])(1)).subscribe((result) => this.eventManagerService.completeCycle(command.cycleId), (error) => this.onCycleError(error, command));
                }
                else {
                    this.eventManagerService.completeCycle(command.cycleId);
                }
            }
            catch (error) {
                this.onCycleError(error, command);
            }
        }, 0);
        return command.commandTracker$;
    }
    onCycleError(error, command) {
        try {
            this.eventManagerService.sendErrorEvent(this.eventManagerService.buildEvent(error.type || _modules_manager_module_manager_events_enum__WEBPACK_IMPORTED_MODULE_2__["ModuleManagerEventsEnum"].UNKNOWN_ERROR, error.message, command, error));
        }
        catch (e) {
            // Even the event was erroneous, try just to complete the cycle.
            this.eventManagerService.completeCycle(command.cycleId);
        }
    }
    // TODO: Add an options param to specify what to include in the event to prevent large traffic such as event result from
    //  MEASUREMENT_MODIFIED cornerstone events
    trackEventsByType(eventType) {
        return this.eventManagerService.trackEventsByType(eventType);
    }
    trackEventsByCycleId(cycleId) {
        return this.eventManagerService.trackEventsByCycleId(cycleId);
    }
    // Get a partial information of data identifier and complete the information as best as possible
    completeDataIdentifiers(dataIdentifiers) {
        const dataIdentifiersMapping = yassi__WEBPACK_IMPORTED_MODULE_1__["yassi"].get('dataIdentifiersMapping');
        const customUrl = this.utilitiesService.getCustomImageUrl(dataIdentifiers);
        const actualCompleteDataIdentifier = dataIdentifiersMapping[dataIdentifiers.imageId] ||
            dataIdentifiersMapping[dataIdentifiers.imageUrl] ||
            dataIdentifiersMapping[customUrl];
        return actualCompleteDataIdentifier;
    }
}
ViewerApiService.ɵfac = function ViewerApiService_Factory(t) { return new (t || ViewerApiService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_events_manager_events_manager_service__WEBPACK_IMPORTED_MODULE_5__["EventsManagerService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_editor_services_utilities_service__WEBPACK_IMPORTED_MODULE_6__["UtilitiesService"])); };
ViewerApiService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ViewerApiService, factory: ViewerApiService.ɵfac, providedIn: 'root' });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ViewerApiService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _events_manager_events_manager_service__WEBPACK_IMPORTED_MODULE_5__["EventsManagerService"] }, { type: _editor_services_utilities_service__WEBPACK_IMPORTED_MODULE_6__["UtilitiesService"] }]; }, null); })();


/***/ }),

/***/ "k2Bx":
/*!**************************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/services/image-viewer-segmentation.service.ts ***!
  \**************************************************************************************************/
/*! exports provided: ImageViewerSegmentationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageViewerSegmentationService", function() { return ImageViewerSegmentationService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cornerstone-tools */ "b09o");
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cornerstone_tools__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cornerstone-core */ "MNym");
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cornerstone_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ "EcEN");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _modules_core_core_commands_events_enum__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../modules/core/core-commands-events.enum */ "H6th");
/* harmony import */ var _image_viewer_events_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./image-viewer-events.service */ "QgyW");
/* harmony import */ var _events_manager_events_manager_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../events-manager/events-manager.service */ "Hl9B");










const { getToolState } = cornerstone_tools__WEBPACK_IMPORTED_MODULE_1___default.a;
class ImageViewerSegmentationService {
    constructor(imageViewerEventsService, eventManager) {
        this.imageViewerEventsService = imageViewerEventsService;
        this.eventManager = eventManager;
        this.measurementDeleted$ = new rxjs__WEBPACK_IMPORTED_MODULE_5__["Subject"]();
        this.measurementModified$ = new rxjs__WEBPACK_IMPORTED_MODULE_5__["Subject"]();
        this.measurementModifiedCompleted$ = new rxjs__WEBPACK_IMPORTED_MODULE_5__["Subject"]();
        this.unsubscribe$ = new rxjs__WEBPACK_IMPORTED_MODULE_5__["Subject"]();
        this.toolStateManager = cornerstone_tools__WEBPACK_IMPORTED_MODULE_1___default.a.globalImageIdSpecificToolStateManager;
        this.imageViewerEventsService.viewerChange$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["takeUntil"])(this.unsubscribe$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["filter"])((event) => event.type === "MEASUREMENT_COMPLETED" /* MEASUREMENT_COMPLETED */))
            .subscribe(this.handleMeasurementCompleted.bind(this));
        this.imageViewerEventsService.viewerChange$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["takeUntil"])(this.unsubscribe$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["filter"])((event) => event.type === "MEASUREMENT_ADDED" /* MEASUREMENT_ADDED */))
            .subscribe(this.handleMeasurementAdded.bind(this));
        this.imageViewerEventsService.viewerChange$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["takeUntil"])(this.unsubscribe$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["filter"])((event) => event.type === "MEASUREMENT_REMOVED" /* MEASUREMENT_REMOVED */))
            .subscribe(this.handleMeasurementRemoved.bind(this));
        this.imageViewerEventsService.viewerChange$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["takeUntil"])(this.unsubscribe$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["filter"])((event) => event.type === "MEASUREMENT_MODIFIED" /* MEASUREMENT_MODIFIED */))
            .subscribe(this.handleMeasurementModified.bind(this));
        this.listenToMeasurementModifiedCompleted();
    }
    ngOnDestroy() {
        this.unsubscribe$.next();
        this.unsubscribe$.complete();
    }
    removeMeasurementsByIds(measurementsIds) {
        const toolState = this.toolStateManager.saveToolState();
        this.removeFromToolState(toolState, (measurementData) => measurementsIds.includes(measurementData._id), true);
    }
    getMeasurementsByIds(measurementsIds) {
        const toolState = this.toolStateManager.saveToolState();
        const { results } = this.iterateToolState(toolState, (measurementData) => measurementsIds.includes(measurementData._id));
        return results;
    }
    toggleMeasurements(measurementsData, isShow) {
        const measurementsIds = measurementsData.map((measurementData) => measurementData._id);
        const toolState = this.toolStateManager.saveToolState();
        this.iterateToolState(toolState, (data) => measurementsIds.includes(data._id), (data) => (Object.assign(Object.assign({}, data), { visible: isShow })), true);
    }
    toggleAllMeasurements(isShow) {
        const toolState = this.toolStateManager.saveToolState();
        this.iterateToolState(toolState, () => true, (data) => (Object.assign(Object.assign({}, data), { visible: isShow })), true);
    }
    handleMeasurementAdded(event) {
        const { measurementData, toolType } = event.detail;
        const tool = cornerstone_tools__WEBPACK_IMPORTED_MODULE_1___default.a.getToolForElement(event.detail.element, toolType);
        if (!tool) {
            return;
        }
        this.addMetadataToMeasurement(measurementData, {
            color: cornerstone_tools__WEBPACK_IMPORTED_MODULE_1___default.a.toolColors.getToolColor(toolType),
            toolName: toolType,
            customId: tool.options.customId,
        });
        const toolState = this.toolStateManager.saveToolState();
        this.toolStateManager.restoreToolState(toolState);
        cornerstone_core__WEBPACK_IMPORTED_MODULE_2___default.a.invalidateImageId(event.stack.imageId);
    }
    addMeasurementToState(measurementData, imageId) {
        const toolState = this.toolStateManager.saveToolState();
        if (!toolState.hasOwnProperty(imageId)) {
            toolState[imageId] = {};
        }
        if (!toolState[imageId].hasOwnProperty(measurementData.toolName)) {
            toolState[imageId][measurementData.toolName] = { data: [] };
        }
        // Find existing measurement with the same id
        const toolStateMeasurements = toolState[imageId][measurementData.toolName].data;
        const measurementIndex = toolStateMeasurements.findIndex((toolStateMeasurement) => toolStateMeasurement._id === measurementData._id);
        // if (measurementIndex > -1) {
        // 	toolStateMeasurements[measurementIndex] = measurementData;
        if (measurementIndex === -1) {
            this.addMetadataToMeasurement(measurementData, { imageId });
            toolStateMeasurements.push(measurementData);
        }
        this.toolStateManager.restoreToolState(toolState);
        cornerstone_core__WEBPACK_IMPORTED_MODULE_2___default.a.invalidateImageId(imageId);
    }
    setMeasurementActive(measurementData, isActive) {
        const toolState = this.toolStateManager.saveToolState();
        this.iterateToolState(toolState, (data) => data.current || data._id === measurementData._id, (data) => {
            data.current = data._id === measurementData._id ? isActive : false;
            return data;
        }, true);
    }
    reset() {
        this.toolStateManager.restoreToolState({});
        const elements = cornerstone_core__WEBPACK_IMPORTED_MODULE_2___default.a.getEnabledElements();
        for (const element of elements) {
            if (element && element.element) {
                cornerstone_core__WEBPACK_IMPORTED_MODULE_2___default.a.invalidate(element.element);
            }
        }
    }
    removeImageMeasurements(imageId) {
        this.toolStateManager.clearImageIdToolState(imageId);
    }
    mouseUpOnAreaMeasurement(toolName, annotationId, event) {
        // Called from RectangleRoi, ElipseRoi and such
        const toolData = getToolState(event.currentTarget, toolName);
        const tool = toolData.data.find((t) => t._id === annotationId);
        const evt = this.eventManager.buildEvent(_modules_core_core_commands_events_enum__WEBPACK_IMPORTED_MODULE_6__["CoreCommandsEventsEnum"].ANNOTATION_COMPLETE_EVENT);
        if (evt) {
            evt.payload = this.eventManager.buildAnnotationCompleteEventFromMouseEvent(event, tool, annotationId, toolName);
            this.eventManager.sendEvent(evt);
        }
    }
    iterateToolState(toolState, filterFunc, modifyFunc, shouldInvalidateImages = false) {
        if (!filterFunc) {
            filterFunc = () => true;
        }
        const output = { results: [], modifications: [] };
        Object.keys(toolState).forEach((imageId) => {
            Object.keys(toolState[imageId]).forEach((toolName) => {
                toolState[imageId][toolName].data.forEach((data, index) => {
                    if (filterFunc(data, imageId, toolName)) {
                        output.results.push(data);
                        if (modifyFunc) {
                            toolState[imageId][toolName].data[index] = modifyFunc(data);
                            output.modifications.push({
                                imageId,
                                toolName,
                                measurementId: data._id,
                            });
                        }
                    }
                });
            });
        });
        if (shouldInvalidateImages) {
            const imagesIds = new Set(output.modifications.map((modification) => modification.imageId));
            imagesIds.forEach((imageId) => cornerstone_core__WEBPACK_IMPORTED_MODULE_2___default.a.invalidateImageId(imageId));
        }
        return output;
    }
    removeFromToolState(toolState, removeFilterFunc, shouldInvalidateImages = false) {
        if (!removeFilterFunc) {
            return;
        }
        const affectedImagesIds = new Set();
        Object.keys(toolState).forEach((imageId) => {
            Object.keys(toolState[imageId]).forEach((toolName) => {
                const nonRemovedMeasurements = toolState[imageId][toolName].data.filter((measurementData) => !removeFilterFunc(measurementData));
                if (nonRemovedMeasurements.length !== toolState[imageId][toolName].data.length) {
                    affectedImagesIds.add(imageId);
                }
                toolState[imageId][toolName].data = nonRemovedMeasurements;
            });
        });
        if (shouldInvalidateImages) {
            affectedImagesIds.forEach((imageId) => cornerstone_core__WEBPACK_IMPORTED_MODULE_2___default.a.invalidateImageId(imageId));
        }
    }
    addMetadataToMeasurement(measurementData, metadata) {
        measurementData._id = measurementData._id || uuid__WEBPACK_IMPORTED_MODULE_4___default.a.v4();
        measurementData.color = metadata.color || measurementData.color;
        measurementData.lineDash = metadata.lineDash || measurementData.lineDash || [];
        measurementData.toolName = metadata.toolName || measurementData.toolName;
        measurementData.customId = metadata.customId || measurementData.customId;
    }
    handleMeasurementRemoved(event) {
        const measurementData = event.detail.measurementData;
        this.measurementDeleted$.next(measurementData);
        cornerstone_core__WEBPACK_IMPORTED_MODULE_2___default.a.invalidateImageId(event.stack.imageId);
    }
    handleMeasurementCompleted(event) {
        cornerstone_core__WEBPACK_IMPORTED_MODULE_2___default.a.invalidateImageId(event.stack.imageId);
    }
    handleMeasurementModified(event) {
        const { measurementData } = event.detail;
        this.measurementModified$.next(Object.assign(Object.assign({}, measurementData), event.stack));
        cornerstone_core__WEBPACK_IMPORTED_MODULE_2___default.a.invalidateImageId(event.stack.imageId);
    }
    listenToMeasurementModifiedCompleted() {
        this.imageViewerEventsService.viewerChange$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["takeUntil"])(this.unsubscribe$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["filter"])((event) => event.type === "MEASUREMENT_MODIFIED" /* MEASUREMENT_MODIFIED */), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["debounceTime"])(50), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])((event) => event.detail.measurementData))
            .subscribe((measurementData) => {
            return this.measurementModifiedCompleted$.next(measurementData);
        });
        return;
    }
}
ImageViewerSegmentationService.ɵfac = function ImageViewerSegmentationService_Factory(t) { return new (t || ImageViewerSegmentationService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_7__["ImageViewerEventsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_events_manager_events_manager_service__WEBPACK_IMPORTED_MODULE_8__["EventsManagerService"])); };
ImageViewerSegmentationService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ImageViewerSegmentationService, factory: ImageViewerSegmentationService.ɵfac, providedIn: 'root' });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ImageViewerSegmentationService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _image_viewer_events_service__WEBPACK_IMPORTED_MODULE_7__["ImageViewerEventsService"] }, { type: _events_manager_events_manager_service__WEBPACK_IMPORTED_MODULE_8__["EventsManagerService"] }]; }, null); })();


/***/ }),

/***/ "knDV":
/*!***************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/toolbar/toolbar.component.ts ***!
  \***************************************************************************/
/*! exports provided: ToolbarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToolbarComponent", function() { return ToolbarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _tool_tool_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tool/tool.component */ "F9an");
/* harmony import */ var _shared_pipes_group_by_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/pipes/group-by.pipe */ "INls");





function ToolbarComponent_section_1_ng_container_1_zebra_viewer_tool_1_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "zebra-viewer-tool", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("toolChange", function ToolbarComponent_section_1_ng_container_1_zebra_viewer_tool_1_Template_zebra_viewer_tool_toolChange_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3); return ctx_r5.onToolChange($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tool_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("tool", tool_r3)("isActive", ctx_r4.toolState[tool_r3.id] == null ? null : ctx_r4.toolState[tool_r3.id].isActive)("isDisabled", ctx_r4.toolState[tool_r3.id] == null ? null : ctx_r4.toolState[tool_r3.id].isDisabled)("data", ctx_r4.toolState[tool_r3.id] == null ? null : ctx_r4.toolState[tool_r3.id].data);
} }
function ToolbarComponent_section_1_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ToolbarComponent_section_1_ng_container_1_zebra_viewer_tool_1_Template, 1, 4, "zebra-viewer-tool", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const tool_r3 = ctx.$implicit;
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !(ctx_r2.toolState[tool_r3.id] == null ? null : ctx_r2.toolState[tool_r3.id].isHidden));
} }
function ToolbarComponent_section_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "section", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ToolbarComponent_section_1_ng_container_1_Template, 2, 1, "ng-container", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const section_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", section_r1.value);
} }
class ToolbarComponent {
    constructor(cdRef) {
        this.cdRef = cdRef;
        this.toolChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.toolState = {};
    }
    ngOnChanges(changes) {
        // Metadata changes
        if (changes.metadata && this.metadata) {
            this.setToolState(this.metadata);
            this.cdRef.markForCheck();
        }
        // Tools changes
        if (changes.tools && this.tools) {
            this.tools.forEach((tool) => {
                this.toolState[tool.id] = this.toolState[tool.id] || {
                    isActive: false,
                    isDisabled: false,
                };
            });
        }
    }
    onToolChange(toolAction) {
        const currentTool = toolAction.tool;
        if (!currentTool || currentTool.type !== "OPEN_DIALOG" /* OPEN_DIALOG */) {
            this.toolChange.emit(toolAction);
        }
        if (currentTool) {
            const currentToolState = this.toolState[currentTool.id];
            if (currentToolState) {
                currentToolState.isActive = this.calcToolActive(currentTool, this.metadata, toolAction.isActive);
            }
            if (["OPEN_DIALOG" /* OPEN_DIALOG */].includes(currentTool.type) && toolAction.isActive) {
                this.deactivateToolsByTypeExclude(currentTool.type, currentTool.id);
            }
        }
    }
    setToolState(metadata) {
        this.tools.forEach((tool) => {
            let currentToolState = this.toolState[tool.id] || {
                isActive: false,
                isDisabled: false,
            };
            currentToolState.isDisabled = tool.isEnabled === false;
            if (!currentToolState.isDisable && tool.calcState) {
                currentToolState = Object.assign(Object.assign({}, currentToolState), tool.calcState(metadata));
            }
            this.toolState[tool.id] = currentToolState;
        });
    }
    calcToolActive(tool, metadata, defaultValue) {
        const toolState = tool.calcState(metadata) || {};
        return toolState.isActive || defaultValue;
    }
    deactivateToolsByTypeExclude(toolType, exceptToolId) {
        this.tools
            .filter((tool) => tool.type === toolType && tool.id !== exceptToolId)
            .forEach((tool) => {
            this.toolState[tool.id].isActive = this.calcToolActive(tool, this.metadata, false);
        });
    }
}
ToolbarComponent.ɵfac = function ToolbarComponent_Factory(t) { return new (t || ToolbarComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
ToolbarComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ToolbarComponent, selectors: [["zebra-viewer-toolbar"]], inputs: { tools: "tools", metadata: "metadata" }, outputs: { toolChange: "toolChange" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 3, vars: 4, consts: [[1, "zm-toolbar"], ["class", "zm-tools-section", 4, "ngFor", "ngForOf"], [1, "zm-tools-section"], [4, "ngFor", "ngForOf"], [3, "tool", "isActive", "isDisabled", "data", "toolChange", 4, "ngIf"], [3, "tool", "isActive", "isDisabled", "data", "toolChange"]], template: function ToolbarComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ToolbarComponent_section_1_Template, 2, 1, "section", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "groupBy");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 1, ctx.tools, "section"));
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"], _tool_tool_component__WEBPACK_IMPORTED_MODULE_2__["ToolComponent"]], pipes: [_shared_pipes_group_by_pipe__WEBPACK_IMPORTED_MODULE_3__["GroupByPipe"]], styles: [".zm-toolbar[_ngcontent-%COMP%] {\n  background-color: #272727;\n  color: #fff;\n  display: flex;\n  font-size: 24px;\n  height: 36px;\n}\n\n.zm-tools-section[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  padding-left: 12px;\n  padding-right: 12px;\n  border-left: 1px solid #000;\n}\n\n.zm-tools-section[_ngcontent-%COMP%]:last-of-type {\n  margin-left: auto;\n}\n\n.zm-tools-section[_ngcontent-%COMP%]:first-of-type {\n  margin-right: auto;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Rvb2xiYXIuY29tcG9uZW50LnNjc3MiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9zY3NzL3ZhcmlhYmxlcy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBO0VBQ0MseUJBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLGVDRFc7RURFWCxZQ0hnQjtBRENqQjs7QUFLQTtFQUNDLGFBQUE7RUFDQSx1QkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSwyQkFBQTtBQUZEOztBQUlDO0VBQ0MsaUJBQUE7QUFGRjs7QUFLQztFQUNDLGtCQUFBO0FBSEYiLCJmaWxlIjoidG9vbGJhci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgJ3Byb2plY3RzL3plYnJhLXZpZXdlci9zcmMvc2Nzcy92YXJpYWJsZXMnO1xuQGltcG9ydCAncHJvamVjdHMvemVicmEtdmlld2VyL3NyYy9zY3NzL21peGlucyc7XG5cbi56bS10b29sYmFyIHtcblx0YmFja2dyb3VuZC1jb2xvcjogIzI3MjcyNztcblx0Y29sb3I6ICNmZmY7XG5cdGRpc3BsYXk6IGZsZXg7XG5cdGZvbnQtc2l6ZTogJGljb24tc2l6ZTtcblx0aGVpZ2h0OiAkdG9vbGJhci1oZWlnaHQ7XG59XG5cbi56bS10b29scy1zZWN0aW9uIHtcblx0ZGlzcGxheTogZmxleDtcblx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG5cdHBhZGRpbmctbGVmdDogdW5pdHMoMS41KTtcblx0cGFkZGluZy1yaWdodDogdW5pdHMoMS41KTtcblx0Ym9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjMDAwO1xuXG5cdCY6bGFzdC1vZi10eXBlIHtcblx0XHRtYXJnaW4tbGVmdDogYXV0bztcblx0fVxuXG5cdCY6Zmlyc3Qtb2YtdHlwZSB7XG5cdFx0bWFyZ2luLXJpZ2h0OiBhdXRvO1xuXHR9XG59XG4iLCIkemVicmE6ICNmZmQyMDA7XG4kdG9vbC1jb2xvcjogI2ZmZjtcbiR0b29sLWNvbG9yLXNlbGVjdGVkOiAkemVicmE7XG5cbiR1bml0OiA4cHg7XG4kdG9vbGJhci1oZWlnaHQ6IDM2cHg7XG4kaWNvbi1zaXplOiAyNHB4O1xuJHRvb2wtd2lkdGg6ICR0b29sYmFyLWhlaWdodDtcbiR0YWctaGVpZ2h0OiAyNHB4O1xuIl19 */"], changeDetection: 0 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ToolbarComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'zebra-viewer-toolbar',
                templateUrl: './toolbar.component.html',
                styleUrls: ['./toolbar.component.scss'],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, { tools: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], metadata: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], toolChange: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "kohe":
/*!**********************************************************!*\
  !*** ./projects/zebra-viewer/src/config/tools.config.ts ***!
  \**********************************************************/
/*! exports provided: defaultToolbarToolsConfig, AllToolsConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultToolbarToolsConfig", function() { return defaultToolbarToolsConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AllToolsConfig", function() { return AllToolsConfig; });
/* harmony import */ var _lib_editor_shared_models_tool_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/editor/shared/models/tool.model */ "oicP");
/* harmony import */ var _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/editor/shared/models/command.model */ "lxft");
/* harmony import */ var _tools_handlers_zoom_zoom_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tools-handlers/zoom/zoom.component */ "rwBH");
/* harmony import */ var _tools_handlers_window_window_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tools-handlers/window/window.component */ "BPHB");
/* harmony import */ var _tools_handlers_keyboard_shortcuts_keyboard_shortcuts_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./tools-handlers/keyboard-shortcuts/keyboard-shortcuts.component */ "7KSW");
/* harmony import */ var _window_presets_config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./window.presets.config */ "J913");
/* harmony import */ var _hotkeys_config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./hotkeys.config */ "g0QE");
/* harmony import */ var _tools_handlers_cine_cine_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./tools-handlers/cine/cine.component */ "1dXZ");
/* harmony import */ var _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/editor/shared/models/switch-tool.model */ "bm+c");
/* harmony import */ var _lib_editor_shared_models_dialog_tool_model__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/editor/shared/models/dialog-tool.model */ "Omv4");
/* harmony import */ var _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../lib/editor/shared/enums/icon-type.enum */ "fCM6");
/* harmony import */ var _lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../lib/editor/shared/enums/tools.enum */ "IjAf");
/* harmony import */ var _tools_handlers_grid_grid_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./tools-handlers/grid/grid.component */ "D/Lq");
/* harmony import */ var _tools_handlers_dicom_tags_dicom_tags_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./tools-handlers/dicom-tags/dicom-tags.component */ "KF7n");
/* harmony import */ var _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../lib/editor/shared/enums/RelevantViewportsPolicyEnum */ "+neF");
// TODO: All this configuration should be exported from image-viewer module.
// Each viewer type should have its own module, and export its own tools configuration


// Tools Handlers



// Tools init data










const InnerDialogTools = {
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ZOOM_TO_CENTER]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ZOOM_TO_CENTER, 'Zoom To Center', 'Zoom To Center', { name: 'search', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolActive', {
        toolName: 'Zoom',
        strategy: 'zoomToCenter',
        mouseButtonMask: 1,
    }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolPassive', {
        toolName: 'Zoom',
        strategy: 'zoomToCenter',
        mouseButtonMask: 1,
    }), 'zoom', null, _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_14__["RelevantViewportsPolicyEnum"].ALL),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ZOOM_TO_CURSOR]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ZOOM_TO_CURSOR, 'Zoom To Cursor', 'Zoom To Cursor', { name: 'zoom_from_cursor', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].SVG }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolActive', {
        toolName: 'Zoom',
        strategy: 'default',
    }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolPassive', {
        toolName: 'Zoom',
        strategy: 'default',
    }), 'zoom', null, _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_14__["RelevantViewportsPolicyEnum"].ALL),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ZOOM_ROI]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ZOOM_ROI, 'Zoom ROI', 'Zoom ROI', { name: 'zoom_roi', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].SVG }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolActive', {
        toolName: 'ZoomRoi',
    }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolPassive', {
        toolName: 'ZoomRoi',
    }), 'zoom', null, _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_14__["RelevantViewportsPolicyEnum"].ALL),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].WWWC]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].WWWC, 'Windowing', 'Windowing', { name: 'brightness_medium', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolActive', {
        toolName: 'Wwwc',
    }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolPassive', {
        toolName: 'Wwwc',
    }), 'windowing', null, _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_14__["RelevantViewportsPolicyEnum"].ACTIVE),
};
const ToolsConfig = {
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].FULLSCREEN]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].FULLSCREEN, 'Full screen', 'Full screen', { name: 'fullscreen', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('openFullscreen'), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('closeFullscreen'), 'settings', (metadata) => {
        return {
            isActive: metadata.fullscreen,
        };
    }),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].KEYBOARD_SHORTCUTS]: new _lib_editor_shared_models_dialog_tool_model__WEBPACK_IMPORTED_MODULE_9__["DialogTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].KEYBOARD_SHORTCUTS, 'Keyboard shortcuts', { name: 'keyboard', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, 'Shortcuts', 'zm-viewer-dialog-md', _tools_handlers_keyboard_shortcuts_keyboard_shortcuts_component__WEBPACK_IMPORTED_MODULE_4__["KeyboardShortcutsComponent"], {
        shortcuts: _hotkeys_config__WEBPACK_IMPORTED_MODULE_6__["hotkeys"],
    }, 'settings'),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].DICOM_TAGS]: new _lib_editor_shared_models_dialog_tool_model__WEBPACK_IMPORTED_MODULE_9__["DialogTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].DICOM_TAGS, 'Dicom Tags', { name: 'info', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, 'Dicom Tags', 'zm-viewer-dialog-lg', _tools_handlers_dicom_tags_dicom_tags_component__WEBPACK_IMPORTED_MODULE_13__["DicomTagsComponent"], {}, 'settings', (metadata) => {
        return {
            data: {
                dicomTags: metadata.dicomTags,
            },
        };
    }, _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_14__["RelevantViewportsPolicyEnum"].ALL),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].GRID]: new _lib_editor_shared_models_dialog_tool_model__WEBPACK_IMPORTED_MODULE_9__["DialogTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].GRID, 'Grid', { name: 'grid_on', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, 'Grid', 'zm-viewer-dialog-sm', _tools_handlers_grid_grid_component__WEBPACK_IMPORTED_MODULE_12__["GridComponent"], {}, 'settings'),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].UNDO]: new _lib_editor_shared_models_tool_model__WEBPACK_IMPORTED_MODULE_0__["Tool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].UNDO, 'Undo', { name: 'undo', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('undo'), "COMMAND" /* COMMAND */, 'undoredo'),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].REDO]: new _lib_editor_shared_models_tool_model__WEBPACK_IMPORTED_MODULE_0__["Tool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].REDO, 'Redo', { name: 'redo', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('redo'), "COMMAND" /* COMMAND */, 'undoredo'),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].PAN]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].PAN, 'Pan', 'Pan', { name: 'pan_tool', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolActive', { toolName: 'Pan' }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolPassive', { toolName: 'Pan' }), 'image', null, _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_14__["RelevantViewportsPolicyEnum"].ALL),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ZOOM]: new _lib_editor_shared_models_dialog_tool_model__WEBPACK_IMPORTED_MODULE_9__["DialogTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ZOOM, 'Zoom', { name: 'zoom_in', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, 'Zoom', 'zm-viewer-dialog-sm', _tools_handlers_zoom_zoom_component__WEBPACK_IMPORTED_MODULE_2__["ZoomComponent"], {
        tools: {
            [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ZOOM_TO_CENTER]: InnerDialogTools[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ZOOM_TO_CENTER],
            [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ZOOM_TO_CURSOR]: InnerDialogTools[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ZOOM_TO_CURSOR],
            [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ZOOM_ROI]: InnerDialogTools[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ZOOM_ROI],
        },
    }, 'image', (metadata) => {
        return {
            isActive: !(metadata.activeTool && metadata.activeTool.name.indexOf('Zoom') === -1),
            data: {
                zoomValue: metadata.scale,
                activeTool: metadata.activeTool,
            },
        };
    }),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].RESET]: new _lib_editor_shared_models_tool_model__WEBPACK_IMPORTED_MODULE_0__["Tool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].RESET, 'Center & Reset', { name: 'center_focus_strong', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('reset'), "COMMAND" /* COMMAND */, 'image'),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].WINDOW]: new _lib_editor_shared_models_dialog_tool_model__WEBPACK_IMPORTED_MODULE_9__["DialogTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].WINDOW, 'Window', { name: 'brightness_medium', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, 'Window / Level', 'zm-viewer-dialog-md', _tools_handlers_window_window_component__WEBPACK_IMPORTED_MODULE_3__["WindowComponent"], {
        presets: _window_presets_config__WEBPACK_IMPORTED_MODULE_5__["presets"],
        wwwcTool: InnerDialogTools[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].WWWC],
    }, 'image', (metadata) => {
        return {
            data: {
                windowCenter: metadata.windowCenter,
                windowWidth: metadata.windowWidth,
            },
        };
    }),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].INVERT]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].INVERT, 'Invert colors', 'Invert colors', { name: 'invert_colors_off', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, { name: 'invert_colors', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('invert', { isInvert: true }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('invert', { isInvert: false }), 'image', (metadata) => {
        return {
            isActive: metadata.invert || false,
        };
    }),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].FILTERS]: new _lib_editor_shared_models_dialog_tool_model__WEBPACK_IMPORTED_MODULE_9__["DialogTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].FILTERS, 'Filters', { name: 'filter', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, 'Filters', 'zm-viewer-dialog-md', _tools_handlers_zoom_zoom_component__WEBPACK_IMPORTED_MODULE_2__["ZoomComponent"], {}, 'image'),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].CINE]: new _lib_editor_shared_models_dialog_tool_model__WEBPACK_IMPORTED_MODULE_9__["DialogTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].CINE, 'Cine', { name: 'play_circle_filled', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, 'Cine', 'zm-viewer-dialog-md', _tools_handlers_cine_cine_component__WEBPACK_IMPORTED_MODULE_7__["CineComponent"], {}, 'image', (metadata) => {
        return {
            data: { isPlaying: metadata.isClipPlaying || false },
        };
    }),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].LINK]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].LINK, 'Link viewers', 'Link viewers', { name: 'link_off', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, { name: 'link', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('link'), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('unlink'), 'image'),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].PIXEL_PROB]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].PIXEL_PROB, 'Pixel probe', 'Pixel probe', { name: 'colorize', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolActive', {
        toolName: 'DragProbe',
        strategy: 'minimal',
    }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolPassive', {
        toolName: 'DragProbe',
    }), 'measurement', null, _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_14__["RelevantViewportsPolicyEnum"].ALL),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].PIXEL_PROB_ROI]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].PIXEL_PROB_ROI, 'Pixel probe ROI', 'Pixel probe ROI', { name: 'pixel_probe_roi', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].SVG }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolActive', { toolName: 'probRoi' }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolPassive', { toolName: 'probRoi' }), 'measurement', null, _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_14__["RelevantViewportsPolicyEnum"].ALL),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ANGLE]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ANGLE, 'Angle', 'Angle', { name: 'angle', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].SVG }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolActive', {
        toolName: 'Angle',
    }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolPassive', { toolName: 'Angle' }), 'measurement', null, _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_14__["RelevantViewportsPolicyEnum"].ALL),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].LENGTH]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].LENGTH, 'Ruler', 'Ruler', { name: 'ruler', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].SVG }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolActive', { toolName: 'Length' }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolPassive', { toolName: 'Length' }), 'measurement', null, _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_14__["RelevantViewportsPolicyEnum"].ALL),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].L_ROTATE]: new _lib_editor_shared_models_tool_model__WEBPACK_IMPORTED_MODULE_0__["Tool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].L_ROTATE, 'Rotate counterclockwise', { name: 'rotate_left', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('rotate', { angle: -90 }), "COMMAND" /* COMMAND */, 'rotateflip'),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].R_ROTATE]: new _lib_editor_shared_models_tool_model__WEBPACK_IMPORTED_MODULE_0__["Tool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].L_ROTATE, 'Rotate clockwise', { name: 'rotate_right', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('rotate', { angle: 90 }), "COMMAND" /* COMMAND */, 'rotateflip'),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].H_FLIP]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].H_FLIP, 'Flip horizontally', 'Flip horizontally', { name: 'flip', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('horizontalFlip', { isFlip: true }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('horizontalFlip', { isFlip: false }), 'rotateflip', (metadata) => {
        return {
            isActive: metadata.hflip || false,
            data: {
                zoomValue: metadata.scale,
            },
        };
    }),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].V_FLIP]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].V_FLIP, 'Flip vertically', 'Flip vertically', { name: 'flip_vertical', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].SVG }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('verticalFlip', { isFlip: true }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('verticalFlip', { isFlip: false }), 'rotateflip', (metadata) => {
        return {
            isActive: metadata.vflip || false,
        };
    }),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ERASE]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ERASE, 'Erase', 'Erase', { name: 'erase', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].SVG }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolActive', { toolName: 'Eraser' }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolPassive', { toolName: 'Eraser' }), 'erase', null, _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_14__["RelevantViewportsPolicyEnum"].ALL),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ERASE_ROI]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ERASE_ROI, 'Erase ROI', 'Erase ROI', { name: 'erase_roi', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].SVG }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolActive', { toolName: 'EraserRoi' }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolPassive', { toolName: 'EraserRoi' }), 'erase', null, _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_14__["RelevantViewportsPolicyEnum"].ALL),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].COPY_OVER]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].COPY_OVER, 'Copy over', 'Copy over', { name: 'copy_over', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].SVG }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('copyOver'), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('copyOver'), 'tags'),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ADD_LABEL]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ADD_LABEL, 'Tag on the fly', 'Tag on the fly', { name: 'add_label', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].SVG }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"](''), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"](''), 'tags'),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].GROUP_TAGS]: new _lib_editor_shared_models_tool_model__WEBPACK_IMPORTED_MODULE_0__["Tool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].GROUP_TAGS, 'Group tags', { name: 'group_work', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('groupTags'), "COMMAND" /* COMMAND */, 'tags'),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].HIDE_ANNOTATIONS]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].HIDE_ANNOTATIONS, 'Hide annotations', 'Show annotations', { name: 'label_off', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, { name: 'label', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('showAnnotations', { isShow: false }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('showAnnotations', { isShow: true }), 'custom', (metadata) => {
        return {
            isActive: metadata.isAnnotationsVisible === undefined ? false : !metadata.isAnnotationsVisible,
        };
    }, _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_14__["RelevantViewportsPolicyEnum"].ALL),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].HIDE_ANNOTATION_TEXT_BOX]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].HIDE_ANNOTATION_TEXT_BOX, 'Hide annotations text box', 'Show annotations text box', { name: 'shape_text_off', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].SVG }, { name: 'shape_text_on', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].SVG }, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('showAnnotationTextBox', { isShow: false }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('showAnnotationTextBox', { isShow: true }), 'custom', (metadata) => {
        return {
            isActive: metadata.isAnnotationTextboxVisible === undefined ? false : !metadata.isAnnotationTextboxVisible,
        };
    }, _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_14__["RelevantViewportsPolicyEnum"].ALL),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].HIDE_DICOM_INFO]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].HIDE_DICOM_INFO, 'Hide dicom info', 'Show dicom info', { name: 'dicom_tags_off', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].SVG }, { name: 'dicom_tags_on', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].SVG }, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('showDicomInfo', { isShow: false }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('showDicomInfo', { isShow: true }), 'custom', (metadata) => {
        return {
            isActive: metadata.isMetadataOverlayVisible === undefined ? false : !metadata.isMetadataOverlayVisible,
        };
    }, _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_14__["RelevantViewportsPolicyEnum"].ALL),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].POLYGON]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].POLYGON, 'Freehand', 'Freehand', { name: 'polygon', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].SVG }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolActive', { toolName: 'FreehandRoi' }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolPassive', { toolName: 'FreehandRoi' }), 'measurement'),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ARROW]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ARROW, 'Arrow', 'Arrow', { name: 'format_shapes', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolActive', { toolName: 'ArrowAnnotate' }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolPassive', { toolName: 'ArrowAnnotate' }), 'measurement'),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ELLIPTICAL_ROI]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ELLIPTICAL_ROI, 'Elliptical Roi', 'Elliptical Roi', { name: 'elipse', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].SVG }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolActive', { toolName: 'EllipticalRoi' }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolPassive', { toolName: 'EllipticalRoi' }), 'measurement'),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].CIRCLE_ROI]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].CIRCLE_ROI, 'Circle Roi', 'Circle Roi', { name: 'circle', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].SVG }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolActive', { toolName: 'CircleRoi' }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolPassive', { toolName: 'CircleRoi' }), 'measurement'),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].RECTANGLE_ROI]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].RECTANGLE_ROI, 'Rectangle Roi', 'Rectangle Roi', { name: 'boundbox', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].SVG }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolActive', { toolName: 'RectangleRoi' }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolPassive', { toolName: 'RectangleRoi' }), 'measurement'),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].AGATSTON_SCORE]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].AGATSTON_SCORE, 'Agatston Score', 'Agatston Score', { name: 'agatston', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].SVG }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolActive', { toolName: 'AgatstonScore' }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolPassive', { toolName: 'AgatstonScore' }), 'measurement'),
    [_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].PROBE]: new _lib_editor_shared_models_switch_tool_model__WEBPACK_IMPORTED_MODULE_8__["SwitchTool"](_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].PROBE, 'Probe', 'Probe', { name: 'emoji_flags', type: _lib_editor_shared_enums_icon_type_enum__WEBPACK_IMPORTED_MODULE_10__["IconTypeEnum"].CLASS }, null, new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolActive', {
        toolName: 'Probe',
        strategy: 'minimal',
    }), new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_1__["Command"]('setToolPassive', {
        toolName: 'Probe',
    }), 'measurement', null, _lib_editor_shared_enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_14__["RelevantViewportsPolicyEnum"].ALL),
};
const defaultToolbarToolsConfig = [
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].FULLSCREEN],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].KEYBOARD_SHORTCUTS],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].DICOM_TAGS],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].GRID],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].UNDO],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].REDO],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].PAN],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ZOOM],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].RESET],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].WINDOW],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].INVERT],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].FILTERS],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].CINE],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].LINK],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].PIXEL_PROB],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].PIXEL_PROB_ROI],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ANGLE],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].LENGTH],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].L_ROTATE],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].R_ROTATE],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].H_FLIP],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].V_FLIP],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ERASE],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ERASE_ROI],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].COPY_OVER],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].ADD_LABEL],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].GROUP_TAGS],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].HIDE_ANNOTATIONS],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].HIDE_ANNOTATION_TEXT_BOX],
    ToolsConfig[_lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_11__["ToolsEnum"].HIDE_DICOM_INFO],
];
const AllToolsConfig = Object.assign(Object.assign({}, ToolsConfig), InnerDialogTools);



/***/ }),

/***/ "l0m1":
/*!********************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/services/translators/length-roi.translator.ts ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LengthRoiTranslator; });
/* harmony import */ var _turf_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @turf/helpers */ "hPoO");

class LengthRoiTranslator {
    static getAsCornerstone(collection) {
        const feature = collection.features[0];
        const geometry = feature.geometry;
        const handles = {
            end: {
                active: false,
                highlight: true,
                x: geometry.coordinates[1][0],
                y: geometry.coordinates[1][1],
            },
            start: {
                active: false,
                highlight: true,
                x: geometry.coordinates[0][0],
                y: geometry.coordinates[0][1],
            },
            textBox: {
                active: false,
                hasMoved: false,
                movesIndependently: false,
                drawnIndependently: true,
                allowedOutsideImage: true,
                hasBoundingBox: false,
            },
        };
        let data = {
            visible: true,
            active: false,
            handles,
            highlight: false,
            invalidated: true,
        };
        if (feature.properties) {
            data = Object.assign(Object.assign({}, data), feature.properties);
        }
        if (!data.toolName) {
            data.toolName = 'Length';
        }
        return data;
    }
    static getAsGeoJson(annotation) {
        const coordinates = [];
        if (annotation.handles !== undefined && Object.keys(annotation.handles)) {
            const x1 = annotation.handles.start.x;
            const y1 = annotation.handles.start.y;
            const x2 = annotation.handles.end.x;
            const y2 = annotation.handles.end.y;
            coordinates.push([x1, y1], [x2, y2]);
        }
        if (coordinates && coordinates.length) {
            return Object(_turf_helpers__WEBPACK_IMPORTED_MODULE_0__["featureCollection"])([
                {
                    type: 'Feature',
                    geometry: { type: 'LineString', coordinates },
                    properties: {
                        toolName: annotation.toolName,
                        length: annotation.length,
                        unit: annotation.unit,
                    },
                },
            ]);
        }
        return;
    }
}


/***/ }),

/***/ "lxft":
/*!*****************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/shared/models/command.model.ts ***!
  \*****************************************************************************/
/*! exports provided: Command */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Command", function() { return Command; });
/* harmony import */ var _enums_viewport_type_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums/viewport-type.enum */ "jNum");

class Command {
    constructor(name, options = {}) {
        this.viewportType = _enums_viewport_type_enum__WEBPACK_IMPORTED_MODULE_0__["ViewportTypeEnum"].IMAGE;
        this.name = name;
        this.options = options;
    }
    static clone(command) {
        return new Command(command.name, Object.assign({}, command.options));
    }
    deserialize(input) {
        return Object.assign(this, input);
    }
}


/***/ }),

/***/ "m7JV":
/*!*********************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/cornerstone/custom-tools/overlay.tool.ts ***!
  \*********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ZMOverlayTool; });
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cornerstone-tools */ "b09o");
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cornerstone-core */ "MNym");
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cornerstone_core__WEBPACK_IMPORTED_MODULE_1__);
/* eslint-disable @typescript-eslint/member-ordering */


const globalConfiguration = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.getModule('globalConfiguration');
const OverlayTool = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.OverlayTool;
class ZMOverlayTool extends OverlayTool {
    constructor() {
        super(...arguments);
        this.canvasCache = {};
    }
    static interpolateLinearly(x, colormap) {
        // Split values into four lists
        let colorIndex = 1;
        const xNorm = x * 255;
        // while (colormap.getColor(i)[0] < xNorm) {
        while (colorIndex < xNorm) {
            colorIndex++;
        }
        colorIndex -= 1;
        const color = colormap.getColor(colorIndex);
        const nextColor = colormap.getColor(colorIndex + 1);
        const scaling_factor = xNorm - colorIndex;
        // Get the new color values though interpolation
        const r = color[0] + scaling_factor * (nextColor[0] - color[0]);
        const g = color[1] + scaling_factor * (nextColor[1] - color[1]);
        const b = color[2] + scaling_factor * (nextColor[2] - color[2]);
        return [ZMOverlayTool.enforceBounds(r), ZMOverlayTool.enforceBounds(g), ZMOverlayTool.enforceBounds(b)];
    }
    static enforceBounds(x) {
        return Math.min(Math.max(x, 0), 255);
    }
    createOverlayCanvas(overlay) {
        const layerCanvas = document.createElement('canvas');
        layerCanvas.width = overlay.pixelData[0].length;
        layerCanvas.height = overlay.pixelData.length;
        const layerContext = layerCanvas.getContext('2d');
        const canvasData = layerContext.getImageData(0, 0, layerCanvas.width, layerCanvas.height);
        for (let y = 0; y < overlay.pixelData.length; y++) {
            for (let x = 0; x < overlay.pixelData[y].length; x++) {
                const val = overlay.pixelData[y][x];
                if (val < overlay.transparentValue) {
                    continue;
                }
                const color = ZMOverlayTool.interpolateLinearly(val, cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.colors.getColormap(overlay.colormap));
                const red = Math.round(color[0]);
                const green = Math.round(color[1]);
                const blue = Math.round(color[2]);
                this.drawPixel(canvasData, layerCanvas.width, x, y, red, green, blue, overlay.alpha * 255);
            }
        }
        // Draw the overlay layer onto the canvas
        layerContext.putImageData(canvasData, 0, 0);
        return layerCanvas;
    }
    drawPixel(canvasData, width, x, y, r, g, b, a) {
        const index = (x + y * width) * 4;
        canvasData.data[index + 0] = r;
        canvasData.data[index + 1] = g;
        canvasData.data[index + 2] = b;
        canvasData.data[index + 3] = a;
    }
    renderToolData(evt) {
        if (globalConfiguration.configuration.isAnnotationsVisible === false) {
            return;
        }
        const eventData = evt.detail;
        const { enabledElement, image, canvasContext } = eventData;
        if (!eventData || !enabledElement || !image) {
            return;
        }
        const overlayPlaneMetadata = cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.metaData.get('zmOverlay', image.imageId);
        if (!overlayPlaneMetadata || !overlayPlaneMetadata.overlays || !overlayPlaneMetadata.overlays.length) {
            return;
        }
        overlayPlaneMetadata.overlays.forEach((overlay) => {
            if (overlay.isVisible === false) {
                return;
            }
            const cachedCanvas = this.canvasCache[overlay.mapUrl];
            if (!cachedCanvas) {
                this.canvasCache[overlay.mapUrl] = this.createOverlayCanvas(overlay);
            }
            canvasContext.drawImage(this.canvasCache[overlay.mapUrl], 0, 0);
        });
    }
}


/***/ }),

/***/ "msKL":
/*!***************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/shared/shared.module.ts ***!
  \***************************************************************/
/*! exports provided: SharedModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharedModule", function() { return SharedModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _pipes_group_by_pipe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pipes/group-by.pipe */ "INls");
/* harmony import */ var _services_hotkeys_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./services/hotkeys.service */ "C22k");
/* harmony import */ var _pipes_range_pipe__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pipes/range.pipe */ "2bEH");
/* harmony import */ var _pipes_safe_html_pipe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pipes/safe-html.pipe */ "gDIn");







class SharedModule {
}
SharedModule.ɵfac = function SharedModule_Factory(t) { return new (t || SharedModule)(); };
SharedModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: SharedModule });
SharedModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ providers: [_pipes_group_by_pipe__WEBPACK_IMPORTED_MODULE_2__["GroupByPipe"], _pipes_range_pipe__WEBPACK_IMPORTED_MODULE_4__["RangePipe"], _services_hotkeys_service__WEBPACK_IMPORTED_MODULE_3__["HotkeysService"]], imports: [[_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](SharedModule, { declarations: [_pipes_group_by_pipe__WEBPACK_IMPORTED_MODULE_2__["GroupByPipe"], _pipes_range_pipe__WEBPACK_IMPORTED_MODULE_4__["RangePipe"], _pipes_safe_html_pipe__WEBPACK_IMPORTED_MODULE_5__["SafeHtmlPipe"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]], exports: [_pipes_group_by_pipe__WEBPACK_IMPORTED_MODULE_2__["GroupByPipe"], _pipes_range_pipe__WEBPACK_IMPORTED_MODULE_4__["RangePipe"], _pipes_safe_html_pipe__WEBPACK_IMPORTED_MODULE_5__["SafeHtmlPipe"]] }); })();
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SharedModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                declarations: [_pipes_group_by_pipe__WEBPACK_IMPORTED_MODULE_2__["GroupByPipe"], _pipes_range_pipe__WEBPACK_IMPORTED_MODULE_4__["RangePipe"], _pipes_safe_html_pipe__WEBPACK_IMPORTED_MODULE_5__["SafeHtmlPipe"]],
                imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]],
                exports: [_pipes_group_by_pipe__WEBPACK_IMPORTED_MODULE_2__["GroupByPipe"], _pipes_range_pipe__WEBPACK_IMPORTED_MODULE_4__["RangePipe"], _pipes_safe_html_pipe__WEBPACK_IMPORTED_MODULE_5__["SafeHtmlPipe"]],
                providers: [_pipes_group_by_pipe__WEBPACK_IMPORTED_MODULE_2__["GroupByPipe"], _pipes_range_pipe__WEBPACK_IMPORTED_MODULE_4__["RangePipe"], _services_hotkeys_service__WEBPACK_IMPORTED_MODULE_3__["HotkeysService"]],
            }]
    }], null, null); })();


/***/ }),

/***/ "n4hi":
/*!**************************************************************************!*\
  !*** ./projects/zebra-viewer-standalone/src/environments/environment.ts ***!
  \**************************************************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
const environment = {
    production: false,
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "n6gk":
/*!***********************************************************************************************************!*\
  !*** ./projects/zebra-viewer-standalone/src/app/ala-dynamic-component/ala-dynamic-component.component.ts ***!
  \***********************************************************************************************************/
/*! exports provided: AlaDynamicComponentComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlaDynamicComponentComponent", function() { return AlaDynamicComponentComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "SVse");



function AlaDynamicComponentComponent_button_3_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AlaDynamicComponentComponent_button_3_Template_button_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r1.onAddButtonClicked($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Add");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
class AlaDynamicComponentComponent {
    constructor() {
        this.shouldShowAddBtn = false;
        AlaDynamicComponentComponent.G_INSTANCE_NUMBER++;
        this.instNum = AlaDynamicComponentComponent.G_INSTANCE_NUMBER;
    }
    ngOnInit() { }
    onAddButtonClicked(event) {
        console.log(`Add button clicked. Event: ${JSON.stringify(event)}`);
    }
}
AlaDynamicComponentComponent.G_INSTANCE_NUMBER = 0;
AlaDynamicComponentComponent.ɵfac = function AlaDynamicComponentComponent_Factory(t) { return new (t || AlaDynamicComponentComponent)(); };
AlaDynamicComponentComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AlaDynamicComponentComponent, selectors: [["zebra-viewer-standalone-ala-dynamic-component"]], decls: 4, vars: 2, consts: [["class", "addBtn", 3, "click", 4, "ngIf"], [1, "addBtn", 3, "click"]], template: function AlaDynamicComponentComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, AlaDynamicComponentComponent_button_3_Template, 2, 0, "button", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("ala-dynamic-component works! Instance number ", ctx.instNum, "");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.shouldShowAddBtn);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"]], styles: ["p[_ngcontent-%COMP%] {\n  height: 40px;\n  background-color: #008800;\n  opacity: 0.8;\n  z-index: 9999;\n}\n\n.addBtn[_ngcontent-%COMP%] {\n  background-color: red;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2FsYS1keW5hbWljLWNvbXBvbmVudC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNDLFlBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0FBQ0Q7O0FBRUE7RUFDQyxxQkFBQTtBQUNEIiwiZmlsZSI6ImFsYS1keW5hbWljLWNvbXBvbmVudC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInAge1xuXHRoZWlnaHQ6IDQwcHg7XG5cdGJhY2tncm91bmQtY29sb3I6ICMwMDg4MDA7XG5cdG9wYWNpdHk6IDAuODtcblx0ei1pbmRleDogOTk5OTtcbn1cblxuLmFkZEJ0biB7XG5cdGJhY2tncm91bmQtY29sb3I6IHJlZDtcbn1cbiJdfQ== */"] });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AlaDynamicComponentComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'zebra-viewer-standalone-ala-dynamic-component',
                templateUrl: './ala-dynamic-component.component.html',
                styleUrls: ['./ala-dynamic-component.component.scss'],
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "oHjC":
/*!*************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules-manager/module-manager-events.enum.ts ***!
  \*************************************************************************************/
/*! exports provided: ModuleManagerEventsEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModuleManagerEventsEnum", function() { return ModuleManagerEventsEnum; });
var ModuleManagerEventsEnum;
(function (ModuleManagerEventsEnum) {
    ModuleManagerEventsEnum["UNKNOWN_ERROR"] = "UNKNOWN_ERROR";
    ModuleManagerEventsEnum["MISSING_VALIDATOR_ERROR_EVENT"] = "MISSING_VALIDATOR_ERROR_EVENT";
    ModuleManagerEventsEnum["MISSING_HANDLER_ERROR_EVENT"] = "MISSING_HANDLER_ERROR_EVENT";
    ModuleManagerEventsEnum["MISSING_TYPE_CYCLE_ID_COMMAND_EVENT"] = "MISSING_TYPE_CYCLE_ID_COMMAND_EVENT";
})(ModuleManagerEventsEnum || (ModuleManagerEventsEnum = {}));


/***/ }),

/***/ "oITi":
/*!*****************************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/tool-context-menu/tool-context-menu.component.ts ***!
  \*****************************************************************************************************/
/*! exports provided: ToolContextMenuComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToolContextMenuComponent", function() { return ToolContextMenuComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_material_menu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/menu */ "rJgo");




const _c0 = ["menuComponent"];
function ToolContextMenuComponent_ng_template_3_Template(rf, ctx) { }
// TODO: make it a generic component for presenting any component anywhere
class ToolContextMenuComponent {
    constructor(cdRef, componentFactoryResolver) {
        this.cdRef = cdRef;
        this.componentFactoryResolver = componentFactoryResolver;
        this.position = { x: 0, y: 0 };
        this.isOpened = false;
    }
    ngOnInit() { }
    ngOnChanges(changes) {
        if (changes.handlingComponent && this.handlingComponent) {
            const componentFactory = this.componentFactoryResolver.resolveComponentFactory(this.handlingComponent);
            const viewContainerRef = this.menuComponent;
            this.componentRef = viewContainerRef.createComponent(componentFactory);
        }
    }
    open(data, position) {
        if (!this.componentRef) {
            return;
        }
        this.componentRef.instance.setData(data);
        this.position = position;
        this.cdRef.detectChanges();
        this.trigger.openMenu();
        this.isOpened = true;
    }
    close() {
        this.isOpened = false;
        if (!this.componentRef) {
            return;
        }
        if (this.componentRef.instance.onClose) {
            this.componentRef.instance.onClose();
        }
        this.position = null;
        this.trigger.closeMenu();
    }
}
ToolContextMenuComponent.ɵfac = function ToolContextMenuComponent_Factory(t) { return new (t || ToolContextMenuComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"])); };
ToolContextMenuComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ToolContextMenuComponent, selectors: [["zebra-viewer-context-menu"]], viewQuery: function ToolContextMenuComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_angular_material_menu__WEBPACK_IMPORTED_MODULE_1__["MatMenuTrigger"], 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, 3, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"]);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.trigger = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.menuComponent = _t.first);
    } }, inputs: { handlingComponent: "handlingComponent" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 5, vars: 5, consts: [[2, "visibility", "hidden", "position", "fixed", 3, "matMenuTriggerFor"], ["contextMenu", "matMenu"], ["menuComponent", ""]], template: function ToolContextMenuComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-menu", null, 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, ToolContextMenuComponent_ng_template_3_Template, 0, 0, "ng-template", null, 2, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstyleProp"]("left", ctx.position.x + "px")("top", ctx.position.y + "px");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matMenuTriggerFor", _r0);
    } }, directives: [_angular_material_menu__WEBPACK_IMPORTED_MODULE_1__["MatMenuTrigger"], _angular_material_menu__WEBPACK_IMPORTED_MODULE_1__["MatMenu"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0b29sLWNvbnRleHQtbWVudS5jb21wb25lbnQuc2NzcyJ9 */"], changeDetection: 0 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ToolContextMenuComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'zebra-viewer-context-menu',
                templateUrl: './tool-context-menu.component.html',
                styleUrls: ['./tool-context-menu.component.scss'],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"] }]; }, { trigger: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: [_angular_material_menu__WEBPACK_IMPORTED_MODULE_1__["MatMenuTrigger"]]
        }], menuComponent: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['menuComponent', { read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"], static: true }]
        }], handlingComponent: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "obi/":
/*!***********************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/shared/interfaces/base-command.interface.ts ***!
  \***********************************************************************************/
/*! exports provided: IBaseCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IBaseCommand", function() { return IBaseCommand; });
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ "EcEN");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_0__);

class IBaseCommand {
    constructor(options) {
        this.concurrent = false;
        if (options) {
            Object.assign(this, options);
            this.cycleId = options.cycleId || uuid__WEBPACK_IMPORTED_MODULE_0___default.a.v4(); // make sure we have cycleId
        }
        else {
            this.cycleId = uuid__WEBPACK_IMPORTED_MODULE_0___default.a.v4();
        }
        this.type = this.constructor;
        this.createdAt = Date.now();
    }
}


/***/ }),

/***/ "oeIr":
/*!****************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/services/utilities.service.ts ***!
  \****************************************************************************/
/*! exports provided: UtilitiesService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UtilitiesService", function() { return UtilitiesService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _shared_enums_tag_type_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shared/enums/tag-type.enum */ "IDrQ");
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cornerstone-tools */ "b09o");
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cornerstone-core */ "MNym");
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cornerstone_core__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cornerstone_web_image_loader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cornerstone-web-image-loader */ "seMg");
/* harmony import */ var cornerstone_web_image_loader__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cornerstone_web_image_loader__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _image_viewer_cornerstone_cornerstone_config__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../image-viewer/cornerstone/cornerstone.config */ "CIbN");
/* harmony import */ var _tag_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./tag.service */ "KlcW");
/* harmony import */ var _image_viewer_services_image_viewer_segmentation_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../image-viewer/services/image-viewer-segmentation.service */ "k2Bx");
/* harmony import */ var _image_viewer_services_overlay_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../image-viewer/services/overlay.service */ "shYO");












class UtilitiesService {
    constructor(tagService, segmentationService, overlayService) {
        this.tagService = tagService;
        this.segmentationService = segmentationService;
        this.overlayService = overlayService;
    }
    setHeaders(headers = {}) {
        cornerstone_web_image_loader__WEBPACK_IMPORTED_MODULE_4___default.a.configure({
            beforeSend: (xhr) => {
                for (const [key, val] of Object.entries(headers)) {
                    xhr.setRequestHeader(key, val);
                }
            },
        });
    }
    exportImageWithTags(imageUrl, tags, sourceWidth, sourceHeight, annotationsScale) {
        const canvasContainer = this.getOrCreateCavnasesContainer();
        const element = this.createCanvasElement(canvasContainer, sourceWidth, sourceHeight);
        const toolStateManager = this.setupElement(element);
        let loadedImage;
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["merge"])(this.loadImage(imageUrl).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["tap"])((image) => {
            loadedImage = image;
        })), this.loadTags(imageUrl, tags, annotationsScale, toolStateManager)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["filter"])(() => loadedImage !== undefined), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["concatMap"])(() => this.exportImage(loadedImage, element)), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["finalize"])(() => {
            cornerstone_core__WEBPACK_IMPORTED_MODULE_3___default.a.disable(element);
            element.remove();
        }));
    }
    getCustomImageUrl(dataIdentifiers) {
        if (dataIdentifiers.studyInstanceUID) {
            let key = dataIdentifiers.studyInstanceUID;
            if (dataIdentifiers.seriesInstanceUID) {
                key = `${key}/${dataIdentifiers.seriesInstanceUID}`;
                if (dataIdentifiers.sopInstanceUID) {
                    key = `${key}/${dataIdentifiers.sopInstanceUID}`;
                }
            }
            return key;
        }
        return null;
    }
    exportImage(image, element) {
        cornerstone_core__WEBPACK_IMPORTED_MODULE_3___default.a.displayImage(element, image);
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["fromEvent"])(element, 'cornerstoneimagerendered').pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["take"])(1), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["map"])(() => this.saveImage(element)));
    }
    createCanvasElement(parentElement, width, height) {
        const element = document.createElement('div');
        element.style.width = `${width}px`;
        element.style.height = `${height}px`;
        parentElement.append(element);
        return element;
    }
    getOrCreateCavnasesContainer() {
        const id = 'containerForExportCanvas';
        let container = document.getElementById(id);
        if (!container) {
            container = document.createElement('div');
            container.id = id;
            container.style.width = '0px';
            container.style.height = '0px';
            container.style.position = 'absolute';
            container.style.left = '-9999px';
            container.style.visibility = 'hidden';
            document.body.appendChild(container);
        }
        return container;
    }
    saveImage(element) {
        const mimeType = 'image/png';
        const canvas = element.querySelector('canvas');
        return canvas.toDataURL(mimeType, 0.75); // second parameter is quality, changing it to 0.5 reduce the save time alost in half
    }
    setupElement(element) {
        cornerstone_core__WEBPACK_IMPORTED_MODULE_3___default.a.enable(element);
        for (const [toolName, tool] of Object.entries(_image_viewer_cornerstone_cornerstone_config__WEBPACK_IMPORTED_MODULE_7__["availableTools"])) {
            cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.addToolForElement(element, tool.csTool, {
                configuration: tool.config || {},
            });
            cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.setToolEnabledForElement(element, toolName);
        }
        const toolStateManager = cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.newStackSpecificToolStateManager(Object.keys(_image_viewer_cornerstone_cornerstone_config__WEBPACK_IMPORTED_MODULE_7__["availableTools"]), cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.globalImageIdSpecificToolStateManager);
        cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.setElementToolStateManager(element, toolStateManager);
        return toolStateManager;
    }
    loadTags(imageUrl, tags, annotationsScale, toolStateManager) {
        // Annotations
        this.segmentationService.removeImageMeasurements(imageUrl);
        tags
            .filter((tag) => tag.type === _shared_enums_tag_type_enum__WEBPACK_IMPORTED_MODULE_1__["TagTypeEnum"].GEOMETRY)
            .forEach((tag) => this.addTagToToolState(tag, annotationsScale, toolStateManager));
        // Overlays
        const observablesArr = [];
        tags
            .filter((tag) => tag.type === _shared_enums_tag_type_enum__WEBPACK_IMPORTED_MODULE_1__["TagTypeEnum"].OVERLAY)
            .forEach((tag) => {
            const overlay = tag.value;
            this.overlayService.addOverlayToImage(overlay, imageUrl);
            observablesArr.push(this.overlayService.loadOverlay(overlay.mapUrl));
        });
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["forkJoin"])(observablesArr).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["defaultIfEmpty"])(null));
    }
    addTagToToolState(tag, annotationsScale, toolStateManager) {
        const annotation = this.tagService.getAnnotationFromTag(tag, annotationsScale);
        // If annotation was not converted properly
        if (!annotation) {
            return;
        }
        annotation.isTextboxVisible = false;
        const { toolName } = annotation;
        const toolState = toolStateManager.saveToolState();
        if (!toolState.hasOwnProperty(toolName)) {
            toolState[toolName] = { data: [] };
        }
        toolState[toolName].data.push(annotation);
    }
    loadImage(imageUrl) {
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(cornerstone_core__WEBPACK_IMPORTED_MODULE_3___default.a.loadImage(imageUrl));
    }
}
UtilitiesService.ɵfac = function UtilitiesService_Factory(t) { return new (t || UtilitiesService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_tag_service__WEBPACK_IMPORTED_MODULE_8__["TagService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_image_viewer_services_image_viewer_segmentation_service__WEBPACK_IMPORTED_MODULE_9__["ImageViewerSegmentationService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_image_viewer_services_overlay_service__WEBPACK_IMPORTED_MODULE_10__["OverlayService"])); };
UtilitiesService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: UtilitiesService, factory: UtilitiesService.ɵfac, providedIn: 'root' });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](UtilitiesService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _tag_service__WEBPACK_IMPORTED_MODULE_8__["TagService"] }, { type: _image_viewer_services_image_viewer_segmentation_service__WEBPACK_IMPORTED_MODULE_9__["ImageViewerSegmentationService"] }, { type: _image_viewer_services_overlay_service__WEBPACK_IMPORTED_MODULE_10__["OverlayService"] }]; }, null); })();


/***/ }),

/***/ "oicP":
/*!**************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/shared/models/tool.model.ts ***!
  \**************************************************************************/
/*! exports provided: Tool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Tool", function() { return Tool; });
/* harmony import */ var _enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums/RelevantViewportsPolicyEnum */ "+neF");

class Tool {
    constructor(id, description, icon, command, type, section, customCalcStateFunc, viewportSelectionPolicy = _enums_RelevantViewportsPolicyEnum__WEBPACK_IMPORTED_MODULE_0__["RelevantViewportsPolicyEnum"].ACTIVE) {
        this.id = id;
        this.description = description;
        this.icon = icon;
        this.command = command;
        this.type = type;
        this.section = section;
        this.customCalcStateFunc = customCalcStateFunc;
        this.viewportSelectionPolicy = viewportSelectionPolicy;
        this.isEnabled = true;
    }
    static clone(tool) {
        return new Tool(tool.id, tool.description, tool.icon, tool.command, tool.type, tool.section, tool.customCalcStateFunc);
    }
    calcState(metadata) {
        if (this.customCalcStateFunc) {
            return this.customCalcStateFunc(metadata);
        }
        return;
    }
    deserialize(input) {
        return Object.assign(this, input);
    }
    setEnabled(isEnabled) {
        this.isEnabled = isEnabled;
        return this;
    }
    setIcon(icon) {
        this.icon = icon;
        return this;
    }
    setSection(section) {
        this.section = section;
        return this;
    }
}


/***/ }),

/***/ "otqz":
/*!****************************************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/viewports-manager/viewport-container/tagsbar/tag/tag.component.ts ***!
  \****************************************************************************************************************/
/*! exports provided: TagComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TagComponent", function() { return TagComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _shared_enums_tag_type_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../shared/enums/tag-type.enum */ "IDrQ");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _shared_enums_tag_actions_enum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../shared/enums/tag-actions.enum */ "w4/a");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/platform-browser */ "cUpR");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _material_extended_mde__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material-extended/mde */ "Xs+b");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/icon */ "Tj54");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/button */ "Dxy4");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/card */ "PDjf");












const _c0 = ["tagBody"];
const _c1 = ["commentPopover"];
const _c2 = ["commentPopoverTrigger"];
const _c3 = ["infoPopoverTrigger"];
const _c4 = ["tagInfo"];
const _c5 = ["commentCard"];
function TagComponent_ng_container_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const tagAction_r19 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](tagAction_r19);
} }
function TagComponent_img_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "img", 37);
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("src", ctx_r3.tag == null ? null : ctx_r3.tag.creatorIconUrl, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"])("alt", ctx_r3.tag == null ? null : ctx_r3.tag.createdBy);
} }
function TagComponent_button_11_mat_icon_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-icon", 40);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "visibility_off");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function TagComponent_button_11_mat_icon_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-icon", 40);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "visibility_on");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function TagComponent_button_11_Template(rf, ctx) { if (rf & 1) {
    const _r23 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function TagComponent_button_11_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r23); const ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r22.toggleVisibility(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, TagComponent_button_11_mat_icon_1_Template, 2, 0, "mat-icon", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, TagComponent_button_11_mat_icon_2_Template, 2, 0, "mat-icon", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r4.tag.showAnnotation);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r4.tag.showAnnotation);
} }
function TagComponent_div_23_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "strong");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, "Label Description:");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx_r7.properties.labelDescription || "No Description Available", " ");
} }
function TagComponent_p_29_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "strong");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "Actor ID:");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r8.properties.actorId);
} }
function TagComponent_img_31_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "img", 37);
} if (rf & 2) {
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("src", ctx_r9.tag == null ? null : ctx_r9.tag.creatorIconUrl, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"])("alt", ctx_r9.tag == null ? null : ctx_r9.tag.createdBy);
} }
function TagComponent_p_34_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-icon", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "lowercase");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("svgIcon", ctx_r10.tagIcon);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"]("", ctx_r10.properties.labelType, " | ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 3, ctx_r10.tag == null ? null : ctx_r10.tag.scope), "");
} }
function TagComponent_p_35_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("Value: ", ctx_r11.tag.value, "");
} }
function TagComponent_p_42_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("Comment: ", ctx_r12.tag == null ? null : ctx_r12.tag.comment, "");
} }
function TagComponent_button_44_Template(rf, ctx) { if (rf & 1) {
    const _r25 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function TagComponent_button_44_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r25); const ctx_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r24.onDelete(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-icon", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "delete");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "span", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, "Delete");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function TagComponent_button_59_Template(rf, ctx) { if (rf & 1) {
    const _r27 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function TagComponent_button_59_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r27); const ctx_r26 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r26.onApprove(ctx_r26.tag); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-icon", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "done");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "span", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, "Approve");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
const _c6 = function (a0) { return { "tag-off": a0 }; };
const _c7 = function (a0) { return { striped: a0 }; };
class TagComponent {
    constructor(sanitizer) {
        this.sanitizer = sanitizer;
        this.tagAction = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.tagClick = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.tagHoverEnter = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.tagHoverLeave = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.tagDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.tagUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.tagShow = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.properties = {};
        this.TagTypeEnum = _shared_enums_tag_type_enum__WEBPACK_IMPORTED_MODULE_1__["TagTypeEnum"];
        this.TagActionEnum = _shared_enums_tag_actions_enum__WEBPACK_IMPORTED_MODULE_4__["TagActionsEnum"];
        this.tagIcon = 'classification';
        this.isAllowVisiblityToggle = false;
        this.isDisplayValue = false;
        this.isShowDetails = false;
        this.labelDescriptionPanel = false;
        this.unsubscribe$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
    }
    get valueAsStyle() {
        const color = this.tag ? this.tag.color : '#fff';
        return this.sanitizer.bypassSecurityTrustStyle(`--label-color: ${color}`);
    }
    ngOnInit() {
        Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["fromEvent"])(document, 'click')
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["takeUntil"])(this.unsubscribe$))
            .subscribe((event) => this.onPageClick(event.target));
    }
    ngOnChanges(changes) {
        const tagUpdate = changes.tag;
        if (tagUpdate.currentValue !== tagUpdate.previousValue) {
            this.updateTagSettings(this.tag);
        }
    }
    ngOnDestroy() {
        this.unsubscribe$.next();
        this.unsubscribe$.complete();
        if (this.commentPopover) {
            this.commentPopoverTrigger.destroyPopover();
        }
        if (this.infoPopoverTrigger) {
            this.infoPopoverTrigger.destroyPopover();
        }
    }
    onHeaderClick() {
        if (this.infoPopoverTrigger.popoverOpen) {
            this.tagClick.emit(this.tag);
        }
    }
    onPageClick(targetElement) {
        const clickedOutside = !(this.tagBody && this.tagBody.nativeElement.contains(targetElement)) &&
            !(this.tagInfo && this.tagInfo.nativeElement.contains(targetElement)) &&
            !(this.commentCard && this.commentCard.nativeElement.contains(targetElement));
        if (clickedOutside) {
            this.commentPopoverTrigger.closePopover();
            this.infoPopoverTrigger.closePopover();
        }
    }
    onHoverEnter() {
        this.tagHoverEnter.emit(this.tag);
    }
    onHoverLeave() {
        this.tagHoverLeave.emit(this.tag);
    }
    onDelete() {
        this.tagDelete.emit(this.tag);
    }
    convertPropertiesToDict(propertiesArr = []) {
        const propertiesDict = {};
        propertiesArr.forEach((property) => {
            propertiesDict[property.key] = property.value;
        });
        return propertiesDict;
    }
    saveComment(comment) {
        this.tag.comment = comment || '';
        this.tagUpdate.emit(this.tag);
        this.commentPopoverTrigger.closePopover();
    }
    discardComment(commentInput) {
        commentInput.value = this.tag.comment || '';
        this.commentPopoverTrigger.closePopover();
    }
    toggleVisibility() {
        this.tag.showAnnotation = !this.tag.showAnnotation;
        this.tagShow.emit({ tag: this.tag, visible: this.tag.showAnnotation });
    }
    updateTagSettings(tag) {
        this.properties = this.convertPropertiesToDict(tag.properties);
        this.tagIcon = this.getTagIcon(this.properties);
        this.isAllowVisiblityToggle = [_shared_enums_tag_type_enum__WEBPACK_IMPORTED_MODULE_1__["TagTypeEnum"].GEOMETRY, _shared_enums_tag_type_enum__WEBPACK_IMPORTED_MODULE_1__["TagTypeEnum"].OVERLAY].includes(tag.type);
        this.isDisplayValue = tag.value && ['string', 'number'].includes(typeof tag.value);
    }
    onApprove(tag) {
        if (!tag) {
            return;
        }
        this.tagAction.emit({
            tag,
            action: _shared_enums_tag_actions_enum__WEBPACK_IMPORTED_MODULE_4__["TagActionsEnum"].APPROVE,
        });
    }
    getTagActionIcon(tag) {
        switch (tag.action) {
            case _shared_enums_tag_actions_enum__WEBPACK_IMPORTED_MODULE_4__["TagActionsEnum"].UPDATE:
                return 'E';
            case _shared_enums_tag_actions_enum__WEBPACK_IMPORTED_MODULE_4__["TagActionsEnum"].DELETE:
                return 'D';
            case _shared_enums_tag_actions_enum__WEBPACK_IMPORTED_MODULE_4__["TagActionsEnum"].ADD:
                return tag.referenceTagId != null ? 'A' : null;
        }
    }
    getTagIcon(properties) {
        let tagIcon;
        const labelType = (properties.labelType || '').toLowerCase();
        switch (labelType) {
            case 'segmentation':
                tagIcon = 'zm-segmentation';
                break;
            case 'measurement':
                tagIcon = 'zm-measurement';
                break;
            case 'detection':
                tagIcon = 'zm-detection';
                break;
            default:
                tagIcon = 'zm-classification';
        }
        return tagIcon;
    }
}
TagComponent.ɵfac = function TagComponent_Factory(t) { return new (t || TagComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__["DomSanitizer"])); };
TagComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: TagComponent, selectors: [["zebra-viewer-tag"]], viewQuery: function TagComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c1, 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c2, 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c3, 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c4, 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c5, 1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.tagBody = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.commentPopover = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.commentPopoverTrigger = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.infoPopoverTrigger = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.tagInfo = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.commentCard = _t.first);
    } }, hostVars: 1, hostBindings: function TagComponent_HostBindings(rf, ctx) { if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("style", ctx.valueAsStyle, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeStyle"]);
    } }, inputs: { tag: "tag" }, outputs: { tagAction: "tagAction", tagClick: "tagClick", tagHoverEnter: "tagHoverEnter", tagHoverLeave: "tagHoverLeave", tagDelete: "tagDelete", tagUpdate: "tagUpdate", tagShow: "tagShow" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 66, vars: 34, consts: [["automation-tag", "tagsBar", 1, "zm-tag", 3, "ngClass"], ["tagBody", ""], [1, "tag-header", 3, "ngClass", "mouseenter", "mouseleave"], ["automation-tag", "tagsBarToggle", "mdePopoverTriggerOn", "click", 1, "tag-header-label", 3, "mdePopoverTriggerFor", "click"], ["infoPopoverTrigger", "mdePopoverTrigger"], [1, "material-icons", "tag-type", 3, "svgIcon"], [1, "tag-name"], [4, "ngIf"], ["class", "tag-user-avatar", 3, "src", "alt", 4, "ngIf"], [1, "tag-right-edge"], ["class", "tag-toggle-hide", 3, "click", 4, "ngIf"], [3, "mdeFocusTrapEnabled", "mdePopoverCloseOnClick", "mdePopoverEnterDelay"], ["infoPopover", "mdePopover"], [1, "tag-info"], ["tagInfo", ""], [1, "tag-info-header"], [1, "tag-title"], ["mat-icon-button", "", 1, "description-toggle", 3, "mouseenter", "mouseleave"], [1, "tag-info-body"], ["class", "description-layer", 4, "ngIf"], [1, "material-icons"], [1, "tag-actions", "flexr", "flex-distribute"], ["mat-icon-button", "", "class", "delete-btn", 3, "click", 4, "ngIf"], [3, "mdeFocusTrapEnabled", "mdePopoverCloseOnClick", "close"], ["commentPopover", "mdePopover"], [1, "label-comment-form"], ["commentCard", ""], ["for", "", 1, "mat-caption"], ["rows", "12", 1, "comment-input", 3, "value", "key.enter"], ["commentInput", ""], ["mat-button", "", 1, "save-comment-btn", 3, "click"], ["mat-button", "", 1, "discard-comment-btn", 3, "click"], ["automation-tag", "tagsBarApproveButton", "mat-icon-button", "", 3, "click", 4, "ngIf"], ["mat-icon-button", "", "mdePopoverTriggerOn", "click", 1, "open-comment-popover", 3, "mdePopoverTriggerFor"], ["commentPopoverTrigger", "mdePopoverTrigger"], [1, "btn-label"], [1, "tag-action"], [1, "tag-user-avatar", 3, "src", "alt"], [1, "tag-toggle-hide", 3, "click"], ["class", "material-icons visible-on", 4, "ngIf"], [1, "material-icons", "visible-on"], [1, "description-layer"], ["mat-icon-button", "", 1, "delete-btn", 3, "click"], ["automation-tag", "tagsBarApproveButton", "mat-icon-button", "", 3, "click"]], template: function TagComponent_Template(rf, ctx) { if (rf & 1) {
        const _r28 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0, 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("mouseenter", function TagComponent_Template_div_mouseenter_2_listener() { return ctx.onHoverEnter(); })("mouseleave", function TagComponent_Template_div_mouseleave_2_listener() { return ctx.onHoverLeave(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3, 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function TagComponent_Template_div_click_3_listener() { return ctx.onHeaderClick(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "mat-icon", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "span", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, TagComponent_ng_container_8_Template, 3, 1, "ng-container", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, TagComponent_img_9_Template, 1, 2, "img", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, TagComponent_button_11_Template, 3, 2, "button", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "mde-popover", 11, 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "div", 13, 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "div", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "p", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](18);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](19, "button", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("mouseenter", function TagComponent_Template_button_mouseenter_19_listener() { return ctx.labelDescriptionPanel = !ctx.labelDescriptionPanel; })("mouseleave", function TagComponent_Template_button_mouseleave_19_listener() { return ctx.labelDescriptionPanel = !ctx.labelDescriptionPanel; });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](20, "mat-icon");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](21, "expand_more");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](22, "div", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](23, TagComponent_div_23_Template, 5, 1, "div", 19);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](24, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](25, "strong");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](26, "UID:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](27, "span");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](28);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](29, TagComponent_p_29_Template, 5, 1, "p", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](30, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](31, TagComponent_img_31_Template, 1, 2, "img", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](32, "span");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](33);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](34, TagComponent_p_34_Template, 5, 5, "p", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](35, TagComponent_p_35_Template, 2, 1, "p", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](36, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](37, "mat-icon", 20);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](38, "event");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](39, "span");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](40);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](41, "date");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](42, TagComponent_p_42_Template, 2, 1, "p", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](43, "div", 21);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](44, TagComponent_button_44_Template, 5, 0, "button", 22);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](45, "mde-popover", 23, 24);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("close", function TagComponent_Template_mde_popover_close_45_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r28); const _r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](53); return ctx.discardComment(_r16); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](47, "mat-card", 25, 26);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](49, "mat-card-content");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](50, "label", 27);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](51, "Comment:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](52, "textarea", 28, 29);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("key.enter", function TagComponent_Template_textarea_key_enter_52_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r28); const _r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](53); return ctx.saveComment(_r16.value); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](54, "mat-card-actions");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](55, "button", 30);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function TagComponent_Template_button_click_55_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r28); const _r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](53); return ctx.saveComment(_r16.value); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](56, "Save");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](57, "button", 31);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function TagComponent_Template_button_click_57_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r28); const _r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](53); return ctx.discardComment(_r16); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](58, "Discard");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](59, TagComponent_button_59_Template, 5, 0, "button", 32);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](60, "button", 33, 34);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](62, "mat-icon", 20);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](63, "message");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](64, "span", 35);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](65, "Comment");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](13);
        const _r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](46);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](30, _c6, !ctx.tag.showAnnotation));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](32, _c7, ctx.tag.action === "DELETE"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("mdePopoverTriggerFor", _r5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("svgIcon", ctx.tagIcon);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.tag == null ? null : ctx.tag.name);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.getTagActionIcon(ctx.tag));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.tag == null ? null : ctx.tag.creatorIconUrl);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isAllowVisiblityToggle);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("mdeFocusTrapEnabled", false)("mdePopoverCloseOnClick", false)("mdePopoverEnterDelay", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.tag == null ? null : ctx.tag.name);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.labelDescriptionPanel);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.tag == null ? null : ctx.tag.id);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.properties == null ? null : ctx.properties.actorId);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.tag == null ? null : ctx.tag.creatorIconUrl);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.tag == null ? null : ctx.tag.createdBy);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.properties == null ? null : ctx.properties.labelType);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isDisplayValue);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](41, 27, ctx.tag == null ? null : ctx.tag.createdAt, "dd/MM/yyyy HH:mm:ss"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.tag == null ? null : ctx.tag.comment);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.tag.action !== ctx.TagActionEnum.DELETE);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("mdeFocusTrapEnabled", false)("mdePopoverCloseOnClick", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", (ctx.tag == null ? null : ctx.tag.comment) || "");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.tag.isApprovable);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("mdePopoverTriggerFor", _r14);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_6__["NgClass"], _material_extended_mde__WEBPACK_IMPORTED_MODULE_7__["MdePopoverTrigger"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_8__["MatIcon"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgIf"], _material_extended_mde__WEBPACK_IMPORTED_MODULE_7__["MdePopover"], _angular_material_button__WEBPACK_IMPORTED_MODULE_9__["MatButton"], _angular_material_card__WEBPACK_IMPORTED_MODULE_10__["MatCard"], _angular_material_card__WEBPACK_IMPORTED_MODULE_10__["MatCardContent"], _angular_material_card__WEBPACK_IMPORTED_MODULE_10__["MatCardActions"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_6__["DatePipe"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["LowerCasePipe"]], styles: [".zm-tag[_ngcontent-%COMP%] {\n  position: relative;\n  font-size: 12px;\n  min-width: 180px;\n}\n.zm-tag.color-dark[_ngcontent-%COMP%] {\n  color: #fff;\n}\n.zm-tag.color-light[_ngcontent-%COMP%] {\n  color: #000;\n}\n.zm-tag[_ngcontent-%COMP%]:hover   .tag-toggle-hide[_ngcontent-%COMP%] {\n  color: #fff;\n}\n.zm-tag.tag-off[_ngcontent-%COMP%] {\n  opacity: 0.5;\n}\n.tag-header[_ngcontent-%COMP%] {\n  position: relative;\n  display: flex;\n  align-items: center;\n  height: 24px;\n  border-radius: 12px;\n  font-size: 12px;\n  margin: 2px;\n  background-color: var(--label-color);\n}\n.tag-header[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%]:not(:last-child) {\n  margin-left: 4px;\n}\n.tag-header[_ngcontent-%COMP%]   .tag-header-label[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  padding: 0px 3px;\n}\n.tag-header[_ngcontent-%COMP%]   .tag-header-label[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\n  margin-left: 4px;\n}\n.tag-header[_ngcontent-%COMP%]   .tag-name[_ngcontent-%COMP%] {\n  margin-right: auto;\n}\n.striped[_ngcontent-%COMP%] {\n  background-image: repeating-linear-gradient(-45deg, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5) 8px, rgba(0, 0, 0, 0.6) 8px, rgba(0, 0, 0, 0.6) 16px);\n}\n.tag-type[_ngcontent-%COMP%] {\n  font-size: 14px;\n  width: 14px;\n  height: 14px;\n}\n.tag-user-avatar[_ngcontent-%COMP%] {\n  width: 18px;\n  height: 18px;\n  border-radius: 9px;\n  background-color: transparent;\n}\n.tag-right-edge[_ngcontent-%COMP%] {\n  border: none;\n  outline: none;\n  display: flex;\n  align-items: center;\n  align-self: stretch;\n  overflow: hidden;\n  border-radius: 0 12px 12px 0;\n  color: var(--label-color);\n  margin-left: auto;\n}\n.tag-right-edge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%] {\n  font-size: 20px;\n  width: 20px;\n  height: 20px;\n}\n.tag-toggle-hide[_ngcontent-%COMP%] {\n  background-color: rgba(0, 0, 0, 0.6);\n  width: 32px;\n  height: 100%;\n}\n.tag-action[_ngcontent-%COMP%] {\n  font-weight: bold;\n  width: 1.5em;\n  height: 1.5em;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.3);\n  border-radius: 100%;\n}\n.tag-info[_ngcontent-%COMP%] {\n  position: absolute;\n  width: 180px;\n  left: -4px;\n  bottom: calc(100% + 8px);\n  background-color: #2e2e2e;\n  border-radius: 4px;\n  display: block;\n  color: white;\n  font-size: 12px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.tag-info.hidden[_ngcontent-%COMP%] {\n  display: none;\n}\n.tag-info[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%] {\n  padding: 0 8px;\n}\n.tag-info[_ngcontent-%COMP%]   .tag-info-header[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  -webkit-border-after: 1px solid #4d4d4d;\n          border-block-end: 1px solid #4d4d4d;\n}\n.tag-info[_ngcontent-%COMP%]   .tag-info-header[_ngcontent-%COMP%]   .tag-title[_ngcontent-%COMP%] {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: block;\n}\n.tag-info[_ngcontent-%COMP%]   .tag-info-header[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]     .mat-button-focus-overlay {\n  background-color: transparent;\n}\n.tag-info[_ngcontent-%COMP%]   .tag-info-body[_ngcontent-%COMP%] {\n  flex: 1;\n  position: relative;\n}\n.tag-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  line-height: 14px;\n}\n.tag-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child {\n  margin-right: 8px;\n}\n.tag-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .tag-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\n  word-break: break-all;\n}\n.tag-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\n  color: gray;\n  font-size: 0.8em;\n  flex-basis: 100%;\n  -webkit-margin-after: 0.5em;\n          margin-block-end: 0.5em;\n}\n.tag-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%] {\n  font-size: 14px;\n  width: 14px;\n  height: 14px;\n}\n.tag-info[_ngcontent-%COMP%]   .tag-actions[_ngcontent-%COMP%] {\n  border-top: 1px solid #d9d9d9;\n  padding: 8px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.tag-info[_ngcontent-%COMP%]   .tag-actions[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%] {\n  position: relative;\n}\n.tag-info[_ngcontent-%COMP%]   .tag-actions[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]     .btn-label {\n  display: none;\n  font-size: 10px;\n  line-height: 1;\n  position: absolute;\n  left: 0;\n  width: 100%;\n  text-align: center;\n  bottom: -0.5em;\n}\n.tag-info[_ngcontent-%COMP%]   .tag-actions[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]:hover     .btn-label {\n  display: inline-block;\n}\n.tag-info[_ngcontent-%COMP%]   .description-layer[_ngcontent-%COMP%] {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  padding: 0 8px;\n  left: 0;\n  background-color: #2e2e2e;\n}\n.description-toggle[_ngcontent-%COMP%] {\n  margin-right: -8px;\n}\n.mat-card-actions[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n}\n.mat-card.label-comment-form[_ngcontent-%COMP%] {\n  padding: 8px;\n  width: 180px;\n  transform: translate(-124px, 10px);\n}\n.mat-card.label-comment-form[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%] {\n  -webkit-margin-after: 0;\n          margin-block-end: 0;\n}\n.comment-input[_ngcontent-%COMP%] {\n  width: 100%;\n}\nmde-popover[_ngcontent-%COMP%] {\n  position: absolute;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3RhZy5jb21wb25lbnQuc2NzcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Njc3MvdmFyaWFibGVzLnNjc3MiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9zY3NzL19taXhpbnMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFLQTtFQUNDLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUpvQjtBQUFyQjtBQU9DO0VBQ0MsV0FBQTtBQUxGO0FBUUM7RUFDQyxXQUFBO0FBTkY7QUFVRTtFQUNDLFdBQUE7QUFSSDtBQVlDO0VBQ0MsWUFBQTtBQVZGO0FBY0E7RUFDQyxrQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFlDMUJZO0VEMkJaLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7RUFDQSxvQ0FBQTtBQVhEO0FBWUM7RUFDQyxnQkFBQTtBQVZGO0FBYUM7RUFDQyxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtBQVhGO0FBWUU7RUFDQyxnQkFBQTtBQVZIO0FBYUM7RUFDQyxrQkFBQTtBQVhGO0FBZUE7RUFDQyxnSkFBQTtBQVpEO0FBY0E7RUFDQyxlQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUFYRDtBQWNBO0VFaEVFLFdGaUVlO0VFaEVmLFlGZ0VlO0VFL0RmLGtCQUFBO0VBQ0EsNkJGOERxQjtBQVJ2QjtBQVdBO0VBQ0MsWUFBQTtFQUNBLGFBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsNEJBQUE7RUFDQSx5QkFBQTtFQUNBLGlCQUFBO0FBUkQ7QUFVQztFQUNDLGVBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQVJGO0FBWUE7RUFDQyxvQ0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FBVEQ7QUFZQTtFQUNDLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUV0RUEsb0JBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VGc0VBLG9DQUFBO0VBQ0EsbUJBQUE7QUFQRDtBQVlBO0VBQ0Msa0JBQUE7RUFDQSxZQXhHb0I7RUF5R3BCLFVBQUE7RUFDQSx3QkFBQTtFQUNBLHlCQTdHYTtFQThHYixrQkFBQTtFQUNBLGNBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLGdCQUFBO0FBVEQ7QUFXQztFQUNDLGFBQUE7QUFURjtBQVlDO0VBQ0MsY0FBQTtBQVZGO0FBY0M7RUFDQyxhQUFBO0VBQ0EsOEJBQUE7RUFDQSx1QkFBQTtFQUNBLHVDQUFBO1VBQUEsbUNBQUE7QUFaRjtBQWNFO0VBQ0MsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0VBQ0EsY0FBQTtBQVpIO0FBZ0JJO0VBQ0MsNkJBQUE7QUFkTDtBQW9CQztFQUNDLE9BQUE7RUFDQSxrQkFBQTtBQWxCRjtBQXVCQztFQUNDLGFBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtBQXJCRjtBQXVCRTtFQUNDLGlCQ2hLSTtBRDJJUDtBQXdCRTs7RUFFQyxxQkFBQTtBQXRCSDtBQXlCRTtFQUNDLFdBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EsMkJBQUE7VUFBQSx1QkFBQTtBQXZCSDtBQTBCRTtFQUNDLGVBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQXhCSDtBQTRCQztFQUNDLDZCQUFBO0VBQ0EsWUN4TEs7RUR5TEwsYUFBQTtFQUNBLDhCQUFBO0VBQ0EsbUJBQUE7QUExQkY7QUEyQkU7RUFDQyxrQkFBQTtBQXpCSDtBQTRCSTtFQUNDLGFBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0VBQ0EsT0FBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7QUExQkw7QUFrQ0k7RUFDQyxxQkFBQTtBQWhDTDtBQXNDQztFQUNDLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxjQUFBO0VBQ0EsT0FBQTtFQUNBLHlCQS9OWTtBQTJMZDtBQXlDQTtFQUNDLGtCQUFBO0FBdENEO0FBeUNBO0VBQ0MsYUFBQTtFQUNBLDZCQUFBO0VBQ0EsbUJBQUE7QUF0Q0Q7QUF5Q0E7RUFDQyxZQzdPTTtFRDhPTixZQUFBO0VBQ0Esa0NBQUE7QUF0Q0Q7QUF3Q0M7RUFDQyx1QkFBQTtVQUFBLG1CQUFBO0FBdENGO0FBeUNBO0VBQ0MsV0FBQTtBQXRDRDtBQXlDQTtFQUNDLGtCQUFBO0FBdENEIiwiZmlsZSI6InRhZy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgJ3Byb2plY3RzL3plYnJhLXZpZXdlci9zcmMvc2Nzcy92YXJpYWJsZXMnO1xuQGltcG9ydCAncHJvamVjdHMvemVicmEtdmlld2VyL3NyYy9zY3NzL21peGlucyc7XG4kdGFnLWluZm8tYmc6IGxpZ2h0ZW4oYmxhY2ssIDE4JSk7XG5cbiRpbmZvLXBvcG92ZXItd2lkdGg6IDE4MHB4O1xuLnptLXRhZyB7XG5cdHBvc2l0aW9uOiByZWxhdGl2ZTtcblx0Zm9udC1zaXplOiAxMnB4O1xuXHRtaW4td2lkdGg6ICRpbmZvLXBvcG92ZXItd2lkdGg7XG5cdC8vICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbGFiZWwtY29sb3IpO1xuXG5cdCYuY29sb3ItZGFyayB7XG5cdFx0Y29sb3I6ICNmZmY7XG5cdH1cblxuXHQmLmNvbG9yLWxpZ2h0IHtcblx0XHRjb2xvcjogIzAwMDtcblx0fVxuXG5cdCY6aG92ZXIge1xuXHRcdC50YWctdG9nZ2xlLWhpZGUge1xuXHRcdFx0Y29sb3I6ICNmZmY7XG5cdFx0fVxuXHR9XG5cblx0Ji50YWctb2ZmIHtcblx0XHRvcGFjaXR5OiAwLjU7XG5cdH1cbn1cblxuLnRhZy1oZWFkZXIge1xuXHRwb3NpdGlvbjogcmVsYXRpdmU7XG5cdGRpc3BsYXk6IGZsZXg7XG5cdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdGhlaWdodDogJHRhZy1oZWlnaHQ7XG5cdGJvcmRlci1yYWRpdXM6ICR0YWctaGVpZ2h0LzI7XG5cdGZvbnQtc2l6ZTogMTJweDtcblx0bWFyZ2luOiB1bml0cygwLjI1KTtcblx0YmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbGFiZWwtY29sb3IpO1xuXHQ+Kjpub3QoOmxhc3QtY2hpbGQpIHtcblx0XHRtYXJnaW4tbGVmdDogJHVuaXQvMjtcblx0fVxuXG5cdC50YWctaGVhZGVyLWxhYmVsIHtcblx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcblx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xuXHRcdHdpZHRoOiAxMDAlO1xuXHRcdHBhZGRpbmc6IDBweCAzcHg7XG5cdFx0Pioge1xuXHRcdFx0bWFyZ2luLWxlZnQ6ICR1bml0LzI7XG5cdFx0fVxuXHR9XG5cdC50YWctbmFtZSB7XG5cdFx0bWFyZ2luLXJpZ2h0OiBhdXRvO1xuXHR9XG59XG5cbi5zdHJpcGVkIHtcblx0YmFja2dyb3VuZC1pbWFnZTogcmVwZWF0aW5nLWxpbmVhci1ncmFkaWVudCgtNDVkZWcsIHJnYmEoMCwgMCwgMCwgMC41KSwgcmdiYSgwLCAwLCAwLCAwLjUpIDhweCwgcmdiYSgwLCAwLCAwLCAwLjYpIDhweCwgcmdiYSgwLCAwLCAwLCAwLjYpIDE2cHgpO1xufVxuLnRhZy10eXBlIHtcblx0Zm9udC1zaXplOiAxNHB4O1xuXHR3aWR0aDogMTRweDtcblx0aGVpZ2h0OiAxNHB4O1xufVxuXG4udGFnLXVzZXItYXZhdGFyIHtcblx0QGluY2x1ZGUgY2lyY2xlKDE4cHgsIHRyYW5zcGFyZW50KTtcbn1cblxuLnRhZy1yaWdodC1lZGdlIHtcblx0Ym9yZGVyOiBub25lO1xuXHRvdXRsaW5lOiBub25lO1xuXHRkaXNwbGF5OiBmbGV4O1xuXHRhbGlnbi1pdGVtczogY2VudGVyO1xuXHRhbGlnbi1zZWxmOiBzdHJldGNoO1xuXHRvdmVyZmxvdzogaGlkZGVuO1xuXHRib3JkZXItcmFkaXVzOiAwICR0YWctaGVpZ2h0LzIgJHRhZy1oZWlnaHQvMiAwO1xuXHRjb2xvcjogdmFyKC0tbGFiZWwtY29sb3IpO1xuXHRtYXJnaW4tbGVmdDogYXV0bztcblxuXHQubWF0ZXJpYWwtaWNvbnMge1xuXHRcdGZvbnQtc2l6ZTogMjBweDtcblx0XHR3aWR0aDogMjBweDtcblx0XHRoZWlnaHQ6IDIwcHg7XG5cdH1cbn1cblxuLnRhZy10b2dnbGUtaGlkZSB7XG5cdGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50aXplKCMwMDAsIDAuNCk7XG5cdHdpZHRoOiB1bml0cyg0KTtcblx0aGVpZ2h0OiAxMDAlO1xufVxuXG4udGFnLWFjdGlvbiB7XG5cdGZvbnQtd2VpZ2h0OiBib2xkO1xuXHR3aWR0aDogMS41ZW07XG5cdGhlaWdodDogMS41ZW07XG5cdEBpbmNsdWRlIGNlbnRlci1jb250ZW50cztcblx0YmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnRpemUoIzAwMCwgMC43KTtcblx0Ym9yZGVyLXJhZGl1czogMTAwJTtcbn1cblxuXG5cbi50YWctaW5mbyB7XG5cdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0d2lkdGg6ICRpbmZvLXBvcG92ZXItd2lkdGg7XG5cdGxlZnQ6IC00cHg7XG5cdGJvdHRvbTogY2FsYygxMDAlICsgI3skdW5pdH0pO1xuXHRiYWNrZ3JvdW5kLWNvbG9yOiAkdGFnLWluZm8tYmc7XG5cdGJvcmRlci1yYWRpdXM6IDRweDtcblx0ZGlzcGxheTogYmxvY2s7XG5cdGNvbG9yOiB3aGl0ZTtcblx0Zm9udC1zaXplOiAxMnB4O1xuXHRkaXNwbGF5OiBmbGV4O1xuXHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXHRvdmVyZmxvdzogaGlkZGVuO1xuXG5cdCYuaGlkZGVuIHtcblx0XHRkaXNwbGF5OiBub25lO1xuXHR9XG5cblx0PmRpdiB7XG5cdFx0cGFkZGluZzogMCAkdW5pdDtcblxuXHR9XG5cblx0LnRhZy1pbmZvLWhlYWRlciB7XG5cdFx0ZGlzcGxheTogZmxleDtcblx0XHRqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG5cdFx0YWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG5cdFx0Ym9yZGVyLWJsb2NrLWVuZDogMXB4IHNvbGlkIGRhcmtlbih3aGl0ZSwgNzAlKTtcblxuXHRcdC50YWctdGl0bGUge1xuXHRcdFx0d2hpdGUtc3BhY2U6IG5vd3JhcDtcblx0XHRcdG92ZXJmbG93OiBoaWRkZW47XG5cdFx0XHR0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcblx0XHRcdGRpc3BsYXk6IGJsb2NrO1xuXHRcdH1cblx0XHQubWF0LWljb24tYnV0dG9uIHtcblx0XHRcdDo6bmctZGVlcCB7XG5cdFx0XHRcdC5tYXQtYnV0dG9uLWZvY3VzLW92ZXJsYXkge1xuXHRcdFx0XHRcdGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LnRhZy1pbmZvLWJvZHkge1xuXHRcdGZsZXg6IDE7XG5cdFx0cG9zaXRpb246IHJlbGF0aXZlO1xuXHR9XG5cblxuXG5cdHAge1xuXHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcblx0XHRmbGV4LXdyYXA6IHdyYXA7XG5cdFx0bGluZS1oZWlnaHQ6IDE0cHg7XG5cblx0XHQ6Zmlyc3QtY2hpbGQge1xuXHRcdFx0bWFyZ2luLXJpZ2h0OiAkdW5pdDtcblx0XHR9XG5cblx0XHRzcGFuLFxuXHRcdHN0cm9uZyB7XG5cdFx0XHR3b3JkLWJyZWFrOiBicmVhay1hbGw7XG5cdFx0fVxuXG5cdFx0c3Ryb25nIHtcblx0XHRcdGNvbG9yOiBsaWdodGVuKCRjb2xvcjogIzAwMDAwMCwgJGFtb3VudDogNTAlKTtcblx0XHRcdGZvbnQtc2l6ZTogMC44ZW07XG5cdFx0XHRmbGV4LWJhc2lzOiAxMDAlO1xuXHRcdFx0bWFyZ2luLWJsb2NrLWVuZDogMC41ZW07XG5cdFx0fVxuXG5cdFx0Lm1hdGVyaWFsLWljb25zIHtcblx0XHRcdGZvbnQtc2l6ZTogMTRweDtcblx0XHRcdHdpZHRoOiAxNHB4O1xuXHRcdFx0aGVpZ2h0OiAxNHB4O1xuXHRcdH1cblx0fVxuXG5cdC50YWctYWN0aW9ucyB7XG5cdFx0Ym9yZGVyLXRvcDogMXB4IHNvbGlkIGRhcmtlbigjZmZmLCAxNSUpO1xuXHRcdHBhZGRpbmc6ICR1bml0O1xuXHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0anVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuXHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdFx0Lm1hdC1pY29uLWJ1dHRvbiB7XG5cdFx0XHRwb3NpdGlvbjogcmVsYXRpdmU7XG5cblx0XHRcdDo6bmctZGVlcCB7XG5cdFx0XHRcdC5idG4tbGFiZWwge1xuXHRcdFx0XHRcdGRpc3BsYXk6IG5vbmU7XG5cdFx0XHRcdFx0Zm9udC1zaXplOiAxMHB4O1xuXHRcdFx0XHRcdGxpbmUtaGVpZ2h0OiAxO1xuXHRcdFx0XHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0XHRcdFx0XHRsZWZ0OiAwO1xuXHRcdFx0XHRcdHdpZHRoOiAxMDAlO1xuXHRcdFx0XHRcdHRleHQtYWxpZ246IGNlbnRlcjtcblx0XHRcdFx0XHRib3R0b206IC0wLjVlbTtcblxuXHRcdFx0XHR9XG5cblxuXHRcdFx0fVxuXG5cdFx0XHQmOmhvdmVyIHtcblx0XHRcdFx0OjpuZy1kZWVwIC5idG4tbGFiZWwge1xuXHRcdFx0XHRcdGRpc3BsYXk6IGlubGluZS1ibG9jaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC5kZXNjcmlwdGlvbi1sYXllciB7XG5cdFx0cG9zaXRpb246IGFic29sdXRlO1xuXHRcdHdpZHRoOiAxMDAlO1xuXHRcdGhlaWdodDogMTAwJTtcblx0XHRwYWRkaW5nOiAwICR1bml0O1xuXHRcdGxlZnQ6IDA7XG5cdFx0YmFja2dyb3VuZC1jb2xvcjogJHRhZy1pbmZvLWJnO1xuXG5cdH1cbn1cblxuLmRlc2NyaXB0aW9uLXRvZ2dsZSB7XG5cdG1hcmdpbi1yaWdodDogdW5pdHMoLTEpO1xufVxuXG4ubWF0LWNhcmQtYWN0aW9ucyB7XG5cdGRpc3BsYXk6IGZsZXg7XG5cdGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuXHRhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4ubWF0LWNhcmQubGFiZWwtY29tbWVudC1mb3JtIHtcblx0cGFkZGluZzogJHVuaXQ7XG5cdHdpZHRoOiAxODBweDtcblx0dHJhbnNmb3JtOiB0cmFuc2xhdGUoLTEyNHB4LCAxMHB4KTtcblxuXHQubWF0LWNhcmQtY29udGVudCB7XG5cdFx0bWFyZ2luLWJsb2NrLWVuZDogMDtcblx0fVxufVxuLmNvbW1lbnQtaW5wdXQge1xuXHR3aWR0aDogMTAwJTtcbn1cblxubWRlLXBvcG92ZXIge1xuXHRwb3NpdGlvbjogYWJzb2x1dGU7XG59XG4iLCIkemVicmE6ICNmZmQyMDA7XG4kdG9vbC1jb2xvcjogI2ZmZjtcbiR0b29sLWNvbG9yLXNlbGVjdGVkOiAkemVicmE7XG5cbiR1bml0OiA4cHg7XG4kdG9vbGJhci1oZWlnaHQ6IDM2cHg7XG4kaWNvbi1zaXplOiAyNHB4O1xuJHRvb2wtd2lkdGg6ICR0b29sYmFyLWhlaWdodDtcbiR0YWctaGVpZ2h0OiAyNHB4O1xuIiwiQGltcG9ydCBcInZhcmlhYmxlcy5zY3NzXCI7XG5cbkBtaXhpbiBjaXJjbGUoJHNpemUsICRiZ2M6IHdoaXRlKSB7XG4gIHdpZHRoOiAkc2l6ZTtcbiAgaGVpZ2h0OiAkc2l6ZTtcbiAgYm9yZGVyLXJhZGl1czogJHNpemUvMjtcbiAgYmFja2dyb3VuZC1jb2xvcjogJGJnYztcbn1cblxuQGZ1bmN0aW9uIHVuaXRzKCRtdWx0aXBsaWVyOiAxKSB7XG4gICR1bml0czogJHVuaXQgKiAkbXVsdGlwbGllcjtcbiAgQHJldHVybiAkdW5pdHM7XG59XG5cbkBtaXhpbiB6bS12aWV3ZXItZGlhbG9nKCR3aWR0aCkge1xuICBwYWRkaW5nOiAwO1xuICB3aWR0aDogJHdpZHRoO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLSN7JHdpZHRoLzJ9KTtcblxuICAubWF0LWRpYWxvZy1jb250YWluZXIge1xuICAgIHBhZGRpbmc6IDA7XG4gICAgbWFyZ2luOiAwO1xuICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDA7XG4gICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDA7XG4gIH1cbn1cblxuQG1peGluIGNlbnRlci1jb250ZW50cyB7XG5cdGRpc3BsYXk6IGlubGluZS1mbGV4O1xuXHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcblx0YWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cbiJdfQ== */"], changeDetection: 0 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TagComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'zebra-viewer-tag',
                templateUrl: './tag.component.html',
                styleUrls: ['./tag.component.scss'],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
            }]
    }], function () { return [{ type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__["DomSanitizer"] }]; }, { tagBody: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['tagBody']
        }], commentPopover: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['commentPopover', { static: false }]
        }], commentPopoverTrigger: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['commentPopoverTrigger', { static: false }]
        }], infoPopoverTrigger: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['infoPopoverTrigger', { static: false }]
        }], tagInfo: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['tagInfo', { static: false }]
        }], commentCard: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['commentCard', { read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }]
        }], tag: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], tagAction: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], tagClick: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], tagHoverEnter: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], tagHoverLeave: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], tagDelete: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], tagUpdate: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], tagShow: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], valueAsStyle: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
            args: ['attr.style']
        }] }); })();


/***/ }),

/***/ "pOXs":
/*!************************************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules/dynamic-component/models/remove-dynamic-component.command.ts ***!
  \************************************************************************************************************/
/*! exports provided: RemoveDynamicComponentCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RemoveDynamicComponentCommand", function() { return RemoveDynamicComponentCommand; });
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ "EcEN");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _shared_interfaces_base_command_interface__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/interfaces/base-command.interface */ "obi/");


class RemoveDynamicComponentCommand extends _shared_interfaces_base_command_interface__WEBPACK_IMPORTED_MODULE_1__["IBaseCommand"] {
    constructor(options) {
        super(options);
        if (!this.data) {
            this.data = {};
        }
        if (!this.data.componentInstanceId) {
            this.data.componentInstanceId = uuid__WEBPACK_IMPORTED_MODULE_0___default.a.v4();
        }
    }
}


/***/ }),

/***/ "qz/S":
/*!*******************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/events-manager/events-manager.module.ts ***!
  \*******************************************************************************/
/*! exports provided: EventsManagerModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EventsManagerModule", function() { return EventsManagerModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "SVse");



class EventsManagerModule {
}
EventsManagerModule.ɵfac = function EventsManagerModule_Factory(t) { return new (t || EventsManagerModule)(); };
EventsManagerModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: EventsManagerModule });
EventsManagerModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ providers: [], imports: [[_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](EventsManagerModule, { imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]] }); })();
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](EventsManagerModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                declarations: [],
                imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]],
                providers: [],
            }]
    }], null, null); })();


/***/ }),

/***/ "rLJ8":
/*!************************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules/core/models/annotation-command-data.interface.ts ***!
  \************************************************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);



/***/ }),

/***/ "rSS/":
/*!***************************************************************************************************************************!*\
  !*** ./projects/zebra-viewer-standalone/src/app/viewer-dynamic-modules/test-module/models/test-handlers-error.command.ts ***!
  \***************************************************************************************************************************/
/*! exports provided: TestHandlersErrorCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TestHandlersErrorCommand", function() { return TestHandlersErrorCommand; });
/* harmony import */ var _zebra_viewer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zebra/viewer */ "VgmR");

class TestHandlersErrorCommand extends _zebra_viewer__WEBPACK_IMPORTED_MODULE_0__["IBaseCommand"] {
    constructor(options) {
        super(options);
        if (!this.data || this.data.shouldReturnObservable == null) {
            this.data = {
                shouldReturnObservable: true,
            };
        }
    }
}


/***/ }),

/***/ "rwBH":
/*!********************************************************************************!*\
  !*** ./projects/zebra-viewer/src/config/tools-handlers/zoom/zoom.component.ts ***!
  \********************************************************************************/
/*! exports provided: ZoomComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ZoomComponent", function() { return ZoomComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _lib_editor_shared_models_tool_action_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/editor/shared/models/tool-action.model */ "vvF0");
/* harmony import */ var _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/editor/shared/models/command.model */ "lxft");
/* harmony import */ var _lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/editor/shared/enums/tools.enum */ "IjAf");
/* harmony import */ var _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/button-toggle */ "Ynp+");
/* harmony import */ var _lib_editor_toolbar_tool_tool_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../lib/editor/toolbar/tool/tool.component */ "F9an");
/* harmony import */ var _angular_material_slider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/slider */ "mPVK");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/button */ "Dxy4");










const _c0 = ["zoomToCenter"];
class ZoomComponent {
    constructor(cdRef) {
        this.cdRef = cdRef;
        this.zoomValue = 1;
        this.done = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.actionChange$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"](1);
        this.ToolsEnum = _lib_editor_shared_enums_tools_enum__WEBPACK_IMPORTED_MODULE_4__["ToolsEnum"];
    }
    ngOnChanges() {
        this.cdRef.markForCheck();
    }
    ngAfterViewInit() {
        const selectedTool = Object.keys(this.tools).find((toolId) => this.isCurrentTool(this.tools[toolId]));
        if (!selectedTool) {
            this.zoomToCenterElement.click();
        }
    }
    ngOnDestroy() {
        this.actionChange$.complete();
    }
    onZoomTypeChange(toolAction) {
        this.actionChange$.next(toolAction);
        if (toolAction.isActive) {
            this.done.emit(true);
        }
    }
    changeZoom(zoomValue) {
        this.zoomValue = zoomValue;
        const toolAction = new _lib_editor_shared_models_tool_action_model__WEBPACK_IMPORTED_MODULE_2__["ToolAction"](new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_3__["Command"]('zoom', { scale: zoomValue }));
        this.actionChange$.next(toolAction);
    }
    resetZoom() {
        const toolAction = new _lib_editor_shared_models_tool_action_model__WEBPACK_IMPORTED_MODULE_2__["ToolAction"](new _lib_editor_shared_models_command_model__WEBPACK_IMPORTED_MODULE_3__["Command"]('resetZoom'));
        this.actionChange$.next(toolAction);
    }
    isCurrentTool(tool) {
        return (tool &&
            this.activeTool &&
            this.activeTool.name === tool.command.options.toolName &&
            this.activeTool.activeStrategy === tool.command.options.strategy);
    }
}
ZoomComponent.ɵfac = function ZoomComponent_Factory(t) { return new (t || ZoomComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
ZoomComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ZoomComponent, selectors: [["zebra-viewer-zoom"]], viewQuery: function ZoomComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, 1);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.zoomToCenterElement = _t.first);
    } }, inputs: { zoomValue: "zoomValue", tools: "tools", activeTool: "activeTool" }, outputs: { done: "done" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 10, vars: 7, consts: [[2, "display", "none"], ["aria-label", "Zoom Type", "color", "accent"], [1, "mat-button-toggle", "mat-button-toggle-appearance-standard", "zoom-to-center-button", 3, "tool", "isActive", "toolChange"], ["zoomToCenter", ""], [1, "mat-button-toggle", "mat-button-toggle-appearance-standard", "zoom-to-cursor-button", 3, "tool", "isActive", "toolChange"], [1, "mat-button-toggle", "mat-button-toggle-appearance-standard", "zoom-roi-button", 3, "tool", "isActive", "toolChange"], [1, "zoom-manually"], ["thumbLabel", "", "min", "1", "max", "6", "step", "0.1", "color", "primary", 1, "zoom-value-slider", 3, "value", "input"], ["mat-stroked-button", "", 3, "click"]], template: function ZoomComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "mat-button-toggle", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-button-toggle-group", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "zebra-viewer-tool", 2, 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("toolChange", function ZoomComponent_Template_zebra_viewer_tool_toolChange_2_listener($event) { return ctx.onZoomTypeChange($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "zebra-viewer-tool", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("toolChange", function ZoomComponent_Template_zebra_viewer_tool_toolChange_4_listener($event) { return ctx.onZoomTypeChange($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "zebra-viewer-tool", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("toolChange", function ZoomComponent_Template_zebra_viewer_tool_toolChange_5_listener($event) { return ctx.onZoomTypeChange($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "mat-slider", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("input", function ZoomComponent_Template_mat_slider_input_7_listener($event) { return ctx.changeZoom($event.value); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "button", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ZoomComponent_Template_button_click_8_listener() { return ctx.resetZoom(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9, "Reset");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("tool", ctx.tools[ctx.ToolsEnum.ZOOM_TO_CENTER])("isActive", ctx.isCurrentTool(ctx.tools[ctx.ToolsEnum.ZOOM_TO_CENTER]));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("tool", ctx.tools[ctx.ToolsEnum.ZOOM_TO_CURSOR])("isActive", ctx.isCurrentTool(ctx.tools[ctx.ToolsEnum.ZOOM_TO_CURSOR]));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("tool", ctx.tools[ctx.ToolsEnum.ZOOM_ROI])("isActive", ctx.isCurrentTool(ctx.tools[ctx.ToolsEnum.ZOOM_ROI]));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", ctx.zoomValue);
    } }, directives: [_angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_5__["MatButtonToggle"], _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_5__["MatButtonToggleGroup"], _lib_editor_toolbar_tool_tool_component__WEBPACK_IMPORTED_MODULE_6__["ToolComponent"], _angular_material_slider__WEBPACK_IMPORTED_MODULE_7__["MatSlider"], _angular_material_button__WEBPACK_IMPORTED_MODULE_8__["MatButton"]], styles: ["[_nghost-%COMP%] {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.mat-button-toggle-group[_ngcontent-%COMP%] {\n  margin-top: 1em;\n  margin-bottom: 1em;\n}\n\n.mat-button-toggle-group[_ngcontent-%COMP%]   zebra-viewer-tool[_ngcontent-%COMP%] {\n  width: 48px;\n  height: 48px;\n}\n\n.mat-button-toggle-group[_ngcontent-%COMP%]   zebra-viewer-tool[_ngcontent-%COMP%]     .zm-tool {\n  width: 100%;\n}\n\n.zoom-manually[_ngcontent-%COMP%] {\n  align-self: stretch;\n}\n\n.zoom-manually[_ngcontent-%COMP%]   .mat-slider[_ngcontent-%COMP%] {\n  width: 100%;\n}\n\nbutton[_ngcontent-%COMP%] {\n  align-self: flex-start;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3pvb20uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDRSxXQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7QUFERjs7QUFHQTtFQUNFLGVBQUE7RUFDQSxrQkFBQTtBQUFGOztBQUVFO0VBQ0UsV0FBQTtFQUNBLFlBQUE7QUFBSjs7QUFHSTtFQUNFLFdBQUE7QUFETjs7QUFLQTtFQUNFLG1CQUFBO0FBRkY7O0FBSUU7RUFDRSxXQUFBO0FBRko7O0FBTUE7RUFDRSxzQkFBQTtBQUhGIiwiZmlsZSI6Inpvb20uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwicHJvamVjdHMvemVicmEtdmlld2VyL3NyYy9zY3NzL3ZhcmlhYmxlc1wiO1xuXG46aG9zdCB7XG4gIHdpZHRoOiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuLm1hdC1idXR0b24tdG9nZ2xlLWdyb3VwIHtcbiAgbWFyZ2luLXRvcDogMWVtO1xuICBtYXJnaW4tYm90dG9tOiAxZW07XG5cbiAgemVicmEtdmlld2VyLXRvb2wge1xuICAgIHdpZHRoOiA0OHB4O1xuICAgIGhlaWdodDogNDhweDtcbiAgICAvL3BhZGRpbmctbGVmdDogNnB4O1xuXG4gICAgOjpuZy1kZWVwIC56bS10b29sIHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgIH1cbiAgfVxufVxuLnpvb20tbWFudWFsbHkge1xuICBhbGlnbi1zZWxmOiBzdHJldGNoO1xuXG4gIC5tYXQtc2xpZGVyIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxufVxuXG5idXR0b24ge1xuICBhbGlnbi1zZWxmOiBmbGV4LXN0YXJ0O1xufVxuIl19 */"], changeDetection: 0 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ZoomComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'zebra-viewer-zoom',
                templateUrl: './zoom.component.html',
                styleUrls: ['./zoom.component.scss'],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, { zoomToCenterElement: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['zoomToCenter']
        }], zoomValue: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], tools: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], activeTool: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], done: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "sJv9":
/*!*******************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/cornerstone/custom-tools/probe.tool.ts ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ZMProbeTool; });
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cornerstone-tools */ "b09o");
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__);
/* eslint-disable @typescript-eslint/prefer-for-of */

const drawHandles = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/drawHandles');
const drawLine = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/drawLine');
const ProbeTool = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.ProbeTool;
const { toolColors, getToolState } = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a;
// Drawing
const getNewContext = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/getNewContext');
const draw = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/draw');
const globalConfiguration = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.getModule('globalConfiguration');
class ZMProbeTool extends ProbeTool {
    constructor(props = {}) {
        super(props);
        this.configuration = { drawHandles: false, landmarkSize: 5 };
        this.imageViewerSegmentation = props.imageViewerSegmentationService;
        this.handleSelectedCallback = this.handleSelectedCallback.bind(this);
    }
    handleSelectedCallback(evt, toolData, handle) {
        this.element.addEventListener('cornerstonetoolsmouseup', this.imageViewerSegmentation.mouseUpOnAreaMeasurement.bind(this.imageViewerSegmentation, this.name, toolData._id), {
            capture: true,
            once: true,
        });
        if (toolData) {
            super.handleSelectedCallback(evt, toolData, handle);
        }
    }
    renderToolData(evt) {
        if (globalConfiguration.configuration.isAnnotationsVisible === false) {
            return;
        }
        const eventData = evt.detail;
        const { handleRadius } = this.configuration;
        const toolData = getToolState(evt.currentTarget, this.name);
        if (!toolData) {
            return;
        }
        // We have tool data for this element - iterate over each one and draw it
        const context = getNewContext(eventData.canvasContext.canvas);
        for (let i = 0; i < toolData.data.length; i++) {
            const data = toolData.data[i];
            if (data.visible === false) {
                continue;
            }
            const { x, y } = data.handles.end;
            const { landmarkSize } = this.configuration;
            draw(context, (ctx) => {
                const color = toolColors.getColorIfActive(data);
                let start = { x: x - landmarkSize, y: y - landmarkSize };
                let end = { x: x + landmarkSize, y: y + landmarkSize };
                drawLine(ctx, eventData.element, start, end, { color });
                start = { x: x - landmarkSize, y: y + landmarkSize };
                end = { x: x + landmarkSize, y: y - landmarkSize };
                drawLine(ctx, eventData.element, start, end, { color });
                if (this.configuration.drawHandles) {
                    // Draw the handles
                    drawHandles(ctx, eventData, data.handles, {
                        handleRadius,
                        color,
                    });
                }
            });
        }
    }
}


/***/ }),

/***/ "shYO":
/*!********************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/services/overlay.service.ts ***!
  \********************************************************************************/
/*! exports provided: OverlayService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OverlayService", function() { return OverlayService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cornerstone-core */ "MNym");
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cornerstone_core__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _cornerstone_cornerstone_config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../cornerstone/cornerstone.config */ "CIbN");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common/http */ "IheW");







class OverlayService {
    constructor(httpClient) {
        this.httpClient = httpClient;
        this.overlayCache = {};
        this.imageOverlays = {};
        this.unsubscribe$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        Object(_cornerstone_cornerstone_config__WEBPACK_IMPORTED_MODULE_4__["addMetadataProvider"])(this.metadataProvider.bind(this));
    }
    loadOverlay(url) {
        if (this.overlayCache[url]) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])(true);
        }
        return this.getOverlayData(url).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["tap"])((overlayData) => {
            this.overlayCache[url] = overlayData;
            const imagesIds = this.getOverlayImages(url);
            imagesIds.forEach((imageId) => cornerstone_core__WEBPACK_IMPORTED_MODULE_3___default.a.invalidateImageId(imageId));
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(() => {
            return true;
        }));
    }
    getOverlayData(url) {
        if (this.overlayCache[url]) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])(this.overlayCache[url]);
        }
        return this.httpClient.get(url).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["takeUntil"])(this.unsubscribe$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["catchError"])((err) => {
            console.error(`Could not fetch overlay ${url}. Error: ${err.message}`);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])({});
        }));
    }
    addOverlayToImage(overlay, imageId) {
        this.imageOverlays[imageId] = this.imageOverlays[imageId] || {};
        if (!this.imageOverlays[imageId][overlay.mapUrl]) {
            this.imageOverlays[imageId][overlay.mapUrl] = Object.assign({}, overlay);
        }
    }
    metadataProvider(type, imageId) {
        if (type !== 'zmOverlay') {
            return;
        }
        return {
            overlays: Object.values(this.imageOverlays[imageId] || {})
                .map((overlay) => (Object.assign(Object.assign({}, overlay), { pixelData: this.overlayCache[overlay.mapUrl] })))
                .filter((overlay) => overlay !== undefined && overlay.pixelData !== undefined),
        };
    }
    getOverlayImages(overlayUrl) {
        return Object.keys(this.imageOverlays).filter((imageId) => Object.keys(this.imageOverlays[imageId]).some((curOverlayUrl) => curOverlayUrl === overlayUrl));
    }
    setVisibility(overlay, isVisible) {
        if (!overlay || !overlay.mapUrl) {
            return;
        }
        const imagesIds = this.getOverlayImages(overlay.mapUrl);
        let shouldInvalidate = false;
        Object.values(this.imageOverlays).forEach((overlaysDict) => {
            Object.values(overlaysDict).forEach((curOverlay) => {
                if (curOverlay.mapUrl === overlay.mapUrl) {
                    curOverlay.isVisible = isVisible;
                    shouldInvalidate = true;
                }
            });
        });
        if (shouldInvalidate) {
            for (const imageId of imagesIds) {
                cornerstone_core__WEBPACK_IMPORTED_MODULE_3___default.a.invalidateImageId(imageId);
            }
        }
    }
    setAllOverlaysVisibility(isVisible) {
        const imagesIds = Object.keys(this.imageOverlays);
        Object.values(this.imageOverlays).forEach((overlaysDict) => {
            Object.values(overlaysDict).forEach((curOverlay) => {
                curOverlay.isVisible = isVisible;
            });
        });
        for (const imageId of imagesIds) {
            cornerstone_core__WEBPACK_IMPORTED_MODULE_3___default.a.invalidateImageId(imageId);
        }
    }
    reset() {
        this.unsubscribe$.next();
        this.imageOverlays = {};
        this.overlayCache = {};
    }
}
OverlayService.ɵfac = function OverlayService_Factory(t) { return new (t || OverlayService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"])); };
OverlayService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: OverlayService, factory: OverlayService.ɵfac, providedIn: 'root' });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](OverlayService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"] }]; }, null); })();


/***/ }),

/***/ "t20d":
/*!*****************************************************************************************************************!*\
  !*** ./projects/zebra-viewer-standalone/src/app/viewer-dynamic-modules/test-module/test-command-events.enum.ts ***!
  \*****************************************************************************************************************/
/*! exports provided: TestCommandEventsEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TestCommandEventsEnum", function() { return TestCommandEventsEnum; });
var TestCommandEventsEnum;
(function (TestCommandEventsEnum) {
    TestCommandEventsEnum["INVALID_TEST_COMMAND_ANNOTATION_ARGUMENT_EVENT"] = "INVALID_TEST_COMMAND_ANNOTATION_ARGUMENT_EVENT";
    TestCommandEventsEnum["INVALID_TEST_HANDLER_ERROR_COMMAND_ARGUMENT_EVENT"] = "INVALID_TEST_HANDLER_ERROR_COMMAND_ARGUMENT_EVENT";
    TestCommandEventsEnum["NO_COMMAND_NO_CYCLE_ID_EVENT"] = "NO_COMMAND_NO_CYCLE_ID_EVENT";
})(TestCommandEventsEnum || (TestCommandEventsEnum = {}));


/***/ }),

/***/ "tI3d":
/*!******************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/image-viewer.component.ts ***!
  \******************************************************************************/
/*! exports provided: ImageViewerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageViewerComponent", function() { return ImageViewerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cornerstone-core */ "MNym");
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cornerstone_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cornerstone-tools */ "b09o");
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _cornerstone_cornerstone_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cornerstone/cornerstone.config */ "CIbN");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _tool_context_menu_tool_context_menu_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./tool-context-menu/tool-context-menu.component */ "oITi");
/* harmony import */ var _services_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./services/image-viewer-events.service */ "QgyW");
/* harmony import */ var _services_image_viewer_actions_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./services/image-viewer-actions.service */ "aLsl");
/* harmony import */ var _services_image_viewer_stream_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./services/image-viewer-stream.service */ "VmWJ");
/* harmony import */ var _shared_services_config_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../shared/services/config.service */ "AZUm");
/* harmony import */ var _services_image_viewer_segmentation_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./services/image-viewer-segmentation.service */ "k2Bx");
/* harmony import */ var _editor_services_geo_translation_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../editor/services/geo-translation.service */ "vW8T");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var angular_resize_event__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! angular-resize-event */ "3KIO");
/* harmony import */ var _metadata_overlay_metadata_overlay_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./metadata-overlay/metadata-overlay.component */ "XT7i");
/* harmony import */ var _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/progress-spinner */ "pu8Q");
/* harmony import */ var _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/progress-bar */ "BTe0");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/icon */ "Tj54");





















const _c0 = ["canvas"];
function ImageViewerComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-spinner", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
const _c1 = function (a0) { return { hidden: a0 }; };
function ImageViewerComponent_mat_progress_bar_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "mat-progress-bar", 9);
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](1, _c1, !ctx_r1.isShowViewer && !ctx_r1.isErrorLoading));
} }
function ImageViewerComponent_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "broken_image");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "An unknown error has occured while trying to loading at least one of the images.");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7, "Please try to reload the page.");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9, "If the problem persists, please contact the support team.");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
class ImageViewerComponent {
    constructor(cdRef, imageViewerEventsService, imageViewerActionsService, imageViewerStreamService, configService, imageViewerSegmentationService, geoTranslationService) {
        this.cdRef = cdRef;
        this.imageViewerEventsService = imageViewerEventsService;
        this.imageViewerActionsService = imageViewerActionsService;
        this.imageViewerStreamService = imageViewerStreamService;
        this.configService = configService;
        this.imageViewerSegmentationService = imageViewerSegmentationService;
        this.geoTranslationService = geoTranslationService;
        this.overlayData = {};
        this.isMetadataOverlayVisible = true;
        this.isStackLoading = false;
        this.isShowViewer = false;
        this.isErrorLoading = false;
        this.contextMenuPosition = { x: '0px', y: '0px' };
        this.unsubscribe$ = new rxjs__WEBPACK_IMPORTED_MODULE_5__["Subject"]();
        this.loadImagesUnsubscribe$ = new rxjs__WEBPACK_IMPORTED_MODULE_5__["Subject"]();
        this.scheme = 'wadouri';
        this.currentViewerChange$ = this.imageViewerEventsService.viewerChange$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this.unsubscribe$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["filter"])((event) => event.viewerId === this.id), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["share"])());
        this.imageChange$ = this.currentViewerChange$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["filter"])((event) => event.type === "IMAGE_CHANGED" /* IMAGE_CHANGED */));
        this.configService
            .getConfig()
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this.unsubscribe$))
            .subscribe((config) => {
            var _a;
            this.annotationContextMenuHandler = config.annotationContextMenuHandler;
            this.requestHeaders = ((_a = config.requestsOptions) === null || _a === void 0 ? void 0 : _a.headers) || {};
        });
    }
    ngOnChanges(changes) {
        if (changes.images && this.element) {
            this.loadImagesUnsubscribe$.next();
            if (!changes.currentSlice) {
                this.currentSlice = null;
            }
            if (this.images && this.images.length > 0) {
                this.triggerLoadImages();
            }
        }
        if (this.element && changes.currentSlice && this.currentSlice !== undefined && !changes.images) {
            this.imageViewerActionsService.scrollToIndex({
                viewers: [this],
                index: this.currentSlice.index,
            });
        }
    }
    ngAfterViewInit() {
        this.currentViewerChange$.subscribe((event) => {
            this.overlayData = this.prepareOverlayData(event);
            this.cdRef.markForCheck();
        });
        this.element = this.canvasDiv.nativeElement;
        const options = cornerstone_core__WEBPACK_IMPORTED_MODULE_1__["webGL"].renderer.isWebGLAvailable() ? { renderer: 'webgl' } : null;
        cornerstone_core__WEBPACK_IMPORTED_MODULE_1__["enable"](this.element, options);
        this.registerCloseContextMenu();
        this.registerCalcHoveredTool();
        cornerstone_core__WEBPACK_IMPORTED_MODULE_1__["resize"](this.element);
        this.imageViewerEventsService.initElementEventListeners(this.element);
        this.addToolsToElement(_cornerstone_cornerstone_config__WEBPACK_IMPORTED_MODULE_3__["availableTools"]);
        this.hoverSupportedTools = this.getHoverSupportedTools(_cornerstone_cornerstone_config__WEBPACK_IMPORTED_MODULE_3__["availableTools"]);
        this.imageViewerActionsService.setDefaultActiveTools({
            viewers: [this],
        });
        // Add tool state manager
        cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["addStackStateManager"](this.element, ['stack']);
        if (this.images && this.images.length > 0) {
            this.triggerLoadImages();
        }
        this.registerOpenContextMenu();
    }
    ngOnDestroy() {
        this.unsubscribe$.next();
        this.unsubscribe$.complete();
        this.loadImagesUnsubscribe$.next();
        this.loadImagesUnsubscribe$.complete();
        this.imageViewerEventsService.removeElementEventListeners(this.element);
        this.imageViewerStreamService.abort(this.id);
        this.imageViewerActionsService.stopClip({ viewers: [this] });
        this.removeAllToolsFromElement();
        cornerstone_core__WEBPACK_IMPORTED_MODULE_1__["disable"](this.element);
    }
    triggerLoadImages() {
        this.loadImages(this.images, this.element).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this.loadImagesUnsubscribe$)).subscribe();
    }
    loadImages(imagesUrls, element) {
        this.isStackLoading = true;
        this.loadedPercentage = 0;
        this.isShowViewer = false;
        this.isErrorLoading = false;
        const stackToolState = cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["getToolState"](element, 'stack');
        if (stackToolState.data.length > 0) {
            cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["removeToolState"](element, 'stack', stackToolState.data[0]);
        }
        const stack = {
            imageIds: [],
            preventCache: true,
        };
        cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["addToolState"](element, 'stack', stack);
        const toolState = cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["getToolState"](element, 'stack');
        cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["setToolActive"]('StackScrollMouseWheel', {});
        return this.imageViewerStreamService.loadImages(imagesUrls, this.id, this.scheme, this.requestHeaders).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this.loadImagesUnsubscribe$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])((result, index) => {
            // Checking the requested slice index for every image load in case it changed while loading
            const requestSliceIndex = (this.currentSlice || {}).index || 0;
            this.handleImageLoaded(result, index, requestSliceIndex, toolState.data[0]);
            return result;
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["finalize"])(() => {
            this.isStackLoading = false;
            this.loadedPercentage = 0;
            this.cdRef.markForCheck();
            this.imageViewerStreamService.abort(this.id); // TODO: maybe move up to the top of the function
            this.imageViewerEventsService.emitCustomEvent("STACK_LOAD_COMPLETED" /* STACK_LOAD_COMPLETED */, this.element);
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])((err) => {
            this.isStackLoading = false;
            this.loadedPercentage = 0;
            this.isErrorLoading = true;
            this.isShowViewer = false;
            this.cdRef.markForCheck();
            console.error(err);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["of"])('Error loading images');
        }));
    }
    showDicomInfo(isShow) {
        this.isMetadataOverlayVisible = isShow;
        this.cdRef.markForCheck();
    }
    onResized() {
        cornerstone_core__WEBPACK_IMPORTED_MODULE_1__["resize"](this.element);
    }
    addToolsToElement(tools) {
        for (const [toolName, tool] of Object.entries(tools)) {
            cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["addToolForElement"](this.element, tool.csTool, {
                configuration: tool.config || {},
                imageViewerSegmentationService: this.imageViewerSegmentationService,
                geoTranslationService: this.geoTranslationService,
            });
            if (tool.isActive) {
                cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["setToolActiveForElement"](this.element, toolName, {
                    mouseButtonMask: [1],
                });
            }
            else {
                cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["setToolPassiveForElement"](this.element, toolName, {
                    mouseButtonMask: [1],
                });
            }
        }
    }
    getHoverSupportedTools(tools) {
        return Object.keys(tools).filter((toolName) => {
            const elementTool = cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["getToolForElement"](this.element, toolName);
            return elementTool && elementTool.isHovered;
        });
    }
    removeAllToolsFromElement() {
        cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["store"].state.tools.forEach((tool) => {
            cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["removeToolForElement"](this.element, tool.name);
        });
    }
    prepareOverlayData(metadata) {
        if (!metadata.stack || !metadata.stack.imageId) {
            return {};
        }
        const { scale, windowWidth, windowCenter } = metadata.viewport;
        const { sliceIndex, slicesCount } = metadata.stack;
        return Object.assign({ scale,
            windowWidth,
            windowCenter,
            sliceIndex,
            slicesCount }, cornerstone_core__WEBPACK_IMPORTED_MODULE_1__["metaData"].get('canvasOverlay', metadata.stack.imageId));
    }
    handleImageLoaded(result, index, requestSliceIndex, stack) {
        if (result.totalBytes && result.readBytes) {
            this.loadedPercentage = Math.floor((result.readBytes / result.totalBytes) * 100);
        }
        if (index >= requestSliceIndex && stack.currentImageIdIndex === undefined) {
            this.isShowViewer = true;
            // Recalc canvas size, in case the wrapping containers' sizes have changed in the mean time
            cornerstone_core__WEBPACK_IMPORTED_MODULE_1__["resize"](this.element);
            cornerstone_core__WEBPACK_IMPORTED_MODULE_1__["displayImage"](this.element, result.image);
            // We update stack currentImageIdIndex so we'll be able to scroll from that point
            stack.currentImageIdIndex = requestSliceIndex;
            this.imageViewerActionsService.reset({ viewers: [this] });
            this.cdRef.detectChanges();
        }
        stack.imageIds.push(result.image.imageId);
        this.overlayData = this.prepareOverlayData(this.imageViewerEventsService.getMetadata(this.element));
        this.imageViewerEventsService.emitCustomEvent("STACK_IMAGE_LOADED" /* STACK_IMAGE_LOADED */, this.element, {
            detail: { image: result.image, stackSliceIndex: index },
        });
        this.cdRef.markForCheck();
    }
    // TODO: Move all context menu handling to a different service maybe
    registerOpenContextMenu() {
        Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["fromEvent"])(this.element, cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["EVENTS"].MOUSE_CLICK)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this.unsubscribe$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["tap"])((event) => {
            event.preventDefault();
            this.closeContextMenu();
            // If right click
            if (event.detail.event.which === 3 && this.curHoveredToolData) {
                this.contextMenu.open({
                    annotation: this.curHoveredToolData,
                    viewportId: this.id.replace('-viewer', ''),
                }, this.getPosition(event.detail));
            }
        }))
            .subscribe(() => {
            this.cdRef.markForCheck();
        });
    }
    registerCloseContextMenu() {
        Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["merge"])(this.imageChange$, Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["fromEvent"])(document, 'click'))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this.unsubscribe$))
            .subscribe(() => {
            this.closeContextMenu();
        });
    }
    closeContextMenu() {
        if (this.contextMenu) {
            this.contextMenu.close();
        }
    }
    unsetHoveredToolData() {
        if (this.curHoveredToolData) {
            this.curHoveredToolData.active = false;
            this.curHoveredToolData = null;
        }
        this.setHoveredToolData(this.element, null);
    }
    registerCalcHoveredTool() {
        const filterNotDrawing = Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["filter"])(() => !cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["store"].state.isToolLocked && !cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["store"].state.isMultiPartToolActive);
        Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["fromEvent"])(this.element, cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["EVENTS"].MOUSE_MOVE)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this.unsubscribe$), 
        //// USE THIS IF PERFORMANCE IS LOW
        // debounceTime(5),
        filterNotDrawing, Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])((event) => {
            const { currentPoints } = event.detail;
            const coords = {
                x: currentPoints.image.x.toFixed(7),
                y: currentPoints.image.y.toFixed(7),
            };
            try {
                const hoveredToolData = this.getHoveredToolData(this.element, coords, this.hoverSupportedTools);
                this.setHoveredToolData(this.element, hoveredToolData);
            }
            catch (err) {
                console.error(err);
            }
        }))
            .subscribe();
        this.imageChange$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this.unsubscribe$), filterNotDrawing).subscribe(() => {
            this.unsetHoveredToolData();
        });
    }
    getHoveredToolData(element, canvasCoords, toolsNames) {
        let insideToolData;
        for (const toolName of toolsNames) {
            const toolState = cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["getToolState"](element, toolName);
            const elementTool = cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__["getToolForElement"](element, toolName);
            if (!toolState) {
                continue;
            }
            for (const toolData of toolState.data) {
                if (toolData.visible === false ||
                    // Annotation is not editable
                    (toolData.lineDash && toolData.lineDash.length !== 0)) {
                    continue;
                }
                const hovered = elementTool.isHovered(element, toolData, canvasCoords);
                if (hovered.isNearHandle) {
                    this.setHoveredToolData(element, toolData);
                    return toolData;
                }
                if (hovered.isInside) {
                    insideToolData = toolData;
                }
            }
        }
        return insideToolData;
    }
    getPosition(event) {
        return {
            x: (event && event.currentPoints.client.x) || 0,
            y: (event && event.currentPoints.client.y) || 0,
        };
    }
    setHoveredToolData(element, toolData) {
        // Tool data should show handles
        if (toolData) {
            toolData.active = true;
        }
        const prevToolData = this.curHoveredToolData;
        this.curHoveredToolData = toolData;
        if (prevToolData !== this.curHoveredToolData) {
            cornerstone_core__WEBPACK_IMPORTED_MODULE_1__["invalidate"](element);
        }
    }
}
ImageViewerComponent.ɵfac = function ImageViewerComponent_Factory(t) { return new (t || ImageViewerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_7__["ImageViewerEventsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_image_viewer_actions_service__WEBPACK_IMPORTED_MODULE_8__["ImageViewerActionsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_image_viewer_stream_service__WEBPACK_IMPORTED_MODULE_9__["ImageViewerStreamService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_shared_services_config_service__WEBPACK_IMPORTED_MODULE_10__["ConfigService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_image_viewer_segmentation_service__WEBPACK_IMPORTED_MODULE_11__["ImageViewerSegmentationService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_editor_services_geo_translation_service__WEBPACK_IMPORTED_MODULE_12__["GeoTranslationService"])); };
ImageViewerComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ImageViewerComponent, selectors: [["zebra-viewer-image-viewer"]], viewQuery: function ImageViewerComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_tool_context_menu_tool_context_menu_component__WEBPACK_IMPORTED_MODULE_6__["ToolContextMenuComponent"], 1);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.canvasDiv = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.contextMenu = _t.first);
    } }, inputs: { id: "id", images: "images", currentSlice: "currentSlice" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 7, vars: 10, consts: [["class", "spinner-container", 4, "ngIf"], ["mode", "indeterminate", "color", "accent", 3, "ngClass", 4, "ngIf"], ["class", "error-container", 4, "ngIf"], [1, "canvas-container", 3, "id", "ngClass", "resized"], ["canvas", ""], [3, "hidden", "overlayData"], [3, "handlingComponent"], [1, "spinner-container"], ["strokeWidth", "3", 1, "spinner"], ["mode", "indeterminate", "color", "accent", 3, "ngClass"], [1, "error-container"], [1, "error-content"]], template: function ImageViewerComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, ImageViewerComponent_div_0_Template, 2, 0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ImageViewerComponent_mat_progress_bar_1_Template, 1, 3, "mat-progress-bar", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, ImageViewerComponent_div_2_Template, 10, 0, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3, 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("resized", function ImageViewerComponent_Template_div_resized_3_listener() { return ctx.onResized(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "zebra-viewer-metadata-overlay", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "zebra-viewer-context-menu", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.isShowViewer && !ctx.isErrorLoading);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isStackLoading);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isErrorLoading);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("id", ctx.id)("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](8, _c1, !ctx.isShowViewer));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("hidden", !ctx.isMetadataOverlayVisible)("overlayData", ctx.overlayData);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("handlingComponent", ctx.annotationContextMenuHandler);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_13__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_13__["NgClass"], angular_resize_event__WEBPACK_IMPORTED_MODULE_14__["ResizedDirective"], _metadata_overlay_metadata_overlay_component__WEBPACK_IMPORTED_MODULE_15__["MetadataOverlayComponent"], _tool_context_menu_tool_context_menu_component__WEBPACK_IMPORTED_MODULE_6__["ToolContextMenuComponent"], _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_16__["MatSpinner"], _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_17__["MatProgressBar"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_18__["MatIcon"]], styles: ["[_nghost-%COMP%] {\n  display: block;\n  height: 100%;\n  width: 100%;\n  color: #fff;\n}\n\n.canvas-container[_ngcontent-%COMP%] {\n  height: 100%;\n  width: 100%;\n}\n\nzebra-viewer-metadata-overlay[_ngcontent-%COMP%] {\n  width: 100%;\n  z-index: 999;\n}\n\nmat-progress-bar[_ngcontent-%COMP%] {\n  position: absolute;\n  z-index: 1000;\n}\n\n.spinner-container[_ngcontent-%COMP%] {\n  display: flex;\n  align-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n}\n\n.spinner-container[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%] {\n  margin: 0 auto;\n}\n\n.hidden[_ngcontent-%COMP%] {\n  visibility: hidden;\n}\n\n.error-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  font-size: 100px;\n  width: 100px;\n  height: 100px;\n  float: left;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2ltYWdlLXZpZXdlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNDLGNBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFdBQUE7QUFDRDs7QUFFQTtFQUNDLFlBQUE7RUFDQSxXQUFBO0FBQ0Q7O0FBRUE7RUFDQyxXQUFBO0VBQ0EsWUFBQTtBQUNEOztBQUVBO0VBQ0Msa0JBQUE7RUFDQSxhQUFBO0FBQ0Q7O0FBRUE7RUFDQyxhQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0FBQ0Q7O0FBQ0M7RUFDQyxjQUFBO0FBQ0Y7O0FBR0E7RUFDQyxrQkFBQTtBQUFEOztBQUlDO0VBQ0MsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLFdBQUE7QUFERiIsImZpbGUiOiJpbWFnZS12aWV3ZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG5cdGRpc3BsYXk6IGJsb2NrO1xuXHRoZWlnaHQ6IDEwMCU7XG5cdHdpZHRoOiAxMDAlO1xuXHRjb2xvcjogI2ZmZjtcbn1cblxuLmNhbnZhcy1jb250YWluZXIge1xuXHRoZWlnaHQ6IDEwMCU7XG5cdHdpZHRoOiAxMDAlO1xufVxuXG56ZWJyYS12aWV3ZXItbWV0YWRhdGEtb3ZlcmxheSB7XG5cdHdpZHRoOiAxMDAlO1xuXHR6LWluZGV4OiA5OTk7XG59XG5cbm1hdC1wcm9ncmVzcy1iYXIge1xuXHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdHotaW5kZXg6IDEwMDA7XG59XG5cbi5zcGlubmVyLWNvbnRhaW5lciB7XG5cdGRpc3BsYXk6IGZsZXg7XG5cdGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcblx0YWxpZ24taXRlbXM6IGNlbnRlcjtcblx0aGVpZ2h0OiAxMDAlO1xuXHR3aWR0aDogMTAwJTtcblxuXHRtYXQtc3Bpbm5lciB7XG5cdFx0bWFyZ2luOiAwIGF1dG87XG5cdH1cbn1cblxuLmhpZGRlbiB7XG5cdHZpc2liaWxpdHk6IGhpZGRlbjtcbn1cblxuLmVycm9yLWNvbnRhaW5lciB7XG5cdG1hdC1pY29uIHtcblx0XHRmb250LXNpemU6IDEwMHB4O1xuXHRcdHdpZHRoOiAxMDBweDtcblx0XHRoZWlnaHQ6IDEwMHB4O1xuXHRcdGZsb2F0OiBsZWZ0O1xuXHR9XG59XG4iXX0= */"], changeDetection: 0 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ImageViewerComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'zebra-viewer-image-viewer',
                templateUrl: './image-viewer.component.html',
                styleUrls: ['./image-viewer.component.scss'],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }, { type: _services_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_7__["ImageViewerEventsService"] }, { type: _services_image_viewer_actions_service__WEBPACK_IMPORTED_MODULE_8__["ImageViewerActionsService"] }, { type: _services_image_viewer_stream_service__WEBPACK_IMPORTED_MODULE_9__["ImageViewerStreamService"] }, { type: _shared_services_config_service__WEBPACK_IMPORTED_MODULE_10__["ConfigService"] }, { type: _services_image_viewer_segmentation_service__WEBPACK_IMPORTED_MODULE_11__["ImageViewerSegmentationService"] }, { type: _editor_services_geo_translation_service__WEBPACK_IMPORTED_MODULE_12__["GeoTranslationService"] }]; }, { canvasDiv: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['canvas']
        }], contextMenu: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: [_tool_context_menu_tool_context_menu_component__WEBPACK_IMPORTED_MODULE_6__["ToolContextMenuComponent"]]
        }], id: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], images: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], currentSlice: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "tQ+Y":
/*!********************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/services/translators/circle-roi.translator.ts ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CircleRoiTranslator; });
/* harmony import */ var _turf_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @turf/helpers */ "hPoO");

class CircleRoiTranslator {
    static getAsCornerstone(collection) {
        const feature = collection.features[0];
        const geometry = feature.geometry;
        const topLeft = geometry.coordinates[0][0];
        const bottomRight = geometry.coordinates[0][2];
        const radius = (bottomRight[0] - topLeft[0]) / 2;
        const start = {
            active: false,
            highlight: true,
            x: topLeft[0] + radius,
            y: topLeft[1] + radius,
        };
        const end = {
            active: false,
            highlight: true,
            x: start.x + radius,
            y: start.y,
        };
        let data = {
            visible: true,
            active: false,
            handles: {
                start,
                end,
                textBox: {
                    active: false,
                    hasMoved: false,
                    movesIndependently: false,
                    drawnIndependently: true,
                    allowedOutsideImage: true,
                    hasBoundingBox: false,
                },
            },
            highlight: false,
            invalidated: true,
        };
        if (feature.properties) {
            data = Object.assign(Object.assign({}, data), feature.properties);
        }
        if (!data.toolName) {
            data.toolName = 'CircleRoi';
        }
        return data;
    }
    static getAsGeoJson(annotation) {
        // If handles are empty, return
        if (!annotation.handles || !Object.keys(annotation.handles)) {
            console.error(`Circle annotation does not have any handles. Value: ${JSON.stringify(annotation)}`);
            return;
        }
        const { start, end } = annotation.handles;
        const radius = this.distance(start, end);
        // If start or end are invalid, return
        if (radius === undefined) {
            console.error(`Circle annotation radius could not be calculated. Value: ${JSON.stringify(annotation)}`);
            return;
        }
        const topLeft = [start.x - radius, start.y - radius];
        const bottomLeft = [start.x - radius, start.y + radius];
        const bottomRight = [start.x + radius, start.y + radius];
        const topRight = [start.x + radius, start.y - radius];
        const coordinates = [[topLeft, bottomLeft, bottomRight, topRight, topLeft]];
        if (coordinates && coordinates.length) {
            return Object(_turf_helpers__WEBPACK_IMPORTED_MODULE_0__["featureCollection"])([
                {
                    type: 'Feature',
                    geometry: { type: 'Polygon', coordinates },
                    properties: Object.assign({ toolName: annotation.toolName }, annotation.cachedStats),
                },
            ]);
        }
        return;
    }
    static distance(pointA, pointB) {
        if (!this.isCsPointValid(pointA) || !this.isCsPointValid(pointB)) {
            return;
        }
        return Math.sqrt(Math.pow(pointA.x - pointB.x, 2) + Math.pow(pointA.y - pointB.y, 2));
    }
    static isCsPointValid(point) {
        if (point && typeof point.x === 'number' && typeof point.y === 'number') {
            return true;
        }
        return false;
    }
}


/***/ }),

/***/ "u4eM":
/*!**********************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/image-viewer/cornerstone/custom-tools/zoom-roi.tool.ts ***!
  \**********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ZoomRoiTool; });
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cornerstone-tools */ "b09o");
/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cornerstone-core */ "MNym");
/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cornerstone_core__WEBPACK_IMPORTED_MODULE_1__);


const toolColors = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.toolColors;
const BaseTool = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('base/BaseTool');
const draw = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/draw');
const drawRect = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/drawRect');
const getNewContext = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('drawing/getNewContext');
const cursors = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('tools/cursors');
const zoomCursor = cursors.zoomCursor;
const { correctShift } = cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default.a.importInternal('util/zoomUtils');
const clip = (val, low, high) => {
    return Math.min(Math.max(low, val), high);
};
const isEmptyObject = (obj) => {
    return Object.keys(obj).length === 0 && obj.constructor === Object;
};
const isValidRoi = (points, minDimension = 0) => {
    return (Math.abs(points.end.x - points.start.x) >= minDimension && Math.abs(points.end.y - points.start.y) >= minDimension);
};
const applyZoomRoi = (evt, config) => {
    const eventData = evt.detail;
    const { image, element } = eventData;
    const { start: startPoint, end: endPoint } = evt.detail.handles;
    // Get the rectangular region defined by the handles
    const left = Math.min(startPoint.x, endPoint.x);
    const top = Math.min(startPoint.y, endPoint.y);
    const width = Math.abs(startPoint.x - endPoint.x);
    const height = Math.abs(startPoint.y - endPoint.y);
    const centerPointX = left + width / 2;
    const centerPointY = top + height / 2;
    const maxRoiDim = Math.max(width, height);
    const maxImageDim = Math.max(image.width, image.height);
    const updatedViewport = eventData.viewport;
    // Translation
    let shift = {
        x: image.width / 2 - centerPointX,
        y: image.height / 2 - centerPointY,
    };
    shift = correctShift(shift, updatedViewport);
    const translation = {
        x: shift.x,
        y: shift.y,
    };
    updatedViewport.translation = translation;
    // Scale
    const scale = clip(maxImageDim / maxRoiDim, config.minScale, config.maxScale);
    updatedViewport.scale = scale;
    cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.setViewport(element, updatedViewport);
    //
    cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.updateImage(element);
};
class ZoomRoiTool extends BaseTool {
    /** @inheritdoc */
    constructor(props = {}) {
        const defaultProps = {
            name: 'ZoomRoi',
            supportedInteractionTypes: ['Mouse'],
            configuration: {
                preventZoomOutsideImage: false,
                minScale: 0,
                maxScale: 50.0,
            },
            svgCursor: zoomCursor,
        };
        super(props, defaultProps);
        this.resetHandles();
        // MOUSE
        this.postMouseDownCallback = this.startOutliningRegion.bind(this);
        this.mouseClickCallback = this.startOutliningRegion.bind(this);
        this.mouseDragCallback = this.setHandlesAndUpdate.bind(this);
        this.mouseMoveCallback = this.setHandlesAndUpdate.bind(this);
        this.mouseUpCallback = this.applyStrategy.bind(this);
    }
    renderToolData(evt) {
        const eventData = evt.detail;
        const { element } = eventData;
        const color = toolColors.getColorIfActive({ active: true });
        const canvasContext = getNewContext(eventData.canvasContext.canvas);
        draw(canvasContext, (context) => {
            drawRect(context, element, this.handles.start, this.handles.end, {
                color,
            });
        });
    }
    startOutliningRegion(evt) {
        const image = evt.detail.currentPoints.image;
        const element = evt.detail.element;
        if (isEmptyObject(this.handles.start)) {
            this.handles.start = image;
        }
        else {
            this.handles.end = image;
            this.applyStrategy(evt);
        }
        cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.updateImage(element);
        return true;
    }
    setHandlesAndUpdate(evt) {
        if (isEmptyObject(this.handles.start)) {
            return;
        }
        const element = evt.detail.element;
        const image = evt.detail.currentPoints.image;
        this.handles.end = image;
        cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.updateImage(element);
    }
    /**
     * Event handler for MOUSE_UP during handle drag event loop.
     */
    applyStrategy(evt) {
        if (isEmptyObject(this.handles.start) || isEmptyObject(this.handles.end)) {
            return;
        }
        if (!isValidRoi(this.handles, 1)) {
            const element = evt.detail.element;
            this.resetHandles();
            cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default.a.updateImage(element);
            return;
        }
        evt.detail.handles = this.handles;
        applyZoomRoi(evt, this.configuration);
        this.resetHandles();
    }
    /**
     * Sets the start and end handle points to empty objects
     */
    resetHandles() {
        this.handles = {
            start: {},
            end: {},
        };
    }
}


/***/ }),

/***/ "v1KR":
/*!********************************************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/viewports-manager/viewport-container/scrollbar/scrollbar.component.ts ***!
  \********************************************************************************************************************/
/*! exports provided: ScrollbarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScrollbarComponent", function() { return ScrollbarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/tooltip */ "ZFy/");
/* harmony import */ var _shared_pipes_range_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../shared/pipes/range.pipe */ "2bEH");





const _c0 = function () { return []; };
const _c1 = function (a0, a1) { return { marker: a0, active: a1 }; };
function ScrollbarComponent_li_1_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ScrollbarComponent_li_1_Template_li_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const item_r1 = ctx.$implicit; const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r2.onMarkerClick(item_r1); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r1 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](3, _c1, (ctx_r0.markedIndexes || _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](2, _c0)).indexOf(item_r1) > -1, item_r1 === ctx_r0.activeIndex))("matTooltip", item_r1 + 1);
} }
class ScrollbarComponent {
    constructor() {
        this.markerClick = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.indexes = [];
    }
    ngOnInit() { }
    onMarkerClick(index) {
        this.markerClick.next(index);
    }
    trackByIndex(index, item) {
        return item;
    }
}
ScrollbarComponent.ɵfac = function ScrollbarComponent_Factory(t) { return new (t || ScrollbarComponent)(); };
ScrollbarComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ScrollbarComponent, selectors: [["zebra-viewer-scrollbar"]], inputs: { itemsCount: "itemsCount", markedIndexes: "markedIndexes", activeIndex: "activeIndex" }, outputs: { markerClick: "markerClick" }, decls: 3, vars: 6, consts: [[3, "ngClass", "matTooltip", "click", 4, "ngFor", "ngForOf", "ngForTrackBy"], [3, "ngClass", "matTooltip", "click"]], template: function ScrollbarComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ul");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ScrollbarComponent_li_1_Template, 1, 6, "li", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "range");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind3"](2, 2, ctx.itemsCount, 0, 1))("ngForTrackBy", ctx.trackByIndex);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgClass"], _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_2__["MatTooltip"]], pipes: [_shared_pipes_range_pipe__WEBPACK_IMPORTED_MODULE_3__["RangePipe"]], styles: ["ul[_ngcontent-%COMP%] {\n  width: 16px;\n  height: 100%;\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\nul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n  width: 100%;\n  flex-grow: 1;\n  flex-basis: 0;\n  display: flex;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n}\nul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]::before, ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]::after {\n  content: \"\";\n  display: block;\n  max-height: 100%;\n}\nul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]::before {\n  width: 1px;\n  height: 100%;\n  background-color: #a2bdcd;\n}\nul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]::after {\n  flex: 0 0 40%;\n  height: 1px;\n  align-self: center;\n  transition: flex 0.2s;\n  background-color: transparent;\n}\nul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type::before {\n  height: 50%;\n  align-self: flex-end;\n}\nul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type:after {\n  background-color: #a2bdcd;\n}\nul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type::before {\n  height: 50%;\n  align-self: flex-start;\n}\nul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type:after {\n  background-color: #a2bdcd;\n}\nul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(5n)::after {\n  background-color: #a2bdcd;\n}\nul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover::after, ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]::after {\n  flex: 1;\n  background-color: #c1d8e5;\n  height: 2px;\n  max-height: 100%;\n}\nul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover {\n  height: 3px;\n}\nul[_ngcontent-%COMP%]   li.marker[_ngcontent-%COMP%]::after {\n  background-color: #ffd200;\n  flex: 1;\n  max-width: 80%;\n  height: 4px;\n}\nul[_ngcontent-%COMP%]   li.marker.active[_ngcontent-%COMP%]::after, ul[_ngcontent-%COMP%]   li.marker[_ngcontent-%COMP%]:hover::after {\n  max-width: 100%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Njcm9sbGJhci5jb21wb25lbnQuc2NzcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Njc3MvdmFyaWFibGVzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBSUE7RUFDQyxXQUFBO0VBQ0EsWUFBQTtFQUVBLGFBQUE7RUFDQSw4QkFBQTtFQUNBLHNCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtBQUpEO0FBS0M7RUFDQyxXQUFBO0VBRUEsWUFBQTtFQUNBLGFBQUE7RUFDQSxhQUFBO0VBQ0EsU0FBQTtFQUNBLFVBQUE7RUFDQSxnQkFBQTtBQUpGO0FBTUU7RUFFQyxXQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0FBTEg7QUFPRTtFQUNDLFVBN0JNO0VBOEJOLFlBQUE7RUFDQSx5QkFBQTtBQUxIO0FBT0U7RUFDQyxhQUFBO0VBQ0EsV0FuQ007RUFvQ04sa0JBQUE7RUFDQSxxQkFBQTtFQUNBLDZCQUFBO0FBTEg7QUFTRztFQUNDLFdBQUE7RUFDQSxvQkFBQTtBQVBKO0FBU0c7RUFDQyx5QkFBQTtBQVBKO0FBV0c7RUFDQyxXQUFBO0VBQ0Esc0JBQUE7QUFUSjtBQVlHO0VBQ0MseUJBQUE7QUFWSjtBQWVHO0VBQ0MseUJBQUE7QUFiSjtBQW1CRztFQUNDLE9BQUE7RUFDQSx5QkFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtBQWpCSjtBQXFCRTtFQUNDLFdBQUE7QUFuQkg7QUF1Qkc7RUFDQyx5QkNyRkk7RURzRkosT0FBQTtFQUNBLGNBQUE7RUFDQSxXQUFBO0FBckJKO0FBMEJJO0VBQ0MsZUFBQTtBQXhCTCIsImZpbGUiOiJzY3JvbGxiYXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0ICcuLi8uLi8uLi8uLi8uLi9zY3NzL3ZhcmlhYmxlcy5zY3NzJztcblxuJGxpbmUtdzogMXB4O1xuXG51bCB7XG5cdHdpZHRoOiAkdW5pdCAqIDI7XG5cdGhlaWdodDogMTAwJTtcblx0Ly9iYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmMDA7XG5cdGRpc3BsYXk6IGZsZXg7XG5cdGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcblx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcblx0bGlzdC1zdHlsZTogbm9uZTtcblx0cGFkZGluZzogMDtcblx0bWFyZ2luOiAwO1xuXHRsaSB7XG5cdFx0d2lkdGg6IDEwMCU7XG5cdFx0Ly9iYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmNjY7XG5cdFx0ZmxleC1ncm93OiAxO1xuXHRcdGZsZXgtYmFzaXM6IDA7XG5cdFx0ZGlzcGxheTogZmxleDtcblx0XHRtYXJnaW46IDA7XG5cdFx0cGFkZGluZzogMDtcblx0XHRvdmVyZmxvdzogaGlkZGVuO1xuXG5cdFx0Jjo6YmVmb3JlLFxuXHRcdCY6OmFmdGVyIHtcblx0XHRcdGNvbnRlbnQ6ICcnO1xuXHRcdFx0ZGlzcGxheTogYmxvY2s7XG5cdFx0XHRtYXgtaGVpZ2h0OiAxMDAlO1xuXHRcdH1cblx0XHQmOjpiZWZvcmUge1xuXHRcdFx0d2lkdGg6ICRsaW5lLXc7XG5cdFx0XHRoZWlnaHQ6IDEwMCU7XG5cdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiAjYTJiZGNkO1xuXHRcdH1cblx0XHQmOjphZnRlciB7XG5cdFx0XHRmbGV4OiAwIDAgNDAlO1xuXHRcdFx0aGVpZ2h0OiAkbGluZS13O1xuXHRcdFx0YWxpZ24tc2VsZjogY2VudGVyO1xuXHRcdFx0dHJhbnNpdGlvbjogZmxleCAwLjJzO1xuXHRcdFx0YmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG5cdFx0fVxuXG5cdFx0JjpmaXJzdC1vZi10eXBlIHtcblx0XHRcdCY6OmJlZm9yZSB7XG5cdFx0XHRcdGhlaWdodDogNTAlO1xuXHRcdFx0XHRhbGlnbi1zZWxmOiBmbGV4LWVuZDtcblx0XHRcdH1cblx0XHRcdCY6YWZ0ZXIge1xuXHRcdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiAjYTJiZGNkO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQmOmxhc3Qtb2YtdHlwZSB7XG5cdFx0XHQmOjpiZWZvcmUge1xuXHRcdFx0XHRoZWlnaHQ6IDUwJTtcblx0XHRcdFx0YWxpZ24tc2VsZjogZmxleC1zdGFydDtcblx0XHRcdH1cblxuXHRcdFx0JjphZnRlciB7XG5cdFx0XHRcdGJhY2tncm91bmQtY29sb3I6ICNhMmJkY2Q7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0JjpudGgtb2YtdHlwZSg1bikge1xuXHRcdFx0Jjo6YWZ0ZXIge1xuXHRcdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiAjYTJiZGNkO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdCY6aG92ZXIsXG5cdFx0Ji5hY3RpdmUge1xuXHRcdFx0Jjo6YWZ0ZXIge1xuXHRcdFx0XHRmbGV4OiAxO1xuXHRcdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiAjYzFkOGU1O1xuXHRcdFx0XHRoZWlnaHQ6ICRsaW5lLXcgKiAyO1xuXHRcdFx0XHRtYXgtaGVpZ2h0OiAxMDAlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdCY6aG92ZXIge1xuXHRcdFx0aGVpZ2h0OiAkbGluZS13ICogMztcblx0XHR9XG5cblx0XHQmLm1hcmtlciB7XG5cdFx0XHQmOjphZnRlciB7XG5cdFx0XHRcdGJhY2tncm91bmQtY29sb3I6ICR6ZWJyYTtcblx0XHRcdFx0ZmxleDogMTtcblx0XHRcdFx0bWF4LXdpZHRoOiA4MCU7XG5cdFx0XHRcdGhlaWdodDogJGxpbmUtdyAqIDQ7XG5cdFx0XHR9XG5cblx0XHRcdCYuYWN0aXZlLFxuXHRcdFx0Jjpob3ZlciB7XG5cdFx0XHRcdCY6OmFmdGVyIHtcblx0XHRcdFx0XHRtYXgtd2lkdGg6IDEwMCU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cbiIsIiR6ZWJyYTogI2ZmZDIwMDtcbiR0b29sLWNvbG9yOiAjZmZmO1xuJHRvb2wtY29sb3Itc2VsZWN0ZWQ6ICR6ZWJyYTtcblxuJHVuaXQ6IDhweDtcbiR0b29sYmFyLWhlaWdodDogMzZweDtcbiRpY29uLXNpemU6IDI0cHg7XG4kdG9vbC13aWR0aDogJHRvb2xiYXItaGVpZ2h0O1xuJHRhZy1oZWlnaHQ6IDI0cHg7XG4iXX0= */"], changeDetection: 0 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ScrollbarComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'zebra-viewer-scrollbar',
                templateUrl: './scrollbar.component.html',
                styleUrls: ['./scrollbar.component.scss'],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
            }]
    }], function () { return []; }, { itemsCount: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], markedIndexes: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], activeIndex: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], markerClick: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "vCa2":
/*!*******************************************************************!*\
  !*** ./projects/zebra-viewer-standalone/src/app/viewer.config.ts ***!
  \*******************************************************************/
/*! exports provided: ViewerConfig, ViewerConfig2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerConfig", function() { return ViewerConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerConfig2", function() { return ViewerConfig2; });
/* harmony import */ var _zebra_viewer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zebra/viewer */ "VgmR");
/* harmony import */ var _sample_context_menu_sample_context_menu_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sample-context-menu/sample-context-menu.component */ "baQR");


const ViewerConfig = {
    imageOverlay: ["INSTANCE_NUMBER" /* INSTANCE_NUMBER */, "SERIES_NUMBER" /* SERIES_NUMBER */],
    tools: [..._zebra_viewer__WEBPACK_IMPORTED_MODULE_0__["defaultToolbarToolsConfig"]],
    annotationContextMenuHandler: _sample_context_menu_sample_context_menu_component__WEBPACK_IMPORTED_MODULE_1__["SampleContextMenuComponent"],
};
const ViewerConfig2 = {
    imageOverlay: ["SCALE" /* SCALE */],
    tools: [..._zebra_viewer__WEBPACK_IMPORTED_MODULE_0__["defaultToolbarToolsConfig"]],
};


/***/ }),

/***/ "vW8T":
/*!**********************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/services/geo-translation.service.ts ***!
  \**********************************************************************************/
/*! exports provided: GeoTranslationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GeoTranslationService", function() { return GeoTranslationService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _turf_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @turf/helpers */ "hPoO");
/* harmony import */ var _turf_clone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @turf/clone */ "cKo8");
/* harmony import */ var _turf_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @turf/meta */ "GSTK");
/* harmony import */ var _mapbox_geojsonhint__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mapbox/geojsonhint */ "qKyw");
/* harmony import */ var _mapbox_geojsonhint__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_mapbox_geojsonhint__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uuid */ "EcEN");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _translators_freehand_roi_translator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./translators/freehand-roi.translator */ "4ZRW");
/* harmony import */ var _translators_rectangle_roi_translator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./translators/rectangle-roi.translator */ "AK38");
/* harmony import */ var _translators_length_roi_translator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./translators/length-roi.translator */ "l0m1");
/* harmony import */ var _translators_angle_roi_translator__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./translators/angle-roi.translator */ "8sK+");
/* harmony import */ var _translators_agatston_score_translator__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./translators/agatston-score.translator */ "WQfN");
/* harmony import */ var _translators_prob_translator__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./translators/prob.translator */ "jd53");
/* harmony import */ var _translators_circle_roi_translator__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./translators/circle-roi.translator */ "tQ+Y");














const IGNORE_GEOJSON_ERRORS = ['"properties" member required'];
class GeoTranslationService {
    constructor() {
        this.translators = {
            FreehandRoi: _translators_freehand_roi_translator__WEBPACK_IMPORTED_MODULE_6__["default"],
            RectangleRoi: _translators_rectangle_roi_translator__WEBPACK_IMPORTED_MODULE_7__["default"],
            Length: _translators_length_roi_translator__WEBPACK_IMPORTED_MODULE_8__["default"],
            EllipticalRoi: _translators_rectangle_roi_translator__WEBPACK_IMPORTED_MODULE_7__["default"],
            CircleRoi: _translators_circle_roi_translator__WEBPACK_IMPORTED_MODULE_12__["default"],
            Angle: _translators_angle_roi_translator__WEBPACK_IMPORTED_MODULE_9__["default"],
            AgatstonScore: _translators_agatston_score_translator__WEBPACK_IMPORTED_MODULE_10__["default"],
            Probe: _translators_prob_translator__WEBPACK_IMPORTED_MODULE_11__["default"],
        };
    }
    getAsCornerstone(collection) {
        // If already Cornerstone, return it
        if (this.isCornerstoneFormat(collection)) {
            return collection;
        }
        if (!this.isSupportedGeoJson(collection)) {
            console.warn('Trying to convert a non support GeoJson to Cornerstone format. Returning undefined');
            return;
        }
        const errors = this.validateGeoJson(collection).filter((error) => error.level !== 'message' && !IGNORE_GEOJSON_ERRORS.includes(error.message));
        if (errors.length > 0) {
            console.error(`Trying to convert an invalid GeoJson to Cornerstone object. Errors: ${JSON.stringify(errors)}, GeoJson: ${JSON.stringify(collection)}`);
            // For now we continue in order to make sure this validation tool is not false positive
            // return null;
        }
        collection = this.ensureCollection(collection);
        if (!collection.features || collection.features.length === 0) {
            return collection;
        }
        const mainFeature = collection.features[0];
        const toolName = (mainFeature.properties || {}).toolName;
        const translator = this.translators[toolName] || _translators_freehand_roi_translator__WEBPACK_IMPORTED_MODULE_6__["default"];
        const csObj = translator.getAsCornerstone(collection);
        csObj._id = csObj._id || collection.id || mainFeature.id || uuid__WEBPACK_IMPORTED_MODULE_5___default.a.v4();
        return csObj;
    }
    getAsGeoJson(annotation) {
        if (!annotation || this.isSupportedGeoJson(annotation)) {
            return annotation;
        }
        const translator = this.translators[annotation.toolName];
        return translator.getAsGeoJson(annotation);
    }
    isSupportedGeoJson(object) {
        return object && ['FeatureCollection', 'Feature'].includes(object.type);
    }
    validateGeoJson(object) {
        return _mapbox_geojsonhint__WEBPACK_IMPORTED_MODULE_4___default.a.hint(object);
    }
    ensureCollection(geoJson) {
        if (geoJson.type === 'Feature') {
            return Object(_turf_helpers__WEBPACK_IMPORTED_MODULE_1__["featureCollection"])([geoJson]);
        }
        return geoJson;
    }
    transformScale(geoJson, factor) {
        if (factor === 1) {
            return geoJson;
        }
        const clonedGeoJson = Object(_turf_clone__WEBPACK_IMPORTED_MODULE_2__["default"])(geoJson);
        Object(_turf_meta__WEBPACK_IMPORTED_MODULE_3__["coordEach"])(clonedGeoJson, (currentCord) => {
            currentCord[0] *= factor;
            currentCord[1] *= factor;
        });
        return clonedGeoJson;
    }
    isCornerstoneFormat(obj) {
        if (obj && (obj.handles || obj.toolName)) {
            return true;
        }
    }
}
GeoTranslationService.ɵfac = function GeoTranslationService_Factory(t) { return new (t || GeoTranslationService)(); };
GeoTranslationService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: GeoTranslationService, factory: GeoTranslationService.ɵfac, providedIn: 'root' });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](GeoTranslationService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], null, null); })();


/***/ }),

/***/ "vvF0":
/*!*********************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/shared/models/tool-action.model.ts ***!
  \*********************************************************************************/
/*! exports provided: ToolAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToolAction", function() { return ToolAction; });
/* harmony import */ var _command_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./command.model */ "lxft");
/* harmony import */ var _tool_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tool.model */ "oicP");


class ToolAction {
    constructor(command, tool = null, isActive = true) {
        this.command = command;
        this.tool = tool;
        this.isActive = isActive;
    }
    static clone(toolAction) {
        return new ToolAction(_command_model__WEBPACK_IMPORTED_MODULE_0__["Command"].clone(toolAction.command), _tool_model__WEBPACK_IMPORTED_MODULE_1__["Tool"].clone(toolAction.tool), toolAction.isActive);
    }
    deserialize(input) {
        return Object.assign(this, input);
    }
}


/***/ }),

/***/ "w4/a":
/*!*******************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/editor/shared/enums/tag-actions.enum.ts ***!
  \*******************************************************************************/
/*! exports provided: TagActionsEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TagActionsEnum", function() { return TagActionsEnum; });
var TagActionsEnum;
(function (TagActionsEnum) {
    TagActionsEnum["ADD"] = "ADD";
    TagActionsEnum["DELETE"] = "DELETE";
    TagActionsEnum["UPDATE"] = "UPDATE";
    TagActionsEnum["APPROVE"] = "APPROVE";
})(TagActionsEnum || (TagActionsEnum = {}));


/***/ }),

/***/ "wNCI":
/*!**************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules/core/core-module.module.ts ***!
  \**************************************************************************/
/*! exports provided: CoreModuleModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CoreModuleModule", function() { return CoreModuleModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _events_manager_events_manager_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../events-manager/events-manager.module */ "qz/S");
/* harmony import */ var _core_commands_events_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core-commands-events.enum */ "H6th");
/* harmony import */ var _core_commands_entry_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core-commands-entry.service */ "4/xD");
/* harmony import */ var _image_viewer_services_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../image-viewer/services/image-viewer-events.service */ "QgyW");
/* harmony import */ var _events_manager_events_manager_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../events-manager/events-manager.service */ "Hl9B");








class CoreModuleModule {
    constructor(imageViewerEventsService, eventManager) {
        this.imageViewerEventsService = imageViewerEventsService;
        this.eventManager = eventManager;
        // TODO: Should we change that to listen directly to cornerstone???
        this.imageViewerEventsService.viewerChange$.subscribe((event) => {
            let evt;
            switch (event.type) {
                case "IMAGE_CHANGED" /* IMAGE_CHANGED */:
                    evt = this.eventManager.buildEvent(_core_commands_events_enum__WEBPACK_IMPORTED_MODULE_3__["CoreCommandsEventsEnum"].IMAGE_CHANGED_EVENT);
                    break;
                case "IMAGE_LOADED" /* IMAGE_LOADED */:
                    evt = this.eventManager.buildEvent(_core_commands_events_enum__WEBPACK_IMPORTED_MODULE_3__["CoreCommandsEventsEnum"].IMAGE_LOADED_EVENT);
                    break;
                case "MEASUREMENT_COMPLETED" /* MEASUREMENT_COMPLETED */:
                    evt = this.eventManager.buildEvent(_core_commands_events_enum__WEBPACK_IMPORTED_MODULE_3__["CoreCommandsEventsEnum"].ANNOTATION_COMPLETE_EVENT);
                    break;
                case "MEASUREMENT_ADDED" /* MEASUREMENT_ADDED */:
                    evt = this.eventManager.buildEvent(_core_commands_events_enum__WEBPACK_IMPORTED_MODULE_3__["CoreCommandsEventsEnum"].ANNOTATION_ADDED_EVENT);
                    break;
                case "MEASUREMENT_MODIFIED" /* MEASUREMENT_MODIFIED */:
                    evt = this.eventManager.buildEvent(_core_commands_events_enum__WEBPACK_IMPORTED_MODULE_3__["CoreCommandsEventsEnum"].ANNOTATION_MODIFIED_EVENT);
                    break;
                case "MEASUREMENT_REMOVED" /* MEASUREMENT_REMOVED */:
                    evt = this.eventManager.buildEvent(_core_commands_events_enum__WEBPACK_IMPORTED_MODULE_3__["CoreCommandsEventsEnum"].ANNOTATION_REMOVED_EVENT);
                    break;
            }
            if (evt) {
                evt.payload = event;
                this.eventManager.sendEvent(evt);
            }
        });
    }
}
CoreModuleModule.ɵfac = function CoreModuleModule_Factory(t) { return new (t || CoreModuleModule)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_image_viewer_services_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_5__["ImageViewerEventsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_events_manager_events_manager_service__WEBPACK_IMPORTED_MODULE_6__["EventsManagerService"])); };
CoreModuleModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: CoreModuleModule });
CoreModuleModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ providers: [_core_commands_entry_service__WEBPACK_IMPORTED_MODULE_4__["CoreCommandsEntryService"]], imports: [[_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _events_manager_events_manager_module__WEBPACK_IMPORTED_MODULE_2__["EventsManagerModule"]]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](CoreModuleModule, { imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _events_manager_events_manager_module__WEBPACK_IMPORTED_MODULE_2__["EventsManagerModule"]] }); })();
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CoreModuleModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                declarations: [],
                imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _events_manager_events_manager_module__WEBPACK_IMPORTED_MODULE_2__["EventsManagerModule"]],
                providers: [_core_commands_entry_service__WEBPACK_IMPORTED_MODULE_4__["CoreCommandsEntryService"]],
            }]
    }], function () { return [{ type: _image_viewer_services_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_5__["ImageViewerEventsService"] }, { type: _events_manager_events_manager_service__WEBPACK_IMPORTED_MODULE_6__["EventsManagerService"] }]; }, null); })();


/***/ }),

/***/ "wYho":
/*!*********************************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules/dynamic-component/models/add-dynamic-component.command.ts ***!
  \*********************************************************************************************************/
/*! exports provided: AddDynamicComponentCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddDynamicComponentCommand", function() { return AddDynamicComponentCommand; });
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ "EcEN");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _shared_interfaces_base_command_interface__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/interfaces/base-command.interface */ "obi/");


class AddDynamicComponentCommand extends _shared_interfaces_base_command_interface__WEBPACK_IMPORTED_MODULE_1__["IBaseCommand"] {
    constructor(options) {
        super(options);
        if (!this.data) {
            this.data = {};
        }
        if (!this.data.componentInstanceId) {
            this.data.componentInstanceId = uuid__WEBPACK_IMPORTED_MODULE_0___default.a.v4();
        }
    }
}


/***/ }),

/***/ "wmDW":
/*!****************************************************************!*\
  !*** ./projects/zebra-viewer-standalone/src/app/app.module.ts ***!
  \****************************************************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/platform-browser */ "cUpR");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zebra/viewer */ "VgmR");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "s7LF");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./app.component */ "8kJi");
/* harmony import */ var _comment_comment_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./comment/comment.component */ "wt6O");
/* harmony import */ var _sample_context_menu_sample_context_menu_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./sample-context-menu/sample-context-menu.component */ "baQR");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/icon */ "Tj54");
/* harmony import */ var _angular_material_menu__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/menu */ "rJgo");
/* harmony import */ var _viewer_dynamic_modules_test_module_test_module_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./viewer-dynamic-modules/test-module/test-module.module */ "Utg1");
/* harmony import */ var _ala_dynamic_component_ala_dynamic_component_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ala-dynamic-component/ala-dynamic-component.component */ "n6gk");












class AppModule {
}
AppModule.ɵfac = function AppModule_Factory(t) { return new (t || AppModule)(); };
AppModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({ type: AppModule, bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"]] });
AppModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({ imports: [[_angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"], _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__["BrowserModule"], _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["ViewerModule"], _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["EditorModule"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_7__["MatIconModule"], _angular_material_menu__WEBPACK_IMPORTED_MODULE_8__["MatMenuModule"], _viewer_dynamic_modules_test_module_test_module_module__WEBPACK_IMPORTED_MODULE_9__["TestModuleModule"]]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsetNgModuleScope"](AppModule, { declarations: [_app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"], _comment_comment_component__WEBPACK_IMPORTED_MODULE_5__["CommentComponent"], _sample_context_menu_sample_context_menu_component__WEBPACK_IMPORTED_MODULE_6__["SampleContextMenuComponent"], _ala_dynamic_component_ala_dynamic_component_component__WEBPACK_IMPORTED_MODULE_10__["AlaDynamicComponentComponent"]], imports: [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"], _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__["BrowserModule"], _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["ViewerModule"], _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["EditorModule"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_7__["MatIconModule"], _angular_material_menu__WEBPACK_IMPORTED_MODULE_8__["MatMenuModule"], _viewer_dynamic_modules_test_module_test_module_module__WEBPACK_IMPORTED_MODULE_9__["TestModuleModule"]] }); })();
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AppModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"],
        args: [{
                declarations: [_app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"], _comment_comment_component__WEBPACK_IMPORTED_MODULE_5__["CommentComponent"], _sample_context_menu_sample_context_menu_component__WEBPACK_IMPORTED_MODULE_6__["SampleContextMenuComponent"], _ala_dynamic_component_ala_dynamic_component_component__WEBPACK_IMPORTED_MODULE_10__["AlaDynamicComponentComponent"]],
                imports: [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"], _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__["BrowserModule"], _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["ViewerModule"], _zebra_viewer__WEBPACK_IMPORTED_MODULE_2__["EditorModule"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_7__["MatIconModule"], _angular_material_menu__WEBPACK_IMPORTED_MODULE_8__["MatMenuModule"], _viewer_dynamic_modules_test_module_test_module_module__WEBPACK_IMPORTED_MODULE_9__["TestModuleModule"]],
                bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"]],
            }]
    }], null, null); })();


/***/ }),

/***/ "wt6O":
/*!*******************************************************************************!*\
  !*** ./projects/zebra-viewer-standalone/src/app/comment/comment.component.ts ***!
  \*******************************************************************************/
/*! exports provided: CommentComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CommentComponent", function() { return CommentComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");


class CommentComponent {
    constructor() {
        this.done = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    ngOnInit() { }
    onSave(commentText) {
        this.currentCommentText = commentText;
        // Call when dialog should be closed
        this.done.emit(true);
    }
}
CommentComponent.ɵfac = function CommentComponent_Factory(t) { return new (t || CommentComponent)(); };
CommentComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CommentComponent, selectors: [["comment"]], outputs: { done: "done" }, decls: 6, vars: 0, consts: [["type", "text", "placeholder", "your commment..."], ["commentText", ""], [3, "click"]], template: function CommentComponent_Template(rf, ctx) { if (rf & 1) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "input", 0, 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CommentComponent_Template_button_click_4_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r1); const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](2); return ctx.onSave(_r0.value); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "Save");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } }, styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjb21tZW50LmNvbXBvbmVudC5zY3NzIn0= */"], changeDetection: 0 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CommentComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                // eslint-disable-next-line @angular-eslint/component-selector
                selector: 'comment',
                templateUrl: './comment.component.html',
                styleUrls: ['./comment.component.scss'],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
            }]
    }], function () { return []; }, { done: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "x9FJ":
/*!*************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules/core/models/add-annotation.command.ts ***!
  \*************************************************************************************/
/*! exports provided: AddAnnotationCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddAnnotationCommand", function() { return AddAnnotationCommand; });
/* harmony import */ var _shared_interfaces_base_command_interface__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared/interfaces/base-command.interface */ "obi/");

class AddAnnotationCommand extends _shared_interfaces_base_command_interface__WEBPACK_IMPORTED_MODULE_0__["IBaseCommand"] {
    constructor(options) {
        super(options);
    }
}


/***/ }),

/***/ "xNOp":
/*!********************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/report-viewer/report-viewer.component.ts ***!
  \********************************************************************************/
/*! exports provided: ReportViewerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportViewerComponent", function() { return ReportViewerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "IheW");
/* harmony import */ var _image_viewer_services_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../image-viewer/services/image-viewer-events.service */ "QgyW");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _text_viewer_text_viewer_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../text-viewer/text-viewer.component */ "5/kO");
/* harmony import */ var _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/progress-spinner */ "pu8Q");









function ReportViewerComponent_zebra_viewer_text_viewer_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "zebra-viewer-text-viewer", 2);
} if (rf & 2) {
    const reports_r3 = ctx.ngIf;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("id", ctx_r0.id)("textItems", reports_r3);
} }
function ReportViewerComponent_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "mat-spinner", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
class ReportViewerComponent {
    constructor(httpClient, imageViewerEventsService) {
        this.httpClient = httpClient;
        this.imageViewerEventsService = imageViewerEventsService;
    }
    ngOnInit() { }
    ngOnChanges(changes) {
        if (changes.urls) {
            const reportsRequests$ = [];
            for (const url of changes.urls.currentValue) {
                reportsRequests$.push(this.loadReport(url));
            }
            this.reports$ = Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["forkJoin"])(reportsRequests$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])((reports) => {
                return reports.map((rep) => rep.report_text);
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["catchError"])((err) => {
                const msg = `Failed to load report`;
                console.error(msg);
                throw err;
            }));
        }
    }
    loadReport(url) {
        return this.httpClient.get(url).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["tap"])((report) => {
            this.imageViewerEventsService.emitCustomEvent("REPORT_LOADED" /* REPORT_LOADED */, null, {
                imageUrl: url,
                viewportId: this.viewportId,
            });
        }));
    }
}
ReportViewerComponent.ɵfac = function ReportViewerComponent_Factory(t) { return new (t || ReportViewerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_image_viewer_services_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_4__["ImageViewerEventsService"])); };
ReportViewerComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ReportViewerComponent, selectors: [["zebra-viewer-report-viewer"]], inputs: { id: "id", viewportId: "viewportId", urls: "urls" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 4, vars: 4, consts: [["class", "line-breaker", 3, "id", "textItems", 4, "ngIf", "ngIfElse"], ["loading", ""], [1, "line-breaker", 3, "id", "textItems"], [1, "spinner-container"], ["strokeWidth", "3", 1, "spinner"]], template: function ReportViewerComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, ReportViewerComponent_zebra_viewer_text_viewer_0_Template, 1, 2, "zebra-viewer-text-viewer", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, ReportViewerComponent_ng_template_2_Template, 2, 0, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 2, ctx.reports$))("ngIfElse", _r1);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], _text_viewer_text_viewer_component__WEBPACK_IMPORTED_MODULE_6__["TextViewerComponent"], _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_7__["MatSpinner"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["AsyncPipe"]], styles: [".line-breaker[_ngcontent-%COMP%] {\n  white-space: pre-line;\n}\n\n.spinner-container[_ngcontent-%COMP%] {\n  display: flex;\n  align-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n}\n\n.spinner-container[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%] {\n  margin: 0 auto;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3JlcG9ydC12aWV3ZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQyxxQkFBQTtBQUNEOztBQUVBO0VBQ0MsYUFBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtBQUNEOztBQUNDO0VBQ0MsY0FBQTtBQUNGIiwiZmlsZSI6InJlcG9ydC12aWV3ZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubGluZS1icmVha2VyIHtcblx0d2hpdGUtc3BhY2U6IHByZS1saW5lO1xufVxuXG4uc3Bpbm5lci1jb250YWluZXIge1xuXHRkaXNwbGF5OiBmbGV4O1xuXHRhbGlnbi1jb250ZW50OiBjZW50ZXI7XG5cdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdGhlaWdodDogMTAwJTtcblx0d2lkdGg6IDEwMCU7XG5cblx0bWF0LXNwaW5uZXIge1xuXHRcdG1hcmdpbjogMCBhdXRvO1xuXHR9XG59XG4iXX0= */"] });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ReportViewerComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'zebra-viewer-report-viewer',
                templateUrl: './report-viewer.component.html',
                styleUrls: ['./report-viewer.component.scss'],
            }]
    }], function () { return [{ type: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"] }, { type: _image_viewer_services_image_viewer_events_service__WEBPACK_IMPORTED_MODULE_4__["ImageViewerEventsService"] }]; }, { id: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], viewportId: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], urls: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "xYPF":
/*!****************************************************************************************************!*\
  !*** ./projects/zebra-viewer/src/lib/modules/core/models/annotation-command-metadata.interface.ts ***!
  \****************************************************************************************************/
/*! exports provided: IAnnotationCommandMetadata */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IAnnotationCommandMetadata", function() { return IAnnotationCommandMetadata; });
class IAnnotationCommandMetadata {
}


/***/ }),

/***/ "z8+R":
/*!***************************************************************************************!*\
  !*** ./projects/zebra-viewer-standalone/$$_lazy_route_resource lazy namespace object ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "z8+R";

/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map